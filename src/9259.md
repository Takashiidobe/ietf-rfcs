  RFC 9259      SRv6 OAM          June 2022
  ------------- ----------------- -----------
  Ali, et al.   Standards Track   \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [9259](https://www.rfc-editor.org/rfc/rfc9259){.eref}

Category:
:   Standards Track

Published:
:   June 2022

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    Z. Ali
    :::

    ::: org
    Cisco Systems
    :::
    :::

    ::: author
    ::: author-name
    C. Filsfils
    :::

    ::: org
    Cisco Systems
    :::
    :::

    ::: author
    ::: author-name
    S. Matsushima
    :::

    ::: org
    Softbank
    :::
    :::

    ::: author
    ::: author-name
    D. Voyer
    :::

    ::: org
    Bell Canada
    :::
    :::

    ::: author
    ::: author-name
    M. Chen
    :::

    ::: org
    Huawei
    :::
    :::
:::

# RFC 9259 {#rfcnum}

# Operations, Administration, and Maintenance (OAM) in Segment Routing over IPv6 (SRv6) {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

This document describes how the existing IPv6 mechanisms for ping and
traceroute can be used in a Segment Routing over IPv6 (SRv6) network.
The document also specifies the OAM flag (O-flag) in the Segment Routing
Header (SRH) for performing controllable and predictable flow sampling
from segment endpoints. In addition, the document describes how a
centralized monitoring system performs a path continuity check between
any nodes within an SRv6 domain.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc9259>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2022 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Revised BSD License text as described in Section 4.e of the Trust Legal
Provisions and are provided without warranty as described in the Revised
BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Requirements
        Language](#name-requirements-language){.xref}
        :::

    -   ::: {#section-toc.1-1.1.2.2}
        [1.2](#section-1.2){.xref}.  [Abbreviations](#name-abbreviations){.xref}
        :::

    -   ::: {#section-toc.1-1.1.2.3}
        [1.3](#section-1.3){.xref}.  [Terminology and Reference
        Topology](#name-terminology-and-reference-t){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [OAM
    Mechanisms](#name-oam-mechanisms){.xref}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.xref}.  [OAM Flag in the Segment Routing
        Header](#name-oam-flag-in-the-segment-rou){.xref}

        -   ::: {#section-toc.1-1.2.2.1.2.1}
            [2.1.1](#section-2.1.1){.xref}.  [OAM Flag
            Processing](#name-oam-flag-processing){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.2.2.2}
        [2.2](#section-2.2){.xref}.  [OAM
        Operations](#name-oam-operations){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Privacy
    Considerations](#name-privacy-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [References](#name-references){.xref}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [Normative
        References](#name-normative-references){.xref}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [Informative
        References](#name-informative-references){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [Appendix
    A](#appendix-A){.xref}.  [Illustrations](#name-illustrations){.xref}

    -   ::: {#section-toc.1-1.7.2.1}
        [A.1](#appendix-A.1){.xref}.  [Ping in SRv6
        Networks](#name-ping-in-srv6-networks){.xref}

        -   ::: {#section-toc.1-1.7.2.1.2.1}
            [A.1.1](#appendix-A.1.1){.xref}.  [Pinging an IPv6 Address
            via a Segment
            List](#name-pinging-an-ipv6-address-via){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.1.2.2}
            [A.1.2](#appendix-A.1.2){.xref}.  [Pinging a
            SID](#name-pinging-a-sid){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.7.2.2}
        [A.2](#appendix-A.2){.xref}.  [Traceroute in SRv6
        Networks](#name-traceroute-in-srv6-networks){.xref}

        -   ::: {#section-toc.1-1.7.2.2.2.1}
            [A.2.1](#appendix-A.2.1){.xref}.  [Traceroute to an IPv6
            Address via a Segment
            List](#name-traceroute-to-an-ipv6-addre){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.2.2.2}
            [A.2.2](#appendix-A.2.2){.xref}.  [Traceroute to a
            SID](#name-traceroute-to-a-sid){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.7.2.3}
        [A.3](#appendix-A.3){.xref}.  [Hybrid OAM Using the OAM
        Flag](#name-hybrid-oam-using-the-oam-fl){.xref}
        :::

    -   ::: {#section-toc.1-1.7.2.4}
        [A.4](#appendix-A.4){.xref}.  [Monitoring of SRv6
        Paths](#name-monitoring-of-srv6-paths){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.8}
    [](#appendix-B){.xref}[Acknowledgements](#name-acknowledgements){.xref}
    :::

-   ::: {#section-toc.1-1.9}
    [](#appendix-C){.xref}[Contributors](#name-contributors){.xref}
    :::

-   ::: {#section-toc.1-1.10}
    [](#appendix-D){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}
    :::
:::
:::

::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

As Segment Routing over IPv6 (SRv6) \[[RFC8402](#RFC8402){.xref}\]
simply adds a new type of Routing Extension Header, existing IPv6 OAM
mechanisms can be used in an SRv6 network. This document describes how
the existing IPv6 mechanisms for ping and traceroute can be used in an
SRv6 network. This includes illustrations of pinging an SRv6 Segment
Identifier (SID) to verify that the SID is reachable and is locally
programmed at the target node. This also includes illustrations for
tracerouting to an SRv6 SID for hop-by-hop fault localization as well as
path tracing to a SID.[¶](#section-1-1){.pilcrow}

This document also introduces enhancements for the OAM mechanism for
SRv6 networks that allow controllable and predictable flow sampling from
segment endpoints using, e.g., the IP Flow Information Export (IPFIX)
protocol \[[RFC7011](#RFC7011){.xref}\]. Specifically, the document
specifies the OAM flag (O-flag) in the SRH as a marking bit in the user
packets to trigger telemetry data collection and export at the segment
endpoints.[¶](#section-1-2){.pilcrow}

This document also outlines how the centralized OAM technique in
\[[RFC8403](#RFC8403){.xref}\] can be extended for SRv6 to perform a
path continuity check between any nodes within an SRv6 domain.
Specifically, the document illustrates how a centralized monitoring
system can monitor arbitrary SRv6 paths by creating loopback probes that
originate and terminate at the centralized monitoring
system.[¶](#section-1-3){.pilcrow}

::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Requirements Language](#name-requirements-language){.section-name .selfRef} {#name-requirements-language}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1.1-1){.pilcrow}
:::

::: {#section-1.2 .section}
### [1.2.](#section-1.2){.section-number .selfRef} [Abbreviations](#name-abbreviations){.section-name .selfRef} {#name-abbreviations}

The following abbreviations are used in this
document:[¶](#section-1.2-1){.pilcrow}

[]{.break}

SID:
:   Segment Identifier[¶](#section-1.2-2.2){.pilcrow}
:   

SL:
:   Segments Left[¶](#section-1.2-2.4){.pilcrow}
:   

SR:
:   Segment Routing[¶](#section-1.2-2.6){.pilcrow}
:   

SRH:
:   Segment Routing Header
    \[[RFC8754](#RFC8754){.xref}\][¶](#section-1.2-2.8){.pilcrow}
:   

SRv6:
:   Segment Routing over IPv6
    \[[RFC8402](#RFC8402){.xref}\][¶](#section-1.2-2.10){.pilcrow}
:   

PSP:
:   Penultimate Segment Pop
    \[[RFC8986](#RFC8986){.xref}\][¶](#section-1.2-2.12){.pilcrow}
:   

USP:
:   Ultimate Segment Pop
    \[[RFC8986](#RFC8986){.xref}\][¶](#section-1.2-2.14){.pilcrow}
:   

ICMPv6:
:   Internet Control Message Protocol for the Internet Protocol version
    6 \[[RFC4443](#RFC4443){.xref}\][¶](#section-1.2-2.16){.pilcrow}
:   

IS-IS:
:   Intermediate System to Intermediate
    System[¶](#section-1.2-2.18){.pilcrow}
:   

OSPF:
:   Open Shortest Path First
    \[[RFC2328](#RFC2328){.xref}\][¶](#section-1.2-2.20){.pilcrow}
:   

IGP:
:   Interior Gateway Protocol (e.g., OSPF and
    IS-IS)[¶](#section-1.2-2.22){.pilcrow}
:   

BGP-LS:
:   Border Gateway Protocol - Link State
    \[[RFC8571](#RFC8571){.xref}\][¶](#section-1.2-2.24){.pilcrow}
:   
:::

::: {#section-1.3 .section}
### [1.3.](#section-1.3){.section-number .selfRef} [Terminology and Reference Topology](#name-terminology-and-reference-t){.section-name .selfRef} {#name-terminology-and-reference-t}

The terminology and simple topology in this section are used for
illustration throughout the document.[¶](#section-1.3-1){.pilcrow}

[]{#name-reference-topology}

::: {#ref-top}
::: {#section-1.3-2.1 .alignLeft .art-text .artwork}
    +--------------------------| N100 |---------------------------------+
    |                                                                   |
    |  ====== link1====== link3------ link5====== link9------   ======  |
       ||N1||------||N2||------| N3 |------||N4||------| N5 |---||N7||
       ||  ||------||  ||------|    |------||  ||------|    |---||  ||
       ====== link2====== link4------ link6======link10------   ======
          |            |                      |                   |
       ---+--          |       ------         |                 --+---
       |CE1 |          +-------| N6 |---------+                 |CE2 |
       ------            link7 |    | link8                     ------
                               ------
:::

[Figure 1](#figure-1){.selfRef}: [Reference
Topology](#name-reference-topology){.selfRef}
:::

In the reference topology:[¶](#section-1.3-3){.pilcrow}

-   [Node j has an IPv6 loopback address
    2001:db8:L:j::/128.[¶](#section-1.3-4.1){.pilcrow}]{#section-1.3-4.1}

-   [Nodes N1, N2, N4, and N7 are SRv6-capable
    nodes.[¶](#section-1.3-4.2){.pilcrow}]{#section-1.3-4.2}

-   [Nodes N3, N5, and N6 are IPv6 nodes that are not SRv6-capable
    nodes. Such nodes are referred to as \"non-SRv6-capable
    nodes\".[¶](#section-1.3-4.3){.pilcrow}]{#section-1.3-4.3}

-   [CE1 and CE2 are Customer Edge devices of any data plane capability
    (e.g., IPv4, IPv6, and
    L2).[¶](#section-1.3-4.4){.pilcrow}]{#section-1.3-4.4}

-   [A SID at node j with locator block 2001:db8:K::/48 and function U
    is represented by
    2001:db8:K:j:U::.[¶](#section-1.3-4.5){.pilcrow}]{#section-1.3-4.5}

-   [Node N100 is a
    controller.[¶](#section-1.3-4.6){.pilcrow}]{#section-1.3-4.6}

-   [The IPv6 address of the nth link between nodes i and j at the i
    side is represented as 2001:db8:i:j:in::. For example, in [Figure
    1](#ref-top){.xref}, the IPv6 address of link6 (the second link
    between nodes N3 and N4) at node N3 is 2001:db8:3:4:32::. Similarly,
    the IPv6 address of link5 (the first link between nodes N3 and N4)
    at node N3 is
    2001:db8:3:4:31::.[¶](#section-1.3-4.7){.pilcrow}]{#section-1.3-4.7}

-   [2001:db8:K:j:Xin:: is explicitly allocated as the End.X SID at node
    j towards neighbor node i via the nth link between nodes i and j.
    For example, 2001:db8:K:2:X31:: represents End.X at node N2 towards
    node N3 via link3 (the first link between nodes N2 and N3).
    Similarly, 2001:db8:K:4:X52:: represents the End.X at node N4
    towards node N5 via link10 (the second link between nodes N4 and
    N5). Please refer to \[[RFC8986](#RFC8986){.xref}\] for a
    description of End.X
    SID.[¶](#section-1.3-4.8){.pilcrow}]{#section-1.3-4.8}

-   [A SID list is represented as \<S1, S2, S3>, where S1 is the first
    SID to visit, S2 is the second SID to visit, and S3 is the last SID
    to visit along the SR
    path.[¶](#section-1.3-4.9){.pilcrow}]{#section-1.3-4.9}

-   ::: {#section-1.3-4.10}
    (SA,DA) (S3, S2, S1; SL)(payload) represents an IPv6 packet
    with:[¶](#section-1.3-4.10.1){.pilcrow}

    -   [IPv6 header with source address SA, destination address DA, and
        SRH as the next
        header[¶](#section-1.3-4.10.2.1){.pilcrow}]{#section-1.3-4.10.2.1}

    -   ::: {#section-1.3-4.10.2.2}
        SRH with SID list \<S1, S2, S3> with SegmentsLeft =
        SL[¶](#section-1.3-4.10.2.2.1){.pilcrow}

        Note the difference between the \< > and () symbols: \<S1, S2,
        S3> represents a SID list where S1 is the first SID and S3 is
        the last SID to traverse. (S3, S2, S1; SL) represents the same
        SID list but encoded in the SRH format where the rightmost SID
        in the SRH is the first SID and the leftmost SID in the SRH is
        the last SID. When referring to an SR Policy in a high-level use
        case, it is simpler to use the \<S1, S2, S3> notation. When
        referring to an illustration of the detailed packet behavior,
        the (S3, S2, S1; SL) notation is more
        convenient.[¶](#section-1.3-4.10.2.2.2){.pilcrow}
        :::

    -   [(payload) represents the payload of the
        packet.[¶](#section-1.3-4.10.2.3){.pilcrow}]{#section-1.3-4.10.2.3}
    :::
:::
:::

::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [OAM Mechanisms](#name-oam-mechanisms){.section-name .selfRef} {#name-oam-mechanisms}

This section defines OAM enhancements for SRv6
networks.[¶](#section-2-1){.pilcrow}

::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [OAM Flag in the Segment Routing Header](#name-oam-flag-in-the-segment-rou){.section-name .selfRef} {#name-oam-flag-in-the-segment-rou}

\[[RFC8754](#RFC8754){.xref}\] describes the Segment Routing Header
(SRH) and how SR-capable nodes use it. The SRH contains an 8-bit Flags
field.[¶](#section-2.1-1){.pilcrow}

This document defines the following bit in the SRH Flags field to carry
the O-flag:[¶](#section-2.1-2){.pilcrow}

::: {#section-2.1-3 .alignLeft .art-text .artwork}
                   0 1 2 3 4 5 6 7
                  +-+-+-+-+-+-+-+-+
                  |   |O|         |
                  +-+-+-+-+-+-+-+-+

[¶](#section-2.1-3){.pilcrow}
:::

Where:[¶](#section-2.1-4){.pilcrow}

[]{.break}

O-flag:
:   OAM flag in the SRH Flags field defined in
    \[[RFC8754](#RFC8754){.xref}\].[¶](#section-2.1-5.2){.pilcrow}
:   

::: {#oflag-proc}
::: {#section-2.1.1 .section}
#### [2.1.1.](#section-2.1.1){.section-number .selfRef} [OAM Flag Processing](#name-oam-flag-processing){.section-name .selfRef} {#name-oam-flag-processing}

The O-flag in the SRH is used as a marking bit in user packets to
trigger telemetry data collection and export at the segment
endpoints.[¶](#section-2.1.1-1){.pilcrow}

An SR domain ingress edge node encapsulates packets traversing the SR
domain as defined in \[[RFC8754](#RFC8754){.xref}\]. The SR domain
ingress edge node [MAY]{.bcp14} use the O-flag in the SRH for marking
the packet to trigger the telemetry data collection and export at the
segment endpoints. Based on local configuration, the SR domain ingress
edge node may implement a classification and sampling mechanism to mark
a packet with the O-flag in the SRH. Specification of the classification
and sampling method is outside the scope of this
document.[¶](#section-2.1.1-2){.pilcrow}

This document does not specify the data elements that need to be
exported and the associated configurations. Similarly, this document
does not define any formats for exporting the data elements.
Nonetheless, without the loss of generality, this document assumes that
the IP Flow Information Export (IPFIX) protocol
\[[RFC7011](#RFC7011){.xref}\] is used for exporting the traffic flow
information from the network devices to a controller for monitoring and
analytics. Similarly, without the loss of generality, this document
assumes that requested information elements are configured by the
management plane through data set templates (e.g., as in IPFIX
\[[RFC7012](#RFC7012){.xref}\]).[¶](#section-2.1.1-3){.pilcrow}

Implementation of the O-flag is [OPTIONAL]{.bcp14}. If a node does not
support the O-flag, then it simply ignores it upon reception. If a node
supports the O-flag, it can optionally advertise its potential via
control plane protocol(s).[¶](#section-2.1.1-4){.pilcrow}

The following is appended to line S01 of the pseudocode associated with
the SID S (as defined in [Section
4.3.1.1](https://www.rfc-editor.org/rfc/rfc8754#section-4.3.1.1){.relref}
of \[[RFC8754](#RFC8754){.xref}\]) when N receives a packet destined to
S, S is a local SID, and the O-flag is
processed.[¶](#section-2.1.1-5){.pilcrow}

::: {#section-2.1.1-6}
``` {.lang-pseudocode .sourcecode}
   S01.1. IF the O-flag is set and local configuration permits
          O-flag processing {
             a. Make a copy of the packet.
             b. Send the copied packet, along with a timestamp,
             to the OAM process for telemetry data collection
             and export.      ;; Ref1
             }
   Ref1: To provide an accurate timestamp, an implementation should
   copy and record the timestamp as soon as possible during packet
   processing. Timestamp and any other metadata are not carried in
   the packet forwarded to the next hop.
```

[¶](#section-2.1.1-6){.pilcrow}
:::

Please note that the O-flag processing happens before execution of
regular processing of the local SID S. Specifically, line S01.1 of the
pseudocode specified in this document is inserted between lines S01 and
S02 of the pseudocode defined in [Section
4.3.1.1](https://www.rfc-editor.org/rfc/rfc8754#section-4.3.1.1){.relref}
of \[[RFC8754](#RFC8754){.xref}\].[¶](#section-2.1.1-7){.pilcrow}

Based on the requested information elements configured by the management
plane through data set templates \[[RFC7012](#RFC7012){.xref}\], the OAM
process exports the requested information elements. The information
elements include parts of the packet header and/or parts of the packet
payload for flow identification. The OAM process uses information
elements defined in IPFIX \[[RFC7011](#RFC7011){.xref}\] and Packet
Sampling (PSAMP) \[[RFC5476](#RFC5476){.xref}\] for exporting the
requested sections of the mirrored
packets.[¶](#section-2.1.1-8){.pilcrow}

If the penultimate segment of a segment list is a PSP SID, telemetry
data from the ultimate segment cannot be requested. This is because,
when the penultimate segment is a PSP SID, the SRH is removed at the
penultimate segment, and the O-flag is not processed at the ultimate
segment.[¶](#section-2.1.1-9){.pilcrow}

The processing node [MUST]{.bcp14} rate-limit the number of packets
punted to the OAM process to a configurable rate. This is to avoid
impacting the performance of the OAM and telemetry collection processes.
Failure to implement the rate limit can lead to a denial-of-service
attack, as detailed in [Section
3](#Security){.xref}.[¶](#section-2.1.1-10){.pilcrow}

The OAM process [MUST NOT]{.bcp14} process the copy of the packet or
respond to any Upper-Layer header (like ICMP, UDP, etc.) payload to
prevent multiple evaluations of the
datagram.[¶](#section-2.1.1-11){.pilcrow}

The OAM process is expected to be located on the routing node processing
the packet. Although the specification of the OAM process or the
external controller operations are beyond the scope of this document,
the OAM process [SHOULD NOT]{.bcp14} be topologically distant from the
routing node, as this is likely to create significant security and
congestion issues. How to correlate the data collected from different
nodes at an external controller is also outside the scope of this
document. [Appendix A](#app-illustrations){.xref} illustrates use of the
O-flag for implementing a hybrid OAM mechanism, where the \"hybrid\"
classification is based on
\[[RFC7799](#RFC7799){.xref}\].[¶](#section-2.1.1-12){.pilcrow}
:::
:::
:::

::: {#section-2.2 .section}
### [2.2.](#section-2.2){.section-number .selfRef} [OAM Operations](#name-oam-operations){.section-name .selfRef} {#name-oam-operations}

IPv6 OAM operations can be performed for any SRv6 SID whose behavior
allows Upper-Layer header processing for an applicable OAM payload
(e.g., ICMP, UDP).[¶](#section-2.2-1){.pilcrow}

Ping to an SRv6 SID is used to verify that the SID is reachable and is
locally programmed at the target node. Traceroute to a SID is used for
hop-by-hop fault localization as well as path tracing to a SID.
[Appendix A](#app-illustrations){.xref} illustrates the ICMPv6-based
ping and UDP-based traceroute mechanisms for ping and traceroute to an
SRv6 SID. Although this document only illustrates ICMPv6-based ping and
UDP-based traceroute to an SRv6 SID, the procedures are equally
applicable to other OAM mechanisms that probe an SRv6 SID (e.g.,
Bidirectional Forwarding Detection (BFD) \[[RFC5880](#RFC5880){.xref}\],
Seamless BFD (S-BFD) \[[RFC7880](#RFC7880){.xref}\], and Simple Two-way
Active Measurement Protocol (STAMP) probe message processing
\[[STAMP-SR](#I-D.ietf-spring-stamp-srpm){.xref}\]). Specifically, as
long as local configuration allows the Upper-Layer header processing of
the applicable OAM payload for SRv6 SIDs, the existing IPv6 OAM
techniques can be used to target a probe to a (remote)
SID.[¶](#section-2.2-2){.pilcrow}

IPv6 OAM operations can be performed with the target SID in the IPv6
destination address without an SRH or with an SRH where the target SID
is the last segment. In general, OAM operations to a target SID may not
exercise all of its processing depending on its behavior definition. For
example, ping to an End.X SID \[[RFC8986](#RFC8986){.xref}\] only
validates the SID is locally programmed at the target node and does not
validate switching to the correct outgoing interface. To exercise the
behavior of a target SID, the OAM operation should construct the probe
in a manner similar to a data packet that exercises the SID behavior,
i.e. to include that SID as a transit SID in either an SRH or IPv6 DA of
an outer IPv6 header or as appropriate based on the definition of the
SID behavior.[¶](#section-2.2-3){.pilcrow}
:::
:::

::: {#Security}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

\[[RFC8754](#RFC8754){.xref}\] defines the notion of an SR domain and
use of the SRH within the SR domain. The use of OAM procedures described
in this document is restricted to an SR domain. For example, similar to
SID manipulation, O-flag manipulation is not considered a threat within
the SR domain. Procedures for securing an SR domain are defined in
Sections
[5.1](https://www.rfc-editor.org/rfc/rfc8754#section-5.1){.relref} and
[7](https://www.rfc-editor.org/rfc/rfc8754#section-7){.relref} of
\[[RFC8754](#RFC8754){.xref}\].[¶](#section-3-1){.pilcrow}

As noted in [Section
7.1](https://www.rfc-editor.org/rfc/rfc8754#section-7.1){.relref} of
\[[RFC8754](#RFC8754){.xref}\], compromised nodes within the SR domain
may mount attacks. The O-flag may be set by an attacking node attempting
a denial-of-service attack on the OAM process at the segment endpoint
node. An implementation correctly implementing the rate limiting
described in [Section 2.1.1](#oflag-proc){.xref} is not susceptible to
that denial-of-service attack. Additionally, SRH flags are protected by
the Hashed Message Authentication Code (HMAC) TLV, as described in
[Section
2.1.2.1](https://www.rfc-editor.org/rfc/rfc8754#section-2.1.2.1){.relref}
of \[[RFC8754](#RFC8754){.xref}\]. Once an HMAC is generated for a
segment list with the O-flag set, it can be used for an arbitrary amount
of traffic using that segment list with the O-flag
set.[¶](#section-3-2){.pilcrow}

The security properties of the channel used to send exported packets
marked by the O-flag will depend on the specific OAM processes used. An
on-path attacker able to observe this OAM channel could conduct traffic
analysis, or potentially eavesdropping (depending on the OAM
configuration), of this telemetry for the entire SR domain from such a
vantage point.[¶](#section-3-3){.pilcrow}

This document does not impose any additional security challenges to be
considered beyond the security threats described in
\[[RFC4884](#RFC4884){.xref}\], \[[RFC4443](#RFC4443){.xref}\],
\[[RFC0792](#RFC0792){.xref}\], \[[RFC8754](#RFC8754){.xref}\], and
\[[RFC8986](#RFC8986){.xref}\].[¶](#section-3-4){.pilcrow}
:::
:::

::: {#PRIVACY}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Privacy Considerations](#name-privacy-considerations){.section-name .selfRef} {#name-privacy-considerations}

The per-packet marking capabilities of the O-flag provide a granular
mechanism to collect telemetry. When this collection is deployed by an
operator with the knowledge and consent of the users, it will enable a
variety of diagnostics and monitoring to support the OAM and security
operations use cases needed for resilient network operations. However,
this collection mechanism will also provide an explicit protocol
mechanism to operators for surveillance and pervasive monitoring use
cases done contrary to the user\'s consent.[¶](#section-4-1){.pilcrow}
:::
:::

::: {#IANA}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

IANA has registered the following in the \"Segment Routing Header
Flags\" subregistry in the \"Internet Protocol Version 6 (IPv6)
Parameters\" registry:[¶](#section-5-1){.pilcrow}

::: {#iana-table}
  Bit   Description   Reference
  ----- ------------- -----------
  2     O-flag        RFC 9259

  : [Table 1](#table-1){.selfRef}
:::
:::
:::

::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8754\]
:   [Filsfils, C., Ed.]{.refAuthor}, [Dukes, D., Ed.]{.refAuthor},
    [Previdi, S.]{.refAuthor}, [Leddy, J.]{.refAuthor},
    [Matsushima, S.]{.refAuthor}, and [D. Voyer]{.refAuthor}, [\"IPv6
    Segment Routing Header (SRH)\"]{.refTitle}, [RFC 8754]{.seriesInfo},
    [DOI 10.17487/RFC8754]{.seriesInfo}, March 2020,
    \<<https://www.rfc-editor.org/info/rfc8754>\>.
:   

\[RFC8986\]
:   [Filsfils, C., Ed.]{.refAuthor}, [Camarillo, P., Ed.]{.refAuthor},
    [Leddy, J.]{.refAuthor}, [Voyer, D.]{.refAuthor},
    [Matsushima, S.]{.refAuthor}, and [Z. Li]{.refAuthor}, [\"Segment
    Routing over IPv6 (SRv6) Network Programming\"]{.refTitle}, [RFC
    8986]{.seriesInfo}, [DOI 10.17487/RFC8986]{.seriesInfo}, February
    2021, \<<https://www.rfc-editor.org/info/rfc8986>\>.
:   
:::

::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC0792\]
:   [Postel, J.]{.refAuthor}, [\"Internet Control Message
    Protocol\"]{.refTitle}, [STD 5]{.seriesInfo}, [RFC
    792]{.seriesInfo}, [DOI 10.17487/RFC0792]{.seriesInfo}, September
    1981, \<<https://www.rfc-editor.org/info/rfc792>\>.
:   

\[RFC2328\]
:   [Moy, J.]{.refAuthor}, [\"OSPF Version 2\"]{.refTitle}, [STD
    54]{.seriesInfo}, [RFC 2328]{.seriesInfo}, [DOI
    10.17487/RFC2328]{.seriesInfo}, April 1998,
    \<<https://www.rfc-editor.org/info/rfc2328>\>.
:   

\[RFC4443\]
:   [Conta, A.]{.refAuthor}, [Deering, S.]{.refAuthor}, and [M. Gupta,
    Ed.]{.refAuthor}, [\"Internet Control Message Protocol (ICMPv6) for
    the Internet Protocol Version 6 (IPv6) Specification\"]{.refTitle},
    [STD 89]{.seriesInfo}, [RFC 4443]{.seriesInfo}, [DOI
    10.17487/RFC4443]{.seriesInfo}, March 2006,
    \<<https://www.rfc-editor.org/info/rfc4443>\>.
:   

\[RFC4884\]
:   [Bonica, R.]{.refAuthor}, [Gan, D.]{.refAuthor},
    [Tappan, D.]{.refAuthor}, and [C. Pignataro]{.refAuthor},
    [\"Extended ICMP to Support Multi-Part Messages\"]{.refTitle}, [RFC
    4884]{.seriesInfo}, [DOI 10.17487/RFC4884]{.seriesInfo}, April 2007,
    \<<https://www.rfc-editor.org/info/rfc4884>\>.
:   

\[RFC5476\]
:   [Claise, B., Ed.]{.refAuthor}, [Johnson, A.]{.refAuthor}, and [J.
    Quittek]{.refAuthor}, [\"Packet Sampling (PSAMP) Protocol
    Specifications\"]{.refTitle}, [RFC 5476]{.seriesInfo}, [DOI
    10.17487/RFC5476]{.seriesInfo}, March 2009,
    \<<https://www.rfc-editor.org/info/rfc5476>\>.
:   

\[RFC5837\]
:   [Atlas, A., Ed.]{.refAuthor}, [Bonica, R., Ed.]{.refAuthor},
    [Pignataro, C., Ed.]{.refAuthor}, [Shen, N.]{.refAuthor}, and [JR.
    Rivers]{.refAuthor}, [\"Extending ICMP for Interface and Next-Hop
    Identification\"]{.refTitle}, [RFC 5837]{.seriesInfo}, [DOI
    10.17487/RFC5837]{.seriesInfo}, April 2010,
    \<<https://www.rfc-editor.org/info/rfc5837>\>.
:   

\[RFC5880\]
:   [Katz, D.]{.refAuthor} and [D. Ward]{.refAuthor}, [\"Bidirectional
    Forwarding Detection (BFD)\"]{.refTitle}, [RFC 5880]{.seriesInfo},
    [DOI 10.17487/RFC5880]{.seriesInfo}, June 2010,
    \<<https://www.rfc-editor.org/info/rfc5880>\>.
:   

\[RFC7011\]
:   [Claise, B., Ed.]{.refAuthor}, [Trammell, B., Ed.]{.refAuthor}, and
    [P. Aitken]{.refAuthor}, [\"Specification of the IP Flow Information
    Export (IPFIX) Protocol for the Exchange of Flow
    Information\"]{.refTitle}, [STD 77]{.seriesInfo}, [RFC
    7011]{.seriesInfo}, [DOI 10.17487/RFC7011]{.seriesInfo}, September
    2013, \<<https://www.rfc-editor.org/info/rfc7011>\>.
:   

\[RFC7012\]
:   [Claise, B., Ed.]{.refAuthor} and [B. Trammell, Ed.]{.refAuthor},
    [\"Information Model for IP Flow Information Export
    (IPFIX)\"]{.refTitle}, [RFC 7012]{.seriesInfo}, [DOI
    10.17487/RFC7012]{.seriesInfo}, September 2013,
    \<<https://www.rfc-editor.org/info/rfc7012>\>.
:   

\[RFC7799\]
:   [Morton, A.]{.refAuthor}, [\"Active and Passive Metrics and Methods
    (with Hybrid Types In-Between)\"]{.refTitle}, [RFC
    7799]{.seriesInfo}, [DOI 10.17487/RFC7799]{.seriesInfo}, May 2016,
    \<<https://www.rfc-editor.org/info/rfc7799>\>.
:   

\[RFC7880\]
:   [Pignataro, C.]{.refAuthor}, [Ward, D.]{.refAuthor},
    [Akiya, N.]{.refAuthor}, [Bhatia, M.]{.refAuthor}, and [S.
    Pallagatti]{.refAuthor}, [\"Seamless Bidirectional Forwarding
    Detection (S-BFD)\"]{.refTitle}, [RFC 7880]{.seriesInfo}, [DOI
    10.17487/RFC7880]{.seriesInfo}, July 2016,
    \<<https://www.rfc-editor.org/info/rfc7880>\>.
:   

\[RFC8402\]
:   [Filsfils, C., Ed.]{.refAuthor}, [Previdi, S., Ed.]{.refAuthor},
    [Ginsberg, L.]{.refAuthor}, [Decraene, B.]{.refAuthor},
    [Litkowski, S.]{.refAuthor}, and [R. Shakir]{.refAuthor}, [\"Segment
    Routing Architecture\"]{.refTitle}, [RFC 8402]{.seriesInfo}, [DOI
    10.17487/RFC8402]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8402>\>.
:   

\[RFC8403\]
:   [Geib, R., Ed.]{.refAuthor}, [Filsfils, C.]{.refAuthor}, [Pignataro,
    C., Ed.]{.refAuthor}, and [N. Kumar]{.refAuthor}, [\"A Scalable and
    Topology-Aware MPLS Data-Plane Monitoring System\"]{.refTitle}, [RFC
    8403]{.seriesInfo}, [DOI 10.17487/RFC8403]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8403>\>.
:   

\[RFC8571\]
:   [Ginsberg, L., Ed.]{.refAuthor}, [Previdi, S.]{.refAuthor},
    [Wu, Q.]{.refAuthor}, [Tantsura, J.]{.refAuthor}, and [C.
    Filsfils]{.refAuthor}, [\"BGP - Link State (BGP-LS) Advertisement of
    IGP Traffic Engineering Performance Metric Extensions\"]{.refTitle},
    [RFC 8571]{.seriesInfo}, [DOI 10.17487/RFC8571]{.seriesInfo}, March
    2019, \<<https://www.rfc-editor.org/info/rfc8571>\>.
:   

\[RFC9197\]
:   [Brockners, F., Ed.]{.refAuthor}, [Bhandari, S., Ed.]{.refAuthor},
    and [T. Mizrahi, Ed.]{.refAuthor}, [\"Data Fields for In Situ
    Operations, Administration, and Maintenance (IOAM)\"]{.refTitle},
    [RFC 9197]{.seriesInfo}, [DOI 10.17487/RFC9197]{.seriesInfo}, May
    2022, \<<https://www.rfc-editor.org/info/rfc9197>\>.
:   

\[STAMP-SR\]
:   [Gandhi, R., Ed.]{.refAuthor}, [Filsfils, C.]{.refAuthor},
    [Voyer, D.]{.refAuthor}, [Chen, M.]{.refAuthor},
    [Janssens, B.]{.refAuthor}, and [R. Foote]{.refAuthor},
    [\"Performance Measurement Using Simple TWAMP (STAMP) for Segment
    Routing Networks\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-spring-stamp-srpm-03]{.seriesInfo}, 1
    February 2022,
    \<<https://datatracker.ietf.org/doc/html/draft-ietf-spring-stamp-srpm-03>\>.
:   
:::
:::

::: {#app-illustrations}
::: {#appendix-A .section}
## [Appendix A.](#appendix-A){.section-number .selfRef} [Illustrations](#name-illustrations){.section-name .selfRef} {#name-illustrations}

This appendix shows how some of the existing IPv6 OAM mechanisms can be
used in an SRv6 network. It also illustrates an OAM mechanism for
performing controllable and predictable flow sampling from segment
endpoints. How the centralized OAM technique in
\[[RFC8403](#RFC8403){.xref}\] can be extended for SRv6 is also
described in this appendix.[¶](#appendix-A-1){.pilcrow}

::: {#appendix-A.1 .section}
### [A.1.](#appendix-A.1){.section-number .selfRef} [Ping in SRv6 Networks](#name-ping-in-srv6-networks){.section-name .selfRef} {#name-ping-in-srv6-networks}

The existing mechanism to perform the reachability checks, along the
shortest path, continues to work without any modification. Any IPv6 node
(SRv6-capable or non-SRv6-capable) can initiate, transit, and egress a
ping packet.[¶](#appendix-A.1-1){.pilcrow}

The following subsections outline some additional use cases of ICMPv6
ping in SRv6 networks.[¶](#appendix-A.1-2){.pilcrow}

::: {#appendix-A.1.1 .section}
#### [A.1.1.](#appendix-A.1.1){.section-number .selfRef} [Pinging an IPv6 Address via a Segment List](#name-pinging-an-ipv6-address-via){.section-name .selfRef} {#name-pinging-an-ipv6-address-via}

If an SRv6-capable ingress node wants to ping an IPv6 address via an
arbitrary segment list \<S1, S2, S3>, it needs to initiate an ICMPv6
ping with an SR header containing the SID list \<S1, S2, S3>. This is
illustrated using the topology in [Figure 1](#ref-top){.xref}. The user
issues a ping from node N1 to a loopback of node N5 via segment list
\<2001:db8:K:2:X31::, 2001:db8:K:4:X52::>. The SID behavior used in the
example is End.X, as described in \[[RFC8986](#RFC8986){.xref}\], but
the procedure is equally applicable to any other (transit) SID
type.[¶](#appendix-A.1.1-1){.pilcrow}

[Figure 2](#sample-ping){.xref} contains sample output for a ping
request initiated at node N1 to a loopback address of node N5 via
segment list \<2001:db8:K:2:X31::,
2001:db8:K:4:X52::>.[¶](#appendix-A.1.1-2){.pilcrow}

[]{#name-sample-ping-output-at-an-sr}

::: {#sample-ping}
::: {#appendix-A.1.1-3.1 .alignLeft .art-text .artwork}
        > ping 2001:db8:L:5:: via segment list 2001:db8:K:2:X31::,
               2001:db8:K:4:X52::

        Sending 5, 100-byte ICMPv6 Echos to B5::, timeout is 2 seconds:
        !!!!!
        Success rate is 100 percent (5/5), round-trip min/avg/max = 0.625
        /0.749/0.931 ms
:::

[Figure 2](#figure-2){.selfRef}: [Sample Ping Output at an SRv6-Capable
Node](#name-sample-ping-output-at-an-sr){.selfRef}
:::

All transit nodes process the echo request message like any other data
packet carrying an SR header and hence do not require any change.
Similarly, the egress node does not require any change to process the
ICMPv6 echo request. For example, in the example in [Figure
2](#sample-ping){.xref}:[¶](#appendix-A.1.1-4){.pilcrow}

-   [Node N1 initiates an ICMPv6 ping packet with the SRH as follows:
    (2001:db8:L:1::, 2001:db8:K:2:X31::) (2001:db8:L:5::,
    2001:db8:K:4:X52::, 2001:db8:K:2:X31::, SL=2, NH = ICMPv6)(ICMPv6
    Echo
    Request).[¶](#appendix-A.1.1-5.1){.pilcrow}]{#appendix-A.1.1-5.1}
-   [Node N2, which is an SRv6-capable node, performs the standard SRH
    processing. Specifically, it executes the End.X behavior indicated
    by the 2001:db8:K:2:X31:: SID and forwards the packet on link3 to
    node N3.[¶](#appendix-A.1.1-5.2){.pilcrow}]{#appendix-A.1.1-5.2}
-   [Node N3, which is a non-SRv6-capable node, performs the standard
    IPv6 processing. Specifically, it forwards the echo request based on
    DA 2001:db8:K:4:X52:: in the IPv6
    header.[¶](#appendix-A.1.1-5.3){.pilcrow}]{#appendix-A.1.1-5.3}
-   [Node N4, which is an SRv6-capable node, performs the standard SRH
    processing. Specifically, it observes the End.X behavior
    (2001:db8:K:4:X52::) and forwards the packet on link10 towards node
    N5. If 2001:db8:K:4:X52:: is a PSP SID, the penultimate node (node
    N4) does not, should not, and cannot differentiate between the data
    packets and OAM probes. Specifically, if 2001:db8:K:4:X52:: is a PSP
    SID, node N4 executes the SID like any other data packet with DA =
    2001:db8:K:4:X52:: and removes the
    SRH.[¶](#appendix-A.1.1-5.4){.pilcrow}]{#appendix-A.1.1-5.4}
-   [The echo request packet at node N5 arrives as an IPv6 packet with
    or without an SRH. If node N5 receives the packet with an SRH, it
    skips SRH processing (SL=0). In either case, node N5 performs the
    standard ICMPv6 processing on the echo request and responds with the
    echo reply message to node N1. The echo reply message is IP
    routed.[¶](#appendix-A.1.1-5.5){.pilcrow}]{#appendix-A.1.1-5.5}
:::

::: {#appendix-A.1.2 .section}
#### [A.1.2.](#appendix-A.1.2){.section-number .selfRef} [Pinging a SID](#name-pinging-a-sid){.section-name .selfRef} {#name-pinging-a-sid}

The ping mechanism described above can also be used to perform SID
reachability checks and to validate that the SID is locally programmed
at the target node. This is explained in the following example. The
example uses ping to an End SID, as described in
\[[RFC8986](#RFC8986){.xref}\], but the procedure is equally applicable
to ping any other SID behaviors.[¶](#appendix-A.1.2-1){.pilcrow}

Consider the example where the user wants to ping a remote SID
2001:db8:K:4::, via 2001:db8:K:2:X31::, from node N1. The ICMPv6 echo
request is processed at the individual nodes along the path as
follows:[¶](#appendix-A.1.2-2){.pilcrow}

-   [Node N1 initiates an ICMPv6 ping packet with the SRH as follows:
    (2001:db8:L:1::, 2001:db8:K:2:X31::) (2001:db8:K:4::,
    2001:db8:K:2:X31::; SL=1; NH=ICMPv6)(ICMPv6 Echo
    Request).[¶](#appendix-A.1.2-3.1){.pilcrow}]{#appendix-A.1.2-3.1}
-   [Node N2, which is an SRv6-capable node, performs the standard SRH
    processing. Specifically, it executes the End.X behavior indicated
    by the 2001:db8:K:2:X31:: SID on the echo request packet. If
    2001:db8:K:2:X31:: is a PSP SID, node N4 executes the SID like any
    other data packet with DA = 2001:db8:K:2:X31:: and removes the
    SRH.[¶](#appendix-A.1.2-3.2){.pilcrow}]{#appendix-A.1.2-3.2}
-   [Node N3, which is a non-SRv6-capable node, performs the standard
    IPv6 processing. Specifically, it forwards the echo request based on
    DA = 2001:db8:K:4:: in the IPv6
    header.[¶](#appendix-A.1.2-3.3){.pilcrow}]{#appendix-A.1.2-3.3}
-   [When node N4 receives the packet, it processes the target SID
    (2001:db8:K:4::).[¶](#appendix-A.1.2-3.4){.pilcrow}]{#appendix-A.1.2-3.4}
-   [If the target SID (2001:db8:K:4::) is not locally instantiated and
    does not represent a local interface, the packet is
    discarded[¶](#appendix-A.1.2-3.5){.pilcrow}]{#appendix-A.1.2-3.5}
-   [If the target SID (2001:db8:K:4::) is locally instantiated or
    represents a local interface, the node processes the Upper-Layer
    header. As part of the Upper-Layer header processing, node N4
    responds to the ICMPv6 echo request message with an echo reply
    message. The echo reply message is IP
    routed.[¶](#appendix-A.1.2-3.6){.pilcrow}]{#appendix-A.1.2-3.6}
:::
:::

::: {#appendix-A.2 .section}
### [A.2.](#appendix-A.2){.section-number .selfRef} [Traceroute in SRv6 Networks](#name-traceroute-in-srv6-networks){.section-name .selfRef} {#name-traceroute-in-srv6-networks}

The existing traceroute mechanisms, along the shortest path, continue to
work without any modification. Any IPv6 node (SRv6-capable or a
non-SRv6-capable) can initiate, transit, and egress a traceroute
probe.[¶](#appendix-A.2-1){.pilcrow}

The following subsections outline some additional use cases of
traceroute in SRv6 networks.[¶](#appendix-A.2-2){.pilcrow}

::: {#appendix-A.2.1 .section}
#### [A.2.1.](#appendix-A.2.1){.section-number .selfRef} [Traceroute to an IPv6 Address via a Segment List](#name-traceroute-to-an-ipv6-addre){.section-name .selfRef} {#name-traceroute-to-an-ipv6-addre}

If an SRv6-capable ingress node wants to traceroute to an IPv6 address
via an arbitrary segment list \<S1, S2, S3>, it needs to initiate a
traceroute probe with an SR header containing the SID list \<S1, S2,
S3>. The user issues a traceroute from node N1 to a loopback of node N5
via segment list \<2001:db8:K:2:X31::, 2001:db8:K:4:X52::>. The SID
behavior used in the example is End.X, as described in
\[[RFC8986](#RFC8986){.xref}\], but the procedure is equally applicable
to any other (transit) SID type. [Figure 3](#sample-traceroute){.xref}
contains sample output for the traceroute
request.[¶](#appendix-A.2.1-1){.pilcrow}

[]{#name-sample-traceroute-output-at}

::: {#sample-traceroute}
::: {#appendix-A.2.1-2.1 .alignLeft .art-text .artwork}
    > traceroute 2001:db8:L:5:: via segment list 2001:db8:K:2:X31::,
                 2001:db8:K:4:X52::

    Tracing the route to 2001:db8:L:5::
    1  2001:db8:2:1:21:: 0.512 msec 0.425 msec 0.374 msec
       DA: 2001:db8:K:2:X31::,
       SRH:(2001:db8:L:5::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, SL=2)
    2  2001:db8:3:2:31:: 0.721 msec 0.810 msec 0.795 msec
       DA: 2001:db8:K:4:X52::,
       SRH:(2001:db8:L:5::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, SL=1)
    3  2001:db8:4:3::41:: 0.921 msec 0.816 msec 0.759 msec
       DA: 2001:db8:K:4:X52::,
       SRH:(2001:db8:L:5::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, SL=1)
    4  2001:db8:5:4::52:: 0.879 msec 0.916 msec 1.024 msec
       DA: 2001:db8:L:5::
:::

[Figure 3](#figure-3){.selfRef}: [Sample Traceroute Output at an
SRv6-Capable Node](#name-sample-traceroute-output-at){.selfRef}
:::

In the sample traceroute output, the information displayed at each hop
is obtained using the contents of the \"Time Exceeded\" or \"Destination
Unreachable\" ICMPv6 responses. These ICMPv6 responses are IP
routed.[¶](#appendix-A.2.1-3){.pilcrow}

In the sample traceroute output, the information for link3 is returned
by node N3, which is a non-SRv6-capable node. Nonetheless, the ingress
node is able to display SR header contents as the packet travels through
the non-SRv6-capable node. This is because the \"Time Exceeded\" ICMPv6
message can contain as much of the invoking packet as possible without
the ICMPv6 packet exceeding the minimum IPv6 MTU
\[[RFC4443](#RFC4443){.xref}\]. The SR header is included in these
ICMPv6 messages initiated by the non-SRv6-capable transit nodes that are
not running SRv6 software. Specifically, a node generating an ICMPv6
message containing a copy of the invoking packet does not need to
understand the extension header(s) in the invoking
packet.[¶](#appendix-A.2.1-4){.pilcrow}

The segment list information returned for the first hop is returned by
node N2, which is an SRv6-capable node. Just like for the second hop,
the ingress node is able to display SR header contents for the first
hop.[¶](#appendix-A.2.1-5){.pilcrow}

There is no difference in processing of the traceroute probe at an
SRv6-capable and a non-SRv6-capable node. Similarly, both SRv6-capable
and non-SRv6-capable nodes may use the address of the interface on which
probe was received as the source address in the ICMPv6 response. ICMPv6
extensions defined in \[[RFC5837](#RFC5837){.xref}\] can be used to
display information about the IP interface through which the datagram
would have been forwarded had it been forwardable, the IP next hop to
which the datagram would have been forwarded, the IP interface upon
which the datagram arrived, and the sub-IP component of an IP interface
upon which the datagram arrived.[¶](#appendix-A.2.1-6){.pilcrow}

The IP address of the interface on which the traceroute probe was
received is useful. This information can also be used to verify if SIDs
2001:db8:K:2:X31:: and 2001:db8:K:4:X52:: are executed correctly by
nodes N2 and N4, respectively. Specifically, the information displayed
for the second hop contains the incoming interface address
2001:db8:2:3:31:: at node N3. This matches the expected interface bound
to End.X behavior 2001:db8:K:2:X31:: (link3). Similarly, the information
displayed for the fourth hop contains the incoming interface address
2001:db8:4:5::52:: at node N5. This matches the expected interface bound
to the End.X behavior 2001:db8:K:4:X52::
(link10).[¶](#appendix-A.2.1-7){.pilcrow}
:::

::: {#appendix-A.2.2 .section}
#### [A.2.2.](#appendix-A.2.2){.section-number .selfRef} [Traceroute to a SID](#name-traceroute-to-a-sid){.section-name .selfRef} {#name-traceroute-to-a-sid}

The mechanism to traceroute an IPv6 address via a segment list described
in the previous section can also be used to traceroute a remote SID
behavior, as explained in the following example. The example uses
traceroute to an End SID, as described in
\[[RFC8986](#RFC8986){.xref}\], but the procedure is equally applicable
to tracerouting any other SID behaviors.[¶](#appendix-A.2.2-1){.pilcrow}

Please note that traceroute to a SID is exemplified using UDP probes.
However, the procedure is equally applicable to other implementations of
traceroute mechanism. The UDP encoded message to traceroute a SID would
use the UDP ports assigned by IANA for \"traceroute
use\".[¶](#appendix-A.2.2-2){.pilcrow}

Consider the example where the user wants to traceroute a remote SID
2001:db8:K:4::, via 2001:db8:K:2:X31::, from node N1. The traceroute
probe is processed at the individual nodes along the path as
follows:[¶](#appendix-A.2.2-3){.pilcrow}

-   [Node N1 initiates a traceroute probe packet as follows
    (2001:db8:L:1::, 2001:db8:K:2:X31::) (2001:db8:K:4::,
    2001:db8:K:2:X31::; SL=1; NH=UDP)(Traceroute probe). The first
    traceroute probe is sent with the hop-count value set to 1. The
    hop-count value is incremented by 1 for each subsequent traceroute
    probe.[¶](#appendix-A.2.2-4.1){.pilcrow}]{#appendix-A.2.2-4.1}
-   [When node N2 receives the packet with hop-count = 1, it processes
    the hop-count expiry. Specifically, node N2 responds with the ICMPv6
    message with type \"Time Exceeded\" and code \"hop limit exceeded in
    transit\". The ICMPv6 response is IP
    routed.[¶](#appendix-A.2.2-4.2){.pilcrow}]{#appendix-A.2.2-4.2}
-   [When node N2 receives the packet with hop-count > 1, it performs
    the standard SRH processing. Specifically, it executes the End.X
    behavior indicated by the 2001:db8:K:2:X31:: SID on the traceroute
    probe. If 2001:db8:K:2:X31:: is a PSP SID, node N2 executes the SID
    like any other data packet with DA = 2001:db8:K:2:X31:: and removes
    the SRH.[¶](#appendix-A.2.2-4.3){.pilcrow}]{#appendix-A.2.2-4.3}
-   [When node N3, which is a non-SRv6-capable node, receives the packet
    with hop-count = 1, it processes the hop-count expiry. Specifically,
    node N3 responds with the ICMPv6 message with type \"Time Exceeded\"
    and code \"Hop limit exceeded in transit\". The ICMPv6 response is
    IP routed.[¶](#appendix-A.2.2-4.4){.pilcrow}]{#appendix-A.2.2-4.4}
-   [When node N3, which is a non-SRv6-capable node, receives the packet
    with hop-count > 1, it performs the standard IPv6 processing.
    Specifically, it forwards the traceroute probe based on DA
    2001:db8:K:4:: in the IPv6
    header.[¶](#appendix-A.2.2-4.5){.pilcrow}]{#appendix-A.2.2-4.5}
-   [When node N4 receives the packet with DA set to the local SID
    2001:db8:K:4::, it processes the End
    SID.[¶](#appendix-A.2.2-4.6){.pilcrow}]{#appendix-A.2.2-4.6}
-   [If the target SID (2001:db8:K:4::) is not locally instantiated and
    does not represent a local interface, the packet is
    discarded.[¶](#appendix-A.2.2-4.7){.pilcrow}]{#appendix-A.2.2-4.7}
-   [If the target SID (2001:db8:K:4::) is locally instantiated or
    represents a local interface, the node processes the Upper-Layer
    header. As part of the Upper-Layer header processing, node N4
    responds with the ICMPv6 message with type \"Destination
    Unreachable\" and code \"Port Unreachable\". The ICMPv6 response is
    IP routed.[¶](#appendix-A.2.2-4.8){.pilcrow}]{#appendix-A.2.2-4.8}

[Figure 4](#sample-output){.xref} displays a sample traceroute output
for this example.[¶](#appendix-A.2.2-5){.pilcrow}

[]{#name-sample-output-for-hop-by-ho}

::: {#sample-output}
::: {#appendix-A.2.2-6.1 .alignLeft .art-text .artwork}
      > traceroute 2001:db8:K:4:X52:: via segment list 2001:db8:K:2:X31::

      Tracing the route to SID 2001:db8:K:4:X52::
      1  2001:db8:2:1:21:: 0.512 msec 0.425 msec 0.374 msec
         DA: 2001:db8:K:2:X31::,
         SRH:(2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=1)
      2  2001:db8:3:2:21:: 0.721 msec 0.810 msec 0.795 msec
         DA: 2001:db8:K:4:X52::,
         SRH:(2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=0)
      3  2001:db8:4:3:41:: 0.921 msec 0.816 msec 0.759 msec
         DA: 2001:db8:K:4:X52::,
         SRH:(2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=0)
:::

[Figure 4](#figure-4){.selfRef}: [Sample Output for Hop-by-Hop
Traceroute to a SID](#name-sample-output-for-hop-by-ho){.selfRef}
:::
:::
:::

::: {#appendix-A.3 .section}
### [A.3.](#appendix-A.3){.section-number .selfRef} [Hybrid OAM Using the OAM Flag](#name-hybrid-oam-using-the-oam-fl){.section-name .selfRef} {#name-hybrid-oam-using-the-oam-fl}

This section illustrates a hybrid OAM mechanism using the O-flag.
Without loss of the generality, the illustration assumes node N100 is a
centralized controller.[¶](#appendix-A.3-1){.pilcrow}

This illustration is different from the \"in situ OAM\" defined in
\[[RFC9197](#RFC9197){.xref}\]. This is because in situ OAM records
operational and telemetry information in the packet as the packet
traverses a path between two points in the network
\[[RFC9197](#RFC9197){.xref}\]. The illustration in this subsection does
not require the recording of OAM data in the
packet.[¶](#appendix-A.3-2){.pilcrow}

The illustration does not assume any formats for exporting the data
elements or the data elements that need to be exported. The illustration
assumes system clocks among all nodes in the SR domain are
synchronized.[¶](#appendix-A.3-3){.pilcrow}

Consider the example where the user wants to monitor sampled IPv4 VPN
999 traffic going from CE1 to CE2 via a low-latency SR Policy P
installed at node N1. To exercise a low-latency path, the SR Policy P
forces the packet via segments 2001:db8:K:2:X31:: and
2001:db8:K:4:X52::. The VPN SID at node N7 associated with VPN 999 is
2001:db8:K:7:DT999::. 2001:db8:K:7:DT999:: is a USP SID. Nodes N1, N4,
and N7 are capable of processing the O-flag, but node N2 is not capable
of processing the O-flag. Node N100 is the centralized controller
capable of processing and correlating the copy of the packets sent from
nodes N1, N4, and N7. Node N100 is aware of O-flag processing
capabilities. Node N100, with help from nodes N1, N4, and N7, implements
a hybrid OAM mechanism using the O-flag as
follows:[¶](#appendix-A.3-4){.pilcrow}

-   ::: {#appendix-A.3-5.1}
    A packet P1 is sent from CE1 to node N1. The packet
    is:[¶](#appendix-A.3-5.1.1){.pilcrow}

    P1: (IPv4 header)(payload)[¶](#appendix-A.3-5.1.2){.pilcrow}
    :::

-   ::: {#appendix-A.3-5.2}
    Node N1 steers packet P1 through the SR Policy P. Based on local
    configuration, node N1 also implements logic to sample traffic
    steered through SR Policy P for hybrid OAM purposes. Specification
    for the sampling logic is beyond the scope of this document.
    Consider the case where packet P1 is classified as a packet to be
    monitored via the hybrid OAM. Node N1 sets the O-flag during the
    encapsulation required by SR Policy P. As part of setting the
    O-flag, node N1 also sends a timestamped copy of packet P1 to a
    local OAM process. The packet is:[¶](#appendix-A.3-5.2.1){.pilcrow}

    P1: (2001:db8:L:1::, 2001:db8:K:2:X31::) (2001:db8:K:7:DT999::,
    2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=2; O-flag=1;
    NH=IPv4)(IPv4 header)(payload)[¶](#appendix-A.3-5.2.2){.pilcrow}

    The local OAM process sends a full or partial copy of packet P1 to
    node N100. The OAM process includes the recorded timestamp,
    additional OAM information (like incoming and outgoing interface),
    and any applicable metadata. Node N1 forwards the original packet
    towards the next segment
    2001:db8:K:2:X31::.[¶](#appendix-A.3-5.2.3){.pilcrow}
    :::

-   ::: {#appendix-A.3-5.3}
    When node N2 receives the packet with the O-flag set, it ignores the
    O-flag. This is because node N2 is not capable of processing the
    O-flag. Node N2 performs the standard SRv6 SID and SRH processing.
    Specifically, it executes the End.X behavior
    \[[RFC8986](#RFC8986){.xref}\] indicated by the 2001:db8:K:2:X31::
    SID and forwards packet P1 over link3 towards node N3. The packet
    is:[¶](#appendix-A.3-5.3.1){.pilcrow}

    P1: (2001:db8:L:1::, 2001:db8:K:4:X52::) (2001:db8:K:7:DT999::,
    2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=1; O-flag=1;
    NH=IPv4)(IPv4 header)(payload)[¶](#appendix-A.3-5.3.2){.pilcrow}
    :::

-   [When node N3, which is a non-SRv6-capable node, receives packet P1,
    it performs the standard IPv6 processing. Specifically, it forwards
    packet P1 based on DA 2001:db8:K:4:X52:: in the IPv6
    header.[¶](#appendix-A.3-5.4){.pilcrow}]{#appendix-A.3-5.4}

-   ::: {#appendix-A.3-5.5}
    When node N4 receives packet P1, it processes the O-flag. The packet
    is:[¶](#appendix-A.3-5.5.1){.pilcrow}

    P1: (2001:db8:L:1::, 2001:db8:K:4:X52::) (2001:db8:K:7:DT999::,
    2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=1; O-flag=1;
    NH=IPv4)(IPv4 header)(payload)[¶](#appendix-A.3-5.5.2){.pilcrow}

    As part of processing the O-flag, it sends a timestamped copy of the
    packet to a local OAM process. Based on local configuration, the
    local OAM process sends a full or partial copy of packet P1 to node
    N100. The OAM process includes the recorded timestamp, additional
    OAM information (like incoming and outgoing interface, etc.), and
    any applicable metadata. Node N4 performs the standard SRv6 SID and
    SRH processing on the original packet P1. Specifically, it executes
    the End.X behavior indicated by the 2001:db8:K:4:X52:: SID and
    forwards packet P1 over link10 towards node N5. The packet
    is:[¶](#appendix-A.3-5.5.3){.pilcrow}

    P1: (2001:db8:L:1::, 2001:db8:K:7:DT999::) (2001:db8:K:7:DT999::,
    2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=0; O-flag=1;
    NH=IPv4)(IPv4 header)(payload)[¶](#appendix-A.3-5.5.4){.pilcrow}
    :::

-   [When node N5, which is a non-SRv6-capable node, receives packet P1,
    it performs the standard IPv6 processing. Specifically, it forwards
    the packet based on DA 2001:db8:K:7:DT999:: in the IPv6
    header.[¶](#appendix-A.3-5.6){.pilcrow}]{#appendix-A.3-5.6}

-   ::: {#appendix-A.3-5.7}
    When node N7 receives packet P1, it processes the O-flag. The packet
    is:[¶](#appendix-A.3-5.7.1){.pilcrow}

    P1: (2001:db8:L:1::, 2001:db8:K:7:DT999::) (2001:db8:K:7:DT999::,
    2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=0; O-flag=1;
    NH=IPv4)(IPv4 header)(payload)[¶](#appendix-A.3-5.7.2){.pilcrow}

    As part of processing the O-flag, it sends a timestamped copy of the
    packet to a local OAM process. The local OAM process sends a full or
    partial copy of packet P1 to node N100. The OAM process includes the
    recorded timestamp, additional OAM information (like incoming and
    outgoing interface, etc.), and any applicable metadata. Node N7
    performs the standard SRv6 SID and SRH processing on the original
    packet P1. Specifically, it executes the VPN SID indicated by the
    2001:db8:K:7:DT999:: SID and, based on lookup in table 100, forwards
    packet P1 towards CE2. The packet
    is:[¶](#appendix-A.3-5.7.3){.pilcrow}

    P1: (IPv4 header)(payload)[¶](#appendix-A.3-5.7.4){.pilcrow}
    :::

-   [Node N100 processes and correlates the copy of the packets sent
    from nodes N1, N4, and N7 to find segment-by-segment delays and
    provide other hybrid OAM information related to packet P1. For
    segment-by-segment delay computation, it is assumed that clocks are
    synchronized across the SR
    domain.[¶](#appendix-A.3-5.8){.pilcrow}]{#appendix-A.3-5.8}

-   [The process continues for any other sampled
    packets.[¶](#appendix-A.3-5.9){.pilcrow}]{#appendix-A.3-5.9}
:::

::: {#appendix-A.4 .section}
### [A.4.](#appendix-A.4){.section-number .selfRef} [Monitoring of SRv6 Paths](#name-monitoring-of-srv6-paths){.section-name .selfRef} {#name-monitoring-of-srv6-paths}

In the recent past, network operators demonstrated interest in
performing network OAM functions in a centralized manner.
\[[RFC8403](#RFC8403){.xref}\] describes such a centralized OAM
mechanism. Specifically, \[[RFC8403](#RFC8403){.xref}\] describes a
procedure that can be used to perform path continuity checks between any
nodes within an SR domain from a centralized monitoring system. However,
while \[[RFC8403](#RFC8403){.xref}\] focuses on SR networks with MPLS
data plane, this document describes how the concept can be used to
perform path monitoring in an SRv6 network from a centralized
controller.[¶](#appendix-A.4-1){.pilcrow}

In the reference topology in [Figure 1](#ref-top){.xref}, node N100 uses
an IGP protocol like OSPF or IS-IS to get a view of the topology within
the IGP domain. Node N100 can also use BGP-LS to get the complete view
of an inter-domain topology. The controller leverages the visibility of
the topology to monitor the paths between the various
endpoints.[¶](#appendix-A.4-2){.pilcrow}

Node N100 advertises an End SID \[[RFC8986](#RFC8986){.xref}\]
2001:db8:K:100:1::. To monitor any arbitrary SRv6 paths, the controller
can create a loopback probe that originates and terminates on node N100.
To distinguish between a failure in the monitored path and loss of
connectivity between the controller and the network, node N100 runs a
suitable mechanism to monitor its connectivity to the monitored
network.[¶](#appendix-A.4-3){.pilcrow}

The following example illustrates loopback probes in which node N100
needs to verify a segment list \<2001:db8:K:2:X31::,
2001:db8:K:4:X52::>:[¶](#appendix-A.4-4){.pilcrow}

-   [Node N100 generates an OAM packet (2001:db8:L:100::,
    2001:db8:K:2:X31::)(2001:db8:K:100:1::, 2001:db8:K:4:X52::,
    2001:db8:K:2:X31::, SL=2)(OAM Payload). The controller routes the
    probe packet towards the first segment, which is
    2001:db8:K:2:X31::.[¶](#appendix-A.4-5.1){.pilcrow}]{#appendix-A.4-5.1}
-   [Node N2 executes the End.X behavior indicated by the
    2001:db8:K:2:X31:: SID and forwards the packet (2001:db8:L:100::,
    2001:db8:K:4:X52::)(2001:db8:K:100:1::, 2001:db8:K:4:X52::,
    2001:db8:K:2:X31::, SL=1)(OAM Payload) on link3 to node
    N3.[¶](#appendix-A.4-5.2){.pilcrow}]{#appendix-A.4-5.2}
-   [Node N3, which is a non-SRv6-capable node, performs the standard
    IPv6 processing. Specifically, it forwards the packet based on DA
    2001:db8:K:4:X52:: in the IPv6
    header.[¶](#appendix-A.4-5.3){.pilcrow}]{#appendix-A.4-5.3}
-   [Node N4 executes the End.X behavior indicated by the
    2001:db8:K:4:X52:: SID and forwards the packet (2001:db8:L:100::,
    2001:db8:K:100:1::)(2001:db8:K:100:1::, 2001:db8:K:4:X52::,
    2001:db8:K:2:X31::, SL=0)(OAM Payload) on link10 to node
    N5.[¶](#appendix-A.4-5.4){.pilcrow}]{#appendix-A.4-5.4}
-   [Node N5, which is a non-SRv6-capable node, performs the standard
    IPv6 processing. Specifically, it forwards the packet based on DA
    2001:db8:K:100:1:: in the IPv6
    header.[¶](#appendix-A.4-5.5){.pilcrow}]{#appendix-A.4-5.5}
-   [Node N100 executes the standard SRv6 END behavior. It decapsulates
    the header and consumes the probe for OAM processing. The
    information in the OAM payload is used to detect missing probes,
    round-trip delay,
    etc.[¶](#appendix-A.4-5.6){.pilcrow}]{#appendix-A.4-5.6}

The OAM payload type or the information carried in the OAM probe is a
local implementation decision at the controller and is outside the scope
of this document.[¶](#appendix-A.4-6){.pilcrow}
:::
:::
:::

::: {#Acknowledgements}
::: {#appendix-B .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The authors would like to thank [Joel M. Halpern]{.contact-name}, [Greg
Mirsky]{.contact-name}, [Bob Hinden]{.contact-name}, [Loa
Andersson]{.contact-name}, [Gaurav Naik]{.contact-name}, [Ketan
Talaulikar]{.contact-name}, and [Haoyu Song]{.contact-name} for their
review comments.[¶](#appendix-B-1){.pilcrow}
:::
:::

::: {#Contributors}
::: {#appendix-C .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

The following people contributed to this
document:[¶](#appendix-C-1){.pilcrow}

::: {.left dir="auto"}
[Robert Raszuk]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Bloomberg LP]{.org}
:::

::: email
Email: <robert@raszuk.net>
:::

::: {.left dir="auto"}
[John Leddy]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Individual]{.org}
:::

::: email
Email: <john@leddy.net>
:::

::: {.left dir="auto"}
[Gaurav Dawra]{.fn .nameRole}
:::

::: {.left dir="auto"}
[LinkedIn]{.org}
:::

::: email
Email: <gdawra.ietf@gmail.com>
:::

::: {.left dir="auto"}
[Bart Peirens]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Proximus]{.org}
:::

::: email
Email: <bart.peirens@proximus.com>
:::

::: {.left dir="auto"}
[Nagendra Kumar]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: email
Email: <naikumar@cisco.com>
:::

::: {.left dir="auto"}
[Carlos Pignataro]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: email
Email: <cpignata@cisco.com>
:::

::: {.left dir="auto"}
[Rakesh Gandhi]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: email
Email: <rgandhi@cisco.com>
:::

::: {.left dir="auto"}
[Frank Brockners]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: email
Email: <fbrockne@cisco.com>
:::

::: {.left dir="auto"}
[Darren Dukes]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: email
Email: <ddukes@cisco.com>
:::

::: {.left dir="auto"}
[Cheng Li]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: email
Email: <chengli13@huawei.com>
:::

::: {.left dir="auto"}
[Faisal Iqbal]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Individual]{.org}
:::

::: email
Email: <faisal.ietf@gmail.com>
:::
:::
:::

::: {#authors-addresses}
::: {#appendix-D .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Zafar Ali]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems]{.org}
:::

::: email
Email: <zali@cisco.com>
:::

::: {.left dir="auto"}
[Clarence Filsfils]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems]{.org}
:::

::: email
Email: <cfilsfil@cisco.com>
:::

::: {.left dir="auto"}
[Satoru Matsushima]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Softbank]{.org}
:::

::: email
Email: <satoru.matsushima@g.softbank.co.jp>
:::

::: {.left dir="auto"}
[Daniel Voyer]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Bell Canada]{.org}
:::

::: email
Email: <daniel.voyer@bell.ca>
:::

::: {.left dir="auto"}
[Mach(Guoyi) Chen]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: email
Email: <mach.chen@huawei.com>
:::
:::
:::
