  RFC 8873           MSRP over Data Channels   January 2021
  ------------------ ------------------------- --------------
  Recio & Holmberg   Standards Track           \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8873](https://www.rfc-editor.org/rfc/rfc8873){.eref}

Updates:
:   [4975](https://www.rfc-editor.org/rfc/rfc4975){.eref}

Category:
:   Standards Track

Published:
:   January 2021

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    JM. Recio, [Ed.]{.editor}
    :::

    ::: org
    Unaffiliated
    :::
    :::

    ::: author
    ::: author-name
    C. Holmberg
    :::

    ::: org
    Ericsson
    :::
    :::
:::

# RFC 8873 {#rfcnum}

# Message Session Relay Protocol (MSRP) over Data Channels {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

This document specifies how a Web Real-Time Communication (WebRTC) data
channel can be used as a transport mechanism for the Message Session
Relay Protocol (MSRP) and how the Session Description Protocol (SDP)
offer/answer mechanism can be used to negotiate such a data channel,
referred to as an MSRP data channel. Two network configurations are
supported: the connection of two MSRP data channel endpoints; and a
gateway configuration, which connects an MSRP data channel endpoint with
an MSRP endpoint that uses either TCP or TLS. This document updates RFC
4975.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8873>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2021 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Conventions](#name-conventions){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [WebRTC Data Channel
    Considerations](#name-webrtc-data-channel-conside){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [MSRP Data
        Channel](#name-msrp-data-channel){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [SDP
    Considerations](#name-sdp-considerations){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [MSRP
        URI](#name-msrp-uri){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [MSRP URI
        msrp-scheme](#name-msrp-uri-msrp-scheme){.xref}[¶](#section-toc.1-1.4.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.xref}.  [Use of the \'dcmap\'
        Attribute](#name-use-of-the-dcmap-attribute){.xref}[¶](#section-toc.1-1.4.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.xref}.  [Use of the \'dcsa\'
        Attribute](#name-use-of-the-dcsa-attribute){.xref}[¶](#section-toc.1-1.4.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.5}
        [4.5](#section-4.5){.xref}.  [Use of the DCSA-Embedded \'setup\'
        Attribute](#name-use-of-the-dcsa-embedded-se){.xref}[¶](#section-toc.1-1.4.2.5.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.6}
        [4.6](#section-4.6){.xref}.  [Session
        Closing](#name-session-closing){.xref}[¶](#section-toc.1-1.4.2.6.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.7}
        [4.7](#section-4.7){.xref}.  [Support for MSRP File Transfer
        Function](#name-support-for-msrp-file-trans){.xref}[¶](#section-toc.1-1.4.2.7.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.8}
        [4.8](#section-4.8){.xref}.  [Example](#name-example){.xref}[¶](#section-toc.1-1.4.2.8.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [MSRP
    Considerations](#name-msrp-considerations){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [Session
        Mapping](#name-session-mapping){.xref}[¶](#section-toc.1-1.5.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.2}
        [5.2](#section-5.2){.xref}.  [Session
        Opening](#name-session-opening){.xref}[¶](#section-toc.1-1.5.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.3}
        [5.3](#section-5.3){.xref}.  [Session
        Closing](#name-session-closing-2){.xref}[¶](#section-toc.1-1.5.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.4}
        [5.4](#section-5.4){.xref}.  [Data
        Framing](#name-data-framing){.xref}[¶](#section-toc.1-1.5.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.5}
        [5.5](#section-5.5){.xref}.  [Data Sending, Receiving, and
        Reporting](#name-data-sending-receiving-and-){.xref}[¶](#section-toc.1-1.5.2.5.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.6}
        [5.6](#section-5.6){.xref}.  [Support for MSRP File Transfer
        Function](#name-support-for-msrp-file-transf){.xref}[¶](#section-toc.1-1.5.2.6.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [Gateway
    Considerations](#name-gateway-considerations){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [Updates to RFC
    4975](#name-updates-to-rfc-4975){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}

    -   ::: {#section-toc.1-1.9.2.1}
        [9.1](#section-9.1){.xref}.  [\"msrps\" URI
        scheme](#name-msrps-uri-scheme){.xref}[¶](#section-toc.1-1.9.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.9.2.2}
        [9.2](#section-9.2){.xref}.  [Subprotocol Identifier
        \"msrp\"](#name-subprotocol-identifier-msrp){.xref}[¶](#section-toc.1-1.9.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.9.2.3}
        [9.3](#section-9.3){.xref}.  [SDP
        Attributes](#name-sdp-attributes){.xref}[¶](#section-toc.1-1.9.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.10}
    [10](#section-10){.xref}. [References](#name-references){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}

    -   ::: {#section-toc.1-1.10.2.1}
        [10.1](#section-10.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.10.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.10.2.2}
        [10.2](#section-10.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.10.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.11}
    [](#section-appendix.a){.xref}[Acknowledgments](#name-acknowledgments){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.12}
    [](#section-appendix.b){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.12.1){.pilcrow}
    :::
:::
:::

::: {#introduction}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

The Message Session Relay Protocol (MSRP) \[[RFC4975](#RFC4975){.xref}\]
is a protocol for transmitting a series of related instant messages in
the context of a session. In addition to instant messaging, MSRP can
also be used for image sharing or file transfer. MSRP was initially
defined in \[[RFC4975](#RFC4975){.xref}\] to work over TCP and TLS
connections, and over a WebSocket subprotocol specified by
\[[RFC7977](#RFC7977){.xref}\].[¶](#section-1-1){.pilcrow}

This document specifies how a Web Real-Time Communication (WebRTC) data
channel \[[RFC8831](#RFC8831){.xref}\] can be used as a transport
mechanism for MSRP without the TCP and TLS layers, and how the Session
Description Protocol (SDP) offer/answer mechanism for data channels
\[[RFC8864](#RFC8864){.xref}\] can be used to negotiate such a data
channel.[¶](#section-1-2){.pilcrow}

In this document, an MSRP data channel refers to a WebRTC data channel
for which the instantiated subprotocol is \"msrp\" and the data channel
is negotiated using the SDP offer/answer mechanism
\[[RFC8864](#RFC8864){.xref}\].[¶](#section-1-3){.pilcrow}

Defining MSRP as a data channel subprotocol has many
benefits:[¶](#section-1-4){.pilcrow}

-   [provides to applications a proven protocol enabling instant
    messaging, file transfer, image
    sharing[¶](#section-1-5.1){.pilcrow}]{#section-1-5.1}
-   [integrates those features with other WebRTC voice, video, and data
    features[¶](#section-1-5.2){.pilcrow}]{#section-1-5.2}
-   [leverages the SDP-based negotiation already defined for
    MSRP[¶](#section-1-5.3){.pilcrow}]{#section-1-5.3}
-   [allows the interworking with MSRP endpoints running on a TCP or TLS
    connection[¶](#section-1-5.4){.pilcrow}]{#section-1-5.4}

Compared to the WebSocket protocol, which provides a message-passing
protocol to applications with no direct access to TCP or TLS sockets,
data channels provide a low-latency transport and leverage NAT-aware
connectivity and the security features of
WebRTC.[¶](#section-1-6){.pilcrow}

This document defines an MSRP data channel endpoint as an MSRP
application that uses a WebRTC data channel for MSRP transport. This
document describes configurations for connecting such endpoint to
another MSRP data channel endpoint, or to an MSRP endpoint that uses
either TCP or TLS transport.[¶](#section-1-7){.pilcrow}

This document updates \[[RFC4975](#RFC4975){.xref}\] as described in
[Section 7](#updates-to-rfc4975){.xref}.[¶](#section-1-8){.pilcrow}
:::
:::

::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Conventions](#name-conventions){.section-name .selfRef} {#name-conventions}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-2-1){.pilcrow}
:::

::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [WebRTC Data Channel Considerations](#name-webrtc-data-channel-conside){.section-name .selfRef} {#name-webrtc-data-channel-conside}

::: {#msrp-data-channel}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [MSRP Data Channel](#name-msrp-data-channel){.section-name .selfRef} {#name-msrp-data-channel}

The following WebRTC data channel property values
\[[RFC8831](#RFC8831){.xref}\] apply to an MSRP data
channel:[¶](#section-3.1-1){.pilcrow}

  Property                   Value
  -------------------------- ---------------------------------------------------
  Subprotocol Identifier     msrp
  Transmission reliability   reliable
  Transmission order         in-order
  Label                      See [Section 4.3](#use-of-dcmap-attribute){.xref}

  : [Table 1](#table-1){.selfRef}
:::
:::
:::

::: {#sdp-cons}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [SDP Considerations](#name-sdp-considerations){.section-name .selfRef} {#name-sdp-considerations}

The generic SDP considerations, including the SDP offer/answer
procedures \[[RFC3264](#RFC3264){.xref}\], for negotiating a WebRTC data
channel are defined in \[[RFC8864](#RFC8864){.xref}\]. This section and
its subsections define the SDP considerations that are specific to an
MSRP data channel, identified by the \"subprotocol\" attribute
parameter, with an \"msrp\" parameter value in the \'dcmap\'
attribute.[¶](#section-4-1){.pilcrow}

::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [MSRP URI](#name-msrp-uri){.section-name .selfRef} {#name-msrp-uri}

This document extends the MSRP URI syntax \[[RFC4975](#RFC4975){.xref}\]
by defining the new transport parameter value \"dc\" (an abbreviation of
data channel):[¶](#section-4.1-1){.pilcrow}

::: {#section-4.1-2}
``` {.sourcecode .lang-abnf}
    transport  /= "dc"
    ; Add "dc" to existing transports per Section 9 of [RFC4975]
```

[¶](#section-4.1-2){.pilcrow}
:::

MSRP design provides for new transport bindings (see [Section
6](https://www.rfc-editor.org/rfc/rfc4975#section-6){.relref} of
\[[RFC4975](#RFC4975){.xref}\]). MSRP implementations are expected to
allow unrecognized transports for which there is no need to establish a
connection to the resource described by the URI, as is the case of data
channels ([Section
4.4](#use-of-dcsa-attribute){.xref}).[¶](#section-4.1-3){.pilcrow}
:::

::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [MSRP URI msrp-scheme](#name-msrp-uri-msrp-scheme){.section-name .selfRef} {#name-msrp-uri-msrp-scheme}

The msrp-scheme portion of the MSRP URI that represents an MSRP data
channel endpoint (used in the SDP \'path\' attribute and in the MSRP
message headers) is always \"msrps\", which indicates that the MSRP data
channel is always secured using DTLS as described in
\[[RFC8831](#RFC8831){.xref}\].[¶](#section-4.2-1){.pilcrow}
:::

::: {#use-of-dcmap-attribute}
::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [Use of the \'dcmap\' Attribute](#name-use-of-the-dcmap-attribute){.section-name .selfRef} {#name-use-of-the-dcmap-attribute}

An offerer and answerer [SHALL]{.bcp14}, in each offer and answer,
include a \'dcmap\' attribute \[[RFC8864](#RFC8864){.xref}\] in the SDP
media description (\"m=\" section) \[[RFC4566](#RFC4566){.xref}\]
describing the SCTP association \[[RFC4960](#RFC4960){.xref}\] used to
realize the MSRP data channel.[¶](#section-4.3-1){.pilcrow}

The attribute includes the following data channel
parameters:[¶](#section-4.3-2){.pilcrow}

-   [\"label=\"
    labelstring[¶](#section-4.3-3.1){.pilcrow}]{#section-4.3-3.1}
-   [\"subprotocol=\"
    \"msrp\"[¶](#section-4.3-3.2){.pilcrow}]{#section-4.3-3.2}

The labelstring is set by the MSRP application according to
\[[RFC8864](#RFC8864){.xref}\].[¶](#section-4.3-4){.pilcrow}

The offerer and answerer [SHALL NOT]{.bcp14} include the \"max-retr\"
and the \"max-time\" attribute parameters in the \'dcmap\'
attribute.[¶](#section-4.3-5){.pilcrow}

The offerer and answerer [MAY]{.bcp14} include the \"ordered\" attribute
parameter in the \'dcmap\' attribute. If included, the attribute
parameter value [SHALL]{.bcp14} be set to
\"true\".[¶](#section-4.3-6){.pilcrow}

Below is an example of a \'dcmap\' attribute for an MSRP session to be
negotiated with the \"dcmap-stream-id\" parameter set to 2 and the
\"label\" parameter set to \"chat\":[¶](#section-4.3-7){.pilcrow}

::: {#section-4.3-8}
``` {.sourcecode .lang-sdp}
a=dcmap:2 label="chat";subprotocol="msrp"
```

[¶](#section-4.3-8){.pilcrow}
:::
:::
:::

::: {#use-of-dcsa-attribute}
::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [Use of the \'dcsa\' Attribute](#name-use-of-the-dcsa-attribute){.section-name .selfRef} {#name-use-of-the-dcsa-attribute}

An offerer and answerer can, in each offer and answer, include one or
more data channel subprotocol attributes (\'dcsa\' attributes)
\[[RFC8864](#RFC8864){.xref}\] in the \"m=\" section describing the SCTP
association used to realize the MSRP data channel. An SDP attribute
included in a \'dcsa\' attribute is referred to as a DCSA-embedded
attribute.[¶](#section-4.4-1){.pilcrow}

If an offerer or answerer receives a \'dcsa\' attribute that contains an
SDP attribute for which usage has not been defined for an MSRP data
channel, the offerer or answerer should ignore the \'dcsa\' attribute,
following the rules in [Section
6.7](https://www.rfc-editor.org/rfc/rfc8864#section-6.7){.relref} of
\[[RFC8864](#RFC8864){.xref}\].[¶](#section-4.4-2){.pilcrow}

An offerer and answerer [SHALL]{.bcp14} include a \'dcsa\' attribute for
each of the following MSRP-specific SDP
attributes:[¶](#section-4.4-3){.pilcrow}

-   [defined in \[[RFC4975](#RFC4975){.xref}\]:
    \'path\'.[¶](#section-4.4-4.1){.pilcrow}]{#section-4.4-4.1}
-   [defined in \[[RFC6714](#RFC6714){.xref}\]:
    \'msrp-cema\'.[¶](#section-4.4-4.2){.pilcrow}]{#section-4.4-4.2}
-   [defined in \[[RFC6135](#RFC6135){.xref}\]: \'setup\'. See [Section
    4.5](#use-of-setup-attribute){.xref}.[¶](#section-4.4-4.3){.pilcrow}]{#section-4.4-4.3}

It is considered a protocol error if one or more of the DCSA-embedded
attributes listed above are not included in an offer or
answer.[¶](#section-4.4-5){.pilcrow}

An offerer and answerer [MAY]{.bcp14} include a \'dcsa\' attribute for
any of the following MSRP-specific SDP attributes, following the
procedures defined for each attribute:[¶](#section-4.4-6){.pilcrow}

-   [defined in \[[RFC4975](#RFC4975){.xref}\]: \'accept-types\',
    \'accept-wrapped-types\', and
    \'max-size\'.[¶](#section-4.4-7.1){.pilcrow}]{#section-4.4-7.1}
-   [defined in \[[RFC4566](#RFC4566){.xref}\]: \'sendonly\',
    \'recvonly\', \'inactive\', and
    \'sendrecv\'.[¶](#section-4.4-7.2){.pilcrow}]{#section-4.4-7.2}
-   [defined in \[[RFC5547](#RFC5547){.xref}\]: all the parameters
    related to MSRP file transfer. See [Section
    4.7](#file_transfer_sdp){.xref}.[¶](#section-4.4-7.3){.pilcrow}]{#section-4.4-7.3}

A subsequent offer or answer [MAY]{.bcp14} update the previously
negotiated MSRP subprotocol attributes while keeping the \'dcmap\'
attribute associated with the MSRP data channel unchanged. The semantics
for newly negotiated MSRP subprotocol attributes are per
\[[RFC4975](#RFC4975){.xref}\].[¶](#section-4.4-8){.pilcrow}

When MSRP messages are transported on a data channel, the \'path\'
attribute is not used for the routing of the messages. The MSRP data
channel is established using the SDP offer/answer procedures defined in
\[[RFC8864](#RFC8864){.xref}\], and the MSRP messages are then
transported on that data channel. This is different from legacy MSRP
\[[RFC4975](#RFC4975){.xref}\] but similar to MSRP Connection
Establishment for Media Anchoring (MSRP CEMA)
\[[RFC6714](#RFC6714){.xref}\]. Because of this, a DCSA-embedded
\'msrp-cema\' attribute is mandated for MSRP sessions over data
channels. However, when an endpoint receives an MSRP message over a data
channel, it [MUST]{.bcp14} still perform the MSRP URI comparison
procedures defined in
\[[RFC4975](#RFC4975){.xref}\].[¶](#section-4.4-9){.pilcrow}
:::
:::

::: {#use-of-setup-attribute}
::: {#section-4.5 .section}
### [4.5.](#section-4.5){.section-number .selfRef} [Use of the DCSA-Embedded \'setup\' Attribute](#name-use-of-the-dcsa-embedded-se){.section-name .selfRef} {#name-use-of-the-dcsa-embedded-se}

As described in [Section 4.4](#use-of-dcsa-attribute){.xref}, the usage
of a DCSA-embedded \'setup\' attribute is mandated for MSRP sessions
over data channels. It is used to negotiate which MSRP data channel
endpoint assumes the active role as per [Section
4.2.2](https://www.rfc-editor.org/rfc/rfc6135#section-4.2.2){.relref} of
\[[RFC6135](#RFC6135){.xref}\] and [Section
5.4](https://www.rfc-editor.org/rfc/rfc4975#section-5.4){.relref} of
\[[RFC4975](#RFC4975){.xref}\]. It has no relationship with the DTLS
connection establishment roles
\[[RFC8841](#RFC8841){.xref}\].[¶](#section-4.5-1){.pilcrow}

The DCSA-embedded \'setup\' attribute is of the form \"a=dcsa:x
setup:\<role>\", with x being the data channel\'s SCTP stream
identifier, so that the \'setup\' attribute is explicitly associated
with an MSRP session over a specific data
channel.[¶](#section-4.5-2){.pilcrow}
:::
:::

::: {#session-closing-sdp}
::: {#section-4.6 .section}
### [4.6.](#section-4.6){.section-number .selfRef} [Session Closing](#name-session-closing){.section-name .selfRef} {#name-session-closing}

An MSRP session is closed by closing the associated data channel
following the procedures in
\[[RFC8864](#RFC8864){.xref}\].[¶](#section-4.6-1){.pilcrow}

The port value for the \"m=\" line [SHOULD NOT]{.bcp14} be changed
(e.g., to zero) when closing an MSRP session (unless all data channels
are being closed and the SCTP association is no longer needed) since
this would close the SCTP association and impact all of the data
channels. In all cases in \[[RFC4975](#RFC4975){.xref}\] where the
procedure calls for setting the port to zero in the MSRP \"m=\" line in
an SDP offer for TCP transport, the SDP offerer of an MSRP session with
data channel transport [SHALL]{.bcp14} remove the corresponding
\'dcmap\' and \'dcsa\' attributes.[¶](#section-4.6-2){.pilcrow}
:::
:::

::: {#file_transfer_sdp}
::: {#section-4.7 .section}
### [4.7.](#section-4.7){.section-number .selfRef} [Support for MSRP File Transfer Function](#name-support-for-msrp-file-trans){.section-name .selfRef} {#name-support-for-msrp-file-trans}

SDP attributes specified in \[[RFC5547](#RFC5547){.xref}\] for a file
transfer \"m=\" line are embedded as subprotocol-specific attributes
using the syntax defined in
\[[RFC8864](#RFC8864){.xref}\].[¶](#section-4.7-1){.pilcrow}
:::
:::

::: {#example-sdp-negotiation}
::: {#section-4.8 .section}
### [4.8.](#section-4.8){.section-number .selfRef} [Example](#name-example){.section-name .selfRef} {#name-example}

Below is an example of an offer and an answer that include the
attributes needed to establish two MSRP sessions: one for chat and one
for file transfer. The example is derived from a combination of examples
in \[[RFC4975](#RFC4975){.xref}\] and
\[[RFC5547](#RFC5547){.xref}\].[¶](#section-4.8-1){.pilcrow}

Offer:[¶](#section-4.8-2){.pilcrow}

::: {#section-4.8-3}
``` {.sourcecode .lang-sdp}
   m=application 54111 UDP/DTLS/SCTP webrtc-datachannel
   c=IN IP6 2001:db8::3
   a=max-message-size:100000
   a=sctp-port:5000
   a=setup:actpass
   a=fingerprint:SHA-256 12:DF:3E:5D:49:6B:19:E5:7C:AB:4A:AD:B9:B1:\
      3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB:4A:AD
   a=tls-id:4a756565cddef001be82
   a=dcmap:0 label="chat";subprotocol="msrp"
   a=dcsa:0 msrp-cema
   a=dcsa:0 setup:active
   a=dcsa:0 accept-types:message/cpim text/plain
   a=dcsa:0 path:msrps://2001:db8::3:54111/si438dsaodes;dc
   a=dcmap:2 label="file transfer";subprotocol="msrp"
   a=dcsa:2 sendonly
   a=dcsa:2 msrp-cema
   a=dcsa:2 setup:active
   a=dcsa:2 accept-types:message/cpim
   a=dcsa:2 accept-wrapped-types:*
   a=dcsa:2 path:msrps://2001:db8::3:54111/jshA7we;dc
   a=dcsa:2 file-selector:name:"picture1.jpg" type:image/jpeg \
      size:1463440 hash:sha-256:7C:DF:3E:5D:49:6B:19:E5:12:AB:4A:AD:\
      4A:B1:3F:82:3E:3B:54:12:02:5D:18:DF:49:6B:19:E5:7C:AB:B9:AD
   a=dcsa:2 file-transfer-id:rjEtHAcYVZ7xKwGYpGGwyn5gqsSaU7Ep
   a=dcsa:2 file-disposition:attachment
   a=dcsa:2 file-date:creation:"Tue, 11 Aug 2020 19:05:30 +0200"
   a=dcsa:2 file-icon:cid:id2@bob.example.com
   a=dcsa:2 file-range:1-1463440
```

[¶](#section-4.8-3){.pilcrow}
:::

Answer:[¶](#section-4.8-4){.pilcrow}

::: {#section-4.8-5}
``` {.sourcecode .lang-sdp}
   m=application 51444 UDP/DTLS/SCTP webrtc-datachannel
   c=IN IP6 IP6 2001:db8::1
   a=max-message-size:100000
   a=sctp-port:6000
   a=setup:passive
   a=fingerprint:SHA-256 5D:02:3E:AD:49:6B:19:E5:7C:AB:4A:AD:B9:\
      B1:3F:82:18:3B:54:DF:12:6B:3E:5D:49:DF:19:E5:7C:AB:4A:5D
   a=tls-id:65cd4a7565debe82f100
   a=dcmap:0 label="chat";subprotocol="msrp"
   a=dcsa:0 msrp-cema
   a=dcsa:0 setup:passive
   a=dcsa:0 accept-types:message/cpim text/plain
   a=dcsa:0 path:msrps://2001:db8::1:51444/di551fsaodes;dc
   a=dcmap:2 label="file transfer";subprotocol="msrp"
   a=dcsa:2 recvonly
   a=dcsa:2 msrp-cema
   a=dcsa:2 setup:passive
   a=dcsa:2 accept-types:message/cpim
   a=dcsa:2 accept-wrapped-types:*
   a=dcsa:2 path:msrps://2001:db8::1:51444/jksh7Bwc;dc
   a=dcsa:2 file-selector:name:"picture1.jpg" type:image/jpeg \
      size:1463440
   a=dcsa:2 file-transfer-id:rjEtHAcYVZ7xKwGYpGGwyn5gqsSaU7Ep
   a=dcsa:2 file-range:1-1463440
```

[¶](#section-4.8-5){.pilcrow}
:::

Note that due to RFC formatting conventions, this document splits SDP
content that exceeds 72 characters across lines, marking this line
folding with a backslash character. This backslash and its trailing CRLF
and whitespace would not appear in actual SDP
content.[¶](#section-4.8-6){.pilcrow}
:::
:::
:::
:::

::: {#msrp-cons}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [MSRP Considerations](#name-msrp-considerations){.section-name .selfRef} {#name-msrp-considerations}

The procedures specified in \[[RFC4975](#RFC4975){.xref}\] apply except
when this document specifies otherwise. This section describes the MSRP
considerations specific to an MSRP data
channel.[¶](#section-5-1){.pilcrow}

::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [Session Mapping](#name-session-mapping){.section-name .selfRef} {#name-session-mapping}

In this document, each MSRP session maps to one data channel
exactly.[¶](#section-5.1-1){.pilcrow}
:::

::: {#session-opening-msrp}
::: {#section-5.2 .section}
### [5.2.](#section-5.2){.section-number .selfRef} [Session Opening](#name-session-opening){.section-name .selfRef} {#name-session-opening}

[Section 4.5](#use-of-setup-attribute){.xref} describes how the active
MSRP data channel endpoint role is negotiated. The active MSRP data
channel endpoint uses the data channel established for this MSRP session
by the generic data channel opening procedure defined in
\[[RFC8864](#RFC8864){.xref}\].[¶](#section-5.2-1){.pilcrow}

As soon as the WebRTC data channel is opened, the MSRP session is
actually opened by the active MSRP data channel endpoint. In order to do
this, the active MSRP data channel endpoint sends an MSRP SEND message
(empty or not) to the peer (passive) MSRP data channel
endpoint.[¶](#section-5.2-2){.pilcrow}
:::
:::

::: {#session-closing}
::: {#section-5.3 .section}
### [5.3.](#section-5.3){.section-number .selfRef} [Session Closing](#name-session-closing-2){.section-name .selfRef} {#name-session-closing-2}

The closure of an MSRP session [SHALL]{.bcp14} be signaled via SDP
following the requirements in [Section
4.6](#session-closing-sdp){.xref}.[¶](#section-5.3-1){.pilcrow}

If the data channel used to transport the MSRP session fails and is torn
down, the MSRP data channel endpoints [SHALL]{.bcp14} consider the MSRP
session failed. An MSRP data channel endpoint [MAY]{.bcp14}, based on
local policy, try to negotiate a new MSRP data
channel.[¶](#section-5.3-2){.pilcrow}
:::
:::

::: {#data-framing}
::: {#section-5.4 .section}
### [5.4.](#section-5.4){.section-number .selfRef} [Data Framing](#name-data-framing){.section-name .selfRef} {#name-data-framing}

Each text-based MSRP message is sent on the corresponding data channel
using standard MSRP framing and chunking procedures, as defined in
\[[RFC4975](#RFC4975){.xref}\], with each MSRP chunk delivered in a
single SCTP user message. Therefore all sent MSRP chunks [SHALL]{.bcp14}
have lengths of less than or equal to the value of the peer\'s
\'max-message-size\' attribute \[[RFC8841](#RFC8841){.xref}\] associated
with the SCTP association.[¶](#section-5.4-1){.pilcrow}
:::
:::

::: {#section-5.5 .section}
### [5.5.](#section-5.5){.section-number .selfRef} [Data Sending, Receiving, and Reporting](#name-data-sending-receiving-and-){.section-name .selfRef} {#name-data-sending-receiving-and-}

Data sending, receiving, and reporting procedures [SHALL]{.bcp14}
conform to \[[RFC4975](#RFC4975){.xref}\].[¶](#section-5.5-1){.pilcrow}
:::

::: {#file_transfer_msrp}
::: {#section-5.6 .section}
### [5.6.](#section-5.6){.section-number .selfRef} [Support for MSRP File Transfer Function](#name-support-for-msrp-file-transf){.section-name .selfRef} {#name-support-for-msrp-file-transf}

\[[RFC5547](#RFC5547){.xref}\] defines an end-to-end file transfer
method based on MSRP and the SDP offer/answer mechanism. This file
transfer method is also usable by MSRP data channel endpoints with the
following considerations:[¶](#section-5.6-1){.pilcrow}

-   [As an MSRP session maps to one data channel, a file transfer
    session maps also to one data
    channel.[¶](#section-5.6-2.1){.pilcrow}]{#section-5.6-2.1}
-   [SDP attributes are negotiated as specified in [Section
    4.7](#file_transfer_sdp){.xref}.[¶](#section-5.6-2.2){.pilcrow}]{#section-5.6-2.2}
-   [Once the file transfer is complete, the same data channel
    [MAY]{.bcp14} be reused for another file
    transfer.[¶](#section-5.6-2.3){.pilcrow}]{#section-5.6-2.3}
:::
:::
:::
:::

::: {#gateway-cons}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [Gateway Considerations](#name-gateway-considerations){.section-name .selfRef} {#name-gateway-considerations}

This section describes the network configuration where one MSRP endpoint
uses an MSRP data channel as MSRP transport, the other MSRP endpoint
uses TLS/TCP connections as MSRP transport, and the two MSRP endpoints
interwork via a gateway.[¶](#section-6-1){.pilcrow}

Specifically, a gateway can be configured to interwork an MSRP session
over a data channel with a peer that does not support data channel
transport in one of two ways.[¶](#section-6-2){.pilcrow}

In one model, the gateway performs as an MSRP Back-to-Back User Agent
(B2BUA) to interwork all the procedures as necessary between the
endpoints. No further specification is needed for this
model.[¶](#section-6-3){.pilcrow}

Alternately, the gateway can provide transport-level interworking
between MSRP endpoints using different transport protocols. In
accordance with [Section 4.4](#use-of-dcsa-attribute){.xref}, \'path\'
attributes [SHALL NOT]{.bcp14} be used for transport-level
interworking.[¶](#section-6-4){.pilcrow}

When the gateway performs transport-level interworking between MSRP
endpoints, all of the procedures in [Section 4](#sdp-cons){.xref} and
[Section 5](#msrp-cons){.xref} apply to each peer, with the following
additions:[¶](#section-6-5){.pilcrow}

-   [The gateway [SHALL]{.bcp14} use the MSRP CEMA mechanism
    \[[RFC6714](#RFC6714){.xref}\] towards the non-data channel
    endpoint.[¶](#section-6-6.1){.pilcrow}]{#section-6-6.1}
-   [If the non-data channel endpoint does not support MSRP CEMA,
    transport-level interworking mode is not possible, and the gateway
    needs to act as an MSRP
    B2BUA.[¶](#section-6-6.2){.pilcrow}]{#section-6-6.2}
-   [The gateway [SHALL NOT]{.bcp14} modify the \'path\' attribute
    received from data channel or from non-data channel
    endpoints.[¶](#section-6-6.3){.pilcrow}]{#section-6-6.3}
-   [The gateway [SHALL NOT]{.bcp14} modify the \'setup\' value received
    from data channel or from non-data channel
    endpoints.[¶](#section-6-6.4){.pilcrow}]{#section-6-6.4}
-   [The endpoint establishing an MSRP session using data channel
    transport [SHALL NOT]{.bcp14} request inclusion of any relays,
    although it [MAY]{.bcp14} interoperate with a peer that signals the
    use of relays.[¶](#section-6-6.5){.pilcrow}]{#section-6-6.5}
:::
:::

::: {#updates-to-rfc4975}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [Updates to RFC 4975](#name-updates-to-rfc-4975){.section-name .selfRef} {#name-updates-to-rfc-4975}

This document updates \[[RFC4975](#RFC4975){.xref}\] by allowing the
usage of the \"msrps\" scheme when the underlying connection is
protected with DTLS.[¶](#section-7-1){.pilcrow}
:::
:::

::: {#Security}
::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

MSRP traffic over data channels, including confidentiality, integrity,
and source authentication, is secured as specified by
\[[RFC8831](#RFC8831){.xref}\]. However, \[[RFC4975](#RFC4975){.xref}\]
allows transport of MSRP traffic over nonsecured TCP connections and
does not provide a mechanism to guarantee usage of TLS end to end. As
described in \[[RFC4975](#RFC4975){.xref}\], even if TLS is used between
some hops, TCP might still be used between other hops. Operators need to
establish proper policies in order to ensure that the MSRP traffic is
protected between endpoints.[¶](#section-8-1){.pilcrow}

\[[RFC5547](#RFC5547){.xref}\] specifies security considerations related
to the usage of MSRP for file transfer.[¶](#section-8-2){.pilcrow}

\[[RFC7092](#RFC7092){.xref}\] specifies security considerations related
to B2BUAs.[¶](#section-8-3){.pilcrow}

Note that the discussion in [Section
14.5](https://www.rfc-editor.org/rfc/rfc4975#section-14.5){.relref} of
\[[RFC4975](#RFC4975){.xref}\] on MSRP message attribution to remote
identities applies to data channel transport.[¶](#section-8-4){.pilcrow}

If the Session Initiation Protocol (SIP) \[[RFC3261](#RFC3261){.xref}\]
is used to implement the offer/answer transactions for establishing the
MSRP data channel, the SIP security considerations specified in
\[[RFC3261](#RFC3261){.xref}\] apply.[¶](#section-8-5){.pilcrow}
:::
:::

::: {#IANA}
::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

::: {#IANA-reg-msrps}
::: {#section-9.1 .section}
### [9.1.](#section-9.1){.section-number .selfRef} [\"msrps\" URI scheme](#name-msrps-uri-scheme){.section-name .selfRef} {#name-msrps-uri-scheme}

This document modifies the usage of the \"msrps\" URI scheme, registered
by \[[RFC4975](#RFC4975){.xref}\], by adding DTLS as a protected
transport indicated by the URI scheme.[¶](#section-9.1-1){.pilcrow}

A reference to RFC 8873 has been added to the URI scheme \"msrps\" in
the \"Uniform Resource Identifier (URI) Schemes\"
registry.[¶](#section-9.1-2){.pilcrow}
:::
:::

::: {#IANA-reg-MSRP}
::: {#section-9.2 .section}
### [9.2.](#section-9.2){.section-number .selfRef} [Subprotocol Identifier \"msrp\"](#name-subprotocol-identifier-msrp){.section-name .selfRef} {#name-subprotocol-identifier-msrp}

A reference to RFC 8873 has been added to the subprotocol identifier
\"msrp\" in the \"WebSocket Subprotocol Name
Registry\".[¶](#section-9.2-1){.pilcrow}
:::
:::

::: {#IANA-reg-other-sdp}
::: {#section-9.3 .section}
### [9.3.](#section-9.3){.section-number .selfRef} [SDP Attributes](#name-sdp-attributes){.section-name .selfRef} {#name-sdp-attributes}

This document modifies the usage of a set of SDP attributes if any of
those attributes is included in an SDP \'dcsa\' attribute associated
with an MSRP data channel. The modified usage of the SDP \'setup\'
attribute is described in [Section 4.5](#use-of-setup-attribute){.xref}.
The usage of the other SDP attributes is described in [Section
4.4](#use-of-dcsa-attribute){.xref}.[¶](#section-9.3-1){.pilcrow}

-   [\'accept-types\'[¶](#section-9.3-2.1){.pilcrow}]{#section-9.3-2.1}
-   [\'accept-wrapped-types\'[¶](#section-9.3-2.2){.pilcrow}]{#section-9.3-2.2}
-   [\'file-date\'[¶](#section-9.3-2.3){.pilcrow}]{#section-9.3-2.3}
-   [\'file-disposition\'[¶](#section-9.3-2.4){.pilcrow}]{#section-9.3-2.4}
-   [\'file-icon\'[¶](#section-9.3-2.5){.pilcrow}]{#section-9.3-2.5}
-   [\'file-range\'[¶](#section-9.3-2.6){.pilcrow}]{#section-9.3-2.6}
-   [\'file-selector\'[¶](#section-9.3-2.7){.pilcrow}]{#section-9.3-2.7}
-   [\'file-transfer-id\'[¶](#section-9.3-2.8){.pilcrow}]{#section-9.3-2.8}
-   [\'inactive\'[¶](#section-9.3-2.9){.pilcrow}]{#section-9.3-2.9}
-   [\'max-size\'[¶](#section-9.3-2.10){.pilcrow}]{#section-9.3-2.10}
-   [\'msrp-cema\'[¶](#section-9.3-2.11){.pilcrow}]{#section-9.3-2.11}
-   [\'path\'[¶](#section-9.3-2.12){.pilcrow}]{#section-9.3-2.12}
-   [\'recvonly\'[¶](#section-9.3-2.13){.pilcrow}]{#section-9.3-2.13}
-   [\'sendonly\'[¶](#section-9.3-2.14){.pilcrow}]{#section-9.3-2.14}
-   [\'sendrecv\'[¶](#section-9.3-2.15){.pilcrow}]{#section-9.3-2.15}

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'accept-types\' attribute in the Session Description Protocol
(SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-3){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-4.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-4.4){.pilcrow}
:   

Attribute name:
:   accept-types[¶](#section-9.3-4.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-4.8){.pilcrow}
:   

Purpose:
:   Contain the list of media types that the endpoint is willing to
    receive.[¶](#section-9.3-4.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-4.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'accept-wrapped-types\' attribute in the Session Description
Protocol (SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-5){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-6.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-6.4){.pilcrow}
:   

Attribute name:
:   accept-wrapped-types[¶](#section-9.3-6.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-6.8){.pilcrow}
:   

Purpose:
:   Contain the list of media types that the endpoint is willing to
    receive in an MSRP message with multipart
    content.[¶](#section-9.3-6.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-6.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'file-date\' attribute in the Session Description Protocol
(SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-7){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-8.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-8.4){.pilcrow}
:   

Attribute name:
:   file-date[¶](#section-9.3-8.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-8.8){.pilcrow}
:   

Purpose:
:   Indicate one or more dates related to the file in an MSRP file
    transfer negotiation.[¶](#section-9.3-8.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-8.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'file-disposition\' attribute in the Session Description
Protocol (SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-9){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-10.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-10.4){.pilcrow}
:   

Attribute name:
:   file-disposition[¶](#section-9.3-10.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-10.8){.pilcrow}
:   

Purpose:
:   Provide a suggestion to the other endpoint about the intended
    disposition of the file in an MSRP file transfer
    negotiation.[¶](#section-9.3-10.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-10.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'file-icon\' attribute in the Session Description Protocol
(SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-11){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-12.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-12.4){.pilcrow}
:   

Attribute name:
:   file-icon[¶](#section-9.3-12.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-12.8){.pilcrow}
:   

Purpose:
:   Contain a pointer to a small preview icon representing the contents
    of the file in an MSRP file transfer
    negotiation.[¶](#section-9.3-12.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-12.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'file-range\' attribute in the Session Description Protocol
(SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-13){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-14.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-14.4){.pilcrow}
:   

Attribute name:
:   file-range[¶](#section-9.3-14.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-14.8){.pilcrow}
:   

Purpose:
:   Contain the range of transferred octets of the file in an MSRP file
    transfer negotiation.[¶](#section-9.3-14.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-14.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'file-selector\' attribute in the Session Description Protocol
(SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-15){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-16.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-16.4){.pilcrow}
:   

Attribute name:
:   file-selector[¶](#section-9.3-16.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-16.8){.pilcrow}
:   

Purpose:
:   Indicate a file in an MSRP file transfer
    negotiation.[¶](#section-9.3-16.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-16.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'file-transfer-id\' attribute in the Session Description
Protocol (SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-17){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-18.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-18.4){.pilcrow}
:   

Attribute name:
:   file-transfer-id[¶](#section-9.3-18.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-18.8){.pilcrow}
:   

Purpose:
:   Indicate a unique identifier of the file transfer operation in an
    MSRP file transfer negotiation.[¶](#section-9.3-18.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-18.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'inactive\' attribute in the Session Description Protocol (SDP)
Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-19){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-20.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-20.4){.pilcrow}
:   

Attribute name:
:   inactive[¶](#section-9.3-20.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-20.8){.pilcrow}
:   

Purpose:
:   Negotiate the direction of the media flow on an MSRP data
    channel.[¶](#section-9.3-20.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-20.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'max-size\' attribute in the Session Description Protocol (SDP)
Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-21){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-22.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-22.4){.pilcrow}
:   

Attribute name:
:   max-size[¶](#section-9.3-22.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-22.8){.pilcrow}
:   

Purpose:
:   Indicate the largest message an MSRP endpoint wishes to
    accept.[¶](#section-9.3-22.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-22.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'msrp-cema\' attribute in the Session Description Protocol
(SDP) Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-23){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-24.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-24.4){.pilcrow}
:   

Attribute name:
:   msrp-cema[¶](#section-9.3-24.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-24.8){.pilcrow}
:   

Purpose:
:   Indicate that the routing of MSRP messages transported on a data
    channel is more similar to the MSRP CEMA mechanism than the legacy
    MSRP routing mechanism.[¶](#section-9.3-24.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-24.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'path\' attribute in the Session Description Protocol (SDP)
Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-25){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-26.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-26.4){.pilcrow}
:   

Attribute name:
:   path[¶](#section-9.3-26.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-26.8){.pilcrow}
:   

Purpose:
:   Indicate an endpoint, but not used for routing, as described in
    [Section
    4.4](#use-of-dcsa-attribute){.xref}.[¶](#section-9.3-26.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-26.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'recvonly\' attribute in the Session Description Protocol (SDP)
Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-27){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-28.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-28.4){.pilcrow}
:   

Attribute name:
:   recvonly[¶](#section-9.3-28.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-28.8){.pilcrow}
:   

Purpose:
:   Negotiate the direction of the media flow on an MSRP data
    channel.[¶](#section-9.3-28.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-28.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'sendonly\' attribute in the Session Description Protocol (SDP)
Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-29){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-30.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-30.4){.pilcrow}
:   

Attribute name:
:   sendonly[¶](#section-9.3-30.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-30.8){.pilcrow}
:   

Purpose:
:   Negotiate the direction of the media flow on an MSRP data
    channel.[¶](#section-9.3-30.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-30.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'setup\' attribute in the \"att-field\" subregistry as
follows:[¶](#section-9.3-31){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-32.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-32.4){.pilcrow}
:   

Attribute name:
:   setup[¶](#section-9.3-32.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-32.8){.pilcrow}
:   

Purpose:
:   Negotiate the active role of an MSRP session over a data channel as
    per [Section
    4.5](#use-of-setup-attribute){.xref}.[¶](#section-9.3-32.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-32.12){.pilcrow}
:   

The usage level \"dcsa (msrp)\" has been added to the registration of
the SDP \'sendrecv\' attribute in the Session Description Protocol (SDP)
Parameters \"att-field\" subregistry as
follows:[¶](#section-9.3-33){.pilcrow}

[]{.break}

Contact name:
:   IESG[¶](#section-9.3-34.2){.pilcrow}
:   

Contact email:
:   iesg\@ietf.org[¶](#section-9.3-34.4){.pilcrow}
:   

Attribute name:
:   sendrecv[¶](#section-9.3-34.6){.pilcrow}
:   

Usage level:
:   dcsa (msrp)[¶](#section-9.3-34.8){.pilcrow}
:   

Purpose:
:   Negotiate the direction of the media flow on an MSRP data
    channel.[¶](#section-9.3-34.10){.pilcrow}
:   

Reference:
:   RFC 8873[¶](#section-9.3-34.12){.pilcrow}
:   
:::
:::
:::
:::

::: {#section-10 .section}
## [10.](#section-10){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-10.1 .section}
### [10.1.](#section-10.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC3264\]
:   [Rosenberg, J.]{.refAuthor}[ and H. Schulzrinne]{.refAuthor}, [\"An
    Offer/Answer Model with Session Description Protocol
    (SDP)\"]{.refTitle}, [RFC 3264]{.seriesInfo}, [DOI
    10.17487/RFC3264]{.seriesInfo}, June 2002,
    \<<https://www.rfc-editor.org/info/rfc3264>\>.
:   

\[RFC4566\]
:   [Handley, M.]{.refAuthor}[, Jacobson, V.]{.refAuthor}[, and C.
    Perkins]{.refAuthor}, [\"SDP: Session Description
    Protocol\"]{.refTitle}, [RFC 4566]{.seriesInfo}, [DOI
    10.17487/RFC4566]{.seriesInfo}, July 2006,
    \<<https://www.rfc-editor.org/info/rfc4566>\>.
:   

\[RFC4960\]
:   [Stewart, R., Ed.]{.refAuthor}, [\"Stream Control Transmission
    Protocol\"]{.refTitle}, [RFC 4960]{.seriesInfo}, [DOI
    10.17487/RFC4960]{.seriesInfo}, September 2007,
    \<<https://www.rfc-editor.org/info/rfc4960>\>.
:   

\[RFC4975\]
:   [Campbell, B., Ed.]{.refAuthor}[, Mahy, R., Ed.]{.refAuthor}[,
    and C. Jennings, Ed.]{.refAuthor}, [\"The Message Session Relay
    Protocol (MSRP)\"]{.refTitle}, [RFC 4975]{.seriesInfo}, [DOI
    10.17487/RFC4975]{.seriesInfo}, September 2007,
    \<<https://www.rfc-editor.org/info/rfc4975>\>.
:   

\[RFC5547\]
:   [Garcia-Martin, M.]{.refAuthor}[, Isomaki, M.]{.refAuthor}[,
    Camarillo, G.]{.refAuthor}[, Loreto, S.]{.refAuthor}[, and P.
    Kyzivat]{.refAuthor}, [\"A Session Description Protocol (SDP)
    Offer/Answer Mechanism to Enable File Transfer\"]{.refTitle}, [RFC
    5547]{.seriesInfo}, [DOI 10.17487/RFC5547]{.seriesInfo}, May 2009,
    \<<https://www.rfc-editor.org/info/rfc5547>\>.
:   

\[RFC6135\]
:   [Holmberg, C.]{.refAuthor}[ and S. Blau]{.refAuthor}, [\"An
    Alternative Connection Model for the Message Session Relay Protocol
    (MSRP)\"]{.refTitle}, [RFC 6135]{.seriesInfo}, [DOI
    10.17487/RFC6135]{.seriesInfo}, February 2011,
    \<<https://www.rfc-editor.org/info/rfc6135>\>.
:   

\[RFC6714\]
:   [Holmberg, C.]{.refAuthor}[, Blau, S.]{.refAuthor}[, and E.
    Burger]{.refAuthor}, [\"Connection Establishment for Media Anchoring
    (CEMA) for the Message Session Relay Protocol (MSRP)\"]{.refTitle},
    [RFC 6714]{.seriesInfo}, [DOI 10.17487/RFC6714]{.seriesInfo}, August
    2012, \<<https://www.rfc-editor.org/info/rfc6714>\>.
:   

\[RFC7977\]
:   [Dunkley, P.]{.refAuthor}[, Llewellyn, G.]{.refAuthor}[,
    Pascual, V.]{.refAuthor}[, Salgueiro, G.]{.refAuthor}[, and R.
    Ravindranath]{.refAuthor}, [\"The WebSocket Protocol as a Transport
    for the Message Session Relay Protocol (MSRP)\"]{.refTitle}, [RFC
    7977]{.seriesInfo}, [DOI 10.17487/RFC7977]{.seriesInfo}, September
    2016, \<<https://www.rfc-editor.org/info/rfc7977>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8831\]
:   [Jesup, R.]{.refAuthor}[, Loreto, S.]{.refAuthor}[, and M.
    Tüxen]{.refAuthor}, [\"WebRTC Data Channels\"]{.refTitle}, [RFC
    8831]{.seriesInfo}, [DOI 10.17487/RFC8831]{.seriesInfo}, January
    2021, \<<https://www.rfc-editor.org/info/rfc8831>\>.
:   

\[RFC8841\]
:   [Holmberg, C.]{.refAuthor}[, Shpount, R.]{.refAuthor}[,
    Loreto, S.]{.refAuthor}[, and G. Camarillo]{.refAuthor}, [\"Session
    Description Protocol (SDP) Offer/Answer Procedures for Stream
    Control Transmission Protocol (SCTP) over Datagram Transport Layer
    Security (DTLS) Transport\"]{.refTitle}, [RFC 8841]{.seriesInfo},
    [DOI 10.17487/RFC8841]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8841>\>.
:   

\[RFC8864\]
:   [Drage, K.]{.refAuthor}[, Makaraju, M.]{.refAuthor}[,
    Ejzak, R.]{.refAuthor}[, Marcon, J.]{.refAuthor}[, and R. Even,
    Ed.]{.refAuthor}, [\"Negotiation Data Channels Using the Session
    Description Protocol (SDP)\"]{.refTitle}, [RFC 8864]{.seriesInfo},
    [DOI 10.17487/RFC8864]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8864>\>.
:   
:::

::: {#section-10.2 .section}
### [10.2.](#section-10.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC3261\]
:   [Rosenberg, J.]{.refAuthor}[, Schulzrinne, H.]{.refAuthor}[,
    Camarillo, G.]{.refAuthor}[, Johnston, A.]{.refAuthor}[,
    Peterson, J.]{.refAuthor}[, Sparks, R.]{.refAuthor}[,
    Handley, M.]{.refAuthor}[, and E. Schooler]{.refAuthor}, [\"SIP:
    Session Initiation Protocol\"]{.refTitle}, [RFC 3261]{.seriesInfo},
    [DOI 10.17487/RFC3261]{.seriesInfo}, June 2002,
    \<<https://www.rfc-editor.org/info/rfc3261>\>.
:   

\[RFC7092\]
:   [Kaplan, H.]{.refAuthor}[ and V. Pascual]{.refAuthor}, [\"A Taxonomy
    of Session Initiation Protocol (SIP) Back-to-Back User
    Agents\"]{.refTitle}, [RFC 7092]{.seriesInfo}, [DOI
    10.17487/RFC7092]{.seriesInfo}, December 2013,
    \<<https://www.rfc-editor.org/info/rfc7092>\>.
:   
:::
:::

::: {#section-appendix.a .section}
## [Acknowledgments](#name-acknowledgments){.section-name .selfRef} {#name-acknowledgments}

The authors wish to acknowledge the borrowing of ideas from another
Internet-Draft by [Peter Dunkley]{.contact-name} and [Gavin
Llewellyn]{.contact-name}, and to thank [Flemming
Andreasen]{.contact-name}, [Christian Groves]{.contact-name}, [Paul
Kyzivat]{.contact-name}, [Jonathan Lennox]{.contact-name}, [Uwe
Rauschenbach]{.contact-name}, [Albrecht Schwarz]{.contact-name}, and
[Keith Drage]{.contact-name} for their invaluable
comments.[¶](#section-appendix.a-1){.pilcrow}

[Richard Ejzak]{.contact-name}, [Keith Drage]{.contact-name}, and
[Juergen Stoetzer-Bradler]{.contact-name} contributed to an earlier
draft version of this document before the draft was
readopted.[¶](#section-appendix.a-2){.pilcrow}

[Julien Maisonneuve]{.contact-name} helped with the readoption of this
document, and [Maridi R. Makaraju (Raju)]{.contact-name} contributed
valuable comments after the document was
readopted.[¶](#section-appendix.a-3){.pilcrow}
:::

::: {#authors-addresses}
::: {#section-appendix.b .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Jose M. Recio ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Unaffiliated]{.org}
:::

::: email
Email: <jose@ch3m4.com>
:::

::: {.left dir="auto"}
[Christer Holmberg]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Hirsalantie 11]{.street-address}
:::

::: {.left dir="auto"}
FI-[02420]{.postal-code} [Jorvas]{.locality}
:::

::: {.left dir="auto"}
[Finland]{.country-name}
:::

::: email
Email: <christer.holmberg@ericsson.com>
:::
:::
:::
