  RFC 9294             App-Specific Link Attributes Using BGP-L   August 2022
  -------------------- ------------------------------------------ -------------
  Talaulikar, et al.   Standards Track                            \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [9294](https://www.rfc-editor.org/rfc/rfc9294){.eref}

Category:
:   Standards Track

Published:
:   August 2022

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    K. Talaulikar, [Ed.]{.editor}
    :::

    ::: org
    Arrcus Inc.
    :::
    :::

    ::: author
    ::: author-name
    P. Psenak
    :::

    ::: org
    Cisco Systems
    :::
    :::

    ::: author
    ::: author-name
    J. Tantsura
    :::

    ::: org
    Microsoft
    :::
    :::
:::

# RFC 9294 {#rfcnum}

# Application-Specific Link Attributes Advertisement Using the Border Gateway Protocol - Link State (BGP‑LS) {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

Extensions have been defined for link-state routing protocols that
enable distribution of application-specific link attributes for existing
as well as newer applications such as Segment Routing (SR). This
document defines extensions to the Border Gateway Protocol - Link State
(BGP-LS) to enable the advertisement of these application-specific
attributes as a part of the topology information from the
network.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc9294>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2022 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Revised BSD License text as described in Section 4.e of the Trust Legal
Provisions and are provided without warranty as described in the Revised
BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Requirements
        Language](#name-requirements-language){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Application-Specific Link Attributes
    TLV](#name-application-specific-link-a){.xref}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Application-Specific Link
    Attributes](#name-application-specific-link-att){.xref}
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Procedures](#name-procedures){.xref}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [Illustration for
        IS-IS](#name-illustration-for-is-is){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Deployment
    Considerations](#name-deployment-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [Manageability
    Considerations](#name-manageability-consideration){.xref}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [References](#name-references){.xref}

    -   ::: {#section-toc.1-1.9.2.1}
        [9.1](#section-9.1){.xref}.  [Normative
        References](#name-normative-references){.xref}
        :::

    -   ::: {#section-toc.1-1.9.2.2}
        [9.2](#section-9.2){.xref}.  [Informative
        References](#name-informative-references){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.10}
    [](#appendix-A){.xref}[Acknowledgements](#name-acknowledgements){.xref}
    :::

-   ::: {#section-toc.1-1.11}
    [](#appendix-B){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}
    :::
:::
:::

::: {#INTRO}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

The Border Gateway Protocol - Link State (BGP-LS)
\[[RFC7752](#RFC7752){.xref}\] enables the distribution of the
link-state topology information from link-state routing protocols (viz.,
IS-IS \[[RFC1195](#RFC1195){.xref}\], OSPFv2
\[[RFC2328](#RFC2328){.xref}\], and OSPFv3
\[[RFC5340](#RFC5340){.xref}\]) to an application like a controller or
Path Computation Engine (PCE) via BGP. The controller or PCE gets the
end-to-end topology information across IGP domains so it can perform
path computations for use cases like end-to-end traffic engineering
(TE).[¶](#section-1-1){.pilcrow}

The link-state topology information distributed via BGP-LS includes link
attributes that were originally defined for MPLS TE (i.e., using RSVP-TE
\[[RFC3209](#RFC3209){.xref}\] or GMPLS \[[RFC4202](#RFC4202){.xref}\]
applications). In recent years, applications, such as Segment Routing
(SR) Policy \[[RFC8402](#RFC8402){.xref}\] and Loop-Free Alternates
(LFA) \[[RFC5286](#RFC5286){.xref}\], which also make use of link
attributes, have been introduced. \[[RFC8919](#RFC8919){.xref}\] and
\[[RFC8920](#RFC8920){.xref}\] define extensions for IS-IS and OSPF,
respectively, that enable advertising application-specific link
attributes for these and other future applications. This has resulted in
the need for a similar BGP-LS extension to include this additional
link-state topology information from the link-state routing
protocols.[¶](#section-1-2){.pilcrow}

This document defines the BGP-LS extensions for the advertisement of
application-specific link attributes. It describes the advertisement of
these link attributes as top-level TLVs (i.e., as TLVs of the BGP-LS
Attribute) and as sub-TLVs of the (top-level) Application-Specific Link
Attributes (ASLA) TLV. The document also describes the procedures for
the advertisement of these attributes from the underlying IGPs and
discusses their deployment aspects.[¶](#section-1-3){.pilcrow}

::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Requirements Language](#name-requirements-language){.section-name .selfRef} {#name-requirements-language}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1.1-1){.pilcrow}
:::
:::
:::

::: {#ASLATLV}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Application-Specific Link Attributes TLV](#name-application-specific-link-a){.section-name .selfRef} {#name-application-specific-link-a}

BGP-LS \[[RFC7752](#RFC7752){.xref}\] specifies the Link Network Layer
Reachability Information (NLRI) for the advertisement of links and their
attributes using the BGP-LS Attribute. The ASLA TLV is an optional
top-level BGP-LS Attribute TLV that is introduced for Link NLRIs. It is
defined such that it may act as a container for certain existing and
future link attributes that require application-specific
definition.[¶](#section-2-1){.pilcrow}

The format of this TLV is as follows and is similar to the corresponding
ASLA sub-TLVs defined for OSPF and IS-IS in
\[[RFC8920](#RFC8920){.xref}\] and \[[RFC8919](#RFC8919){.xref}\],
respectively.[¶](#section-2-2){.pilcrow}

[]{#name-application-specific-link-at}

::: {#ASLA-TLV}
::: {#section-2-3.1 .alignCenter .art-text .artwork}
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |              Type             |             Length            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       | SABM Length   | UDABM Length  |            Reserved           |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |     Standard Application Identifier Bit Mask (variable)      //
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    User-Defined Application Identifier Bit Mask (variable)   //
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                      Link Attribute sub-TLVs                 //
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
:::

[Figure 1](#figure-1){.selfRef}: [Application-Specific Link Attributes
TLV](#name-application-specific-link-at){.selfRef}
:::

where:[¶](#section-2-4){.pilcrow}

[]{.break}

Type:
:   1122[¶](#section-2-5.2){.pilcrow}
:   

Length:
:   variable[¶](#section-2-5.4){.pilcrow}
:   

SABM Length:
:   1-octet field that carries the Standard Application Identifier Bit
    Mask Length in octets as defined in
    \[[RFC8920](#RFC8920){.xref}\].[¶](#section-2-5.6){.pilcrow}
:   

UDABM Length:
:   1-octet field that carries the User-Defined Application Identifier
    Bit Mask Length in octets as defined in
    \[[RFC8920](#RFC8920){.xref}\].[¶](#section-2-5.8){.pilcrow}
:   

Reserved:
:   2-octet field that [MUST]{.bcp14} be set to zero on transmission and
    [MUST]{.bcp14} be ignored on
    reception.[¶](#section-2-5.10){.pilcrow}
:   

Standard Application Identifier Bit Mask:
:   An optional set of bits (of size 0, 4, or 8 octets as indicated by
    the SABM Length), where each bit represents a single standard
    application as defined in
    \[[RFC8919](#RFC8919){.xref}\].[¶](#section-2-5.12){.pilcrow}
:   

User-Defined Application Identifier Bit Mask:
:   An optional set of bits (of size 0, 4, or 8 octets as indicated by
    the UDABM Length), where each bit represents a single user-defined
    application as defined in \[[RFC8919](#RFC8919){.xref}\] and
    \[[RFC8920](#RFC8920){.xref}\].[¶](#section-2-5.14){.pilcrow}
:   

Link Attribute sub-TLVs:
:   BGP-LS Attribute TLVs corresponding to the Link NLRI that are
    application-specific (including existing ones as specified in
    [Section 3](#APPSPECATTRS){.xref}) are included as sub-TLVs of the
    ASLA TLV.[¶](#section-2-5.16){.pilcrow}
:   

The semantics associated with the standard and user-defined bit masks as
well as the encoding scheme for application-specific attributes are as
specified in \[[RFC8920](#RFC8920){.xref}\].[¶](#section-2-6){.pilcrow}

The ASLA TLV and its sub-TLVs can only be added to the BGP-LS Attribute
associated with the Link NLRI of the node that originates the underlying
IGP link attribute TLVs and sub-TLVs. The procedures for originating
link attributes in the ASLA TLV from underlying IGPs are specified in
[Section 4](#PROCEDURES){.xref}.[¶](#section-2-7){.pilcrow}
:::
:::

::: {#APPSPECATTRS}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Application-Specific Link Attributes](#name-application-specific-link-att){.section-name .selfRef} {#name-application-specific-link-att}

Several BGP-LS Attribute TLVs corresponding to the Link NLRI are defined
in BGP-LS \[[RFC7752](#RFC7752){.xref}\], and more may be added in the
future. Those attributes that have been determined to be, and advertised
as, application-specific in the underlying IGPs are also encoded
similarly in BGP-LS.[¶](#section-3-1){.pilcrow}

The following table lists the currently defined BGP-LS Attribute TLVs
corresponding to Link NLRI that can have application-specific semantics
based on the underlying IGP specifications
\[[RFC8919](#RFC8919){.xref}\] \[[RFC8920](#RFC8920){.xref}\]. These
were originally defined with semantics for RSVP-TE and GMPLS
applications in BGP-LS by the respective reference
documents.[¶](#section-3-2){.pilcrow}

[]{#name-existing-bgp-ls-tlvs-identi}

::: {#APPSPECATTR}
  TLV Code Point   Description                          Reference Document
  ---------------- ------------------------------------ --------------------------------
  1088             Administrative group (color)         \[[RFC7752](#RFC7752){.xref}\]
  1092             TE Default Metric                    \[[RFC7752](#RFC7752){.xref}\]
  1096             Shared Risk Link Group               \[[RFC7752](#RFC7752){.xref}\]
  1114             Unidirectional Link Delay            \[[RFC8571](#RFC8571){.xref}\]
  1115             Min/Max Unidirectional Link Delay    \[[RFC8571](#RFC8571){.xref}\]
  1116             Unidirectional Delay Variation       \[[RFC8571](#RFC8571){.xref}\]
  1117             Unidirectional Link Loss             \[[RFC8571](#RFC8571){.xref}\]
  1118             Unidirectional Residual Bandwidth    \[[RFC8571](#RFC8571){.xref}\]
  1119             Unidirectional Available Bandwidth   \[[RFC8571](#RFC8571){.xref}\]
  1120             Unidirectional Utilized Bandwidth    \[[RFC8571](#RFC8571){.xref}\]
  1173             Extended Administrative Group        \[[RFC9104](#RFC9104){.xref}\]

  : [Table 1](#table-1){.selfRef}: [Existing BGP-LS TLVs Identified as
  Application-Specific](#name-existing-bgp-ls-tlvs-identi){.selfRef}
:::

All the BGP-LS Attribute TLVs listed in the table above are
[REQUIRED]{.bcp14} to be advertised as a top-level TLV in the BGP-LS
Attribute when used to carry link attributes specific to
RSVP-TE.[¶](#section-3-4){.pilcrow}

BGP-LS Attribute TLVs corresponding to Link NLRI that are advertised in
the underlying IGP as application-specific are [REQUIRED]{.bcp14} to be
encoded within an ASLA TLV.[¶](#section-3-5){.pilcrow}

Link attributes that do not have application-specific semantics [MUST
NOT]{.bcp14} be advertised within the ASLA
TLV.[¶](#section-3-6){.pilcrow}

When the same application-specific link attributes are advertised both
within the ASLA TLV and as top-level TLVs in the BGP-LS Attribute, the
attributes advertised within the ASLA TLV take precedence for the
applications indicated in the ASLA TLV
encoding.[¶](#section-3-7){.pilcrow}
:::
:::

::: {#PROCEDURES}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Procedures](#name-procedures){.section-name .selfRef} {#name-procedures}

The BGP-LS originator learns of the association of an
application-specific attribute to one or more applications from the
underlying IGP protocol Link State Advertisements (LSAs) or Link State
Packets (LSPs) from which it is advertising the topology information.
\[[RFC8920](#RFC8920){.xref}\] and \[[RFC8919](#RFC8919){.xref}\]
specify the mechanisms for advertising application-specific link
attributes in OSPF and IS-IS, respectively.[¶](#section-4-1){.pilcrow}

Application-specific link attributes received from an IGP node without
the use of ASLA encodings continue to be encoded using the respective
BGP-LS top-level TLVs listed in [Table 1](#APPSPECATTR){.xref} as
specified in their respective reference
documents.[¶](#section-4-2){.pilcrow}

While the ASLA encoding in OSPF is similar to that of BGP-LS, the
encoding in IS-IS differs and requires additional procedures when
conveying information into BGP-LS. One of these differences arises from
the presence of the L-flag in the IS-IS encoding. Another difference
arises due to the requirement to collate information from two types of
IS-IS encodings for application-specific link information (i.e., the
IS-IS ASLA sub-TLV and the IS-IS Application-Specific Shared Risk Link
Group (SRLG) TLV) \[[RFC8919](#RFC8919){.xref}\] and to carry them
together in the BGP-LS ASLA TLV.[¶](#section-4-3){.pilcrow}

A BGP-LS originator node that is advertising link-state information from
the underlying IGP using ASLA encodings determines their BGP-LS encoding
based on the following rules:[¶](#section-4-4){.pilcrow}

1.  [Application-specific link attributes received from an OSPF node
    using an ASLA sub-TLV or from an IS-IS node using either an ASLA
    sub-TLV or an Application-Specific SRLG TLV [MUST]{.bcp14} be
    encoded in the BGP-LS ASLA TLV as sub-TLVs. Exceptions to this rule
    are specified in (2)(F) and (2)(G)
    below.[¶](#section-4-5.1){.pilcrow}]{#section-4-5.1}

2.  ::: {#section-4-5.2}
    In the case of IS-IS, the specific procedures below are to be
    followed:[¶](#section-4-5.2.1){.pilcrow}

    A.  [When application-specific link attributes are received from a
        node with the L-flag set in the IS-IS ASLA sub-TLV and when
        application bits (other than RSVP-TE) are set in the application
        bit masks, then the application-specific link attributes
        advertised in the corresponding legacy IS-IS TLVs and sub-TLVs
        [MUST]{.bcp14} be encoded within the BGP-LS ASLA TLV as sub-TLVs
        with the application bits (other than the RSVP-TE bit) copied
        from the IS-IS ASLA sub-TLV. The link attributes advertised in
        the legacy IS-IS TLVs and sub-TLVs are also advertised in BGP-LS
        top-level TLVs as per \[[RFC7752](#RFC7752){.xref}\],
        \[[RFC8571](#RFC8571){.xref}\], and
        \[[RFC9104](#RFC9104){.xref}\]. The same procedure also applies
        for the advertisement of the SRLG values from the IS-IS
        Application-Specific SRLG
        TLV.[¶](#section-4-5.2.2.1){.pilcrow}]{#section-4-5.2.2.1}

    B.  [When the IS-IS ASLA sub-TLV has the RSVP-TE application bit
        set, then the link attributes for the corresponding IS-IS ASLA
        sub-TLVs [MUST]{.bcp14} be encoded using the respective BGP-LS
        top-level TLVs as per \[[RFC7752](#RFC7752){.xref}\],
        \[[RFC8571](#RFC8571){.xref}\], and
        \[[RFC9104](#RFC9104){.xref}\]. Similarly, when the IS-IS
        Application-Specific SRLG TLV has the RSVP-TE application bit
        set, then the SRLG values within it [MUST]{.bcp14} be encoded
        using the top-level BGP-LS SRLG TLV (1096) as per
        \[[RFC7752](#RFC7752){.xref}\].[¶](#section-4-5.2.2.2){.pilcrow}]{#section-4-5.2.2.2}

    C.  ::: {#section-4-5.2.2.3}
        The SRLGs advertised in one or more IS-IS Application-Specific
        SRLG TLVs and the other link attributes advertised in one or
        more IS-IS ASLA sub-TLVs are [REQUIRED]{.bcp14} to be collated,
        on a per-application basis, only for those applications that
        meet all the following
        criteria:[¶](#section-4-5.2.2.3.1){.pilcrow}

        -   [their bit is set in the SABM or UDABM in one of the two
            types of IS-IS encodings (e.g., IS-IS ASLA
            sub-TLV)[¶](#section-4-5.2.2.3.2.1){.pilcrow}]{#section-4-5.2.2.3.2.1}
        -   [the other encoding type (e.g., IS-IS Application Specific
            SRLG TLV) has an advertisement with zero-length application
            bit
            masks[¶](#section-4-5.2.2.3.2.2){.pilcrow}]{#section-4-5.2.2.3.2.2}
        -   [there is no corresponding advertisement of that other
            encoding type (following the example, IS-IS Application
            Specific SRLG TLV) with that specific application bit
            set[¶](#section-4-5.2.2.3.2.3){.pilcrow}]{#section-4-5.2.2.3.2.3}

        For each such application, its collated information
        [MUST]{.bcp14} be carried in a BGP-LS ASLA TLV with that
        application\'s bit set in the SABM or UDABM. See the
        illustration in [Section
        4.1](#EXAMPLE){.xref}.[¶](#section-4-5.2.2.3.3){.pilcrow}
        :::

    D.  [If the resulting set of collated link attributes and SRLG
        values is common across multiple applications, they
        [MAY]{.bcp14} be advertised in a common BGP-LS ASLA TLV instance
        where the bits for all such applications would be set in the
        application bit
        mask.[¶](#section-4-5.2.2.4){.pilcrow}]{#section-4-5.2.2.4}

    E.  [Both the SRLG values from IS-IS Application-Specific SRLG TLVs
        and the link attributes from IS-IS ASLA sub-TLVs, with the
        zero-length application bit mask, [MUST]{.bcp14} be advertised
        into a BGP-LS ASLA TLV with a zero-length application bit mask,
        independent of the collation described
        above.[¶](#section-4-5.2.2.5){.pilcrow}]{#section-4-5.2.2.5}

    F.  [\[[RFC8919](#RFC8919){.xref}\] allows the advertisement of the
        Maximum Link Bandwidth within an IS-IS ASLA sub-TLV even though
        it is not an application-specific attribute. However, when
        originating the Maximum Link Bandwidth into BGP-LS, the
        attribute [MUST]{.bcp14} be encoded only in the top-level BGP-LS
        Maximum Link Bandwidth TLV (1089) and [MUST NOT]{.bcp14} be
        advertised within the BGP-LS ASLA
        TLV.[¶](#section-4-5.2.2.6){.pilcrow}]{#section-4-5.2.2.6}

    G.  [\[[RFC8919](#RFC8919){.xref}\] also allows the advertisement of
        the Maximum Reservable Link Bandwidth and the Unreserved
        Bandwidth within an IS-IS ASLA sub-TLV even though these
        attributes are specific to RSVP-TE application. However, when
        originating the Maximum Reservable Link Bandwidth and Unreserved
        Bandwidth into BGP-LS, these attributes [MUST]{.bcp14} be
        encoded only in the BGP-LS top-level Maximum Reservable Link
        Bandwidth TLV (1090) and Unreserved Bandwidth TLV (1091),
        respectively, and not within the BGP-LS ASLA
        TLV.[¶](#section-4-5.2.2.7){.pilcrow}]{#section-4-5.2.2.7}
    :::

These rules ensure that a BGP-LS originator performs the advertisement
for all application-specific link attributes from the IGP nodes that
support the ASLA extension. Furthermore, it also ensures that the
top-level BGP-LS TLVs defined for RSVP-TE and GMPLS applications
continue to be used for advertisement of their application-specific
attributes.[¶](#section-4-6){.pilcrow}

A BGP-LS speaker would normally advertise all the application-specific
link attributes corresponding to RSVP-TE and GMPLS applications as
existing top-level BGP-LS TLVs while for other applications they are
encoded in the ASLA TLV(s) with appropriate applicable bit mask setting.
An application-specific attribute value received via a sub-TLV within
the ASLA TLV has precedence over the value received via a top-level
TLV.[¶](#section-4-7){.pilcrow}

::: {#EXAMPLE}
::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [Illustration for IS-IS](#name-illustration-for-is-is){.section-name .selfRef} {#name-illustration-for-is-is}

This section illustrates the procedure for the advertisement of
application-specific link attributes from IS-IS into
BGP-LS.[¶](#section-4.1-1){.pilcrow}

Consider the following advertisements for a link in IS-IS. We start with
this set:[¶](#section-4.1-2){.pilcrow}

a.  [IS-IS ASLA sub-TLV with the S, F, and X bits set on it that carries
    certain application-specific link
    attributes[¶](#section-4.1-3.1){.pilcrow}]{#section-4.1-3.1}
b.  [IS-IS Application-Specific SRLG TLV with zero-length bit masks with
    a set of application-specific
    SRLGs[¶](#section-4.1-3.2){.pilcrow}]{#section-4.1-3.2}
c.  [IS-IS Application-Specific SRLG TLV with the X bit set on it with a
    set of application-specific
    SRLGs[¶](#section-4.1-3.3){.pilcrow}]{#section-4.1-3.3}

The corresponding BGP-LS advertisements for that link are determined as
follows:[¶](#section-4.1-4){.pilcrow}

First, based on rule (1), the advertisements are conveyed to BGP-LS to
get the following \"updated set\":[¶](#section-4.1-5){.pilcrow}

1.  [ASLA with the S, F, and X bits set on it that carries link
    attributes from IS-IS advertisement
    (a)[¶](#section-4.1-6.1){.pilcrow}]{#section-4.1-6.1}
2.  [ASLA SRLG with zero-length bit masks with a set of SRLGs from IS-IS
    advertisement (b)[¶](#section-4.1-6.2){.pilcrow}]{#section-4.1-6.2}
3.  [ASLA SRLG with the X bit set on it with a set of SRLGs from IS-IS
    advertisement (c)[¶](#section-4.1-6.3){.pilcrow}]{#section-4.1-6.3}

Next, we apply the rules from (2) to this \"updated set\", because all
of them were sourced from IS-IS, to derive a new
set.[¶](#section-4.1-7){.pilcrow}

The next rule that applies is (2)(c), and it is determined that
collation is required for applications S and F; therefore, we get the
following \"final set\":[¶](#section-4.1-8){.pilcrow}

1.  [ASLA with the S bit set on it that carries link attributes from
    IS-IS advertisement (a) and SRLGs from IS-IS advertisement (b) (this
    is collation for application S based on
    (2)(c))[¶](#section-4.1-9.1){.pilcrow}]{#section-4.1-9.1}
2.  [ASLA with the F bit set on it that carries link attributes from
    IS-IS advertisement (a) and SRLGs from IS-IS advertisement (b) (this
    is collation for application F based on
    (2)(c))[¶](#section-4.1-9.2){.pilcrow}]{#section-4.1-9.2}
3.  [ASLA with the X bit set on it that carries link attributes from
    IS-IS advertisement (a) (remaining application not affected by
    collation based on
    (2)(c))[¶](#section-4.1-9.3){.pilcrow}]{#section-4.1-9.3}
4.  [ASLA with zero-length bit masks with SRLGs from IS-IS
    advertisement (b) (not affected by (2)(c) and therefore carried
    forward unchanged from the \"updated
    set\")[¶](#section-4.1-9.4){.pilcrow}]{#section-4.1-9.4}
5.  [ASLA with the X bit set on it with SRLGs from IS-IS
    advertisement (c) (not affected by (2)(c) and therefore carried
    forward unchanged from the \"updated
    set\")[¶](#section-4.1-9.5){.pilcrow}]{#section-4.1-9.5}

Implementations may optionally perform further consolidation by
processing the \"final set\" above based on (2)(d) to determine the
following \"consolidated final set\":[¶](#section-4.1-10){.pilcrow}

1.  [ASLA with the S and F bits set on it that carries
    application-specific link attributes from IS-IS advertisement (a)
    and SRLGs from IS-IS advertisement (b) (this is the consolidation of
    items 1 and 2 of the \"final set\" based on
    (2)(d))[¶](#section-4.1-11.1){.pilcrow}]{#section-4.1-11.1}
2.  [ASLA with the X bit set on it that carries certain
    application-specific link attributes from IS-IS advertisement (a)
    (it is unaffected by this
    consolidation)[¶](#section-4.1-11.2){.pilcrow}]{#section-4.1-11.2}
3.  [ASLA with zero-length bit masks with a set of application-specific
    SRLGs from IS-IS advertisement (b) (this is retained based on (2)(e)
    and is unaffected by any further
    consolidation)[¶](#section-4.1-11.3){.pilcrow}]{#section-4.1-11.3}
4.  [ASLA with the X bit set on it with a set of application-specific
    SRLGs from IS-IS advertisement (c) (it is unaffected by this
    consolidation)[¶](#section-4.1-11.4){.pilcrow}]{#section-4.1-11.4}

Further optimization (e.g., combining (2) and (4) from the
\"consolidated final set\" above into a single BGP-LS ASLA TLV) may be
possible while ensuring that the semantics are preserved between the
IS-IS and BGP-LS advertisements. Such optimizations are outside the
scope of this document.[¶](#section-4.1-12){.pilcrow}
:::
:::
:::
:::

::: {#DEPLOY}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Deployment Considerations](#name-deployment-considerations){.section-name .selfRef} {#name-deployment-considerations}

BGP-LS sources the link-state topology information (including the
extensions introduced by this document) from the underlying link-state
IGP protocols. The various deployment aspects related to the
advertisement and use of application-specific link attributes are
discussed in the Deployment Considerations sections of
\[[RFC8920](#RFC8920){.xref}\] and \[[RFC8919](#RFC8919){.xref}\]. The
IGP backward-compatibility aspects described in those documents
associated with application-specific link attributes along with the
BGP-LS procedures specified in this document enable backward
compatibility in deployments of existing implementations of
\[[RFC7752](#RFC7752){.xref}\], \[[RFC8571](#RFC8571){.xref}\], and
\[[RFC9104](#RFC9104){.xref}\] for applications such as RSVP-TE, SR
Policy, and LFA.[¶](#section-5-1){.pilcrow}

It is recommended that only nodes supporting this specification are
selected as originators of BGP-LS information when advertising the
link-state information from the IGPs in deployments supporting
application-specific link attributes.[¶](#section-5-2){.pilcrow}

BGP-LS consumers that do not support this specification can continue to
use the existing top-level TLVs for link attributes for existing
applications as discussed above. However, they would be able to support
neither the application-specific link attributes nor newer applications
that may be encoded only using the ASLA TLV.[¶](#section-5-3){.pilcrow}
:::
:::

::: {#IANA}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

IANA has assigned a code point from the \"BGP-LS Node Descriptor, Link
Descriptor, Prefix Descriptor, and Attribute TLVs\" registry as
described in the following table. There is no \"IS-IS TLV/Sub-TLV\"
value for this entry.[¶](#section-6-1){.pilcrow}

[]{#name-asla-tlv-code-point-allocat}

::: {#code-point}
  TLV Code Point   Description                            Reference
  ---------------- -------------------------------------- -----------
  1122             Application-Specific Link Attributes   RFC 9294

  : [Table 2](#table-2){.selfRef}: [ASLA TLV Code Point
  Allocation](#name-asla-tlv-code-point-allocat){.selfRef}
:::
:::
:::

::: {#Manageability}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [Manageability Considerations](#name-manageability-consideration){.section-name .selfRef} {#name-manageability-consideration}

The protocol extensions introduced in this document augment the existing
IGP topology information defined in \[[RFC7752](#RFC7752){.xref}\].
Procedures and protocol extensions defined in this document do not
affect the BGP protocol operations and management other than as
discussed in the Manageability Considerations section of
\[[RFC7752](#RFC7752){.xref}\]. Specifically, the malformed NLRI
attribute tests in the Fault Management section of
\[[RFC7752](#RFC7752){.xref}\] now encompass the BGP-LS TLVs defined in
this document.[¶](#section-7-1){.pilcrow}

The extensions specified in this document do not specify any new
configuration or monitoring aspects in BGP or BGP-LS. The specification
of BGP models is an ongoing work based on
\[[IDR-BGP-MODEL](#I-D.ietf-idr-bgp-model){.xref}\].[¶](#section-7-2){.pilcrow}
:::
:::

::: {#Security}
::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

Security considerations for acquiring and distributing BGP-LS
information are discussed in \[[RFC7752](#RFC7752){.xref}\].
Specifically, the considerations related to topology information, which
are related to traffic engineering, apply.[¶](#section-8-1){.pilcrow}

The TLVs introduced in this document are used to propagate the
application-specific link attributes IGP extensions defined in
\[[RFC8919](#RFC8919){.xref}\] and \[[RFC8920](#RFC8920){.xref}\]. It is
assumed that the IGP instances originating these TLVs will support all
the required security (as described in \[[RFC8919](#RFC8919){.xref}\]
and \[[RFC8920](#RFC8920){.xref}\]).[¶](#section-8-2){.pilcrow}

This document defines a new way to advertise link attributes. Tampering
with the information defined in this document may affect applications
using it, including impacting traffic engineering, which uses various
link attributes for its path computation. As the advertisements defined
in this document limit the scope to specific applications, the impact of
tampering is similarly limited in scope. The advertisement of the link
attribute information defined in this document presents no significant
additional risk beyond that associated with the existing link attribute
information already supported in
\[[RFC7752](#RFC7752){.xref}\].[¶](#section-8-3){.pilcrow}
:::
:::

::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-9.1 .section}
### [9.1.](#section-9.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC7752\]
:   [Gredler, H., Ed.]{.refAuthor}, [Medved, J.]{.refAuthor},
    [Previdi, S.]{.refAuthor}, [Farrel, A.]{.refAuthor}, and [S.
    Ray]{.refAuthor}, [\"North-Bound Distribution of Link-State and
    Traffic Engineering (TE) Information Using BGP\"]{.refTitle}, [RFC
    7752]{.seriesInfo}, [DOI 10.17487/RFC7752]{.seriesInfo}, March 2016,
    \<<https://www.rfc-editor.org/info/rfc7752>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8571\]
:   [Ginsberg, L., Ed.]{.refAuthor}, [Previdi, S.]{.refAuthor},
    [Wu, Q.]{.refAuthor}, [Tantsura, J.]{.refAuthor}, and [C.
    Filsfils]{.refAuthor}, [\"BGP - Link State (BGP-LS) Advertisement of
    IGP Traffic Engineering Performance Metric Extensions\"]{.refTitle},
    [RFC 8571]{.seriesInfo}, [DOI 10.17487/RFC8571]{.seriesInfo}, March
    2019, \<<https://www.rfc-editor.org/info/rfc8571>\>.
:   

\[RFC8919\]
:   [Ginsberg, L.]{.refAuthor}, [Psenak, P.]{.refAuthor},
    [Previdi, S.]{.refAuthor}, [Henderickx, W.]{.refAuthor}, and [J.
    Drake]{.refAuthor}, [\"IS-IS Application-Specific Link
    Attributes\"]{.refTitle}, [RFC 8919]{.seriesInfo}, [DOI
    10.17487/RFC8919]{.seriesInfo}, October 2020,
    \<<https://www.rfc-editor.org/info/rfc8919>\>.
:   

\[RFC8920\]
:   [Psenak, P., Ed.]{.refAuthor}, [Ginsberg, L.]{.refAuthor},
    [Henderickx, W.]{.refAuthor}, [Tantsura, J.]{.refAuthor}, and [J.
    Drake]{.refAuthor}, [\"OSPF Application-Specific Link
    Attributes\"]{.refTitle}, [RFC 8920]{.seriesInfo}, [DOI
    10.17487/RFC8920]{.seriesInfo}, October 2020,
    \<<https://www.rfc-editor.org/info/rfc8920>\>.
:   

\[RFC9104\]
:   [Tantsura, J.]{.refAuthor}, [Wang, Z.]{.refAuthor},
    [Wu, Q.]{.refAuthor}, and [K. Talaulikar]{.refAuthor},
    [\"Distribution of Traffic Engineering Extended Administrative
    Groups Using the Border Gateway Protocol - Link State
    (BGP-LS)\"]{.refTitle}, [RFC 9104]{.seriesInfo}, [DOI
    10.17487/RFC9104]{.seriesInfo}, August 2021,
    \<<https://www.rfc-editor.org/info/rfc9104>\>.
:   
:::

::: {#section-9.2 .section}
### [9.2.](#section-9.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[IDR-BGP-MODEL\]
:   [Jethanandani, M.]{.refAuthor}, [Patel, K.]{.refAuthor},
    [Hares, S.]{.refAuthor}, and [J. Haas]{.refAuthor}, [\"BGP YANG
    Model for Service Provider Networks\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-ietf-idr-bgp-model-14]{.seriesInfo}, 3 July 2022,
    \<<https://datatracker.ietf.org/doc/html/draft-ietf-idr-bgp-model-14>\>.
:   

\[RFC1195\]
:   [Callon, R.]{.refAuthor}, [\"Use of OSI IS-IS for routing in TCP/IP
    and dual environments\"]{.refTitle}, [RFC 1195]{.seriesInfo}, [DOI
    10.17487/RFC1195]{.seriesInfo}, December 1990,
    \<<https://www.rfc-editor.org/info/rfc1195>\>.
:   

\[RFC2328\]
:   [Moy, J.]{.refAuthor}, [\"OSPF Version 2\"]{.refTitle}, [STD
    54]{.seriesInfo}, [RFC 2328]{.seriesInfo}, [DOI
    10.17487/RFC2328]{.seriesInfo}, April 1998,
    \<<https://www.rfc-editor.org/info/rfc2328>\>.
:   

\[RFC3209\]
:   [Awduche, D.]{.refAuthor}, [Berger, L.]{.refAuthor},
    [Gan, D.]{.refAuthor}, [Li, T.]{.refAuthor},
    [Srinivasan, V.]{.refAuthor}, and [G. Swallow]{.refAuthor},
    [\"RSVP-TE: Extensions to RSVP for LSP Tunnels\"]{.refTitle}, [RFC
    3209]{.seriesInfo}, [DOI 10.17487/RFC3209]{.seriesInfo}, December
    2001, \<<https://www.rfc-editor.org/info/rfc3209>\>.
:   

\[RFC4202\]
:   [Kompella, K., Ed.]{.refAuthor} and [Y. Rekhter, Ed.]{.refAuthor},
    [\"Routing Extensions in Support of Generalized Multi-Protocol Label
    Switching (GMPLS)\"]{.refTitle}, [RFC 4202]{.seriesInfo}, [DOI
    10.17487/RFC4202]{.seriesInfo}, October 2005,
    \<<https://www.rfc-editor.org/info/rfc4202>\>.
:   

\[RFC5286\]
:   [Atlas, A., Ed.]{.refAuthor} and [A. Zinin, Ed.]{.refAuthor},
    [\"Basic Specification for IP Fast Reroute: Loop-Free
    Alternates\"]{.refTitle}, [RFC 5286]{.seriesInfo}, [DOI
    10.17487/RFC5286]{.seriesInfo}, September 2008,
    \<<https://www.rfc-editor.org/info/rfc5286>\>.
:   

\[RFC5340\]
:   [Coltun, R.]{.refAuthor}, [Ferguson, D.]{.refAuthor},
    [Moy, J.]{.refAuthor}, and [A. Lindem]{.refAuthor}, [\"OSPF for
    IPv6\"]{.refTitle}, [RFC 5340]{.seriesInfo}, [DOI
    10.17487/RFC5340]{.seriesInfo}, July 2008,
    \<<https://www.rfc-editor.org/info/rfc5340>\>.
:   

\[RFC8402\]
:   [Filsfils, C., Ed.]{.refAuthor}, [Previdi, S., Ed.]{.refAuthor},
    [Ginsberg, L.]{.refAuthor}, [Decraene, B.]{.refAuthor},
    [Litkowski, S.]{.refAuthor}, and [R. Shakir]{.refAuthor}, [\"Segment
    Routing Architecture\"]{.refTitle}, [RFC 8402]{.seriesInfo}, [DOI
    10.17487/RFC8402]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8402>\>.
:   
:::
:::

::: {#ACK}
::: {#appendix-A .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The authors would like to thank [Les Ginsberg]{.contact-name}, [Baalajee
S.]{.contact-name}, [Amalesh Maity]{.contact-name}, [Acee
Lindem]{.contact-name}, [Keyur Patel]{.contact-name}, [Paul
Wouters]{.contact-name}, [Rudy Selderslaghs]{.contact-name}, [Kristy
Paine]{.contact-name}, and [Shraddha Hegde]{.contact-name} for their
review and feedback on this document. The authors would like to thank
[Alvaro Retana]{.contact-name} for his very detailed AD review and
comments that improved this document. The authors would also like to
thank [John Scudder]{.contact-name} for his detailed review and feedback
on clarifying the procedures along with the example in [Section
4](#PROCEDURES){.xref}.[¶](#appendix-A-1){.pilcrow}
:::
:::

::: {#authors-addresses}
::: {#appendix-B .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Ketan Talaulikar ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Arrcus Inc.]{.org}
:::

::: {.left dir="auto"}
[India]{.country-name}
:::

::: email
Email: <ketant.ietf@gmail.com>
:::

::: {.left dir="auto"}
[Peter Psenak]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems]{.org}
:::

::: {.left dir="auto"}
[Slovakia]{.country-name}
:::

::: email
Email: <ppsenak@cisco.com>
:::

::: {.left dir="auto"}
[Jeff Tantsura]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Microsoft]{.org}
:::

::: email
Email: <jefftant.ietf@gmail.com>
:::
:::
:::
