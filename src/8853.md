  RFC 8853         Simulcast         January 2021
  ---------------- ----------------- --------------
  Burman, et al.   Standards Track   \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8853](https://www.rfc-editor.org/rfc/rfc8853){.eref}

Category:
:   Standards Track

Published:
:   January 2021

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    B. Burman
    :::

    ::: org
    Ericsson
    :::
    :::

    ::: author
    ::: author-name
    M. Westerlund
    :::

    ::: org
    Ericsson
    :::
    :::

    ::: author
    ::: author-name
    S. Nandakumar
    :::

    ::: org
    Cisco
    :::
    :::

    ::: author
    ::: author-name
    M. Zanaty
    :::

    ::: org
    Cisco
    :::
    :::
:::

# RFC 8853 {#rfcnum}

# Using Simulcast in Session Description Protocol (SDP) and RTP Sessions {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

In some application scenarios, it may be desirable to send multiple
differently encoded versions of the same media source in different RTP
streams. This is called simulcast. This document describes how to
accomplish simulcast in RTP and how to signal it in the Session
Description Protocol (SDP). The described solution uses an RTP/RTCP
identification method to identify RTP streams belonging to the same
media source and makes an extension to SDP to indicate that those RTP
streams are different simulcast formats of that media source. The SDP
extension consists of a new media-level SDP attribute that expresses
capability to send and/or receive simulcast RTP
streams.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8853>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2021 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Definitions](#name-definitions){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.xref}.  [Terminology](#name-terminology){.xref}[¶](#section-toc.1-1.2.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.2.2.2}
        [2.2](#section-2.2){.xref}.  [Requirements
        Language](#name-requirements-language){.xref}[¶](#section-toc.1-1.2.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Use
    Cases](#name-use-cases){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [Reaching a Diverse Set of
        Receivers](#name-reaching-a-diverse-set-of-r){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [Application-Specific Media Source
        Handling](#name-application-specific-media-){.xref}[¶](#section-toc.1-1.3.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.3}
        [3.3](#section-3.3){.xref}.  [Receiver Media-Source
        Preferences](#name-receiver-media-source-prefe){.xref}[¶](#section-toc.1-1.3.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Overview](#name-overview){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Detailed
    Description](#name-detailed-description){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [Simulcast
        Attribute](#name-simulcast-attribute){.xref}[¶](#section-toc.1-1.5.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.2}
        [5.2](#section-5.2){.xref}.  [Simulcast
        Capability](#name-simulcast-capability){.xref}[¶](#section-toc.1-1.5.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.3}
        [5.3](#section-5.3){.xref}.  [Offer/Answer
        Use](#name-offer-answer-use){.xref}[¶](#section-toc.1-1.5.2.3.1){.pilcrow}

        -   ::: {#section-toc.1-1.5.2.3.2.1}
            [5.3.1](#section-5.3.1){.xref}.  [Generating the Initial SDP
            Offer](#name-generating-the-initial-sdp-){.xref}[¶](#section-toc.1-1.5.2.3.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.5.2.3.2.2}
            [5.3.2](#section-5.3.2){.xref}.  [Creating the SDP
            Answer](#name-creating-the-sdp-answer){.xref}[¶](#section-toc.1-1.5.2.3.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.5.2.3.2.3}
            [5.3.3](#section-5.3.3){.xref}.  [Offerer Processing the SDP
            Answer](#name-offerer-processing-the-sdp-){.xref}[¶](#section-toc.1-1.5.2.3.2.3.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.5.2.3.2.4}
            [5.3.4](#section-5.3.4){.xref}.  [Modifying the
            Session](#name-modifying-the-session){.xref}[¶](#section-toc.1-1.5.2.3.2.4.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.5.2.4}
        [5.4](#section-5.4){.xref}.  [Use with Declarative
        SDP](#name-use-with-declarative-sdp){.xref}[¶](#section-toc.1-1.5.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.5}
        [5.5](#section-5.5){.xref}.  [Relating Simulcast
        Streams](#name-relating-simulcast-streams){.xref}[¶](#section-toc.1-1.5.2.5.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.6}
        [5.6](#section-5.6){.xref}.  [Signaling
        Examples](#name-signaling-examples){.xref}[¶](#section-toc.1-1.5.2.6.1){.pilcrow}

        -   ::: {#section-toc.1-1.5.2.6.2.1}
            [5.6.1](#section-5.6.1){.xref}.  [Single-Source
            Client](#name-single-source-client){.xref}[¶](#section-toc.1-1.5.2.6.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.5.2.6.2.2}
            [5.6.2](#section-5.6.2){.xref}.  [Multisource
            Client](#name-multisource-client){.xref}[¶](#section-toc.1-1.5.2.6.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.5.2.6.2.3}
            [5.6.3](#section-5.6.3){.xref}.  [Simulcast and
            Redundancy](#name-simulcast-and-redundancy){.xref}[¶](#section-toc.1-1.5.2.6.2.3.1){.pilcrow}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [RTP
    Aspects](#name-rtp-aspects){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [Outgoing from Endpoint with Media
        Source](#name-outgoing-from-endpoint-with){.xref}[¶](#section-toc.1-1.6.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [RTP Middlebox to
        Receiver](#name-rtp-middlebox-to-receiver){.xref}[¶](#section-toc.1-1.6.2.2.1){.pilcrow}

        -   ::: {#section-toc.1-1.6.2.2.2.1}
            [6.2.1](#section-6.2.1){.xref}.  [Media-Switching
            Mixer](#name-media-switching-mixer){.xref}[¶](#section-toc.1-1.6.2.2.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.6.2.2.2.2}
            [6.2.2](#section-6.2.2){.xref}.  [Selective Forwarding
            Middlebox](#name-selective-forwarding-middle){.xref}[¶](#section-toc.1-1.6.2.2.2.2.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.6.2.3}
        [6.3](#section-6.3){.xref}.  [RTP Middlebox to RTP
        Middlebox](#name-rtp-middlebox-to-rtp-middle){.xref}[¶](#section-toc.1-1.6.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [Network
    Aspects](#name-network-aspects){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}

    -   ::: {#section-toc.1-1.7.2.1}
        [7.1](#section-7.1){.xref}.  [Bitrate
        Adaptation](#name-bitrate-adaptation){.xref}[¶](#section-toc.1-1.7.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Limitation](#name-limitation){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.10}
    [10](#section-10){.xref}. [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.11}
    [11](#section-11){.xref}. [References](#name-references){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}

    -   ::: {#section-toc.1-1.11.2.1}
        [11.1](#section-11.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.11.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.11.2.2}
        [11.2](#section-11.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.11.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.12}
    [Appendix
    A](#section-appendix.a){.xref}.  [Requirements](#name-requirements){.xref}[¶](#section-toc.1-1.12.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.13}
    [](#section-appendix.b){.xref}[Acknowledgements](#name-acknowledgements){.xref}[¶](#section-toc.1-1.13.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.14}
    [](#section-appendix.c){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.14.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.15}
    [](#section-appendix.d){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.15.1){.pilcrow}
    :::
:::
:::

::: {#sec-intro}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

Most of today\'s multiparty video-conference solutions make use of
centralized servers to reduce the bandwidth and CPU consumption in the
endpoints. Those servers receive RTP streams from each participant and
send some suitable set of possibly modified RTP streams to the rest of
the participants, which usually have heterogeneous capabilities (screen
size, CPU, bandwidth, codec, etc.). One of the biggest issues is how to
perform RTP stream adaptation to different participants\' constraints
with the minimum possible impact on both video quality and server
performance.[¶](#section-1-1){.pilcrow}

Simulcast is defined in this memo as the act of simultaneously sending
multiple different encoded streams of the same media source \-- e.g.,
the same video source encoded with different video-encoder types or
image resolutions. This can be done in several ways and for different
purposes. This document focuses on the case where it is desirable to
provide a media source as multiple encoded streams over
[RTP](#RFC3550){.xref} \[[RFC3550](#RFC3550){.xref}\] towards an
intermediary so that the intermediary can provide the wanted
functionality by selecting which RTP stream(s) to forward to other
participants in the session, and more specifically how the
identification and grouping of the involved RTP streams are
done.[¶](#section-1-2){.pilcrow}

The intended scope of the defined mechanism is to support negotiation
and usage of simulcast when using SDP offer/answer and media transport
over RTP. The media transport topologies considered are point-to-point
RTP sessions, as well as centralized multiparty RTP sessions, where a
media sender will provide the simulcasted streams to an RTP middlebox or
endpoint, and middleboxes may further distribute the simulcast streams
to other middleboxes or endpoints. Simulcast could be used point to
point between middleboxes as part of a distributed multiparty scenario.
Usage of multicast or broadcast transport is out of scope and left for
future extensions.[¶](#section-1-3){.pilcrow}

This document describes a few scenarios that motivate the use of
simulcast and also defines the needed RTP/RTCP and SDP signaling for
it.[¶](#section-1-4){.pilcrow}
:::
:::

::: {#sec-definitions}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Definitions](#name-definitions){.section-name .selfRef} {#name-definitions}

::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

This document makes use of the terminology defined in [\"A Taxonomy of
Semantics and Mechanisms for Real-Time Transport Protocol (RTP)
Sources\"](#RFC7656){.xref} \[[RFC7656](#RFC7656){.xref}\] and [\"RTP
Topologies\"](#RFC7667){.xref} \[[RFC7667](#RFC7667){.xref}\]. The
following terms are especially noted or here
defined:[¶](#section-2.1-1){.pilcrow}

[]{.break}

RTP mixer:
:   An RTP middlebox, in the wide sense of the term, encompassing
    Sections
    [3.6](https://www.rfc-editor.org/rfc/rfc7667#section-3.6){.relref}
    to
    [3.9](https://www.rfc-editor.org/rfc/rfc7667#section-3.9){.relref}
    of \[[RFC7667](#RFC7667){.xref}\].[¶](#section-2.1-2.2){.pilcrow}
:   

RTP session:
:   An association among a group of participants communicating with RTP,
    as defined in \[[RFC3550](#RFC3550){.xref}\] and amended by
    \[[RFC7656](#RFC7656){.xref}\].[¶](#section-2.1-2.4){.pilcrow}
:   

RTP stream:
:   A stream of RTP packets containing media data, as defined in
    \[[RFC7656](#RFC7656){.xref}\].[¶](#section-2.1-2.6){.pilcrow}
:   

RTP switch:
:   A common short term for the terms \"switching RTP mixer\", \"source
    projecting middlebox\", and \"video switching Multipoint Control
    Unit (MCU)\", as discussed in
    \[[RFC7667](#RFC7667){.xref}\].[¶](#section-2.1-2.8){.pilcrow}
:   

Simulcast stream:
:   One encoded stream or dependent stream from a set of concurrently
    transmitted encoded streams and optional dependent streams, all
    sharing a common media source, as defined in
    \[[RFC7656](#RFC7656){.xref}\]. For example, HD and thumbnail video
    simulcast versions of a single media source sent concurrently as
    separate RTP streams.[¶](#section-2.1-2.10){.pilcrow}
:   

Simulcast format:
:   Different formats of a simulcast stream serve the same purpose as
    alternative RTP payload types in nonsimulcast SDP: to allow multiple
    alternative media formats for a given RTP stream. As for multiple
    RTP payload types on the \"m=\" line in
    [offer/answer](#RFC3264){.xref} \[[RFC3264](#RFC3264){.xref}\], any
    one of the negotiated alternative formats can be used in a single
    RTP stream at a given point in time, but not more than one (based on
    RTP timestamp). What format is used can change dynamically from one
    RTP packet to another.[¶](#section-2.1-2.12){.pilcrow}
:   
:::

::: {#section-2.2 .section}
### [2.2.](#section-2.2){.section-number .selfRef} [Requirements Language](#name-requirements-language){.section-name .selfRef} {#name-requirements-language}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-2.2-1){.pilcrow}
:::
:::
:::

::: {#sec-use-cases}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Use Cases](#name-use-cases){.section-name .selfRef} {#name-use-cases}

The use cases of simulcast described in this document relate to a
multiparty communication session where one or more central nodes are
used to adapt the view of the communication session towards individual
participants and facilitate the media transport between participants.
Thus, these cases target the RTP mixer type of
topology.[¶](#section-3-1){.pilcrow}

There are two principal approaches for an RTP mixer to provide this
adapted view of the communication session to each receiving
participant:[¶](#section-3-2){.pilcrow}

-   [Transcoding (decoding and re-encoding) received RTP streams with
    characteristics adapted to each receiving participant. This often
    includes mixing or composition of media sources from multiple
    participants into a mixed media source originated by the RTP mixer.
    The main advantage of this approach is that it achieves
    close-to-optimal adaptation to individual receiving participants.
    The main disadvantages are that it can be very computationally
    expensive to the RTP mixer, typically degrades media Quality of
    Experience (QoE) such as creating end-to-end delay for the receiving
    participants, and requires the RTP mixer to have access to media
    content.[¶](#section-3-3.1){.pilcrow}]{#section-3-3.1}
-   [Switching a subset of all received RTP streams or substreams to
    each receiving participant, where the used subset is typically
    specific to each receiving participant. The main advantages of this
    approach are that it is computationally cheap to the RTP mixer, has
    very limited impact on media QoE, and does not require the RTP mixer
    to have (full) access to media content. The main disadvantage is
    that it can be difficult to combine a subset of received RTP streams
    into a perfect fit for the resource situation of a receiving
    participant. It is also a disadvantage that sending multiple RTP
    streams consumes more network resources from the sending participant
    to the RTP mixer.[¶](#section-3-3.2){.pilcrow}]{#section-3-3.2}

The use of simulcast relates to the latter approach, where it is more
important to reduce the load on the RTP mixer and/or minimize QoE impact
than to achieve an optimal adaptation of resource
usage.[¶](#section-3-4){.pilcrow}

::: {#sec-diverse-receivers}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [Reaching a Diverse Set of Receivers](#name-reaching-a-diverse-set-of-r){.section-name .selfRef} {#name-reaching-a-diverse-set-of-r}

The media sources provided by a sending participant potentially need to
reach several receiving participants that differ in terms of available
resources. The receiver resources that typically differ include, but are
not limited to:[¶](#section-3.1-1){.pilcrow}

[]{.break}

Codec:
:   This includes codec type (such as RTP payload format MIME type) and
    can include codec configuration. A couple of codec resources that
    differ only in codec configuration will be \"different\" if they are
    somehow not \"compatible\", such as if they differ in video codec
    profile or the transport packetization
    configuration.[¶](#section-3.1-2.2){.pilcrow}
:   

Sampling:
:   This relates to how the media source is sampled, in spatial as well
    as temporal domain. For video streams, spatial sampling affects
    image resolution, and temporal sampling affects video frame rate.
    For audio, spatial sampling relates to the number of audio channels,
    and temporal sampling affects audio bandwidth. This may be used to
    suit different rendering capabilities or needs at the receiving
    endpoints.[¶](#section-3.1-2.4){.pilcrow}
:   

Bitrate:
:   This relates to the number of bits sent per second to transmit the
    media source as an RTP stream, which typically also affects the QoE
    for the receiving user.[¶](#section-3.1-2.6){.pilcrow}
:   

Letting the sending participant create a simulcast of a few differently
configured RTP streams per media source can be a good trade-off when
using an RTP switch as middlebox, instead of sending a single RTP stream
and using an RTP mixer to create individual transcodings to each
receiving participant.[¶](#section-3.1-3){.pilcrow}

This requires that the receiving participants can be categorized in
terms of available resources and that the sending participant can choose
a matching configuration for a single RTP stream per category and media
source. For example, a set of receiving participants differ only in
screen resolution; some are able to display video with at most 360p
resolution, and some support 720p resolution. A sending participant can
then reach all receivers with best possible resolution by creating a
simulcast of RTP streams with 360p and 720p resolution for each sent
video media source.[¶](#section-3.1-4){.pilcrow}

The maximum number of simulcasted RTP streams that can be sent is mainly
limited by the amount of processing and uplink network resources
available to the sending participant.[¶](#section-3.1-5){.pilcrow}
:::
:::

::: {#sec-application-specific}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [Application-Specific Media Source Handling](#name-application-specific-media-){.section-name .selfRef} {#name-application-specific-media-}

The application logic that controls the communication session may
include special handling of some media sources. It is, for example,
commonly the case that the media from a sending participant is not sent
back to itself.[¶](#section-3.2-1){.pilcrow}

It is also common that a currently active speaker participant is shown
in larger size or higher quality than other participants (the sampling
or bitrate aspects of [Section 3.1](#sec-diverse-receivers){.xref}) in a
receiving client. Many conferencing systems do not send the active
speaker\'s media back to the sender itself, which means there is some
other participant\'s media that instead is forwarded to the active
speaker \-- typically the previous active speaker. This way, the
previously active speaker is needed both in larger size (to current
active speaker) and in small size (to the rest of the participants),
which can be solved with a simulcast from the previously active speaker
to the RTP switch.[¶](#section-3.2-2){.pilcrow}
:::
:::

::: {#sec-receiver-preferences}
::: {#section-3.3 .section}
### [3.3.](#section-3.3){.section-number .selfRef} [Receiver Media-Source Preferences](#name-receiver-media-source-prefe){.section-name .selfRef} {#name-receiver-media-source-prefe}

The application logic that controls the communication session may allow
receiving participants to state preferences on the characteristics of
the RTP stream they like to receive, for example in terms of the aspects
listed in [Section 3.1](#sec-diverse-receivers){.xref}. Sending a
simulcast of RTP streams is one way of accommodating receivers with
conflicting or otherwise incompatible
preferences.[¶](#section-3.3-1){.pilcrow}
:::
:::
:::
:::

::: {#sec-overview}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Overview](#name-overview){.section-name .selfRef} {#name-overview}

This memo defines [SDP](#RFC4566){.xref} \[[RFC4566](#RFC4566){.xref}\]
signaling that covers the above described simulcast use cases and
functionalities. A number of requirements for such signaling are
elaborated in [Appendix
A](#sec-requirements){.xref}.[¶](#section-4-1){.pilcrow}

The Restriction Identifier (RID) mechanism, as defined in
\[[RFC8851](#RFC8851){.xref}\], enables an SDP offerer or answerer to
specify a number of different RTP stream restrictions for a rid-id by
using the \"a=rid\" line. Examples of such restrictions are maximum
bitrate, maximum spatial video resolution (width and height), maximum
video frame rate, etc. Each rid-id may also be restricted to use only a
subset of the RTP payload types in the associated SDP media description.
Those RTP payload types can have their own configurations and parameters
affecting what can be sent or received, using the \"a=fmtp\" line as
well as other SDP attributes.[¶](#section-4-2){.pilcrow}

A new SDP media-level attribute, \"a=simulcast\", is defined. The
attribute describes, independently for \"send\" and \"receive\"
directions, the number of simulcast RTP streams as well as potential
alternative formats for each simulcast RTP stream. Each simulcast RTP
stream, including alternatives, is identified using the RID identifier
(rid-id), defined in
\[[RFC8851](#RFC8851){.xref}\].[¶](#section-4-3){.pilcrow}

::: {#section-4-4}
``` {.sourcecode .lang-sdp}
a=simulcast:send 1;2,3 recv 4
```

[¶](#section-4-4){.pilcrow}
:::

If this line is included in an SDP offer, the \"send\" part indicates
the offerer\'s capability and proposal to send two simulcast RTP
streams. Each simulcast stream is described by one or more RTP stream
identifiers (rid-ids), and each group of rid-ids for a simulcast stream
is separated by a semicolon (\";\"). When a simulcast stream has
multiple rid-ids that are separated by a comma (\",\"), they describe
alternative representations for that particular simulcast RTP stream.
Thus, the \"send\" part shown above is interpreted as an intention to
send two simulcast RTP streams. The first simulcast RTP stream is
identified and restricted according to rid-id 1. The second simulcast
RTP stream can be sent as two alternatives, identified and restricted
according to rid-ids 2 and 3. The \"recv\" part of the line shown here
indicates that the offerer desires to receive a single RTP stream (no
simulcast) according to rid-id 4.[¶](#section-4-5){.pilcrow}

A more complete example SDP-offer media description is provided in
[Figure 1](#fig-md-offer){.xref}.[¶](#section-4-6){.pilcrow}

[]{#name-example-simulcast-media-des}

::: {#fig-md-offer}
::: {#section-4-7.1}
``` {.sourcecode .lang-sdp}
m=video 49300 RTP/AVP 97 98 99
a=rtpmap:97 H264/90000
a=rtpmap:98 H264/90000
a=rtpmap:99 VP8/90000
a=fmtp:97 profile-level-id=42c01f;max-fs=3600;max-mbps=108000
a=fmtp:98 profile-level-id=42c00b;max-fs=240;max-mbps=3600
a=fmtp:99 max-fs=240; max-fr=30
a=rid:1 send pt=97;max-width=1280;max-height=720
a=rid:2 send pt=98;max-width=320;max-height=180
a=rid:3 send pt=99;max-width=320;max-height=180
a=rid:4 recv pt=97
a=simulcast:send 1;2,3 recv 4
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
```
:::

[Figure 1](#figure-1){.selfRef}: [Example Simulcast Media Description in
Offer](#name-example-simulcast-media-des){.selfRef}
:::

The SDP media description in [Figure 1](#fig-md-offer){.xref} can be
interpreted at a high level to say that the offerer is capable of
sending two simulcast RTP streams: one H.264 encoded stream in up to
720p resolution, and one additional stream encoded as either H.264 or
VP8 with a maximum resolution of 320x180 pixels. The offerer can receive
one H.264 stream with maximum 720p
resolution.[¶](#section-4-8){.pilcrow}

The receiver of this SDP offer can generate an SDP answer that indicates
what it accepts. It uses the \"a=simulcast\" attribute to indicate
simulcast capability and specify what simulcast RTP streams and
alternatives to receive and/or send. An example of such an answering
\"a=simulcast\" attribute, corresponding to the above offer,
is:[¶](#section-4-9){.pilcrow}

::: {#section-4-10}
``` {.sourcecode .lang-sdp}
a=simulcast:recv 1;2 send 4
```

[¶](#section-4-10){.pilcrow}
:::

With this SDP answer, the answerer indicates in the \"recv\" part that
it wants to receive the two simulcast RTP streams. It has removed an
alternative that it doesn\'t support (rid-id 3). The \"send\" part
confirms to the offerer that it will receive one stream for this media
source according to rid-id 4. The corresponding, more complete example
SDP answer media description could look like [Figure
2](#fig-md-answer){.xref}.[¶](#section-4-11){.pilcrow}

[]{#name-example-simulcast-media-desc}

::: {#fig-md-answer}
::: {#section-4-12.1}
``` {.sourcecode .lang-sdp}
m=video 49674 RTP/AVP 97 98
a=rtpmap:97 H264/90000
a=rtpmap:98 H264/90000
a=fmtp:97 profile-level-id=42c01f;max-fs=3600;max-mbps=108000
a=fmtp:98 profile-level-id=42c00b;max-fs=240;max-mbps=3600
a=rid:1 recv pt=97;max-width=1280;max-height=720
a=rid:2 recv pt=98;max-width=320;max-height=180
a=rid:4 send pt=97
a=simulcast:recv 1;2 send 4
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
```
:::

[Figure 2](#figure-2){.selfRef}: [Example Simulcast Media Description in
Answer](#name-example-simulcast-media-desc){.selfRef}
:::

It is assumed that a single SDP media description is used to describe a
single media source. This is aligned with the concepts defined in
\[[RFC7656](#RFC7656){.xref}\] and will work in a WebRTC context, both
with and without BUNDLE grouping of media descriptions
\[[RFC8843](#RFC8843){.xref}\].[¶](#section-4-13){.pilcrow}

To summarize, the \"a=simulcast\" line describes \"send\"- and
\"receive\"-direction simulcast streams separately. Each direction can
in turn describe one or more simulcast streams, separated by semicolons.
The identifiers describing simulcast streams on the \"a=simulcast\" line
are rid-ids, as defined by \"a=rid\" lines in
\[[RFC8851](#RFC8851){.xref}\]. Each simulcast stream can be offered as
a list of alternative rid-ids, with each alternative separated by a
comma as shown in the example offer in [Figure 1](#fig-md-offer){.xref}.
A detailed specification can be found in [Section
5](#sec-details){.xref}, and more detailed examples are outlined in
[Section 5.6](#sec-ex){.xref}.[¶](#section-4-14){.pilcrow}
:::
:::

::: {#sec-details}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Detailed Description](#name-detailed-description){.section-name .selfRef} {#name-detailed-description}

This section provides further details to the overview in [Section
4](#sec-overview){.xref}. First, formal syntax is
[provided](#sec-attr){.xref} ([Section 5.1](#sec-attr){.xref}), followed
by the rest of the SDP attribute definition in [Section
5.2](#sec-cap){.xref}. [\"Relating Simulcast
Streams\"](#sec-relating){.xref} ([Section 5.5](#sec-relating){.xref})
provides the definition of the RTP/RTCP mechanisms used. The section
concludes with a number of examples.[¶](#section-5-1){.pilcrow}

::: {#sec-attr}
::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [Simulcast Attribute](#name-simulcast-attribute){.section-name .selfRef} {#name-simulcast-attribute}

This document defines a new SDP media-level \"a=simulcast\" attribute,
with value according to the syntax in [Figure 3](#fig-abnf){.xref},
which uses [ABNF](#RFC5234){.xref} \[[RFC5234](#RFC5234){.xref}\] and
its update, [\"Case-Sensitive String Support in ABNF\"](#RFC7405){.xref}
\[[RFC7405](#RFC7405){.xref}\]:[¶](#section-5.1-1){.pilcrow}

[]{#name-abnf-for-simulcast-value}

::: {#fig-abnf}
::: {#section-5.1-2.1}
``` {.sourcecode .lang-abnf}
sc-value     = ( sc-send [SP sc-recv] ) / ( sc-recv [SP sc-send] )
sc-send      = %s"send" SP sc-str-list
sc-recv      = %s"recv" SP sc-str-list
sc-str-list  = sc-alt-list *( ";" sc-alt-list )
sc-alt-list  = sc-id *( "," sc-id )
sc-id-paused = "~"
sc-id        = [sc-id-paused] rid-id
; SP defined in [RFC5234]
; rid-id defined in [RFC8851]
```
:::

[Figure 3](#figure-3){.selfRef}: [ABNF for Simulcast
Value](#name-abnf-for-simulcast-value){.selfRef}
:::

The \"a=simulcast\" attribute has a parameter in the form of one or two
simulcast stream descriptions, each consisting of a direction (\"send\"
or \"recv\"), followed by a list of one or more simulcast streams. Each
simulcast stream consists of one or more alternative simulcast formats.
Each simulcast format is identified by a simulcast stream identifier
(rid-id). The rid-id [MUST]{.bcp14} have the form of an RTP stream
identifier, as described by [\"RTP Payload Format
Restrictions\"](#RFC8851){.xref}
\[[RFC8851](#RFC8851){.xref}\].[¶](#section-5.1-3){.pilcrow}

In the list of simulcast streams, each simulcast stream is separated by
a semicolon (\";\"). Each simulcast stream can, in turn, be offered in
one or more alternative formats, represented by rid-ids, separated by
commas (\",\"). Each rid-id can also be specified as initially
[paused](#RFC7728){.xref} \[[RFC7728](#RFC7728){.xref}\], indicated by
prepending a \"\~\" to the rid-id. The reason to allow separate initial
pause states for each rid-id is that pause capability can be specified
individually for each RTP payload type referenced by a rid-id. Since
pause capability specified via the \"a=rtcp-fb\" attribute applies only
to specified payload types, and a rid-id specified by \"a=rid\" can
refer to multiple different payload types, it is unfeasible to pause
streams with rid-id where any of the related RTP payload type(s) do not
have pause capability.[¶](#section-5.1-4){.pilcrow}
:::
:::

::: {#sec-cap}
::: {#section-5.2 .section}
### [5.2.](#section-5.2){.section-number .selfRef} [Simulcast Capability](#name-simulcast-capability){.section-name .selfRef} {#name-simulcast-capability}

Simulcast capability is expressed through a new media-level [SDP
attribute, \"a=simulcast\"](#sec-attr){.xref} ([Section
5.1](#sec-attr){.xref}). The use of this attribute at the session level
is undefined. Implementations of this specification [MUST NOT]{.bcp14}
use it at the session level and [MUST]{.bcp14} ignore it if received at
the session level. Extensions to this specification may define such
session-level usage. Each SDP media description [MUST]{.bcp14} contain
at most one \"a=simulcast\" line.[¶](#section-5.2-1){.pilcrow}

There are separate and independent sets of simulcast streams in the
\"send\" and \"receive\" directions. When listing multiple directions,
each direction [MUST NOT]{.bcp14} occur more than once on the same
line.[¶](#section-5.2-2){.pilcrow}

Simulcast streams using undefined rid-ids [MUST NOT]{.bcp14} be used as
valid simulcast streams by an RTP stream receiver. The direction for a
rid-id [MUST]{.bcp14} be aligned with the direction specified for the
corresponding RTP stream identifier on the \"a=rid\"
line.[¶](#section-5.2-3){.pilcrow}

The listed number of simulcast streams for a direction sets a limit to
the number of supported simulcast streams in that direction. The order
of the listed simulcast streams in the \"send\" direction suggests a
proposed order of preference, in decreasing order: the rid-id listed
first is the most preferred, and subsequent streams have progressively
lower preference. The order of the listed rid-ids in the \"recv\"
direction expresses which simulcast streams are preferred, with the
leftmost being most preferred. This can be of importance if the number
of actually sent simulcast streams has to be reduced for some
reason.[¶](#section-5.2-4){.pilcrow}

rid-ids that have explicit [dependencies](#RFC5583){.xref}
\[[RFC5583](#RFC5583){.xref}\] \[[RFC8851](#RFC8851){.xref}\] to other
rid-ids (even in the same media description) [MAY]{.bcp14} be
used.[¶](#section-5.2-5){.pilcrow}

Use of more than a single, alternative simulcast format for a simulcast
stream [MAY]{.bcp14} be specified as part of the attribute parameters by
expressing the simulcast stream as a comma-separated list of alternative
rid-ids. The order of the rid-id alternatives within a simulcast stream
is significant; the rid-id alternatives are listed from (left) most
preferred to (right) least preferred. For the use of simulcast, this
overrides the normal codec preference as expressed by format-type
ordering on the \"m=\" line, using regular SDP rules. This is to enable
a separation of general codec preferences and simulcast-stream
configuration preferences. However, the choice of which alternative to
use per simulcast stream is independent, and there is currently no
mechanism for the offerer to force the answerer to choose the same
alternative for multiple simulcast streams.[¶](#section-5.2-6){.pilcrow}

A simulcast stream can use a codec defined such that the same RTP
synchronization source (SSRC) can change RTP payload type multiple times
during a session, possibly even on a per-packet basis. A typical example
is a speech codec that makes use of formats for [Comfort
Noise](#RFC3389){.xref} \[[RFC3389](#RFC3389){.xref}\] and/or [dual-tone
multifrequency (DTMF)](#RFC4733){.xref}
\[[RFC4733](#RFC4733){.xref}\].[¶](#section-5.2-7){.pilcrow}

If [RTP stream pause/resume](#RFC7728){.xref}
\[[RFC7728](#RFC7728){.xref}\] is supported, any rid-id [MAY]{.bcp14} be
prefixed by a \"\~\" character to indicate that the corresponding
simulcast stream is paused already from the start of the RTP session. In
this case, support for RTP stream pause/resume [MUST]{.bcp14} also be
included under the same \"m=\" line where \"a=simulcast\" is included.
All RTP payload types related to such an initially paused simulcast
stream [MUST]{.bcp14} be listed in the SDP as pause/resume capable as
specified by \[[RFC7728](#RFC7728){.xref}\] \-- e.g., by using the
\"\*\" wildcard format for \"a=rtcp-fb\".[¶](#section-5.2-8){.pilcrow}

An initially paused simulcast stream in the \"send\" direction for the
endpoint sending the SDP [MUST]{.bcp14} be considered equivalent to an
unsolicited locally paused stream and handled accordingly. Initially
paused simulcast streams are resumed as described by the RTP
pause/resume specification. An RTP stream receiver that wishes to resume
an unsolicited locally paused stream needs to know the SSRC of that
stream. The SSRC of an initially paused simulcast stream can be obtained
from an RTP stream sender RTCP Sender Report (SR) or Receiver Report
(RR) that includes both the desired SSRC as initial SSRC in the source
description (SDES) chunk, optionally a [MID SDES item](#RFC8843){.xref}
\[[RFC8843](#RFC8843){.xref}\] (if used and if rid-ids are not unique
across \"m=\" lines), and the rid-id value in an [RtpStreamId RTCP SDES
item](#RFC8852){.xref}
\[[RFC8852](#RFC8852){.xref}\].[¶](#section-5.2-9){.pilcrow}

If the endpoint sending the SDP includes a \"recv\"-direction simulcast
stream that is initially paused, then the remote RTP sender receiving
the SDP [SHOULD]{.bcp14} put its RTP stream in an unsolicited locally
paused state. The simulcast stream sender does not put the stream in the
locally paused state if there are other RTP stream receivers in the
session that do not mark the simulcast stream as initially paused.
However, in centralized conferencing, the RTP sender usually does not
see the SDP signaling from RTP receivers and cannot make this
determination. The reason for requiring that an initially paused
\"recv\" stream be considered locally paused by the remote RTP sender
instead of making it equivalent to implicitly sending a pause request is
that the pausing RTP sender cannot know which receiving SSRC owns the
restriction when Temporary Maximum Media Stream Bit Rate Request (TMMBR)
and Temporary Maximum Media Stream Bit Rate Notification (TMMBN) are
used for pause/resume signaling ([Section
5.6](https://www.rfc-editor.org/rfc/rfc7728#section-5.6){.relref} of
\[[RFC7728](#RFC7728){.xref}\]); this is because the RTP receiver\'s
SSRC in the \"send\" direction is sometimes not yet
known.[¶](#section-5.2-10){.pilcrow}

Use of the redundant audio data format \[[RFC2198](#RFC2198){.xref}\]
could be seen as a form of simulcast for loss-protection purposes, but
it is not considered conflicting with the mechanisms described in this
memo and [MAY]{.bcp14} therefore be used as any other format. In this
case, the \"red\" format, rather than the carried formats,
[SHOULD]{.bcp14} be the one to list as a simulcast stream on the
\"a=simulcast\" line.[¶](#section-5.2-11){.pilcrow}

The media formats and corresponding characteristics of simulcast streams
[SHOULD]{.bcp14} be chosen such that they are different \-- e.g., as
different SDP formats with differing \"a=rtpmap\" and/or \"a=fmtp\"
lines, or as differently defined RTP payload format restrictions. If
this difference is not required, it is [RECOMMENDED]{.bcp14} to use RTP
duplication procedures \[[RFC7104](#RFC7104){.xref}\] instead of
simulcast. To avoid complications in implementations, a single rid-id
[MUST NOT]{.bcp14} occur more than once per \"a=simulcast\" line. Note
that this does not eliminate use of simulcast as an RTP duplication
mechanism, since it is possible to define multiple different rid-ids
that are effectively equivalent.[¶](#section-5.2-12){.pilcrow}
:::
:::

::: {#sec-offer-answer}
::: {#section-5.3 .section}
### [5.3.](#section-5.3){.section-number .selfRef} [Offer/Answer Use](#name-offer-answer-use){.section-name .selfRef} {#name-offer-answer-use}

[]{.break}

Note:
:   The inclusion of \"a=simulcast\" or the use of simulcast does not
    change any of the interpretation or Offer/Answer procedures for
    other SDP attributes, such as \"a=fmtp\" or
    \"a=rid\".[¶](#section-5.3-1.2){.pilcrow}
:   

::: {#section-5.3.1 .section}
#### [5.3.1.](#section-5.3.1){.section-number .selfRef} [Generating the Initial SDP Offer](#name-generating-the-initial-sdp-){.section-name .selfRef} {#name-generating-the-initial-sdp-}

An offerer wanting to use simulcast for a media description
[SHALL]{.bcp14} include one \"a=simulcast\" attribute in that media
description in the offer. An offerer listing a set of receive simulcast
streams and/or alternative formats as rid-ids in the offer
[MUST]{.bcp14} be prepared to receive RTP streams for any of those
simulcast streams and/or alternative formats from the
answerer.[¶](#section-5.3.1-1){.pilcrow}
:::

::: {#section-5.3.2 .section}
#### [5.3.2.](#section-5.3.2){.section-number .selfRef} [Creating the SDP Answer](#name-creating-the-sdp-answer){.section-name .selfRef} {#name-creating-the-sdp-answer}

An answerer that does not understand the concept of simulcast will also
not know the attribute and will remove it in the SDP answer, as defined
in existing SDP offer/answer procedures \[[RFC3264](#RFC3264){.xref}\].
Since SDP session-level simulcast is undefined in this memo, an answerer
that receives an offer with the \"a=simulcast\" attribute on the SDP
session level [SHALL]{.bcp14} remove it in the answer. An answerer that
understands the attribute but receives multiple \"a=simulcast\"
attributes in the same media description [SHALL]{.bcp14} disable use of
simulcast by removing all \"a=simulcast\" lines for that media
description in the answer.[¶](#section-5.3.2-1){.pilcrow}

An answerer that does understand the attribute and wants to support
simulcast in an indicated direction [SHALL]{.bcp14} reverse
directionality of the unidirectional direction parameters \-- \"send\"
becomes \"recv\" and vice versa \-- and include it in the
answer.[¶](#section-5.3.2-2){.pilcrow}

An answerer that receives an offer with simulcast containing an
\"a=simulcast\" attribute listing alternative rid-ids [MAY]{.bcp14} keep
all the alternative rid-ids in the answer, but it [MAY]{.bcp14} also
choose to remove any nondesirable alternative rid-ids in the answer. The
answerer [MUST NOT]{.bcp14} add any alternative rid-ids in the \"send\"
direction in the answer that were not present in the offer receive
direction. The answerer [MUST]{.bcp14} be prepared to receive any of the
receive-direction rid-id alternatives and [MAY]{.bcp14} send any of the
\"send\"-direction alternatives that are part of the
answer.[¶](#section-5.3.2-3){.pilcrow}

An answerer that receives an offer with simulcast that lists a number of
simulcast streams [MAY]{.bcp14} reduce the number of simulcast streams
in the answer, but it [MUST NOT]{.bcp14} add simulcast
streams.[¶](#section-5.3.2-4){.pilcrow}

An answerer that receives an offer without RTP stream pause/resume
capability [MUST NOT]{.bcp14} mark any simulcast streams as initially
paused in the answer.[¶](#section-5.3.2-5){.pilcrow}

An RTP stream answerer capable of pause/resume that receives an offer
with RTP stream pause/resume capability [MAY]{.bcp14} mark any rid-ids
that refer to pause/resume capable formats as initially paused in the
answer.[¶](#section-5.3.2-6){.pilcrow}

An answerer that receives indication in an offer of a rid-id being
initially paused [SHOULD]{.bcp14} mark that rid-id as initially paused
also in the answer, regardless of direction, unless it has good reason
for the rid-id not being initially paused. One reason to remove an
initial pause in the answer compared to the offer could be, for example,
that all \"receive\"-direction simulcast streams for a media source the
answerer accepts in the answer would otherwise be
paused.[¶](#section-5.3.2-7){.pilcrow}
:::

::: {#section-5.3.3 .section}
#### [5.3.3.](#section-5.3.3){.section-number .selfRef} [Offerer Processing the SDP Answer](#name-offerer-processing-the-sdp-){.section-name .selfRef} {#name-offerer-processing-the-sdp-}

An offerer that receives an answer without \"a=simulcast\" [MUST
NOT]{.bcp14} use simulcast towards the answerer. An offerer that
receives an answer with \"a=simulcast\" without any rid-id in a
specified direction [MUST NOT]{.bcp14} use simulcast in that
direction.[¶](#section-5.3.3-1){.pilcrow}

An offerer that receives an answer where some rid-id alternatives are
kept [MUST]{.bcp14} be prepared to receive any of the kept
\"send\"-direction rid-id alternatives and [MAY]{.bcp14} send any of the
kept \"receive\"-direction rid-id
alternatives.[¶](#section-5.3.3-2){.pilcrow}

An offerer that receives an answer where some of the rid-ids are removed
compared to the offer [MAY]{.bcp14} release the corresponding resources
(codec, transport, etc) in its \"receive\" direction and [MUST
NOT]{.bcp14} send any RTP packets corresponding to the removed
rid-ids.[¶](#section-5.3.3-3){.pilcrow}

An offerer that offered some of its rid-ids as initially paused and
receives an answer that does not indicate RTP stream pause/resume
capability [MUST NOT]{.bcp14} initially pause any simulcast
streams.[¶](#section-5.3.3-4){.pilcrow}

An offerer with RTP stream pause/resume capability that receives an
answer where some rid-ids are marked as initially paused
[SHOULD]{.bcp14} initially pause those RTP streams, even if they were
marked as initially paused also in the offer, unless it has good reason
for those RTP streams not being initially paused. One such reason could
be, for example, that the answerer would otherwise initially not receive
any media of that type at all.[¶](#section-5.3.3-5){.pilcrow}
:::

::: {#section-5.3.4 .section}
#### [5.3.4.](#section-5.3.4){.section-number .selfRef} [Modifying the Session](#name-modifying-the-session){.section-name .selfRef} {#name-modifying-the-session}

Offers inside an existing session follow the same rules as for initial
SDP offer, with these additions:[¶](#section-5.3.4-1){.pilcrow}

1.  [rid-ids marked as initially paused in the offerer\'s \"send\"
    direction [SHALL]{.bcp14} reflect the offerer\'s opinion of the
    current pause state at the time of creating the offer. This is
    purely informational, and RTP stream pause/resume signaling
    \[[RFC7728](#RFC7728){.xref}\] in the ongoing session
    [SHALL]{.bcp14} take precedence in case of any conflict or
    ambiguity.[¶](#section-5.3.4-2.1){.pilcrow}]{#section-5.3.4-2.1}
2.  [rid-ids marked as initially paused in the offerer\'s \"receive\"
    direction [SHALL]{.bcp14} (as in an initial offer) reflect the
    offerer\'s desired rid-id pause state. Except for the case where the
    offerer already paused the corresponding RTP stream through [RTP
    stream pause/resume](#RFC7728){.xref} \[[RFC7728](#RFC7728){.xref}\]
    signaling, this is identical to the conditions at an initial
    offer.[¶](#section-5.3.4-2.2){.pilcrow}]{#section-5.3.4-2.2}

Creation of SDP answers and processing of SDP answers inside an existing
session follow the same rules as described above for initial SDP
offer/answer.[¶](#section-5.3.4-3){.pilcrow}

Session modification restrictions in [Section
6.5](https://www.rfc-editor.org/rfc/rfc8851#section-6.5){.relref} of
\"RTP Payload Format Restrictions\" \[[RFC8851](#RFC8851){.xref}\] also
apply.[¶](#section-5.3.4-4){.pilcrow}
:::
:::
:::

::: {#section-5.4 .section}
### [5.4.](#section-5.4){.section-number .selfRef} [Use with Declarative SDP](#name-use-with-declarative-sdp){.section-name .selfRef} {#name-use-with-declarative-sdp}

This document does not define the use of \"a=simulcast\" in declarative
SDP, partly because use of the [simulcast format
identification](#RFC8851){.xref} \[[RFC8851](#RFC8851){.xref}\] is not
defined for use in declarative SDP. If concrete use cases for simulcast
in declarative SDP are identified in the future, the authors of this
memo expect that additional specifications will address such
use.[¶](#section-5.4-1){.pilcrow}
:::

::: {#sec-relating}
::: {#section-5.5 .section}
### [5.5.](#section-5.5){.section-number .selfRef} [Relating Simulcast Streams](#name-relating-simulcast-streams){.section-name .selfRef} {#name-relating-simulcast-streams}

Simulcast RTP streams [MUST]{.bcp14} be related on the RTP level through
[RtpStreamId](#RFC8852){.xref} \[[RFC8852](#RFC8852){.xref}\], as
specified in the SDP [\"a=simulcast\" attribute](#sec-cap){.xref}
([Section 5.2](#sec-cap){.xref}) parameters. This is sufficient as long
as there is only a single media source per SDP media description. When
using [BUNDLE](#RFC8843){.xref} \[[RFC8843](#RFC8843){.xref}\], where
multiple SDP media descriptions jointly specify a single RTP session,
the SDES MID (Media Identification) mechanism in BUNDLE allows relating
RTP streams back to individual media descriptions, after which the
RtpStreamId relations described above can be used. Use of the RTP header
extension for the [RTCP source description items](#RFC7941){.xref}
\[[RFC7941](#RFC7941){.xref}\] for both MID and RtpStreamId
identifications can be important to ensure rapid initial reception,
required to correctly interpret and process the RTP streams.
Implementers of this specification [MUST]{.bcp14} support the RTCP
source description (SDES) item method and [SHOULD]{.bcp14} support RTP
header extension method to signal RtpStreamId on the RTP
level.[¶](#section-5.5-1){.pilcrow}

[]{.break}

NOTE:
:   For the case where it is clear from SDP that the RTP PT uniquely
    maps to a corresponding RtpStreamId, an RTP receiver can use RTP PT
    to relate simulcast streams. This can sometimes enable decoding even
    in advance of receiving RtpStreamId information in RTCP SDES and/or
    RTP header extensions.[¶](#section-5.5-2.2){.pilcrow}
:   

RTP streams [MUST]{.bcp14} only use a single alternative rid-id at a
time (based on RTP timestamps) but [MAY]{.bcp14} change format (and
rid-id) on a per-RTP packet basis. This corresponds to the existing
(nonsimulcast) SDP offer/answer case when multiple formats are included
on the \"m=\" line in the SDP answer, enabling per-RTP packet change of
RTP payload type.[¶](#section-5.5-3){.pilcrow}
:::
:::

::: {#sec-ex}
::: {#section-5.6 .section}
### [5.6.](#section-5.6){.section-number .selfRef} [Signaling Examples](#name-signaling-examples){.section-name .selfRef} {#name-signaling-examples}

These examples describe a client-to-video-conference service, using a
centralized media topology with an RTP
mixer.[¶](#section-5.6-1){.pilcrow}

[]{#name-four-party-mixer-based-conf}

::: {#fig-mixer-four-party}
::: {#section-5.6-2.1 .artwork .art-text .alignCenter}
    +---+      +-----------+      +---+
    | A |<---->|           |<---->| B |
    +---+      |           |      +---+
               |   Mixer   |
    +---+      |           |      +---+
    | F |<---->|           |<---->| J |
    +---+      +-----------+      +---+
:::

[Figure 4](#figure-4){.selfRef}: [Four-Party Mixer-Based
Conference](#name-four-party-mixer-based-conf){.selfRef}
:::

::: {#sec-ex-single-source}
::: {#section-5.6.1 .section}
#### [5.6.1.](#section-5.6.1){.section-number .selfRef} [Single-Source Client](#name-single-source-client){.section-name .selfRef} {#name-single-source-client}

Alice is calling in to the mixer with a simulcast-enabled client capable
of a single media source per media type. The client can send a simulcast
of 2 video resolutions and frame rates: HD 1280x720p 30fps and thumbnail
320x180p 15fps. This is defined below using the
[\"imageattr\"](#RFC6236){.xref} \[[RFC6236](#RFC6236){.xref}\]. In this
example, only the \"pt\" \"a=rid\" parameter is used to describe
simulcast stream formats, effectively achieving a 1:1 mapping between
RtpStreamId and media formats (RTP payload types). Alice\'s
Offer:[¶](#section-5.6.1-1){.pilcrow}

[]{#name-single-source-simulcast-off}

::: {#fig-up-offer}
::: {#section-5.6.1-2.1}
``` {.sourcecode .lang-sdp}
v=0
o=alice 2362969037 2362969040 IN IP4 192.0.2.156
s=Simulcast-Enabled Client
c=IN IP4 192.0.2.156
t=0 0
m=audio 49200 RTP/AVP 0
a=rtpmap:0 PCMU/8000
m=video 49300 RTP/AVP 97 98
a=rtpmap:97 H264/90000
a=rtpmap:98 H264/90000
a=fmtp:97 profile-level-id=42c01f;max-fs=3600;max-mbps=108000
a=fmtp:98 profile-level-id=42c00b;max-fs=240;max-mbps=3600
a=imageattr:97 send [x=1280,y=720] recv [x=1280,y=720]
a=imageattr:98 send [x=320,y=180] recv [x=320,y=180]
a=rid:1 send pt=97
a=rid:2 send pt=98
a=rid:3 recv pt=97
a=simulcast:send 1;2 recv 3
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
```
:::

[Figure 5](#figure-5){.selfRef}: [Single-Source Simulcast
Offer](#name-single-source-simulcast-off){.selfRef}
:::

The only thing in the SDP that indicates simulcast capability is the
line in the video media description containing the \"simulcast\"
attribute. The included \"a=fmtp\" and \"a=imageattr\" parameters
indicate that sent simulcast streams can differ in video resolution. The
RTP header extension for RtpStreamId is offered to avoid issues with the
initial binding between RTP streams (SSRCs) and the RtpStreamId
identifying the simulcast stream and its
format.[¶](#section-5.6.1-3){.pilcrow}

The answer from the server indicates that it, too, is simulcast capable.
Should it not have been simulcast capable, the \"a=simulcast\" line
would not have been present, and communication would have started with
the media negotiated in the SDP. Also, the usage of the RtpStreamId RTP
header extension is accepted.[¶](#section-5.6.1-4){.pilcrow}

[]{#name-single-source-simulcast-ans}

::: {#fig-up-answer}
::: {#section-5.6.1-5.1}
``` {.sourcecode .lang-sdp}
v=0
o=server 823479283 1209384938 IN IP4 192.0.2.2
s=Answer to Simulcast-Enabled Client
c=IN IP4 192.0.2.43
t=0 0
m=audio 49672 RTP/AVP 0
a=rtpmap:0 PCMU/8000
m=video 49674 RTP/AVP 97 98
a=rtpmap:97 H264/90000
a=rtpmap:98 H264/90000
a=fmtp:97 profile-level-id=42c01f;max-fs=3600;max-mbps=108000
a=fmtp:98 profile-level-id=42c00b;max-fs=240;max-mbps=3600
a=imageattr:97 send [x=1280,y=720] recv [x=1280,y=720]
a=imageattr:98 send [x=320,y=180] recv [x=320,y=180]
a=rid:1 recv pt=97
a=rid:2 recv pt=98
a=rid:3 send pt=97
a=simulcast:recv 1;2 send 3
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
```
:::

[Figure 6](#figure-6){.selfRef}: [Single-Source Simulcast
Answer](#name-single-source-simulcast-ans){.selfRef}
:::

Since the server is the simulcast media receiver, it reverses the
direction of the \"simulcast\" and \"rid\" attribute
parameters.[¶](#section-5.6.1-6){.pilcrow}
:::
:::

::: {#sec-ex-multi-source}
::: {#section-5.6.2 .section}
#### [5.6.2.](#section-5.6.2){.section-number .selfRef} [Multisource Client](#name-multisource-client){.section-name .selfRef} {#name-multisource-client}

Fred is calling in to the same conference as in the example above with a
two-camera, two-display system, thus capable of handling two separate
media sources in each direction, where each media source is simulcast
enabled in the \"send\" direction. Fred\'s client is restricted to a
single media source per media
description.[¶](#section-5.6.2-1){.pilcrow}

The first two simulcast streams for the first media source use different
codecs, [H264-SVC](#RFC6190){.xref} \[[RFC6190](#RFC6190){.xref}\] and
[H264](#RFC6184){.xref} \[[RFC6184](#RFC6184){.xref}\]. These two
simulcast streams also have a temporal dependency. Two different video
codecs, [VP8](#RFC7741){.xref} \[[RFC7741](#RFC7741){.xref}\] and H264,
are offered as alternatives for the third simulcast stream for the first
media source. Only the highest-fidelity simulcast stream is sent from
start, the lower-fidelity streams being initially
paused.[¶](#section-5.6.2-2){.pilcrow}

The second media source is offered with three different simulcast
streams. All video streams of this second media source are loss
protected by [RTP retransmission](#RFC4588){.xref}
\[[RFC4588](#RFC4588){.xref}\]. In addition, all but the
highest-fidelity simulcast stream are initially paused. Note that the
lower resolution is more prioritized than the medium-resolution
simulcast stream.[¶](#section-5.6.2-3){.pilcrow}

Fred\'s client is also using BUNDLE to send all RTP streams from all
media descriptions in the same RTP session on a single media transport.
Although using many different simulcast streams in this example, the use
of RtpStreamId as simulcast stream identification enables use of a low
number of RTP payload types. Note that when using both
[BUNDLE](#RFC8843){.xref} \[[RFC8843](#RFC8843){.xref}\] and
[\"a=rid\"](#RFC8851){.xref} \[[RFC8851](#RFC8851){.xref}\], it is
recommended to use the RTP header extension for the [RTCP source
descriptions items](#RFC7941){.xref} \[[RFC7941](#RFC7941){.xref}\] for
carrying these RTP stream-identification fields, which is consequently
also included in the SDP. Note also that for \"a=rid\", the
corresponding RtpStreamId SDES attribute RTP header extension is named
[rtp-stream-id](#RFC8852){.xref}
\[[RFC8852](#RFC8852){.xref}\].[¶](#section-5.6.2-4){.pilcrow}

[]{#name-freds-multisource-simulcast}

::: {#fig-ms-offer}
::: {#section-5.6.2-5.1}
``` {.sourcecode .lang-sdp}
v=0
o=fred 238947129 823479223 IN IP6 2001:db8::c000:27d
s=Offer from Simulcast-Enabled Multi-Source Client
c=IN IP6 2001:db8::c000:27d
t=0 0
a=group:BUNDLE foo bar zen
m=audio 49200 RTP/AVP 99
a=mid:foo
a=rtpmap:99 G722/8000
m=video 49600 RTP/AVPF 100 101 103
a=mid:bar
a=rtpmap:100 H264-SVC/90000
a=rtpmap:101 H264/90000
a=rtpmap:103 VP8/90000
a=fmtp:100 profile-level-id=42400d;max-fs=3600;max-mbps=216000; \
    mst-mode=NI-TC
a=fmtp:101 profile-level-id=42c00d;max-fs=3600;max-mbps=108000
a=fmtp:103 max-fs=900; max-fr=30
a=rid:1 send pt=100;max-width=1280;max-height=720;max-fps=60;depend=2
a=rid:2 send pt=101;max-width=1280;max-height=720;max-fps=30
a=rid:3 send pt=101;max-width=640;max-height=360
a=rid:4 send pt=103;max-width=640;max-height=360
a=depend:100 lay bar:101
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:* ccm pause nowait
a=simulcast:send 1;2;~4,3
m=video 49602 RTP/AVPF 96 104
a=mid:zen
a=rtpmap:96 VP8/90000
a=fmtp:96 max-fs=3600; max-fr=30
a=rtpmap:104 rtx/90000
a=fmtp:104 apt=96;rtx-time=200
a=rid:1 send max-fs=921600;max-fps=30
a=rid:2 send max-fs=614400;max-fps=15
a=rid:3 send max-fs=230400;max-fps=30
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id
a=rtcp-fb:* ccm pause nowait
a=simulcast:send 1;~3;~2
```
:::

[Figure 7](#figure-7){.selfRef}: [Fred\'s Multisource Simulcast
Offer](#name-freds-multisource-simulcast){.selfRef}
:::
:::
:::

::: {#section-5.6.3 .section}
#### [5.6.3.](#section-5.6.3){.section-number .selfRef} [Simulcast and Redundancy](#name-simulcast-and-redundancy){.section-name .selfRef} {#name-simulcast-and-redundancy}

The example in this section looks at applying simulcast with audio and
video redundancy formats. The audio media description uses codec and
bitrate restrictions, combined with the [RTP payload for redundant audio
data](#RFC2198){.xref} \[[RFC2198](#RFC2198){.xref}\] for enhanced
packet-loss resilience. The video media description applies both
resolution and bitrate restrictions, combined with Forward Error
Correction (FEC) in the form of [flexible FEC](#RFC8627){.xref}
\[[RFC8627](#RFC8627){.xref}\] and [RTP retransmission](#RFC4588){.xref}
\[[RFC4588](#RFC4588){.xref}\].[¶](#section-5.6.3-1){.pilcrow}

The audio source is offered to be sent as two simulcast streams. The
first simulcast stream is encoded with Opus, restricted to 64 kbps
(rid-id=1), and the second simulcast stream (rid-id=2) is encoded with
either G.711, or G.711 combined with linear predictive coding (LPC) for
redundancy and explicit comfort noise (CN). Both simulcast streams
include telephone-event capability. In this example, stand-alone LPC is
not offered as a possible payload type for the second simulcast
stream\'s RID, which could be motivated by, for example, not providing
sufficient quality.[¶](#section-5.6.3-2){.pilcrow}

The video source is offered to be sent as two simulcast streams, both
with two alternative simulcast formats. Redundancy and repair are
offered in the form of both flexible FEC and RTP retransmission. The
flexible FEC is not bound to any particular RTP streams and is therefore
able to be used across all RTP streams that are being sent as part of
this media description.[¶](#section-5.6.3-3){.pilcrow}

[]{#name-simulcast-and-redundancy-ex}

::: {#fig-sim-red}
::: {#section-5.6.3-4.1}
``` {.sourcecode .lang-sdp}
o=fred 238947129 823479223 IN IP6 2001:db8::c000:27d
s=Offer from Simulcast-Enabled Client using Redundancy
c=IN IP6 2001:db8::c000:27d
t=0 0
a=group:BUNDLE foo bar
m=audio 49200 RTP/AVP 97 98 99 100 101 102
a=mid:foo
a=rtpmap:97 G711/8000
a=rtpmap:98 LPC/8000
a=rtpmap:99 OPUS/48000/1
a=rtpmap:100 RED/8000/1
a=rtpmap:101 CN/8000
a=rtpmap:102 telephone-event/8000
a=fmtp:99 useinbandfec=1;usedtx=0
a=fmtp:100 97/98
a=fmtp:102 0-15
a=ptime:20
a=maxptime:40
a=rid:1 send pt=99,102;max-br=64000
a=rid:2 send pt=100,97,101,102
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=simulcast:send 1;2
m=video 49600 RTP/AVPF 103 104 105 106 107
a=mid:bar
a=rtpmap:103 H264/90000
a=rtpmap:104 VP8/90000
a=rtpmap:105 rtx/90000
a=rtpmap:106 rtx/90000
a=rtpmap:107 flexfec/90000
a=fmtp:103 profile-level-id=42c00d;max-fs=3600;max-mbps=108000
a=fmtp:104 max-fs=3600; max-fr=30
a=fmtp:105 apt=103;rtx-time=200
a=fmtp:106 apt=104;rtx-time=200
a=fmtp:107 repair-window=100000
a=rid:1 send pt=103;max-width=1280;max-height=720;max-fps=30
a=rid:2 send pt=104;max-width=1280;max-height=720;max-fps=30
a=rid:3 send pt=103;max-width=640;max-height=360;max-br=300000
a=rid:4 send pt=104;max-width=640;max-height=360;max-br=300000
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id
a=rtcp-fb:* ccm pause nowait
a=simulcast:send 1,2;3,4
```
:::

[Figure 8](#figure-8){.selfRef}: [Simulcast and Redundancy
Example](#name-simulcast-and-redundancy-ex){.selfRef}
:::
:::
:::
:::
:::
:::

::: {#sec-rtp-aspects}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [RTP Aspects](#name-rtp-aspects){.section-name .selfRef} {#name-rtp-aspects}

This section discusses what the different entities in a simulcast media
path can expect to happen on the RTP level. This is explored from source
to sink by starting in an endpoint with a media source that is
simulcasted to an RTP middlebox. That RTP middlebox sends media sources
to other RTP middleboxes (cascaded middleboxes), as well as selecting
some simulcast format of the media source and sending it to receiving
endpoints. Different types of RTP middleboxes and their usage of the
different simulcast formats results in several different
behaviors.[¶](#section-6-1){.pilcrow}

::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [Outgoing from Endpoint with Media Source](#name-outgoing-from-endpoint-with){.section-name .selfRef} {#name-outgoing-from-endpoint-with}

The most straightforward simulcast case is the RTP streams being emitted
from the endpoint that originates a media source. When simulcast has
been negotiated in the sending direction, the endpoint can transmit up
to the number of RTP streams needed for the negotiated simulcast streams
for that media source. Each RTP stream (SSRC) is identified by
associating it ([Section 5.5](#sec-relating){.xref}) with an RtpStreamId
SDES item, transmitted in RTCP and possibly also as an RTP header
extension. In cases where multiple media sources have been negotiated
for the same RTP session and thus [BUNDLE](#RFC8843){.xref}
\[[RFC8843](#RFC8843){.xref}\] is used, the MID SDES item will also be
sent, similarly to the RtpStreamId.[¶](#section-6.1-1){.pilcrow}

Each RTP stream might not be continuously transmitted due to any of the
following reasons: temporarily paused using
[Pause/Resume](#RFC7728){.xref} \[[RFC7728](#RFC7728){.xref}\],
sender-side application logic temporarily pausing it, or lack of network
resources to transmit this simulcast stream. However, all simulcast
streams that have been negotiated have active and maintained SSRCs (at
least in regular RTCP reports), even if no RTP packets are currently
transmitted. The relation between an RTP stream (SSRC) and a particular
simulcast stream is not expected to change, except in exceptional
situations such as SSRC collisions. At SSRC changes, the usage of MID
and RtpStreamId should enable the receiver to correctly identify the RTP
streams even after an SSRC change.[¶](#section-6.1-2){.pilcrow}
:::

::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [RTP Middlebox to Receiver](#name-rtp-middlebox-to-receiver){.section-name .selfRef} {#name-rtp-middlebox-to-receiver}

RTP streams in a multiparty RTP session can be used in multiple
different ways when the session utilizes simulcast at least on the
media-source-to-middlebox legs. This is to a large degree due to the
different RTP middlebox behaviors, but also the needs of the
application. This text assumes that the RTP middlebox will select a
media source and choose which simulcast stream for that media source to
deliver to a specific receiver. In many cases, at most one simulcast
stream per media source will be forwarded to a particular receiver at
any instant in time, even if the selected simulcast stream may vary. For
cases where this does not hold due to application needs, the RTP stream
aspects will fall under the middlebox-to-middlebox case ([Section
6.3](#sec-rtp-box-box){.xref}).[¶](#section-6.2-1){.pilcrow}

The selection of which simulcast streams to forward towards the receiver
is application specific. However, in conferencing applications, active
speaker selection is common. In case the number of media sources
possible to forward, N, is less than the total number of media sources
available in a multimedia session, the current and previous speakers (up
to N in total) are often the ones forwarded. To avoid the need for
media-specific processing to determine the current speaker(s) in the RTP
middlebox, the endpoint providing a media source may include metadata,
such as the [RTP header extension for client-to-mixer audio level
indication](#RFC6464){.xref}
\[[RFC6464](#RFC6464){.xref}\].[¶](#section-6.2-2){.pilcrow}

The possibilities for stream switching are media type specific, but for
media types with significant interframe dependencies in the encoding,
like most video coding, the switching needs to be made at suitable
switching points in the media stream that breaks or otherwise deals with
the dependency structure. Even if switching points can be included
periodically, it is common to use mechanisms like [Full Intra
Requests](#RFC5104){.xref} \[[RFC5104](#RFC5104){.xref}\] to request
switching points from the endpoint performing the encoding of the media
source.[¶](#section-6.2-3){.pilcrow}

Inclusion of the RtpStreamId SDES item for an SSRC in the
middlebox-to-receiver direction should only occur when use of
RtpStreamId has been negotiated in that direction. It is worth noting
that one can signal multiple RtpStreamIds when simulcast signaling
indicates only a single simulcast stream, allowing one to use all of the
RtpStreamIds as alternatives for that simulcast stream. One reason for
including the RtpStreamId in the middlebox-to-receiver direction for an
RTP stream is to let the receiver know which restrictions apply to the
currently delivered RTP stream. In case the RtpStreamId is negotiated to
be used, it is important to remember that the used identifiers will be
specific to each signaling session. Even if the central entity can
attempt to coordinate, it is likely that the RtpStreamIds need to be
translated to the leg-specific values. The below cases will assume that
RtpStreamId is not used in the mixer to receiver
direction.[¶](#section-6.2-4){.pilcrow}

::: {#section-6.2.1 .section}
#### [6.2.1.](#section-6.2.1){.section-number .selfRef} [Media-Switching Mixer](#name-media-switching-mixer){.section-name .selfRef} {#name-media-switching-mixer}

This section discusses the behavior in cases where the RTP middlebox
behaves like the media-switching mixer in RTP topologies ([Section
3.6.2](https://www.rfc-editor.org/rfc/rfc7667#section-3.6.2){.relref} of
\[[RFC7667](#RFC7667){.xref}\]). The fundamental aspect here is that the
media sources delivered from the middlebox will be the mixer\'s
conceptual or functional ones. For example, one media source may be the
main speaker in high-resolution video, while a number of other media
sources are thumbnails of each
participant.[¶](#section-6.2.1-1){.pilcrow}

The above results in the RTP stream produced by the mixer being one that
switches between a number of received incoming RTP streams for different
media sources and in different simulcast versions. The mixer selects the
media source to be sent as one of the RTP streams and then selects among
the available simulcast streams for the most appropriate one. The
selection criteria include available bandwidth on the mixer-to-receiver
path and restrictions based on the functional usage of the RTP stream
delivered to the receiver. As an example of the latter, it is
unnecessary to forward a full HD video to a receiver if the display area
is just a thumbnail. Thus, restrictions may exist to not allow some
simulcast streams to be forwarded for some of the mixer\'s media
sources.[¶](#section-6.2.1-2){.pilcrow}

This will result in a single RTP stream being used for each of the RTP
mixer\'s media sources. At any point in time, this RTP stream is a
selection of one particular RTP stream arriving to the mixer, where the
RTP header-field values are rewritten to provide a consistent, single
RTP stream. If the RTP mixer doesn\'t receive any incoming stream
matched to this media source, the SSRC will not transmit but be kept
alive using RTCP. The SSRC and thus RTP stream for the mixer\'s media
source is expected to be long-term stable. It will only be changed by
signaling or other disruptive events. Note that although the above talks
about a single RTP stream, there can in some cases be multiple RTP
streams carrying the selected simulcast stream for the originating media
source, including redundancy or other auxiliary RTP
streams.[¶](#section-6.2.1-3){.pilcrow}

The mixer may communicate the identity of the originating media source
to the receiver by including the Contributing Source (CSRC) field with
the originating media source\'s SSRC value. Note that due to the
possibility that the RTP mixer switches between simulcast versions of
the media source, the CSRC value may change, even if the media source is
kept the same.[¶](#section-6.2.1-4){.pilcrow}

It is important to note that any MID SDES item from the originating
media source needs to be removed and not be associated with the RTP
stream\'s SSRC. That is, there is nothing in the signaling between the
mixer and the receiver that is structured around the originating media
sources, only the mixer\'s media sources. If they were associated with
the SSRC, the receiver would likely believe that there has been an SSRC
collision and the RTP stream is spurious, because it doesn\'t carry the
identifiers used to relate it to the correct context. However, this is
not true for CSRC values, as long as they are never used as an SSRC. In
these cases, one could provide CNAME and MID as SDES items. A receiver
could use this to determine which CSRC values that are associated with
the same originating media source.[¶](#section-6.2.1-5){.pilcrow}

If RtpStreamIds are used in the scenario described by this section, it
should be noted that the RtpStreamId on a particular SSRC will change
based on the actual simulcast stream selected for switching. These
RtpStreamId identifiers will be local to this leg\'s signaling context.
In addition, the defined RtpStreamIds and their parameters need to cover
all the media sources and simulcast streams received by the RTP mixer
that can be switched into this media source, sent by the RTP
mixer.[¶](#section-6.2.1-6){.pilcrow}
:::

::: {#section-6.2.2 .section}
#### [6.2.2.](#section-6.2.2){.section-number .selfRef} [Selective Forwarding Middlebox](#name-selective-forwarding-middle){.section-name .selfRef} {#name-selective-forwarding-middle}

This section discusses the behavior in cases where the RTP middlebox
behaves like the Selective Forwarding Middlebox in RTP topologies
([Section
3.7](https://www.rfc-editor.org/rfc/rfc7667#section-3.7){.relref} of
\[[RFC7667](#RFC7667){.xref}\]). Applications for this type of RTP
middlebox result in each originating media source having a corresponding
media source on the leg between the middlebox and the receiver. A
Selective Forwarding Middlebox (SFM) could go as far as exposing all the
simulcast streams for a media source; however, this section will focus
on having a single simulcast stream that can contain any of the
simulcast formats. This section will assume that the SFM projection
mechanism works on the media-source level and maps one of the media
source\'s simulcast streams onto one RTP stream from the SFM to the
receiver.[¶](#section-6.2.2-1){.pilcrow}

This usage will result in the individual RTP stream(s) for one media
source being able to switch between being active and paused, based on
the subset of media sources the SFM wants to provide the receiver for
the moment. With SFMs, there exist no reasons to use CSRC to indicate
the originating stream, as there is a one-to-one media-source mapping.
If the application requires knowing the simulcast version received to
function well, then RtpStreamId should be negotiated on the SFM to
receiver leg. Which simulcast stream that is being forwarded is not made
explicit unless RtpStreamId is used on the
leg.[¶](#section-6.2.2-2){.pilcrow}

Any MID SDES items being sent by the SFM to the receiver are only those
agreed between the SFM and the receiver, and no MID values from the
originating side of the SFM are to be
forwarded.[¶](#section-6.2.2-3){.pilcrow}

An SFM could expose corresponding RTP streams for all the media sources
and their simulcast streams and then, for any media source that is to be
provided, forward one selected simulcast stream. However, this is not
recommended, as it would unnecessarily increase the number of RTP
streams and require the receiver to timely detect switching between
simulcast streams. The above usage requires the same SFM functionality
for switching, while avoiding the uncertainties of timely detecting that
an RTP stream ends. The benefit would be that the received simulcast
stream would be implicitly provided by which RTP stream would be active
for a media source. However, using RtpStreamId to make this explicit
also exposes which alternative format is used. The conclusion is that
using one RTP stream per simulcast stream is unnecessary. The issue with
timely detecting end of streams, independent of whether they are stopped
temporarily or long term, is that there is no explicit indication that
the transmission has intentionally been stopped. The RTCP-based [pause
and resume mechanism](#RFC7728){.xref} \[[RFC7728](#RFC7728){.xref}\]
includes a PAUSED indication that provides the last RTP sequence number
transmitted prior to the pause. Due to usage, the timeliness of this
solution depends on when delivery using RTCP can occur in relation to
the transmission of the last RTP packet. If no explicit information is
provided at all, then detection based on nonincreasing RTCP SR field
values and timers need to be used to determine pause in RTP packet
delivery. As a result, when the last RTP packet arrives (if it arrives),
one usually cannot determine that this will be the last. That it was the
last is something that one learns later.[¶](#section-6.2.2-4){.pilcrow}
:::
:::

::: {#sec-rtp-box-box}
::: {#section-6.3 .section}
### [6.3.](#section-6.3){.section-number .selfRef} [RTP Middlebox to RTP Middlebox](#name-rtp-middlebox-to-rtp-middle){.section-name .selfRef} {#name-rtp-middlebox-to-rtp-middle}

This relates to the transmission of simulcast streams between RTP
middleboxes or other usages where one wants to enable the delivery of
multiple simultaneous simulcast streams per media source, but the
transmitting entity is not the originating endpoint. For a particular
direction between middleboxes A and B, this looks very similar to the
originating-to-middlebox case on a media-source basis. However, in this
case, there are usually multiple media sources, originating from
multiple endpoints. This can create situations where limitations in the
number of simultaneously received media streams can arise \-- for
example, due to limitation in network bandwidth. In this case, a subset
of not only the simulcast streams but also media sources can be
selected. As a result, individual RTP streams can become paused at any
point and later be resumed based on various
criteria.[¶](#section-6.3-1){.pilcrow}

The MIDs used between A and B are the ones agreed between these two
identities in signaling. The RtpStreamId values will also be provided to
ensure explicit information about which simulcast stream they are. The
RTP-stream-to-MID and -RtpStreamId associations should here be long-term
stable.[¶](#section-6.3-2){.pilcrow}
:::
:::
:::
:::

::: {#sec-network-aspects}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [Network Aspects](#name-network-aspects){.section-name .selfRef} {#name-network-aspects}

Simulcast is in this memo defined as the act of sending multiple
alternative encoded streams of the same underlying media source.
Transmitting multiple independent streams that originate from the same
source could potentially be done in several different ways using RTP. A
general discussion on considerations for use of the different RTP
multiplexing alternatives can be found in [\"Guidelines for Using the
Multiplexing Features of RTP to Support Multiple Media
Streams\"](#RFC8872){.xref} \[[RFC8872](#RFC8872){.xref}\]. Discussion
and clarification on how to handle multiple streams in an RTP session
can be found in
\[[RFC8108](#RFC8108){.xref}\].[¶](#section-7-1){.pilcrow}

The network aspects that are relevant for simulcast
are:[¶](#section-7-2){.pilcrow}

[]{.break}

Quality of Service (QoS):
:   When using simulcast, it might be of interest to prioritize a
    particular simulcast stream, rather than applying equal treatment to
    all streams. For example, lower-bitrate streams may be prioritized
    over higher-bitrate streams to minimize congestion or packet losses
    in the low-bitrate streams. Thus, there is a benefit to using a
    simulcast solution with good QoS
    support.[¶](#section-7-3.2){.pilcrow}
:   

NAT/FW Traversal (Network Address Translator / Firewall Traversal):
:   Using multiple RTP sessions incurs more cost for NAT/FW traversal
    unless they can reuse the same transport flow, which can be achieved
    by [multiplexing negotiation using SDP port
    numbers](#RFC8843){.xref}
    \[[RFC8843](#RFC8843){.xref}\].[¶](#section-7-3.4){.pilcrow}
:   

::: {#section-7.1 .section}
### [7.1.](#section-7.1){.section-number .selfRef} [Bitrate Adaptation](#name-bitrate-adaptation){.section-name .selfRef} {#name-bitrate-adaptation}

Use of multiple simulcast streams can require a significant amount of
network resources. The aggregate bandwidth for all simulcast streams for
a media source (and thus SDP media description) is bounded by any SDP
\"b=\" line applicable to that media source. It is assumed that a
suitable congestion-control mechanism is used by the application to
ensure that it doesn\'t cause persistent congestion. If the amount of
available network resources varies during an RTP session such that it
does not match what is negotiated in SDP, the bitrate used by the
different simulcast streams may have to be reduced dynamically. When a
simulcasting media source uses a single media transport for all of the
simulcast streams, it is likely that a joint congestion control across
all simulcast streams is used for that media source. What simulcast
streams to prioritize when allocating available bitrate among the
simulcast streams in such adaptation [SHOULD]{.bcp14} be taken from the
simulcast stream order on the \"a=simulcast\" line and ordering of
alternative simulcast formats ([Section 5.2](#sec-cap){.xref}).
Simulcast streams that have pause/resume capability and that would be
given such low bitrate by the adaptation process that they are
considered not really useful can be temporarily paused until the
limiting condition clears.[¶](#section-7.1-1){.pilcrow}
:::
:::
:::

::: {#sec-limitation}
::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Limitation](#name-limitation){.section-name .selfRef} {#name-limitation}

The chosen approach has a limitation that relates to the use of a single
RTP session for all simulcast formats of a media source, which comes
from sending all simulcast streams related to a media source under the
same SDP media description.[¶](#section-8-1){.pilcrow}

It is not possible to use different simulcast streams on different media
transports, which limits the possibilities for applying different QoS to
different simulcast streams. When using unicast, QoS mechanisms based on
individual packet marking are feasible, since they do not require
separation of simulcast streams into different RTP sessions to apply
different QoS.[¶](#section-8-2){.pilcrow}

It is also not possible to separate different simulcast streams into
different multicast groups to allow a multicast receiver to pick the
stream it wants, rather than receive all of them. In this case, the only
reasonable implementation is to use different RTP sessions for each
multicast group so that reporting and other RTCP functions operate as
intended. Such simulcast usage in a multicast context is out of scope
for the current document and would require additional
specification.[¶](#section-8-3){.pilcrow}
:::
:::

::: {#sec-iana}
::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document registers a new media-level SDP attribute, \"simulcast\",
in the \"att-field (media level only)\" registry within the \"Session
Description Protocol (SDP) Parameters\" registry, according to the
procedures of \[[RFC4566](#RFC4566){.xref}\] and
\[[RFC8859](#RFC8859){.xref}\].[¶](#section-9-1){.pilcrow}

[]{.break}

Contact name, email:
:   The IESG (iesg\@ietf.org)[¶](#section-9-2.2){.pilcrow}
:   

Attribute name:
:   simulcast[¶](#section-9-2.4){.pilcrow}
:   

Long-form attribute name:
:   Simulcast stream description[¶](#section-9-2.6){.pilcrow}
:   

Charset dependent:
:   No[¶](#section-9-2.8){.pilcrow}
:   

Attribute value:
:   sc-value; see [Section 5.1](#sec-attr){.xref} of RFC
    8853.[¶](#section-9-2.10){.pilcrow}
:   

Purpose:
:   Signals simulcast capability for a set of RTP
    streams[¶](#section-9-2.12){.pilcrow}
:   

Mux category:
:   NORMAL[¶](#section-9-2.14){.pilcrow}
:   
:::
:::

::: {#sec-security}
::: {#section-10 .section}
## [10.](#section-10){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

The simulcast capability, configuration attributes, and parameters are
vulnerable to attacks in signaling.[¶](#section-10-1){.pilcrow}

A false inclusion of the \"a=simulcast\" attribute may result in
simultaneous transmission of multiple RTP streams that would otherwise
not be generated. The impact is limited by the media description joint
bandwidth, shared by all simulcast streams irrespective of their number.
However, there may be a large number of unwanted RTP streams that will
impact the share of bandwidth allocated for the originally wanted RTP
stream.[¶](#section-10-2){.pilcrow}

A hostile removal of the \"a=simulcast\" attribute will result in
simulcast not being used.[¶](#section-10-3){.pilcrow}

Integrity protection and source authentication of all SDP signaling,
including simulcast attributes, can mitigate the risks of such attacks
that attempt to alter signaling.[¶](#section-10-4){.pilcrow}

Security considerations related to the use of \"a=rid\" and the
RtpStreamId SDES item are covered in \[[RFC8851](#RFC8851){.xref}\] and
\[[RFC8852](#RFC8852){.xref}\]. There are no additional security
concerns related to their use in this
specification.[¶](#section-10-5){.pilcrow}
:::
:::

::: {#section-11 .section}
## [11.](#section-11){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-11.1 .section}
### [11.1.](#section-11.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC3264\]
:   [Rosenberg, J.]{.refAuthor}[ and H. Schulzrinne]{.refAuthor}, [\"An
    Offer/Answer Model with Session Description Protocol
    (SDP)\"]{.refTitle}, [RFC 3264]{.seriesInfo}, [DOI
    10.17487/RFC3264]{.seriesInfo}, June 2002,
    \<<https://www.rfc-editor.org/info/rfc3264>\>.
:   

\[RFC3550\]
:   [Schulzrinne, H.]{.refAuthor}[, Casner, S.]{.refAuthor}[,
    Frederick, R.]{.refAuthor}[, and V. Jacobson]{.refAuthor}, [\"RTP: A
    Transport Protocol for Real-Time Applications\"]{.refTitle}, [STD
    64]{.seriesInfo}, [RFC 3550]{.seriesInfo}, [DOI
    10.17487/RFC3550]{.seriesInfo}, July 2003,
    \<<https://www.rfc-editor.org/info/rfc3550>\>.
:   

\[RFC4566\]
:   [Handley, M.]{.refAuthor}[, Jacobson, V.]{.refAuthor}[, and C.
    Perkins]{.refAuthor}, [\"SDP: Session Description
    Protocol\"]{.refTitle}, [RFC 4566]{.seriesInfo}, [DOI
    10.17487/RFC4566]{.seriesInfo}, July 2006,
    \<<https://www.rfc-editor.org/info/rfc4566>\>.
:   

\[RFC5234\]
:   [Crocker, D., Ed.]{.refAuthor}[ and P. Overell]{.refAuthor},
    [\"Augmented BNF for Syntax Specifications: ABNF\"]{.refTitle}, [STD
    68]{.seriesInfo}, [RFC 5234]{.seriesInfo}, [DOI
    10.17487/RFC5234]{.seriesInfo}, January 2008,
    \<<https://www.rfc-editor.org/info/rfc5234>\>.
:   

\[RFC7405\]
:   [Kyzivat, P.]{.refAuthor}, [\"Case-Sensitive String Support in
    ABNF\"]{.refTitle}, [RFC 7405]{.seriesInfo}, [DOI
    10.17487/RFC7405]{.seriesInfo}, December 2014,
    \<<https://www.rfc-editor.org/info/rfc7405>\>.
:   

\[RFC7728\]
:   [Burman, B.]{.refAuthor}[, Akram, A.]{.refAuthor}[,
    Even, R.]{.refAuthor}[, and M. Westerlund]{.refAuthor}, [\"RTP
    Stream Pause and Resume\"]{.refTitle}, [RFC 7728]{.seriesInfo}, [DOI
    10.17487/RFC7728]{.seriesInfo}, February 2016,
    \<<https://www.rfc-editor.org/info/rfc7728>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8843\]
:   [Holmberg, C.]{.refAuthor}[, Alvestrand, H.]{.refAuthor}[, and C.
    Jennings]{.refAuthor}, [\"Negotiating Media Multiplexing Using the
    Session Description Protocol (SDP)\"]{.refTitle}, [RFC
    8843]{.seriesInfo}, [DOI 10.17487/RFC8843]{.seriesInfo}, January
    2021, \<<https://www.rfc-editor.org/info/rfc8843>\>.
:   

\[RFC8851\]
:   [Roach, A.B., Ed.]{.refAuthor}, [\"RTP Payload Format
    Restrictions\"]{.refTitle}, [RFC 8851]{.seriesInfo}, [DOI
    10.17487/RFC8851]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8851>\>.
:   

\[RFC8852\]
:   [Roach, A.B.]{.refAuthor}[, Nandakumar, S.]{.refAuthor}[, and P.
    Thatcher]{.refAuthor}, [\"RTP Stream Identifier Source Description
    (SDES)\"]{.refTitle}, [RFC 8852]{.seriesInfo}, [DOI
    10.17487/RFC8852]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8852>\>.
:   

\[RFC8859\]
:   [Nandakumar, S.]{.refAuthor}, [\"A Framework for Session Description
    Protocol (SDP) Attributes When Multiplexing\"]{.refTitle}, [RFC
    8859]{.seriesInfo}, [DOI 10.17487/RFC8859]{.seriesInfo}, January
    2021, \<<https://www.rfc-editor.org/info/rfc8859>\>.
:   
:::

::: {#section-11.2 .section}
### [11.2.](#section-11.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC2198\]
:   [Perkins, C.]{.refAuthor}[, Kouvelas, I.]{.refAuthor}[,
    Hodson, O.]{.refAuthor}[, Hardman, V.]{.refAuthor}[,
    Handley, M.]{.refAuthor}[, Bolot, J.C.]{.refAuthor}[,
    Vega-Garcia, A.]{.refAuthor}[, and S. Fosse-Parisis]{.refAuthor},
    [\"RTP Payload for Redundant Audio Data\"]{.refTitle}, [RFC
    2198]{.seriesInfo}, [DOI 10.17487/RFC2198]{.seriesInfo}, September
    1997, \<<https://www.rfc-editor.org/info/rfc2198>\>.
:   

\[RFC3389\]
:   [Zopf, R.]{.refAuthor}, [\"Real-time Transport Protocol (RTP)
    Payload for Comfort Noise (CN)\"]{.refTitle}, [RFC
    3389]{.seriesInfo}, [DOI 10.17487/RFC3389]{.seriesInfo}, September
    2002, \<<https://www.rfc-editor.org/info/rfc3389>\>.
:   

\[RFC4588\]
:   [Rey, J.]{.refAuthor}[, Leon, D.]{.refAuthor}[,
    Miyazaki, A.]{.refAuthor}[, Varsa, V.]{.refAuthor}[, and R.
    Hakenberg]{.refAuthor}, [\"RTP Retransmission Payload
    Format\"]{.refTitle}, [RFC 4588]{.seriesInfo}, [DOI
    10.17487/RFC4588]{.seriesInfo}, July 2006,
    \<<https://www.rfc-editor.org/info/rfc4588>\>.
:   

\[RFC4733\]
:   [Schulzrinne, H.]{.refAuthor}[ and T. Taylor]{.refAuthor}, [\"RTP
    Payload for DTMF Digits, Telephony Tones, and Telephony
    Signals\"]{.refTitle}, [RFC 4733]{.seriesInfo}, [DOI
    10.17487/RFC4733]{.seriesInfo}, December 2006,
    \<<https://www.rfc-editor.org/info/rfc4733>\>.
:   

\[RFC5104\]
:   [Wenger, S.]{.refAuthor}[, Chandra, U.]{.refAuthor}[,
    Westerlund, M.]{.refAuthor}[, and B. Burman]{.refAuthor}, [\"Codec
    Control Messages in the RTP Audio-Visual Profile with Feedback
    (AVPF)\"]{.refTitle}, [RFC 5104]{.seriesInfo}, [DOI
    10.17487/RFC5104]{.seriesInfo}, February 2008,
    \<<https://www.rfc-editor.org/info/rfc5104>\>.
:   

\[RFC5109\]
:   [Li, A., Ed.]{.refAuthor}, [\"RTP Payload Format for Generic Forward
    Error Correction\"]{.refTitle}, [RFC 5109]{.seriesInfo}, [DOI
    10.17487/RFC5109]{.seriesInfo}, December 2007,
    \<<https://www.rfc-editor.org/info/rfc5109>\>.
:   

\[RFC5583\]
:   [Schierl, T.]{.refAuthor}[ and S. Wenger]{.refAuthor}, [\"Signaling
    Media Decoding Dependency in the Session Description Protocol
    (SDP)\"]{.refTitle}, [RFC 5583]{.seriesInfo}, [DOI
    10.17487/RFC5583]{.seriesInfo}, July 2009,
    \<<https://www.rfc-editor.org/info/rfc5583>\>.
:   

\[RFC6184\]
:   [Wang, Y.-K.]{.refAuthor}[, Even, R.]{.refAuthor}[,
    Kristensen, T.]{.refAuthor}[, and R. Jesup]{.refAuthor}, [\"RTP
    Payload Format for H.264 Video\"]{.refTitle}, [RFC
    6184]{.seriesInfo}, [DOI 10.17487/RFC6184]{.seriesInfo}, May 2011,
    \<<https://www.rfc-editor.org/info/rfc6184>\>.
:   

\[RFC6190\]
:   [Wenger, S.]{.refAuthor}[, Wang, Y.-K.]{.refAuthor}[,
    Schierl, T.]{.refAuthor}[, and A. Eleftheriadis]{.refAuthor}, [\"RTP
    Payload Format for Scalable Video Coding\"]{.refTitle}, [RFC
    6190]{.seriesInfo}, [DOI 10.17487/RFC6190]{.seriesInfo}, May 2011,
    \<<https://www.rfc-editor.org/info/rfc6190>\>.
:   

\[RFC6236\]
:   [Johansson, I.]{.refAuthor}[ and K. Jung]{.refAuthor},
    [\"Negotiation of Generic Image Attributes in the Session
    Description Protocol (SDP)\"]{.refTitle}, [RFC 6236]{.seriesInfo},
    [DOI 10.17487/RFC6236]{.seriesInfo}, May 2011,
    \<<https://www.rfc-editor.org/info/rfc6236>\>.
:   

\[RFC6464\]
:   [Lennox, J., Ed.]{.refAuthor}[, Ivov, E.]{.refAuthor}[, and E.
    Marocco]{.refAuthor}, [\"A Real-time Transport Protocol (RTP) Header
    Extension for Client-to-Mixer Audio Level Indication\"]{.refTitle},
    [RFC 6464]{.seriesInfo}, [DOI 10.17487/RFC6464]{.seriesInfo},
    December 2011, \<<https://www.rfc-editor.org/info/rfc6464>\>.
:   

\[RFC7104\]
:   [Begen, A.]{.refAuthor}[, Cai, Y.]{.refAuthor}[, and H.
    Ou]{.refAuthor}, [\"Duplication Grouping Semantics in the Session
    Description Protocol\"]{.refTitle}, [RFC 7104]{.seriesInfo}, [DOI
    10.17487/RFC7104]{.seriesInfo}, January 2014,
    \<<https://www.rfc-editor.org/info/rfc7104>\>.
:   

\[RFC7656\]
:   [Lennox, J.]{.refAuthor}[, Gross, K.]{.refAuthor}[,
    Nandakumar, S.]{.refAuthor}[, Salgueiro, G.]{.refAuthor}[, and B.
    Burman, Ed.]{.refAuthor}, [\"A Taxonomy of Semantics and Mechanisms
    for Real-Time Transport Protocol (RTP) Sources\"]{.refTitle}, [RFC
    7656]{.seriesInfo}, [DOI 10.17487/RFC7656]{.seriesInfo}, November
    2015, \<<https://www.rfc-editor.org/info/rfc7656>\>.
:   

\[RFC7667\]
:   [Westerlund, M.]{.refAuthor}[ and S. Wenger]{.refAuthor}, [\"RTP
    Topologies\"]{.refTitle}, [RFC 7667]{.seriesInfo}, [DOI
    10.17487/RFC7667]{.seriesInfo}, November 2015,
    \<<https://www.rfc-editor.org/info/rfc7667>\>.
:   

\[RFC7741\]
:   [Westin, P.]{.refAuthor}[, Lundin, H.]{.refAuthor}[,
    Glover, M.]{.refAuthor}[, Uberti, J.]{.refAuthor}[, and F.
    Galligan]{.refAuthor}, [\"RTP Payload Format for VP8
    Video\"]{.refTitle}, [RFC 7741]{.seriesInfo}, [DOI
    10.17487/RFC7741]{.seriesInfo}, March 2016,
    \<<https://www.rfc-editor.org/info/rfc7741>\>.
:   

\[RFC7941\]
:   [Westerlund, M.]{.refAuthor}[, Burman, B.]{.refAuthor}[,
    Even, R.]{.refAuthor}[, and M. Zanaty]{.refAuthor}, [\"RTP Header
    Extension for the RTP Control Protocol (RTCP) Source Description
    Items\"]{.refTitle}, [RFC 7941]{.seriesInfo}, [DOI
    10.17487/RFC7941]{.seriesInfo}, August 2016,
    \<<https://www.rfc-editor.org/info/rfc7941>\>.
:   

\[RFC8108\]
:   [Lennox, J.]{.refAuthor}[, Westerlund, M.]{.refAuthor}[,
    Wu, Q.]{.refAuthor}[, and C. Perkins]{.refAuthor}, [\"Sending
    Multiple RTP Streams in a Single RTP Session\"]{.refTitle}, [RFC
    8108]{.seriesInfo}, [DOI 10.17487/RFC8108]{.seriesInfo}, March 2017,
    \<<https://www.rfc-editor.org/info/rfc8108>\>.
:   

\[RFC8627\]
:   [Zanaty, M.]{.refAuthor}[, Singh, V.]{.refAuthor}[,
    Begen, A.]{.refAuthor}[, and G. Mandyam]{.refAuthor}, [\"RTP Payload
    Format for Flexible Forward Error Correction (FEC)\"]{.refTitle},
    [RFC 8627]{.seriesInfo}, [DOI 10.17487/RFC8627]{.seriesInfo}, July
    2019, \<<https://www.rfc-editor.org/info/rfc8627>\>.
:   

\[RFC8872\]
:   [Westerlund, M.]{.refAuthor}[, Burman, B.]{.refAuthor}[,
    Perkins, C.]{.refAuthor}[, Alvestrand, H.]{.refAuthor}[, and R.
    Even]{.refAuthor}, [\"Guidelines for Using the Multiplexing Features
    of RTP to Support Multiple Media Streams\"]{.refTitle}, [RFC
    8872]{.seriesInfo}, [DOI 10.17487/RFC8872]{.seriesInfo}, January
    2021, \<<https://www.rfc-editor.org/info/rfc8872>\>.
:   
:::
:::

::: {#sec-requirements}
::: {#section-appendix.a .section}
## [Appendix A.](#section-appendix.a){.section-number .selfRef} [Requirements](#name-requirements){.section-name .selfRef} {#name-requirements}

The following requirements are met by the defined solution to support
the [use cases](#sec-use-cases){.xref} ([Section
3](#sec-use-cases){.xref}):[¶](#section-appendix.a-1){.pilcrow}

[]{.break}

REQ-1:

:   ::: {#req-1}
    Identification:[¶](#section-appendix.a-2.2.1){.pilcrow}

    []{.break}

    REQ-1.1:

    :   ::: {#req-1.1}
        It must be possible to identify a set of simulcasted RTP streams
        as originating from the same media source in SDP
        signaling.[¶](#req-1.1){.pilcrow}
        :::

    :   

    REQ-1.2:

    :   ::: {#req-1.2}
        An RTP endpoint must be capable of identifying the simulcast
        stream that a received RTP stream is associated with, knowing
        the content of the SDP signaling.[¶](#req-1.2){.pilcrow}
        :::

    :   
    :::

:   

REQ-2:

:   ::: {#req-2}
    Transport usage. The solution must work when
    using:[¶](#section-appendix.a-2.4.1){.pilcrow}

    []{.break}

    REQ-2.1:

    :   ::: {#req-2.1}
        Legacy SDP with separate media transports per SDP media
        description.[¶](#req-2.1){.pilcrow}
        :::

    :   

    REQ-2.2:

    :   ::: {#req-2.2}
        [Bundled](#RFC8843){.xref} \[[RFC8843](#RFC8843){.xref}\] SDP
        media descriptions.[¶](#req-2.2){.pilcrow}
        :::

    :   
    :::

:   

REQ-3:

:   ::: {#req-3}
    Capability negotiation. The following must be
    possible:[¶](#section-appendix.a-2.6.1){.pilcrow}

    []{.break}

    REQ-3.1:

    :   ::: {#req-3.1}
        The sender can express capability of sending
        simulcast.[¶](#req-3.1){.pilcrow}
        :::

    :   

    REQ-3.2:

    :   ::: {#req-3.2}
        The receiver can express capability of receiving
        simulcast.[¶](#req-3.2){.pilcrow}
        :::

    :   

    REQ-3.3:

    :   ::: {#req-3.3}
        The sender can express the maximum number of simulcast streams
        that can be provided.[¶](#req-3.3){.pilcrow}
        :::

    :   

    REQ-3.4:

    :   ::: {#req-3.4}
        The receiver can express the maximum number of simulcast streams
        that can be received.[¶](#req-3.4){.pilcrow}
        :::

    :   

    REQ-3.5:

    :   ::: {#req-3.5}
        The sender can detail the characteristics of the simulcast
        streams that can be provided.[¶](#req-3.5){.pilcrow}
        :::

    :   

    REQ-3.6:

    :   ::: {#req-3.6}
        The receiver can detail the characteristics of the simulcast
        streams that it prefers to receive.[¶](#req-3.6){.pilcrow}
        :::

    :   
    :::

:   

REQ-4:

:   ::: {#req-4}
    Distinguishing features. It must be possible to have different
    simulcast streams use different codec parameters, as can be
    expressed by SDP format values and RTP payload
    types.[¶](#req-4){.pilcrow}
    :::

:   

REQ-5:

:   ::: {#req-5}
    Compatibility. It must be possible to use simulcast in combination
    with other RTP mechanisms that generate additional RTP
    streams:[¶](#section-appendix.a-2.10.1){.pilcrow}

    []{.break}

    REQ-5.1:

    :   ::: {#req-5.1}
        [RTP retransmission](#RFC4588){.xref}
        \[[RFC4588](#RFC4588){.xref}\].[¶](#req-5.1){.pilcrow}
        :::

    :   

    REQ-5.2:

    :   ::: {#req-5.2}
        [RTP Forward Error Correction](#RFC5109){.xref}
        \[[RFC5109](#RFC5109){.xref}\].[¶](#req-5.2){.pilcrow}
        :::

    :   

    REQ-5.3:

    :   ::: {#req-5.3}
        Related payload types such as audio Comfort Noise and/or
        DTMF.[¶](#req-5.3){.pilcrow}
        :::

    :   

    REQ-5.4:
    :   A single simulcast stream can consist of multiple RTP streams,
        to support codecs where a dependent stream is dependent on a set
        of encoded and dependent streams, each potentially carried in
        their own RTP stream.[¶](#section-appendix.a-2.10.2.8){.pilcrow}
    :   
    :::

:   

REQ-6:

:   ::: {#req-6}
    Interoperability. The solution must be possible to use
    in:[¶](#section-appendix.a-2.12.1){.pilcrow}

    []{.break}

    REQ-6.1:

    :   ::: {#req-6.1}
        Interworking with nonsimulcast legacy clients using a single
        media source per media type.[¶](#req-6.1){.pilcrow}
        :::

    :   

    REQ-6.2:

    :   ::: {#req-6.2}
        WebRTC environment with a single media source per SDP media
        description.[¶](#req-6.2){.pilcrow}
        :::

    :   
    :::

:   
:::
:::

::: {#sec-ack}
::: {#section-appendix.b .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The authors would like to thank [Bernard Aboba]{.contact-name}, [Thomas
Belling]{.contact-name}, [Roni Even]{.contact-name}, [Adam
Roach]{.contact-name}, [Iñaki Baz Castillo]{.contact-name}, [Paul
Kyzivat]{.contact-name}, and [Arun Arunachalam]{.contact-name} for the
feedback they provided during the development of this
document.[¶](#section-appendix.b-1){.pilcrow}
:::
:::

::: {#sec-contributors}
::: {#section-appendix.c .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

[Morgan Lindqvist]{.contact-name} and [Fredrik Jansson]{.contact-name},
both from Ericsson, have contributed with important material to the
first draft versions of this document. [Robert Hanton]{.contact-name}
and [Cullen Jennings]{.contact-name} from Cisco, [Peter
Thatcher]{.contact-name} from Google, and [Adam Roach]{.contact-name}
from Mozilla contributed significantly to subsequent
versions.[¶](#section-appendix.c-1){.pilcrow}
:::
:::

::: {#authors-addresses}
::: {#section-appendix.d .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Bo Burman]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Gronlandsgatan 31]{.street-address}
:::

::: {.left dir="auto"}
[SE-164 60 Stockholm]{.locality}
:::

::: {.left dir="auto"}
[Sweden]{.country-name}
:::

::: email
Email: <bo.burman@ericsson.com>
:::

::: {.left dir="auto"}
[Magnus Westerlund]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Torshamnsgatan 23]{.street-address}
:::

::: {.left dir="auto"}
[SE-164 83 Stockholm]{.locality}
:::

::: {.left dir="auto"}
[Sweden]{.country-name}
:::

::: email
Email: <magnus.westerlund@ericsson.com>
:::

::: {.left dir="auto"}
[Suhas Nandakumar]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco]{.org}
:::

::: {.left dir="auto"}
[170 West Tasman Drive]{.street-address}
:::

::: {.left dir="auto"}
[San Jose]{.locality}, [CA]{.region} [95134]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <snandaku@cisco.com>
:::

::: {.left dir="auto"}
[Mo Zanaty]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco]{.org}
:::

::: {.left dir="auto"}
[170 West Tasman Drive]{.street-address}
:::

::: {.left dir="auto"}
[San Jose]{.locality}, [CA]{.region} [95134]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <mzanaty@cisco.com>
:::
:::
:::
