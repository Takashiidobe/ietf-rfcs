  RFC 9143           Bundled Media     February 2022
  ------------------ ----------------- ---------------
  Holmberg, et al.   Standards Track   \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [9143](https://www.rfc-editor.org/rfc/rfc9143){.eref}

Obsoletes:
:   [8843](https://www.rfc-editor.org/rfc/rfc8843){.eref}

Updates:
:   [3264](https://www.rfc-editor.org/rfc/rfc3264){.eref},
    [5888](https://www.rfc-editor.org/rfc/rfc5888){.eref},
    [7941](https://www.rfc-editor.org/rfc/rfc7941){.eref}

Category:
:   Standards Track

Published:
:   February 2022

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    C. Holmberg
    :::

    ::: org
    Ericsson
    :::
    :::

    ::: author
    ::: author-name
    H. Alvestrand
    :::

    ::: org
    Google
    :::
    :::

    ::: author
    ::: author-name
    C. Jennings
    :::

    ::: org
    Cisco
    :::
    :::
:::

# RFC 9143 {#rfcnum}

# Negotiating Media Multiplexing Using the Session Description Protocol (SDP) {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

This specification defines a new Session Description Protocol (SDP)
Grouping Framework extension called \'BUNDLE\'. The extension can be
used with the SDP offer/answer mechanism to negotiate the usage of a
single transport (5-tuple) for sending and receiving media described by
multiple SDP media descriptions (\"m=\" sections). Such transport is
referred to as a \"BUNDLE transport\", and the media is referred to as
\"bundled media\". The \"m=\" sections that use the BUNDLE transport
form a BUNDLE group.[¶](#section-abstract-1){.pilcrow}

This specification defines a new RTP Control Protocol (RTCP) Source
Description (SDES) item and a new RTP header
extension.[¶](#section-abstract-2){.pilcrow}

This specification updates RFCs 3264, 5888, and
7941.[¶](#section-abstract-3){.pilcrow}

This specification obsoletes RFC 8843.[¶](#section-abstract-4){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc9143>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2022 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Revised BSD License text as described in Section 4.e of the Trust Legal
Provisions and are provided without warranty as described in the Revised
BSD License.[¶](#section-boilerplate.2-2){.pilcrow}

This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November 10,
2008. The person(s) controlling the copyright in some of this material
may not have granted the IETF Trust the right to allow modifications of
such material outside the IETF Standards Process. Without obtaining an
adequate license from the person(s) controlling the copyright in such
materials, this document may not be modified outside the IETF Standards
Process, and derivative works of it may not be created outside the IETF
Standards Process, except to format it for publication as an RFC or to
translate it into languages other than
English.[¶](#section-boilerplate.2-3){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Background](#name-background){.xref}
        :::

    -   ::: {#section-toc.1-1.1.2.2}
        [1.2](#section-1.2){.xref}.  [BUNDLE
        Mechanism](#name-bundle-mechanism){.xref}
        :::

    -   ::: {#section-toc.1-1.1.2.3}
        [1.3](#section-1.3){.xref}.  [Protocol
        Extensions](#name-protocol-extensions){.xref}
        :::

    -   ::: {#section-toc.1-1.1.2.4}
        [1.4](#section-1.4){.xref}.  [Changes from RFC
        8843](#name-changes-from-rfc-8843){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Terminology](#name-terminology){.xref}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Conventions](#name-conventions){.xref}
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Applicability
    Statement](#name-applicability-statement){.xref}
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [SDP Grouping Framework BUNDLE
    Extension](#name-sdp-grouping-framework-bund){.xref}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [SDP \'bundle-only\'
    Attribute](#name-sdp-bundle-only-attribute){.xref}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [SDP Offer/Answer
    Procedures](#name-sdp-offer-answer-procedures){.xref}

    -   ::: {#section-toc.1-1.7.2.1}
        [7.1](#section-7.1){.xref}.  [Generic SDP
        Considerations](#name-generic-sdp-considerations){.xref}

        -   ::: {#section-toc.1-1.7.2.1.2.1}
            [7.1.1](#section-7.1.1){.xref}.  [Connection Data
            (\"c=\")](#name-connection-data-c){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.1.2.2}
            [7.1.2](#section-7.1.2){.xref}.  [Bandwidth
            (\"b=\")](#name-bandwidth-b){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.1.2.3}
            [7.1.3](#section-7.1.3){.xref}.  [Attributes
            (\"a=\")](#name-attributes-a){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.7.2.2}
        [7.2](#section-7.2){.xref}.  [Generating the Initial BUNDLE
        Offer](#name-generating-the-initial-bund){.xref}

        -   ::: {#section-toc.1-1.7.2.2.2.1}
            [7.2.1](#section-7.2.1){.xref}.  [Suggesting the
            Offerer-Tagged \"m=\"
            Section](#name-suggesting-the-offerer-tagg){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.2.2.2}
            [7.2.2](#section-7.2.2){.xref}.  [Example: Initial BUNDLE
            Offer](#name-example-initial-bundle-offe){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.7.2.3}
        [7.3](#section-7.3){.xref}.  [Generating the SDP
        Answer](#name-generating-the-sdp-answer){.xref}

        -   ::: {#section-toc.1-1.7.2.3.2.1}
            [7.3.1](#section-7.3.1){.xref}.  [Answerer Selection of
            Tagged \"m=\"
            Sections](#name-answerer-selection-of-tagge){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.3.2.2}
            [7.3.2](#section-7.3.2){.xref}.  [Moving a Media Description
            Out of a BUNDLE
            Group](#name-moving-a-media-description-){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.3.2.3}
            [7.3.3](#section-7.3.3){.xref}.  [Rejecting a Media
            Description in a BUNDLE
            Group](#name-rejecting-a-media-descripti){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.3.2.4}
            [7.3.4](#section-7.3.4){.xref}.  [Example: SDP
            Answer](#name-example-sdp-answer){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.3.2.5}
            [7.3.5](#section-7.3.5){.xref}.  [RFC 8843
            Considerations](#name-rfc-8843-considerations){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.7.2.4}
        [7.4](#section-7.4){.xref}.  [Offerer Processing of the SDP
        Answer](#name-offerer-processing-of-the-s){.xref}

        -   ::: {#section-toc.1-1.7.2.4.2.1}
            [7.4.1](#section-7.4.1){.xref}.  [RFC 8843
            Considerations](#name-rfc-8843-considerations-2){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.7.2.5}
        [7.5](#section-7.5){.xref}.  [Modifying the
        Session](#name-modifying-the-session){.xref}

        -   ::: {#section-toc.1-1.7.2.5.2.1}
            [7.5.1](#section-7.5.1){.xref}.  [Adding a Media Description
            to a BUNDLE Group](#name-adding-a-media-description-){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.5.2.2}
            [7.5.2](#section-7.5.2){.xref}.  [Moving a Media Description
            Out of a BUNDLE
            Group](#name-moving-a-media-description-o){.xref}
            :::

        -   ::: {#section-toc.1-1.7.2.5.2.3}
            [7.5.3](#section-7.5.3){.xref}.  [Disabling a Media
            Description in a BUNDLE
            Group](#name-disabling-a-media-descripti){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.7.2.6}
        [7.6](#section-7.6){.xref}.  [3PCC
        Considerations](#name-3pcc-considerations){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Protocol
    Identification](#name-protocol-identification){.xref}

    -   ::: {#section-toc.1-1.8.2.1}
        [8.1](#section-8.1){.xref}.  [STUN, DTLS, and
        SRTP](#name-stun-dtls-and-srtp){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [RTP
    Considerations](#name-rtp-considerations){.xref}

    -   ::: {#section-toc.1-1.9.2.1}
        [9.1](#section-9.1){.xref}.  [Single RTP
        Session](#name-single-rtp-session){.xref}

        -   ::: {#section-toc.1-1.9.2.1.2.1}
            [9.1.1](#section-9.1.1){.xref}.  [Payload Type (PT) Value
            Reuse](#name-payload-type-pt-value-reuse){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.9.2.2}
        [9.2](#section-9.2){.xref}.  [Associating RTP/RTCP Streams with
        the Correct SDP Media
        Description](#name-associating-rtp-rtcp-stream){.xref}
        :::

    -   ::: {#section-toc.1-1.9.2.3}
        [9.3](#section-9.3){.xref}.  [RTP/RTCP
        Multiplexing](#name-rtp-rtcp-multiplexing){.xref}

        -   ::: {#section-toc.1-1.9.2.3.2.1}
            [9.3.1](#section-9.3.1){.xref}.  [SDP Offer/Answer
            Procedures](#name-sdp-offer-answer-procedures-2){.xref}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.10}
    [10](#section-10){.xref}. [ICE
    Considerations](#name-ice-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.11}
    [11](#section-11){.xref}. [DTLS
    Considerations](#name-dtls-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.12}
    [12](#section-12){.xref}. [RTP Header Extensions
    Consideration](#name-rtp-header-extensions-consi){.xref}
    :::

-   ::: {#section-toc.1-1.13}
    [13](#section-13){.xref}. [Updates to RFC
    3264](#name-updates-to-rfc-3264){.xref}

    -   ::: {#section-toc.1-1.13.2.1}
        [13.1](#section-13.1){.xref}.  [Original Text from RFC 3264,
        Section 5.1, Paragraph
        2](#name-original-text-from-rfc-3264){.xref}
        :::

    -   ::: {#section-toc.1-1.13.2.2}
        [13.2](#section-13.2){.xref}.  [New Text Replacing RFC 3264,
        Section 5.1, Paragraph
        2](#name-new-text-replacing-rfc-3264){.xref}
        :::

    -   ::: {#section-toc.1-1.13.2.3}
        [13.3](#section-13.3){.xref}.  [Original Text from RFC 3264,
        Section 8.4, Paragraph
        6](#name-original-text-from-rfc-3264-){.xref}
        :::

    -   ::: {#section-toc.1-1.13.2.4}
        [13.4](#section-13.4){.xref}.  [New Text Replacing RFC 3264,
        Section 8.4, Paragraph
        6](#name-new-text-replacing-rfc-3264-){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.14}
    [14](#section-14){.xref}. [Update to RFC
    5888](#name-update-to-rfc-5888){.xref}

    -   ::: {#section-toc.1-1.14.2.1}
        [14.1](#section-14.1){.xref}.  [Original Text from RFC 5888,
        Section 9.2, Paragraph
        3](#name-original-text-from-rfc-5888){.xref}
        :::

    -   ::: {#section-toc.1-1.14.2.2}
        [14.2](#section-14.2){.xref}.  [New Text Replacing RFC 5888,
        Section 9.2, Paragraph
        3](#name-new-text-replacing-rfc-5888){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.15}
    [15](#section-15){.xref}. [RTP/RTCP Extensions for
    identification-tag
    Transport](#name-rtp-rtcp-extensions-for-ide){.xref}

    -   ::: {#section-toc.1-1.15.2.1}
        [15.1](#section-15.1){.xref}.  [RTCP MID SDES
        Item](#name-rtcp-mid-sdes-item){.xref}
        :::

    -   ::: {#section-toc.1-1.15.2.2}
        [15.2](#section-15.2){.xref}.  [RTP SDES Header Extension for
        MID](#name-rtp-sdes-header-extension-f){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.16}
    [16](#section-16){.xref}. [IANA
    Considerations](#name-iana-considerations){.xref}

    -   ::: {#section-toc.1-1.16.2.1}
        [16.1](#section-16.1){.xref}.  [SDES
        Item](#name-sdes-item){.xref}
        :::

    -   ::: {#section-toc.1-1.16.2.2}
        [16.2](#section-16.2){.xref}.  [RTP SDES Header Extension
        URI](#name-rtp-sdes-header-extension-u){.xref}
        :::

    -   ::: {#section-toc.1-1.16.2.3}
        [16.3](#section-16.3){.xref}.  [SDP
        Attribute](#name-sdp-attribute){.xref}
        :::

    -   ::: {#section-toc.1-1.16.2.4}
        [16.4](#section-16.4){.xref}.  [SDP Group
        Semantics](#name-sdp-group-semantics){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.17}
    [17](#section-17){.xref}. [Security
    Considerations](#name-security-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.18}
    [18](#section-18){.xref}. [Examples](#name-examples){.xref}

    -   ::: {#section-toc.1-1.18.2.1}
        [18.1](#section-18.1){.xref}.  [Example: Tagged \"m=\" Section
        Selections](#name-example-tagged-m-section-se){.xref}
        :::

    -   ::: {#section-toc.1-1.18.2.2}
        [18.2](#section-18.2){.xref}.  [Example: BUNDLE Group
        Rejected](#name-example-bundle-group-reject){.xref}
        :::

    -   ::: {#section-toc.1-1.18.2.3}
        [18.3](#section-18.3){.xref}.  [Example: Offerer Adds a Media
        Description to a BUNDLE
        Group](#name-example-offerer-adds-a-medi){.xref}
        :::

    -   ::: {#section-toc.1-1.18.2.4}
        [18.4](#section-18.4){.xref}.  [Example: Offerer Moves a Media
        Description Out of a BUNDLE
        Group](#name-example-offerer-moves-a-med){.xref}
        :::

    -   ::: {#section-toc.1-1.18.2.5}
        [18.5](#section-18.5){.xref}.  [Example: Offerer Disables a
        Media Description within a BUNDLE
        Group](#name-example-offerer-disables-a-){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.19}
    [19](#section-19){.xref}. [References](#name-references){.xref}

    -   ::: {#section-toc.1-1.19.2.1}
        [19.1](#section-19.1){.xref}.  [Normative
        References](#name-normative-references){.xref}
        :::

    -   ::: {#section-toc.1-1.19.2.2}
        [19.2](#section-19.2){.xref}.  [Informative
        References](#name-informative-references){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.20}
    [Appendix A](#appendix-A){.xref}.  [Design
    Considerations](#name-design-considerations){.xref}

    -   ::: {#section-toc.1-1.20.2.1}
        [A.1](#appendix-A.1){.xref}.  [UA
        Interoperability](#name-ua-interoperability){.xref}
        :::

    -   ::: {#section-toc.1-1.20.2.2}
        [A.2](#appendix-A.2){.xref}.  [Usage of Port Number Value
        Zero](#name-usage-of-port-number-value-){.xref}
        :::

    -   ::: {#section-toc.1-1.20.2.3}
        [A.3](#appendix-A.3){.xref}.  [B2BUA and Proxy
        Interoperability](#name-b2bua-and-proxy-interoperab){.xref}

        -   ::: {#section-toc.1-1.20.2.3.2.1}
            [A.3.1](#appendix-A.3.1){.xref}.  [Traffic
            Policing](#name-traffic-policing){.xref}
            :::

        -   ::: {#section-toc.1-1.20.2.3.2.2}
            [A.3.2](#appendix-A.3.2){.xref}.  [Bandwidth
            Allocation](#name-bandwidth-allocation){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.20.2.4}
        [A.4](#appendix-A.4){.xref}.  [Candidate
        Gathering](#name-candidate-gathering){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.21}
    [](#appendix-B){.xref}[Acknowledgements](#name-acknowledgements){.xref}
    :::

-   ::: {#section-toc.1-1.22}
    [](#appendix-C){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}
    :::
:::
:::

::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Background](#name-background){.section-name .selfRef} {#name-background}

When the SDP offer/answer mechanism \[[RFC3264](#RFC3264){.xref}\] is
used to negotiate the establishment of multimedia communication
sessions, if separate transports (5-tuples) are negotiated for each
individual media stream, each transport consumes additional resources
(especially when Interactive Connectivity Establishment (ICE)
\[[RFC8445](#RFC8445){.xref}\] is used). For this reason, it is
attractive to use a single transport for multiple media
streams.[¶](#section-1.1-1){.pilcrow}
:::

::: {#section-1.2 .section}
### [1.2.](#section-1.2){.section-number .selfRef} [BUNDLE Mechanism](#name-bundle-mechanism){.section-name .selfRef} {#name-bundle-mechanism}

This specification defines a way to use a single transport (BUNDLE
transport) for sending and receiving media (bundled media) described by
multiple SDP media descriptions (\"m=\" sections). The address:port
combination used by an endpoint for sending and receiving bundled media
is referred to as the \"BUNDLE address:port\". The set of SDP attributes
that are applied to each \"m=\" section within a BUNDLE group is
referred to as \"BUNDLE attributes\". The same BUNDLE transport is used
for sending and receiving bundled media, which means that the symmetric
Real-time Transport Protocol (RTP) mechanism
\[[RFC4961](#RFC4961){.xref}\] is always used for RTP-based bundled
media.[¶](#section-1.2-1){.pilcrow}

This specification defines a new SDP Grouping Framework
\[[RFC5888](#RFC5888){.xref}\] extension called \'BUNDLE\'. The
extension can be used with the Session Description Protocol (SDP)
offer/answer mechanism \[[RFC3264](#RFC3264){.xref}\] to negotiate which
\"m=\" sections will become part of a BUNDLE group. In addition, the
offerer and answerer \[[RFC3264](#RFC3264){.xref}\] use the BUNDLE
extension to negotiate the BUNDLE addresses:ports (offerer BUNDLE
address:port and answerer BUNDLE address:port) and the set of BUNDLE
attributes (offerer BUNDLE attributes and answerer BUNDLE attributes)
that will be applied to each \"m=\" section within the BUNDLE
group.[¶](#section-1.2-2){.pilcrow}

The use of a BUNDLE transport allows the usage of a single set of ICE
candidates \[[RFC8445](#RFC8445){.xref}\] for the whole BUNDLE
group.[¶](#section-1.2-3){.pilcrow}

A given BUNDLE address:port [MUST]{.bcp14} only be associated with a
single BUNDLE group. If an SDP offer or SDP answer (hereafter referred
to as \"offer\" and \"answer\") contains multiple BUNDLE groups, the
procedures in this specification apply to each group independently. All
RTP-based bundled media associated with a given BUNDLE group belong to a
single RTP session
\[[RFC3550](#RFC3550){.xref}\].[¶](#section-1.2-4){.pilcrow}

The BUNDLE extension is backward compatible. Endpoints that do not
support the extension are expected to generate offers and answers
without an SDP \'group:BUNDLE\' attribute and assign a unique
address:port to each \"m=\" section within an offer and answer,
according to the procedures in \[[RFC3264](#RFC3264){.xref}\] and
\[[RFC4566](#RFC4566){.xref}\].[¶](#section-1.2-5){.pilcrow}
:::

::: {#section-1.3 .section}
### [1.3.](#section-1.3){.section-number .selfRef} [Protocol Extensions](#name-protocol-extensions){.section-name .selfRef} {#name-protocol-extensions}

In addition to defining the new SDP Grouping Framework extension, this
specification defines the following protocol extensions and makes the
following updates to RFCs. This
specification:[¶](#section-1.3-1){.pilcrow}

-   [defines a new SDP attribute, \'bundle-only\', which can be used to
    request that a specific \"m=\" section (and the associated media) be
    used only if kept within a BUNDLE
    group.[¶](#section-1.3-2.1){.pilcrow}]{#section-1.3-2.1}
-   [updates RFC 3264 \[[RFC3264](#RFC3264){.xref}\] to also allow
    assigning a zero port value to an \"m=\" section in cases where the
    media described by the \"m=\" section is not disabled or
    rejected.[¶](#section-1.3-2.2){.pilcrow}]{#section-1.3-2.2}
-   [defines a new RTCP \[[RFC3550](#RFC3550){.xref}\] SDES item, Media
    Identification (\'MID\'), and a new RTP SDES header extension that
    can be used to associate RTP streams with \"m=\"
    sections.[¶](#section-1.3-2.3){.pilcrow}]{#section-1.3-2.3}
-   [updates \[[RFC7941](#RFC7941){.xref}\] by adding an exception, for
    the MID RTP header extension, to the requirement regarding
    protection of an SDES RTP header extension carrying an SDES item for
    the MID RTP header
    extension.[¶](#section-1.3-2.4){.pilcrow}]{#section-1.3-2.4}
-   [updates \[[RFC5888](#RFC5888){.xref}\] by allowing an SDP \'group\'
    attribute to contain an identification-tag that identifies an \"m=\"
    section with the port value set to
    zero.[¶](#section-1.3-2.5){.pilcrow}]{#section-1.3-2.5}
:::

::: {#sec-changes-8843}
::: {#section-1.4 .section}
### [1.4.](#section-1.4){.section-number .selfRef} [Changes from RFC 8843](#name-changes-from-rfc-8843){.section-name .selfRef} {#name-changes-from-rfc-8843}

When \[[RFC8843](#RFC8843){.xref}\] and \[[RFC8829](#RFC8829){.xref}\]
were published, an inconsistency between the specifications was
identified. The procedures regarding assigning the port value to a
bundled \"m=\" section in an answer (initial or subsequent) and a
subsequent offer were inconsistent. This specification removes the
inconsistency by aligning the port value assignment procedure with the
procedure in
\[[RFC8829](#RFC8829){.xref}\].[¶](#section-1.4-1){.pilcrow}

In addition, this document implements changes from the following errata
reports: \[[Err6431](#Err6431){.xref}\],
\[[Err6437](#Err6437){.xref}\].[¶](#section-1.4-2){.pilcrow}
:::
:::
:::

::: {#sec-term}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

[]{.break}

\"m=\" section:
:   SDP bodies contain one or more media descriptions, referred to as
    \"m=\" sections. Each \"m=\" section is represented by an SDP \"m=\"
    line and zero or more SDP attributes associated with the \"m=\"
    line. A local address:port combination is assigned to each \"m=\"
    section.[¶](#section-2-1.2){.pilcrow}
:   

5-tuple:
:   A collection of the following values: source address, source port,
    destination address, destination port, and transport-layer
    protocol.[¶](#section-2-1.4){.pilcrow}
:   

Unique address:port:
:   An address:port combination that is assigned to only one \"m=\"
    section in an offer or answer.[¶](#section-2-1.6){.pilcrow}
:   

Offerer BUNDLE-tag:
:   The first identification-tag in a given SDP \'group:BUNDLE\'
    attribute identification-tag list in an
    offer.[¶](#section-2-1.8){.pilcrow}
:   

Answerer BUNDLE-tag:
:   The first identification-tag in a given SDP \'group:BUNDLE\'
    attribute identification-tag list in an
    answer.[¶](#section-2-1.10){.pilcrow}
:   

Suggested offerer-tagged \"m=\" section:
:   The bundled \"m=\" section identified by the offerer BUNDLE-tag in
    an initial BUNDLE offer, before a BUNDLE group has been
    negotiated.[¶](#section-2-1.12){.pilcrow}
:   

Offerer-tagged \"m=\" section:
:   The bundled \"m=\" section identified by the offerer BUNDLE-tag in a
    subsequent offer. The \"m=\" section contains characteristics
    (offerer BUNDLE address:port and offerer BUNDLE attributes) that are
    applied to each \"m=\" section within the BUNDLE
    group.[¶](#section-2-1.14){.pilcrow}
:   

Answerer-tagged \"m=\" section:
:   The bundled \"m=\" section identified by the answerer BUNDLE-tag in
    an answer (initial BUNDLE answer or subsequent). The \"m=\" section
    contains characteristics (answerer BUNDLE address:port and answerer
    BUNDLE attributes) that are applied to each \"m=\" section within
    the BUNDLE group.[¶](#section-2-1.16){.pilcrow}
:   

BUNDLE address:port:
:   An address:port combination that an endpoint uses for sending and
    receiving bundled media.[¶](#section-2-1.18){.pilcrow}
:   

Offerer BUNDLE address:port:
:   The address:port combination used by the offerer for sending and
    receiving media.[¶](#section-2-1.20){.pilcrow}
:   

Answerer BUNDLE address:port:
:   The address:port combination used by the answerer for sending and
    receiving media.[¶](#section-2-1.22){.pilcrow}
:   

BUNDLE attributes:
:   IDENTICAL and TRANSPORT multiplexing category SDP attributes. Once a
    BUNDLE group has been created, the attribute values apply to each
    bundled \"m=\" section within the BUNDLE
    group.[¶](#section-2-1.24){.pilcrow}
:   

Offerer BUNDLE attributes:
:   IDENTICAL and TRANSPORT multiplexing category SDP attributes
    included in the offerer-tagged \"m=\"
    section.[¶](#section-2-1.26){.pilcrow}
:   

Answerer BUNDLE attributes:
:   IDENTICAL and TRANSPORT multiplexing category SDP attributes
    included in the answerer-tagged \"m=\"
    section.[¶](#section-2-1.28){.pilcrow}
:   

BUNDLE transport:
:   The transport (5-tuple) used by all media described by the \"m=\"
    sections within a BUNDLE group.[¶](#section-2-1.30){.pilcrow}
:   

BUNDLE group:
:   A set of bundled \"m=\" sections, created using an SDP offer/answer
    exchange, that uses a single BUNDLE transport and a single set of
    BUNDLE attributes for sending and receiving all media (bundled
    media) described by the set of \"m=\" sections. The same BUNDLE
    transport is used for sending and receiving bundled
    media.[¶](#section-2-1.32){.pilcrow}
:   

Bundled \"m=\" section:
:   An \"m=\" section, whose identification-tag is placed in an SDP
    \'group:BUNDLE\' attribute identification-tag list in an offer or
    answer.[¶](#section-2-1.34){.pilcrow}
:   

Bundle-only \"m=\" section:
:   A bundled \"m=\" section that contains an SDP \'bundle-only\'
    attribute.[¶](#section-2-1.36){.pilcrow}
:   

Bundled media:
:   All media associated with a given BUNDLE
    group.[¶](#section-2-1.38){.pilcrow}
:   

Initial BUNDLE offer:
:   The first offer, within an SDP session (e.g., a SIP dialog when SIP
    \[[RFC3261](#RFC3261){.xref}\] is used to carry SDP), in which the
    offerer indicates that it wants to negotiate a given BUNDLE
    group.[¶](#section-2-1.40){.pilcrow}
:   

Initial BUNDLE answer:
:   The answer to an initial BUNDLE offer in which the offerer indicates
    that it wants to negotiate a BUNDLE group, and the answerer accepts
    the creation of the BUNDLE group. The BUNDLE group is created once
    the answerer sends the initial BUNDLE
    answer.[¶](#section-2-1.42){.pilcrow}
:   

Subsequent offer:
:   An offer that contains a BUNDLE group that has been created as part
    of a previous offer/answer exchange.[¶](#section-2-1.44){.pilcrow}
:   

Subsequent answer:
:   An answer to a subsequent offer.[¶](#section-2-1.46){.pilcrow}
:   

Identification-tag:
:   A unique token value that is used to identify an \"m=\" section. The
    SDP \'mid\' attribute \[[RFC5888](#RFC5888){.xref}\] in an \"m=\"
    section carries the unique identification-tag assigned to that
    \"m=\" section. The session-level SDP \'group\' attribute
    \[[RFC5888](#RFC5888){.xref}\] carries a list of
    identification-tags, identifying the \"m=\" sections associated with
    that particular \'group\' attribute.[¶](#section-2-1.48){.pilcrow}
:   
:::
:::

::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Conventions](#name-conventions){.section-name .selfRef} {#name-conventions}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-3-1){.pilcrow}
:::

::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Applicability Statement](#name-applicability-statement){.section-name .selfRef} {#name-applicability-statement}

The mechanism in this specification only applies to SDP
\[[RFC4566](#RFC4566){.xref}\], when used together with the SDP
offer/answer mechanism \[[RFC3264](#RFC3264){.xref}\]. Declarative usage
of SDP is out of scope of this document and is thus
undefined.[¶](#section-4-1){.pilcrow}
:::

::: {#sec-group}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [SDP Grouping Framework BUNDLE Extension](#name-sdp-grouping-framework-bund){.section-name .selfRef} {#name-sdp-grouping-framework-bund}

This section defines a new SDP Grouping Framework
\[[RFC5888](#RFC5888){.xref}\] extension, \'BUNDLE\'. The BUNDLE
extension can be used with the SDP offer/answer mechanism to negotiate a
set of \"m=\" sections that will become part of a BUNDLE group. Within a
BUNDLE group, each \"m=\" section uses a BUNDLE transport for sending
and receiving bundled media. Each endpoint uses a single address:port
combination for sending and receiving the bundled
media.[¶](#section-5-1){.pilcrow}

The BUNDLE extension is indicated using an SDP \'group\' attribute with
a semantics value \[[RFC5888](#RFC5888){.xref}\] of \"BUNDLE\". An
identification-tag is assigned to each bundled \"m=\" section, and each
identification-tag is listed in the SDP \'group:BUNDLE\' attribute
identification-tag list. Each \"m=\" section whose identification-tag is
listed in the identification-tag list is associated with a given BUNDLE
group.[¶](#section-5-2){.pilcrow}

SDP bodies can contain multiple BUNDLE groups. Any given bundled \"m=\"
section [MUST NOT]{.bcp14} be associated with more than one BUNDLE group
at any given time.[¶](#section-5-3){.pilcrow}

NOTE: The order of the \"m=\" sections listed in the SDP
\'group:BUNDLE\' attribute identification-tag list does not have to be
the same as the order in which the \"m=\" sections occur in the
SDP.[¶](#section-5-4){.pilcrow}

The multiplexing category \[[RFC8859](#RFC8859){.xref}\] for the
\'group:BUNDLE\' attribute is \'NORMAL\'.[¶](#section-5-5){.pilcrow}

[Section 7](#sec-sdp-oa){.xref} defines the detailed SDP offer/answer
procedures for the BUNDLE extension.[¶](#section-5-6){.pilcrow}
:::
:::

::: {#sec-bundle-only}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [SDP \'bundle-only\' Attribute](#name-sdp-bundle-only-attribute){.section-name .selfRef} {#name-sdp-bundle-only-attribute}

This section defines a new SDP media-level attribute
\[[RFC4566](#RFC4566){.xref}\], \'bundle-only\'. \'bundle-only\' is a
property attribute \[[RFC4566](#RFC4566){.xref}\]; hence, it has no
value.[¶](#section-6-1){.pilcrow}

In order to ensure that an answerer that does not support the BUNDLE
extension always rejects a bundled \"m=\" section in an offer, the
offerer can assign a zero port value to the \"m=\" section. According to
\[[RFC3264](#RFC3264){.xref}\], an answerer will reject such an \"m=\"
section. By including an SDP \'bundle-only\' attribute in a bundled
\"m=\" section, the offerer can request that the answerer accept the
\"m=\" section only if the answerer supports the BUNDLE extension and if
the answerer keeps the \"m=\" section within the associated BUNDLE
group.[¶](#section-6-2){.pilcrow}

[]{.break}

Name:
:   bundle-only[¶](#section-6-3.2){.pilcrow}
:   

Value:
:   N/A[¶](#section-6-3.4){.pilcrow}
:   

Usage Level:
:   media[¶](#section-6-3.6){.pilcrow}
:   

Charset Dependent:
:   no[¶](#section-6-3.8){.pilcrow}
:   

Example:
:   a=bundle-only[¶](#section-6-3.10){.pilcrow}
:   

The usage of the \'bundle-only\' attribute is only defined for a bundled
\"m=\" section with a zero port value. Other usage is unspecified. If an
offerer or answerer receives a \'bundle-only\' attribute in a
non-bundled \"m=\" section, the offerer or answerer [MUST]{.bcp14}
discard the attribute.[¶](#section-6-4){.pilcrow}

[Section 7](#sec-sdp-oa){.xref} defines the detailed SDP offer/answer
procedures for the \'bundle-only\' attribute.[¶](#section-6-5){.pilcrow}
:::
:::

::: {#sec-sdp-oa}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [SDP Offer/Answer Procedures](#name-sdp-offer-answer-procedures){.section-name .selfRef} {#name-sdp-offer-answer-procedures}

This section describes the SDP offer/answer
\[[RFC3264](#RFC3264){.xref}\] procedures
for:[¶](#section-7-1){.pilcrow}

-   [Negotiating a BUNDLE
    group;[¶](#section-7-2.1){.pilcrow}]{#section-7-2.1}
-   [Suggesting and selecting the tagged \"m=\" sections (offerer-tagged
    \"m=\" section and answerer-tagged \"m=\"
    section);[¶](#section-7-2.2){.pilcrow}]{#section-7-2.2}
-   [Adding an \"m=\" section to a BUNDLE
    group;[¶](#section-7-2.3){.pilcrow}]{#section-7-2.3}
-   [Moving an \"m=\" section out of a BUNDLE group;
    and[¶](#section-7-2.4){.pilcrow}]{#section-7-2.4}
-   [Disabling an \"m=\" section within a BUNDLE
    group.[¶](#section-7-2.5){.pilcrow}]{#section-7-2.5}

The generic rules and procedures defined in
\[[RFC3264](#RFC3264){.xref}\] and \[[RFC5888](#RFC5888){.xref}\] also
apply to the BUNDLE extension. For example, if an offer is rejected by
the answerer, the previously negotiated addresses:ports, SDP parameters,
and characteristics (including those associated with a BUNDLE group)
apply. Hence, if an offerer generates an offer in order to negotiate a
BUNDLE group and the answerer rejects the offer, the BUNDLE group is not
created.[¶](#section-7-3){.pilcrow}

The procedures in this section are independent of the media type or
\"m=\" line proto value assigned to a bundled \"m=\" section. [Section
6](#sec-bundle-only){.xref} defines additional considerations for the
usage of the SDP \'bundle-only\' attribute. [Section 9](#sec-rtp){.xref}
defines additional considerations for RTP-based media. [Section
10](#sec-ice){.xref} defines additional considerations for the usage of
the ICE mechanism
\[[RFC8445](#RFC8445){.xref}\].[¶](#section-7-4){.pilcrow}

Offers and answers can contain multiple BUNDLE groups. The procedures in
this section apply independently to a given BUNDLE
group.[¶](#section-7-5){.pilcrow}

::: {#sec-sdp-cons}
::: {#section-7.1 .section}
### [7.1.](#section-7.1){.section-number .selfRef} [Generic SDP Considerations](#name-generic-sdp-considerations){.section-name .selfRef} {#name-generic-sdp-considerations}

This section describes generic restrictions associated with the usage of
SDP parameters within a BUNDLE group. It also describes how to calculate
a value for the whole BUNDLE group, when parameter and attribute values
have been assigned to each bundled \"m=\"
section.[¶](#section-7.1-1){.pilcrow}

::: {#sec-sdp-cons-c}
::: {#section-7.1.1 .section}
#### [7.1.1.](#section-7.1.1){.section-number .selfRef} [Connection Data (\"c=\")](#name-connection-data-c){.section-name .selfRef} {#name-connection-data-c}

The \"c=\" line nettype value \[[RFC4566](#RFC4566){.xref}\] associated
with a bundled \"m=\" section [MUST]{.bcp14} be
\'IN\'.[¶](#section-7.1.1-1){.pilcrow}

The \"c=\" line addrtype value \[[RFC4566](#RFC4566){.xref}\] associated
with a bundled \"m=\" section [MUST]{.bcp14} be \'IP4\' or \'IP6\'. The
same value [MUST]{.bcp14} be associated with each \"m=\"
section.[¶](#section-7.1.1-2){.pilcrow}

NOTE: Extensions to this specification can specify usage of the BUNDLE
mechanism for other nettype and addrtype values than the ones listed
above.[¶](#section-7.1.1-3){.pilcrow}
:::
:::

::: {#sec-sdp-cons-b}
::: {#section-7.1.2 .section}
#### [7.1.2.](#section-7.1.2){.section-number .selfRef} [Bandwidth (\"b=\")](#name-bandwidth-b){.section-name .selfRef} {#name-bandwidth-b}

An offerer and answerer [MUST]{.bcp14} use the rules and restrictions
defined in \[[RFC8859](#RFC8859){.xref}\] for associating the SDP
bandwidth (\"b=\") line with bundled \"m=\"
sections.[¶](#section-7.1.2-1){.pilcrow}
:::
:::

::: {#sec-sdp-oa-cat}
::: {#section-7.1.3 .section}
#### [7.1.3.](#section-7.1.3){.section-number .selfRef} [Attributes (\"a=\")](#name-attributes-a){.section-name .selfRef} {#name-attributes-a}

An offerer and answerer [MUST]{.bcp14} include SDP attributes in every
bundled \"m=\" section where applicable, following the normal
offer/answer procedures for each attribute, with the following
exceptions:[¶](#section-7.1.3-1){.pilcrow}

-   [In the initial BUNDLE offer, the offerer [MUST NOT]{.bcp14} include
    IDENTICAL and TRANSPORT multiplexing category SDP attributes (BUNDLE
    attributes) in bundle-only \"m=\" sections. The offerer
    [MUST]{.bcp14} include such attributes in all other bundled \"m=\"
    sections. In the initial BUNDLE offer, each bundled \"m=\" line can
    contain a different set of BUNDLE attributes and attribute values.
    Once the offerer-tagged \"m=\" section has been selected, the BUNDLE
    attributes contained in the offerer-tagged \"m=\" section will apply
    to each bundled \"m=\" section within the BUNDLE
    group.[¶](#section-7.1.3-2.1){.pilcrow}]{#section-7.1.3-2.1}
-   [In a subsequent offer or in an answer (initial or subsequent), the
    offerer and answerer [MUST]{.bcp14} include IDENTICAL and TRANSPORT
    multiplexing category SDP attributes (BUNDLE attributes) only in the
    tagged \"m=\" section (offerer-tagged \"m=\" section or
    answerer-tagged \"m=\" section). The offerer and answerer [MUST
    NOT]{.bcp14} include such attributes in any other bundled \"m=\"
    section. The BUNDLE attributes contained in the tagged \"m=\"
    section will apply to each bundled \"m=\" section within the BUNDLE
    group.[¶](#section-7.1.3-2.2){.pilcrow}]{#section-7.1.3-2.2}
-   [In an offer (initial BUNDLE offer or subsequent) or in an answer
    (initial BUNDLE answer or subsequent), the offerer and answerer
    [MUST]{.bcp14} include SDP attributes from categories other than
    IDENTICAL and TRANSPORT in each bundled \"m=\" section that a given
    attribute applies to. Each bundled \"m=\" line can contain a
    different set of such attributes and attribute values, as such
    attributes only apply to the given bundled \"m=\" section in which
    they are
    included.[¶](#section-7.1.3-2.3){.pilcrow}]{#section-7.1.3-2.3}

NOTE: A consequence of the rules above is that media-specific IDENTICAL
and TRANSPORT multiplexing category SDP attributes that are applicable
only to some of the bundled \"m=\" sections within the BUNDLE group
might appear in the tagged \"m=\" section for which they are not
applicable. For instance, the tagged \"m=\" section might contain an SDP
\'rtcp-mux\' attribute even if the tagged \"m=\" section does not
describe RTP-based media (but another bundled \"m=\" section within the
BUNDLE group does describe RTP-based
media).[¶](#section-7.1.3-3){.pilcrow}
:::
:::
:::
:::

::: {#sec-sdp-oa-ino}
::: {#section-7.2 .section}
### [7.2.](#section-7.2){.section-number .selfRef} [Generating the Initial BUNDLE Offer](#name-generating-the-initial-bund){.section-name .selfRef} {#name-generating-the-initial-bund}

The procedures in this section apply to the first offer within an SDP
session (e.g., a SIP dialog when SIP \[[RFC3261](#RFC3261){.xref}\] is
used to carry SDP) in which the offerer indicates that it wants to
negotiate a given BUNDLE group. This could occur in the initial offer,
or in a subsequent offer, of the SDP
session.[¶](#section-7.2-1){.pilcrow}

When an offerer generates an initial BUNDLE offer, in order to negotiate
a BUNDLE group, it [MUST]{.bcp14}:[¶](#section-7.2-2){.pilcrow}

-   [Assign a unique address:port to each bundled \"m=\" section
    following the procedures in \[[RFC3264](#RFC3264){.xref}\],
    excluding any bundle-only \"m=\" sections (see
    below);[¶](#section-7.2-3.1){.pilcrow}]{#section-7.2-3.1}
-   [Pick a bundled \"m=\" section as the suggested offerer-tagged
    \"m=\" ([Section
    7.2.1](#sec-sdp-oa-ino-req){.xref});[¶](#section-7.2-3.2){.pilcrow}]{#section-7.2-3.2}
-   [Include SDP attributes in the bundled \"m=\" sections following the
    rules in [Section
    7.1.3](#sec-sdp-oa-cat){.xref};[¶](#section-7.2-3.3){.pilcrow}]{#section-7.2-3.3}
-   [Include an SDP \'group:BUNDLE\' attribute in the offer;
    and[¶](#section-7.2-3.4){.pilcrow}]{#section-7.2-3.4}
-   [Place the identification-tag of each bundled \"m=\" section in the
    SDP \'group:BUNDLE\' attribute identification-tag list. The offerer
    BUNDLE-tag indicates the suggested offerer-tagged \"m=\"
    section.[¶](#section-7.2-3.5){.pilcrow}]{#section-7.2-3.5}

NOTE: When the offerer assigns unique addresses:ports to multiple
bundled \"m=\" sections, the offerer needs to be prepared to receive
bundled media on each unique address:port until it receives the
associated answer and finds out which bundled \"m=\" section (and
associated address:port combination) the answerer has selected as the
offerer-tagged \"m=\" section.[¶](#section-7.2-4){.pilcrow}

If the offerer wants to request that the answerer accept a given bundled
\"m=\" section only if the answerer keeps the \"m=\" section within the
negotiated BUNDLE group, the offerer
[MUST]{.bcp14}:[¶](#section-7.2-5){.pilcrow}

-   [Include an SDP \'bundle-only\' attribute ([Section
    7.2.1](#sec-sdp-oa-ino-req){.xref}) in the \"m=\" section,
    and[¶](#section-7.2-6.1){.pilcrow}]{#section-7.2-6.1}
-   [Assign a zero port value to the \"m=\"
    section.[¶](#section-7.2-6.2){.pilcrow}]{#section-7.2-6.2}

NOTE: If the offerer assigns a zero port value to a bundled \"m=\"
section but does not include an SDP \'bundle-only\' attribute in the
\"m=\" section, it is an indication that the offerer wants to disable
the \"m=\" section ([Section
7.5.3](#sec-sdp-oa-mod-dis){.xref}).[¶](#section-7.2-7){.pilcrow}

Sections [7.2.2](#sec-sdp-oa-ino-ex){.xref} and
[18.1](#sec-example-add){.xref} show an example of an initial BUNDLE
offer.[¶](#section-7.2-8){.pilcrow}

::: {#sec-sdp-oa-ino-req}
::: {#section-7.2.1 .section}
#### [7.2.1.](#section-7.2.1){.section-number .selfRef} [Suggesting the Offerer-Tagged \"m=\" Section](#name-suggesting-the-offerer-tagg){.section-name .selfRef} {#name-suggesting-the-offerer-tagg}

In the initial BUNDLE offer, the bundled \"m=\" section indicated by the
offerer BUNDLE-tag is the suggested offerer-tagged \"m=\" section. The
address:port combination associated with the \"m=\" section will be used
by the offerer for sending and receiving bundled media if the answerer
selects the \"m=\" section as the offerer-tagged \"m=\" section
([Section 7.3.1](#sec-sdp-oa-ans-off){.xref}). In addition, if the
answerer selects the \"m=\" section as the offerer-tagged \"m=\"
section, the BUNDLE attributes included in the \"m=\" section will be
applied to each \"m=\" section within the negotiated BUNDLE
group.[¶](#section-7.2.1-1){.pilcrow}

The offerer [MUST NOT]{.bcp14} suggest a bundle-only \"m=\" section as
the offerer-tagged \"m=\" section.[¶](#section-7.2.1-2){.pilcrow}

It is [RECOMMENDED]{.bcp14} that the suggested offerer-tagged \"m=\"
section be a bundled \"m=\" section which the offerer believes is
unlikely to be rejected or moved out of the BUNDLE group by the
answerer. How such an assumption is made is outside the scope of this
document.[¶](#section-7.2.1-3){.pilcrow}
:::
:::

::: {#sec-sdp-oa-ino-ex}
::: {#section-7.2.2 .section}
#### [7.2.2.](#section-7.2.2){.section-number .selfRef} [Example: Initial BUNDLE Offer](#name-example-initial-bundle-offe){.section-name .selfRef} {#name-example-initial-bundle-offe}

The following example shows an initial BUNDLE offer. The offer includes
two \"m=\" sections in the offer and suggests that both \"m=\" sections
be included in a BUNDLE group. The audio \"m=\" section is the suggested
offerer-tagged \"m=\" section, indicated by placing the
identification-tag associated with the \"m=\" section (offerer
BUNDLE-tag) first in the SDP \'group:BUNDLE\' attribute
identification-id list.[¶](#section-7.2.2-1){.pilcrow}

SDP Offer[¶](#section-7.2.2-2){.pilcrow}

::: {#section-7.2.2-3}
``` {.lang-sdp .sourcecode}
  v=0
  o=alice 2890844526 2890844526 IN IP6 2001:db8::3
  s=
  c=IN IP6 2001:db8::3
  t=0 0
  a=group:BUNDLE foo bar

  m=audio 10000 RTP/AVP 0 8 97
  b=AS:200
  a=mid:foo
  a=rtcp-mux
  a=rtpmap:0 PCMU/8000
  a=rtpmap:8 PCMA/8000
  a=rtpmap:97 iLBC/8000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

  m=video 10002 RTP/AVP 31 32
  b=AS:1000
  a=mid:bar
  a=rtcp-mux
  a=rtpmap:31 H261/90000
  a=rtpmap:32 MPV/90000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-7.2.2-3){.pilcrow}
:::

The following example shows an initial BUNDLE offer. The offer includes
two \"m=\" sections in the offer and suggests that both \"m=\" sections
are included in a BUNDLE group. The offerer includes an SDP
\'bundle-only\' attribute in the video \"m=\" section to request that
the answerer accept the \"m=\" section only if the answerer supports the
BUNDLE extension and if the answerer keeps the \"m=\" section within the
associated BUNDLE group. The audio \"m=\" section is the suggested
offerer-tagged \"m=\" section, indicated by placing the
identification-tag associated with the \"m=\" section (offerer
BUNDLE-tag) first in the SDP \'group:BUNDLE\' attribute
identification-id list.[¶](#section-7.2.2-4){.pilcrow}

SDP Offer[¶](#section-7.2.2-5){.pilcrow}

::: {#section-7.2.2-6}
``` {.lang-sdp .sourcecode}
  v=0
  o=alice 2890844526 2890844526 IN IP6 2001:db8::3
  s=
  c=IN IP6 2001:db8::3
  t=0 0
  a=group:BUNDLE foo bar

  m=audio 10000 RTP/AVP 0 8 97
  b=AS:200
  a=mid:foo
  a=rtcp-mux
  a=rtpmap:0 PCMU/8000
  a=rtpmap:8 PCMA/8000
  a=rtpmap:97 iLBC/8000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

  m=video 0 RTP/AVP 31 32
  b=AS:1000
  a=mid:bar
  a=bundle-only
  a=rtpmap:31 H261/90000
  a=rtpmap:32 MPV/90000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-7.2.2-6){.pilcrow}
:::
:::
:::
:::
:::

::: {#sec-sdp-oa-ans}
::: {#section-7.3 .section}
### [7.3.](#section-7.3){.section-number .selfRef} [Generating the SDP Answer](#name-generating-the-sdp-answer){.section-name .selfRef} {#name-generating-the-sdp-answer}

When an answerer generates an answer (initial BUNDLE answer or
subsequent) that contains a BUNDLE group, the following general SDP
Grouping Framework restrictions, defined in
\[[RFC5888](#RFC5888){.xref}\], also apply to the BUNDLE
group:[¶](#section-7.3-1){.pilcrow}

-   [The answerer is only allowed to include a BUNDLE group in an
    initial BUNDLE answer if the offerer requested the BUNDLE group to
    be created in the corresponding initial BUNDLE
    offer;[¶](#section-7.3-2.1){.pilcrow}]{#section-7.3-2.1}
-   [The answerer is only allowed to include a BUNDLE group in a
    subsequent answer if the corresponding subsequent offer contains a
    previously negotiated BUNDLE
    group;[¶](#section-7.3-2.2){.pilcrow}]{#section-7.3-2.2}
-   [The answerer is only allowed to include a bundled \"m=\" section in
    an answer if the \"m=\" section was indicated as bundled in the
    corresponding offer;
    and[¶](#section-7.3-2.3){.pilcrow}]{#section-7.3-2.3}
-   [The answerer is only allowed to include a bundled \"m=\" section in
    the same BUNDLE group as the bundled \"m=\" line in the
    corresponding
    offer.[¶](#section-7.3-2.4){.pilcrow}]{#section-7.3-2.4}

In addition, when an answerer generates an answer (initial BUNDLE answer
or subsequent) that contains a BUNDLE group, the answerer
[MUST]{.bcp14}:[¶](#section-7.3-3){.pilcrow}

-   [In case of an initial BUNDLE answer, select the offerer-tagged
    \"m=\" section using the procedures in [Section
    7.3.1](#sec-sdp-oa-ans-off){.xref}. In case of a subsequent answer,
    the offerer-tagged \"m=\" section is indicated in the corresponding
    subsequent offer and [MUST NOT]{.bcp14} be changed by the
    answerer;[¶](#section-7.3-4.1){.pilcrow}]{#section-7.3-4.1}
-   [Select the answerer-tagged \"m=\" section ([Section
    7.3.1](#sec-sdp-oa-ans-off){.xref});[¶](#section-7.3-4.2){.pilcrow}]{#section-7.3-4.2}
-   [Assign the answerer BUNDLE address:port to the answerer-tagged
    \"m=\" section and to every other bundled \"m=\" section within the
    BUNDLE group;[¶](#section-7.3-4.3){.pilcrow}]{#section-7.3-4.3}
-   [Include SDP attributes in the bundled \"m=\" sections following the
    rules in [Section
    7.1.3](#sec-sdp-oa-cat){.xref};[¶](#section-7.3-4.4){.pilcrow}]{#section-7.3-4.4}
-   [Include an SDP \'group:BUNDLE\' attribute in the answer;
    and[¶](#section-7.3-4.5){.pilcrow}]{#section-7.3-4.5}
-   [Place the identification-tag of each bundled \"m=\" section in the
    SDP \'group:BUNDLE\' attribute identification-tag list. The answerer
    BUNDLE-tag indicates the answerer-tagged \"m=\" section ([Section
    7.3.1](#sec-sdp-oa-ans-off){.xref}).[¶](#section-7.3-4.6){.pilcrow}]{#section-7.3-4.6}

If the answerer does not want to keep an \"m=\" section within a BUNDLE
group, it [MUST]{.bcp14}:[¶](#section-7.3-5){.pilcrow}

-   [Move the \"m=\" section out of the BUNDLE group ([Section
    7.3.2](#sec-sdp-oa-ans-mov){.xref});
    or[¶](#section-7.3-6.1){.pilcrow}]{#section-7.3-6.1}
-   [Reject the \"m=\" section ([Section
    7.3.3](#sec-sdp-oa-ans-rej){.xref}).[¶](#section-7.3-6.2){.pilcrow}]{#section-7.3-6.2}

The answerer can modify the answerer BUNDLE address:port, add and remove
SDP attributes, or modify SDP attribute values in a subsequent answer.
Changes to the answerer BUNDLE address:port and the answerer BUNDLE
attributes will be applied to each bundled \"m=\" section within the
BUNDLE group.[¶](#section-7.3-7){.pilcrow}

NOTE: If a bundled \"m=\" section in an offer contains a zero port
value, but the \"m=\" section does not contain an SDP \'bundle-only\'
attribute, it is an indication that the offerer wants to disable the
\"m=\" section ([Section
7.5.3](#sec-sdp-oa-mod-dis){.xref}).[¶](#section-7.3-8){.pilcrow}

::: {#sec-sdp-oa-ans-off}
::: {#section-7.3.1 .section}
#### [7.3.1.](#section-7.3.1){.section-number .selfRef} [Answerer Selection of Tagged \"m=\" Sections](#name-answerer-selection-of-tagge){.section-name .selfRef} {#name-answerer-selection-of-tagge}

When selecting the offerer-tagged \"m=\" section, the answerer
[MUST]{.bcp14} first check whether the \"m=\" section fulfills the
following criteria ([Section
7.2.1](#sec-sdp-oa-ino-req){.xref}):[¶](#section-7.3.1-1){.pilcrow}

-   [The answerer will not move the \"m=\" section out of the BUNDLE
    group ([Section
    7.3.2](#sec-sdp-oa-ans-mov){.xref});[¶](#section-7.3.1-2.1){.pilcrow}]{#section-7.3.1-2.1}
-   [The answerer will not reject the \"m=\" section ([Section
    7.3.3](#sec-sdp-oa-ans-rej){.xref});
    and[¶](#section-7.3.1-2.2){.pilcrow}]{#section-7.3.1-2.2}
-   [The \"m=\" section does not contain a zero port
    value.[¶](#section-7.3.1-2.3){.pilcrow}]{#section-7.3.1-2.3}

If all of the criteria above are fulfilled, the answerer [MUST]{.bcp14}
select the \"m=\" section as the offerer-tagged \"m=\" section and
[MUST]{.bcp14} also mark the corresponding \"m=\" section in the answer
as the answerer-tagged \"m=\" section. In the answer, the answerer
BUNDLE-tag indicates the answerer-tagged \"m=\"
section.[¶](#section-7.3.1-3){.pilcrow}

If one or more of the criteria are not fulfilled, the answerer
[MUST]{.bcp14} pick the next identification-tag in the
identification-tag list in the offer and perform the same criteria check
for the \"m=\" section indicated by that identification-tag. If there
are no more identification-tags in the identification-tag list, the
answerer [MUST NOT]{.bcp14} create the BUNDLE group. In addition, unless
the answerer rejects the whole offer, the answerer [MUST]{.bcp14} apply
the answerer procedures for moving an \"m=\" section out of a BUNDLE
group ([Section 7.3.2](#sec-sdp-oa-ans-mov){.xref}) or rejecting an
\"m=\" section within a BUNDLE group ([Section
7.3.3](#sec-sdp-oa-ans-rej){.xref}) to every bundled \"m=\" section in
the offer when creating the answer.[¶](#section-7.3.1-4){.pilcrow}

[Section 18.1](#sec-example-add){.xref} shows an example of an offerer
BUNDLE address:port selection.[¶](#section-7.3.1-5){.pilcrow}

Sections [7.3.4](#sec-sdp-oa-ans-ex){.xref} and
[18.1](#sec-example-add){.xref} show an example of an answerer-tagged
\"m=\" section selection.[¶](#section-7.3.1-6){.pilcrow}
:::
:::

::: {#sec-sdp-oa-ans-mov}
::: {#section-7.3.2 .section}
#### [7.3.2.](#section-7.3.2){.section-number .selfRef} [Moving a Media Description Out of a BUNDLE Group](#name-moving-a-media-description-){.section-name .selfRef} {#name-moving-a-media-description-}

When an answerer generates the answer, the answerer [MUST]{.bcp14} first
check the following criteria if it wants to move a bundled \"m=\"
section out of the negotiated BUNDLE
group:[¶](#section-7.3.2-1){.pilcrow}

-   [In the corresponding offer, the \"m=\" section is within a
    previously negotiated BUNDLE group,
    and[¶](#section-7.3.2-2.1){.pilcrow}]{#section-7.3.2-2.1}
-   [In the corresponding offer, the \"m=\" section contains an SDP
    \'bundle-only\'
    attribute.[¶](#section-7.3.2-2.2){.pilcrow}]{#section-7.3.2-2.2}

If either criterion above is fulfilled, the answerer cannot move the
\"m=\" section out of the BUNDLE group in the answer. The answerer can
reject the whole offer, reject each bundled \"m=\" section within the
BUNDLE group ([Section 7.3.3](#sec-sdp-oa-ans-rej){.xref}), or keep the
\"m=\" section within the BUNDLE group in the answer and later create an
offer where the \"m=\" section is moved out of the BUNDLE group
([Section
7.5.2](#sec-sdp-oa-mod-mov){.xref}).[¶](#section-7.3.2-3){.pilcrow}

NOTE: One consequence of the rules above is that, once a BUNDLE group
has been negotiated, a bundled \"m=\" section cannot be moved out of the
BUNDLE group in an answer. Instead, an offer is
needed.[¶](#section-7.3.2-4){.pilcrow}

When the answerer generates an answer in which it moves a bundled \"m=\"
section out of a BUNDLE group, the
answerer:[¶](#section-7.3.2-5){.pilcrow}

-   [[MUST]{.bcp14} assign a unique address:port to the \"m=\"
    section;[¶](#section-7.3.2-6.1){.pilcrow}]{#section-7.3.2-6.1}
-   [[MUST]{.bcp14} include any applicable SDP attribute in the \"m=\"
    section using the normal offer/answer procedures for each
    attribute;[¶](#section-7.3.2-6.2){.pilcrow}]{#section-7.3.2-6.2}
-   [[MUST NOT]{.bcp14} place the identification-tag associated with the
    \"m=\" section in the SDP \'group:BUNDLE\' attribute
    identification-tag list associated with the BUNDLE group;
    and[¶](#section-7.3.2-6.3){.pilcrow}]{#section-7.3.2-6.3}
-   [[MUST NOT]{.bcp14} include an SDP \'bundle-only\' attribute to the
    \"m=\"
    section.[¶](#section-7.3.2-6.4){.pilcrow}]{#section-7.3.2-6.4}

Because an answerer is not allowed to move an \"m=\" section from one
BUNDLE group to another within an answer ([Section
7.3](#sec-sdp-oa-ans){.xref}), if the answerer wants to move an \"m=\"
section from one BUNDLE group to another, it [MUST]{.bcp14} first move
the \"m=\" section out of the current BUNDLE group and then generate an
offer where the \"m=\" section is added to another BUNDLE group
([Section
7.5.1](#sec-sdp-oa-mod-add){.xref}).[¶](#section-7.3.2-7){.pilcrow}
:::
:::

::: {#sec-sdp-oa-ans-rej}
::: {#section-7.3.3 .section}
#### [7.3.3.](#section-7.3.3){.section-number .selfRef} [Rejecting a Media Description in a BUNDLE Group](#name-rejecting-a-media-descripti){.section-name .selfRef} {#name-rejecting-a-media-descripti}

When an answerer wants to reject a bundled \"m=\" section in an answer,
it [MUST]{.bcp14} first check the following
criterion:[¶](#section-7.3.3-1){.pilcrow}

-   [In the corresponding offer (subsequent), the \"m=\" section is the
    offerer-tagged \"m=\"
    section.[¶](#section-7.3.3-2.1){.pilcrow}]{#section-7.3.3-2.1}

If the criterion above is fulfilled, the answerer cannot reject the
\"m=\" section in the answer. The answerer can reject the whole offer,
reject each bundled \"m=\" section within the BUNDLE group, or keep the
\"m=\" section within the BUNDLE group in the answer and later create an
offer where the \"m=\" section is disabled within the BUNDLE group
([Section
7.5.3](#sec-sdp-oa-mod-dis){.xref}).[¶](#section-7.3.3-3){.pilcrow}

When an answerer generates an answer in which it rejects a bundled
\"m=\" section, the answerer:[¶](#section-7.3.3-4){.pilcrow}

-   [[MUST]{.bcp14} assign a zero port value to the \"m=\" section,
    according to the procedures in
    \[[RFC3264](#RFC3264){.xref}\];[¶](#section-7.3.3-5.1){.pilcrow}]{#section-7.3.3-5.1}
-   [[MUST NOT]{.bcp14} place the identification-tag associated with the
    \"m=\" section in the SDP \'group:BUNDLE\' attribute
    identification-tag list associated with the BUNDLE group;
    and[¶](#section-7.3.3-5.2){.pilcrow}]{#section-7.3.3-5.2}
-   [[MUST NOT]{.bcp14} include an SDP \'bundle-only\' attribute in the
    \"m=\"
    section.[¶](#section-7.3.3-5.3){.pilcrow}]{#section-7.3.3-5.3}
:::
:::

::: {#sec-sdp-oa-ans-ex}
::: {#section-7.3.4 .section}
#### [7.3.4.](#section-7.3.4){.section-number .selfRef} [Example: SDP Answer](#name-example-sdp-answer){.section-name .selfRef} {#name-example-sdp-answer}

The example below shows an answer based on the corresponding offer in
[Section 7.2.2](#sec-sdp-oa-ino-ex){.xref}. The answerer accepts both
bundled \"m=\" sections within the created BUNDLE group. The audio
\"m=\" section is the answerer-tagged \"m=\" section, indicated by
placing the identification-tag associated with the \"m=\" section
(answerer BUNDLE-tag) first in the SDP \'group:BUNDLE\' attribute
identification-id list.[¶](#section-7.3.4-1){.pilcrow}

SDP Answer[¶](#section-7.3.4-2){.pilcrow}

::: {#section-7.3.4-3}
``` {.lang-sdp .sourcecode}
  v=0
  o=bob 2808844564 2808844564 IN IP6 2001:db8::1
  s=
  c=IN IP6 2001:db8::1
  t=0 0
  a=group:BUNDLE foo bar

  m=audio 20000 RTP/AVP 0
  b=AS:200
  a=mid:foo
  a=rtcp-mux
  a=rtpmap:0 PCMU/8000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

  m=video 20000 RTP/AVP 32
  b=AS:1000
  a=mid:bar
  a=rtpmap:32 MPV/90000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-7.3.4-3){.pilcrow}
:::
:::
:::

::: {#sec-sdp-oa-ans-8843}
::: {#section-7.3.5 .section}
#### [7.3.5.](#section-7.3.5){.section-number .selfRef} [RFC 8843 Considerations](#name-rfc-8843-considerations){.section-name .selfRef} {#name-rfc-8843-considerations}

In \[[RFC8843](#RFC8843){.xref}\], instead of assigning the offerer
BUNDLE address:port to each \"m=\" section within the BUNDLE group when
modifying the session ([Section 7.5](#sec-sdp-oa-mod){.xref}), the
offerer only assigned the offerer BUNDLE address:port to the
offerer-tagged \"m=\" section. For every other \"m=\" section within the
BUNDLE group, the offerer included an SDP \'bundle-only\' attribute in,
and assigned a zero port value to, the \"m=\" section. The way an
answerer compliant with this specification processes such offer is
considered an implementation issue (e.g., based on whether the answerer
needs to be backward compatible with offerers compliant with
\[[RFC8843](#RFC8843){.xref}\]) and is outside the scope of this
specification. The example below shows such an SDP
Offer:[¶](#section-7.3.5-1){.pilcrow}

SDP Offer[¶](#section-7.3.5-2){.pilcrow}

::: {#section-7.3.5-3}
``` {.lang-sdp .sourcecode}
  v=0
  o=alice 2890844526 2890844526 IN IP6 2001:db8::3
  s=
  c=IN IP6 2001:db8::3
  t=0 0
  a=group:BUNDLE foo bar

  m=audio 10000 RTP/AVP 0 8 97
  b=AS:200
  a=mid:foo
  a=rtcp-mux
  a=rtpmap:0 PCMU/8000
  a=rtpmap:8 PCMA/8000
  a=rtpmap:97 iLBC/8000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

  m=video 0 RTP/AVP 31 32
  b=AS:1000
  a=mid:bar
  a=bundle-only
  a=rtpmap:31 H261/90000
  a=rtpmap:32 MPV/90000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-7.3.5-3){.pilcrow}
:::
:::
:::
:::
:::

::: {#sec-sdp-oa-off-ans}
::: {#section-7.4 .section}
### [7.4.](#section-7.4){.section-number .selfRef} [Offerer Processing of the SDP Answer](#name-offerer-processing-of-the-s){.section-name .selfRef} {#name-offerer-processing-of-the-s}

When an offerer receives an answer, if the answer contains a BUNDLE
group, the offerer [MUST]{.bcp14} check that any bundled \"m=\" section
in the answer was indicated as bundled in the corresponding offer (for
the same BUNDLE group). If there is no mismatch, the offerer
[MUST]{.bcp14} apply the properties (BUNDLE address:port, BUNDLE
attributes, etc.) of the offerer-tagged \"m=\" section (selected by the
answerer; see [Section 7.3.1](#sec-sdp-oa-ans-off){.xref}) to each
bundled \"m=\" section within the BUNDLE
group.[¶](#section-7.4-1){.pilcrow}

NOTE: As the answerer might reject one or more bundled \"m=\" sections
in an initial BUNDLE offer or move a bundled \"m=\" section out of a
BUNDLE group, a given bundled \"m=\" section in the offer might not be
indicated as bundled in the corresponding
answer.[¶](#section-7.4-2){.pilcrow}

If the answer does not contain a BUNDLE group, the offerer
[MUST]{.bcp14} process the answer as a normal
answer.[¶](#section-7.4-3){.pilcrow}

::: {#sec-sdp-oa-off-8843}
::: {#section-7.4.1 .section}
#### [7.4.1.](#section-7.4.1){.section-number .selfRef} [RFC 8843 Considerations](#name-rfc-8843-considerations-2){.section-name .selfRef} {#name-rfc-8843-considerations-2}

In \[[RFC8843](#RFC8843){.xref}\], instead of assigning the answerer
BUNDLE address:port to each \"m=\" section within the BUNDLE group when
generating the SDP Answer ([Section 7.3](#sec-sdp-oa-ans){.xref}), the
answerer only assigned the answerer BUNDLE address:port to the
answerer-tagged \"m=\" section. For every other \"m=\" section within
the BUNDLE group, the answerer included an SDP \'bundle-only\' attribute
in, and assigned a zero port value to, the \"m=\" section. The way an
offerer compliant with this specification processes such an SDP Answer
is considered an implementation issue (e.g., based on whether the
answerer needs to be backward compatible with offerers compliant with
\[[RFC8843](#RFC8843){.xref}\]) and is outside the scope of this
specification. The example below shows such an SDP
Answer:[¶](#section-7.4.1-1){.pilcrow}

SDP Answer[¶](#section-7.4.1-2){.pilcrow}

::: {#section-7.4.1-3}
``` {.lang-sdp .sourcecode}
  v=0
  o=bob 2808844564 2808844564 IN IP6 2001:db8::1
  s=
  c=IN IP6 2001:db8::1
  t=0 0
  a=group:BUNDLE foo bar

  m=audio 20000 RTP/AVP 0
  b=AS:200
  a=mid:foo
  a=rtcp-mux
  a=rtpmap:0 PCMU/8000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

  m=video 0 RTP/AVP 32
  b=AS:1000
  a=mid:bar
  a=bundle-only
  a=rtpmap:32 MPV/90000
  a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-7.4.1-3){.pilcrow}
:::
:::
:::
:::
:::

::: {#sec-sdp-oa-mod}
::: {#section-7.5 .section}
### [7.5.](#section-7.5){.section-number .selfRef} [Modifying the Session](#name-modifying-the-session){.section-name .selfRef} {#name-modifying-the-session}

When a BUNDLE group has been previously negotiated and an offerer
generates a subsequent offer, the offerer
[MUST]{.bcp14}:[¶](#section-7.5-1){.pilcrow}

-   [Pick one bundled \"m=\" section as the offerer-tagged \"m=\"
    section. The offerer can pick either the \"m=\" section that was
    previously selected by the answerer as the offerer-tagged \"m=\"
    section or another bundled \"m=\" section within the BUNDLE
    group;[¶](#section-7.5-2.1){.pilcrow}]{#section-7.5-2.1}
-   [Assign a BUNDLE address:port (previously negotiated or newly
    suggested) to the offerer-tagged \"m=\" section and to every other
    bundled \"m=\" section within the BUNDLE
    group;[¶](#section-7.5-2.2){.pilcrow}]{#section-7.5-2.2}
-   [Include SDP attributes in the bundled \"m=\" sections following the
    rules in [Section
    7.1.3](#sec-sdp-oa-cat){.xref};[¶](#section-7.5-2.3){.pilcrow}]{#section-7.5-2.3}
-   [Include an SDP \'group:BUNDLE\' attribute in the offer;
    and[¶](#section-7.5-2.4){.pilcrow}]{#section-7.5-2.4}
-   [Place the identification-tag of each bundled \"m=\" section in the
    SDP \'group:BUNDLE\' attribute identification-tag list. The offerer
    BUNDLE-tag indicates the offerer-tagged \"m=\"
    section.[¶](#section-7.5-2.5){.pilcrow}]{#section-7.5-2.5}

The offerer [MUST NOT]{.bcp14} pick a given bundled \"m=\" section as
the offerer-tagged \"m=\" section if:[¶](#section-7.5-3){.pilcrow}

-   [The offerer wants to move the \"m=\" section out of the BUNDLE
    group ([Section 7.5.2](#sec-sdp-oa-mod-mov){.xref}),
    or[¶](#section-7.5-4.1){.pilcrow}]{#section-7.5-4.1}
-   [The offerer wants to disable the \"m=\" section ([Section
    7.5.3](#sec-sdp-oa-mod-dis){.xref}).[¶](#section-7.5-4.2){.pilcrow}]{#section-7.5-4.2}

The offerer can modify the offerer BUNDLE address:port, add and remove
SDP attributes, or modify SDP attribute values in the subsequent offer.
Changes to the offerer BUNDLE address:port and the offerer BUNDLE
attributes will (if the offer is accepted by the answerer) be applied to
each bundled \"m=\" section within the BUNDLE
group.[¶](#section-7.5-5){.pilcrow}

::: {#sec-sdp-oa-mod-add}
::: {#section-7.5.1 .section}
#### [7.5.1.](#section-7.5.1){.section-number .selfRef} [Adding a Media Description to a BUNDLE Group](#name-adding-a-media-description-){.section-name .selfRef} {#name-adding-a-media-description-}

When an offerer generates a subsequent offer in which it wants to add a
bundled \"m=\" section to a previously negotiated BUNDLE group, the
offerer follows the procedures in [Section 7.5](#sec-sdp-oa-mod){.xref}.
The offerer picks either the added \"m=\" section or an \"m=\" section
previously added to the BUNDLE group as the offerer-tagged \"m=\"
section.[¶](#section-7.5.1-1){.pilcrow}

NOTE: As described in [Section 7.3.2](#sec-sdp-oa-ans-mov){.xref}, the
answerer cannot move the added \"m=\" section out of the BUNDLE group in
its answer. If the answerer wants to move the \"m=\" section out of the
BUNDLE group, it will have to first accept it into the BUNDLE group in
the answer and then send a subsequent offer where the \"m=\" section is
moved out of the BUNDLE group ([Section
7.5.2](#sec-sdp-oa-mod-mov){.xref}).[¶](#section-7.5.1-2){.pilcrow}
:::
:::

::: {#sec-sdp-oa-mod-mov}
::: {#section-7.5.2 .section}
#### [7.5.2.](#section-7.5.2){.section-number .selfRef} [Moving a Media Description Out of a BUNDLE Group](#name-moving-a-media-description-o){.section-name .selfRef} {#name-moving-a-media-description-o}

When an offerer generates a subsequent offer in which it wants to remove
a bundled \"m=\" section from a BUNDLE group, the
offerer:[¶](#section-7.5.2-1){.pilcrow}

-   [[MUST]{.bcp14} assign a unique address:port to the \"m=\"
    section;[¶](#section-7.5.2-2.1){.pilcrow}]{#section-7.5.2-2.1}
-   [[MUST]{.bcp14} include SDP attributes in the \"m=\" section
    following the normal offer/answer rules for each
    attribute;[¶](#section-7.5.2-2.2){.pilcrow}]{#section-7.5.2-2.2}
-   [[MUST NOT]{.bcp14} place the identification-tag associated with the
    \"m=\" section in the SDP \'group:BUNDLE\' attribute
    identification-tag list associated with the BUNDLE group;
    and[¶](#section-7.5.2-2.3){.pilcrow}]{#section-7.5.2-2.3}
-   [[MUST NOT]{.bcp14} assign an SDP \'bundle-only\' attribute to the
    \"m=\"
    section.[¶](#section-7.5.2-2.4){.pilcrow}]{#section-7.5.2-2.4}

For the other bundled \"m=\" sections within the BUNDLE group, the
offerer follows the procedures in [Section
7.5](#sec-sdp-oa-mod){.xref}.[¶](#section-7.5.2-3){.pilcrow}

An offerer [MUST NOT]{.bcp14} move an \"m=\" section from one BUNDLE
group to another within a single offer. If the offerer wants to move an
\"m=\" section from one BUNDLE group to another, it [MUST]{.bcp14} first
move the BUNDLE group out of the current BUNDLE group and then generate
a second offer where the \"m=\" section is added to another BUNDLE group
([Section
7.5.1](#sec-sdp-oa-mod-add){.xref}).[¶](#section-7.5.2-4){.pilcrow}

[Section 18.4](#sec-example-off-mov){.xref} shows an example of an offer
for moving an \"m=\" section out of a BUNDLE
group.[¶](#section-7.5.2-5){.pilcrow}
:::
:::

::: {#sec-sdp-oa-mod-dis}
::: {#section-7.5.3 .section}
#### [7.5.3.](#section-7.5.3){.section-number .selfRef} [Disabling a Media Description in a BUNDLE Group](#name-disabling-a-media-descripti){.section-name .selfRef} {#name-disabling-a-media-descripti}

When an offerer generates a subsequent offer in which it wants to
disable a bundled \"m=\" section from a BUNDLE group, the
offerer:[¶](#section-7.5.3-1){.pilcrow}

-   [[MUST]{.bcp14} assign a zero port value to the \"m=\" section,
    following the procedures in
    \[[RFC4566](#RFC4566){.xref}\];[¶](#section-7.5.3-2.1){.pilcrow}]{#section-7.5.3-2.1}
-   [[MUST NOT]{.bcp14} place the identification-tag associated with the
    \"m=\" section in the SDP \'group:BUNDLE\' attribute
    identification-tag list associated with the BUNDLE group;
    and[¶](#section-7.5.3-2.2){.pilcrow}]{#section-7.5.3-2.2}
-   [[MUST NOT]{.bcp14} assign an SDP \'bundle-only\' attribute to the
    \"m=\"
    section.[¶](#section-7.5.3-2.3){.pilcrow}]{#section-7.5.3-2.3}

For the other bundled \"m=\" sections within the BUNDLE group, the
offerer follows the procedures in [Section
7.5](#sec-sdp-oa-mod){.xref}.[¶](#section-7.5.3-3){.pilcrow}

[Section 18.5](#sec-example-off-dis){.xref} shows an example of an offer
and answer for disabling an \"m=\" section within a BUNDLE
group.[¶](#section-7.5.3-4){.pilcrow}
:::
:::
:::
:::

::: {#sec-sdp-oa-sip}
::: {#section-7.6 .section}
### [7.6.](#section-7.6){.section-number .selfRef} [3PCC Considerations](#name-3pcc-considerations){.section-name .selfRef} {#name-3pcc-considerations}

In some third-party call control (3PCC) scenarios, a new session will be
established between an endpoint that is currently part of an ongoing
session and an endpoint that is not currently part of an ongoing
session. In this situation, the endpoint that is not part of a session,
while expecting an initial offer, can receive an SDP offer created as a
subsequent offer. The text below describes how this can occur with the
Session Initiation Protocol (SIP)
\[[RFC3261](#RFC3261){.xref}\].[¶](#section-7.6-1){.pilcrow}

SIP \[[RFC3261](#RFC3261){.xref}\] allows a User Agent Client (UAC) to
send a re-INVITE request without an SDP body (sometimes referred to as
an \"empty re-INVITE\"). In such cases, the User Agent Server (UAS) will
include an SDP Offer in the associated 200 (OK) response; when the UAS
is a part of an ongoing SIP session, this offer will be a subsequent
offer. This offer will be received by the 3PCC controller (UAC) and then
forwarded to another User Agent (UA). When that UA is not part of an
ongoing SIP session, as noted above, it will process the offer as an
initial SDP offer.[¶](#section-7.6-2){.pilcrow}

When the BUNDLE mechanism is used, an initial BUNDLE offer is
constructed using different rules than subsequent BUNDLE offers, and it
cannot be assumed that a UA is able to correctly process a subsequent
BUNDLE offer as an initial BUNDLE offer. Therefore, the 3PCC controller
[SHOULD]{.bcp14} take action to mitigate this problem, e.g., rewrite the
subsequent BUNDLE offer into a valid initial BUNDLE offer ([Section
7.2](#sec-sdp-oa-ino){.xref}), before it forwards the BUNDLE offer to a
UA.[¶](#section-7.6-3){.pilcrow}
:::
:::
:::
:::

::: {#sec-protocol-id}
::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Protocol Identification](#name-protocol-identification){.section-name .selfRef} {#name-protocol-identification}

Each \"m=\" section within a BUNDLE group [MUST]{.bcp14} use the same
transport- layer protocol. If bundled \"m=\" sections use different
upper-layer protocols on top of the transport-layer protocol, there
[MUST]{.bcp14} exist a publicly available specification that describes
how a mechanism associates received data with the correct protocol for
this particular protocol combination.[¶](#section-8-1){.pilcrow}

In addition, if received data can be associated with more than one
bundled \"m=\" section, there [MUST]{.bcp14} exist a publicly available
specification that describes a mechanism for associating the received
data with the correct \"m=\" section.[¶](#section-8-2){.pilcrow}

This document describes a mechanism to identify the protocol of received
data among the Session Traversal Utilities for NAT (STUN), Datagram
Transport Layer Security (DTLS), and the Secure Real-time Transport
Protocol (SRTP) (in any combination) when UDP is used as a
transport-layer protocol, but it does not describe how to identify
different protocols transported on DTLS. While the mechanism is
generally applicable to other protocols and transport-layer protocols,
any such use requires further specification that encompasses how to
multiplex multiple protocols on a given transport-layer protocol and how
to associate received data with the correct
protocols.[¶](#section-8-3){.pilcrow}

::: {#sec-packets-id-sds}
::: {#section-8.1 .section}
### [8.1.](#section-8.1){.section-number .selfRef} [STUN, DTLS, and SRTP](#name-stun-dtls-and-srtp){.section-name .selfRef} {#name-stun-dtls-and-srtp}

[Section
5.1.2](https://www.rfc-editor.org/rfc/rfc5764#section-5.1.2){.relref} of
\[[RFC5764](#RFC5764){.xref}\] describes a mechanism to identify the
protocol of a received packet among the STUN, DTLS, and SRTP protocols
(in any combination). If an offer or answer includes a bundled \"m=\"
section that represents these protocols, the offerer or answerer
[MUST]{.bcp14} support the mechanism described in
\[[RFC5764](#RFC5764){.xref}\], and no explicit negotiation is required
in order to indicate support and usage of the
mechanism.[¶](#section-8.1-1){.pilcrow}

\[[RFC5764](#RFC5764){.xref}\] does not describe how to identify
different protocols transported on DTLS, only how to identify the DTLS
protocol itself. If multiple protocols are transported on DTLS, there
[MUST]{.bcp14} exist a specification describing a mechanism for
identifying each individual protocol. In addition, if a received DTLS
packet can be associated with more than one \"m=\" section, there
[MUST]{.bcp14} exist a specification that describes a mechanism for
associating the received DTLS packets with the correct \"m=\"
section.[¶](#section-8.1-2){.pilcrow}

[Section 9.2](#sec-rtp-pt){.xref} describes how to associate the packets
in a received SRTP stream with the correct \"m=\"
section.[¶](#section-8.1-3){.pilcrow}
:::
:::
:::
:::

::: {#sec-rtp}
::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [RTP Considerations](#name-rtp-considerations){.section-name .selfRef} {#name-rtp-considerations}

::: {#sec-rtp-sessions}
::: {#section-9.1 .section}
### [9.1.](#section-9.1){.section-number .selfRef} [Single RTP Session](#name-single-rtp-session){.section-name .selfRef} {#name-single-rtp-session}

All RTP-based media within a single BUNDLE group belong to a single RTP
session \[[RFC3550](#RFC3550){.xref}\].[¶](#section-9.1-1){.pilcrow}

Since a single BUNDLE transport is used for sending and receiving
bundled media, the symmetric RTP mechanism
\[[RFC4961](#RFC4961){.xref}\] [MUST]{.bcp14} be used for RTP-based
bundled media.[¶](#section-9.1-2){.pilcrow}

Since a single RTP session is used for each BUNDLE group, all \"m=\"
sections representing RTP-based media within a BUNDLE group will share a
single synchronization source (SSRC) numbering space
\[[RFC3550](#RFC3550){.xref}\].[¶](#section-9.1-3){.pilcrow}

The following rules and restrictions apply for a single RTP
session:[¶](#section-9.1-4){.pilcrow}

-   [A specific payload type value can be used in multiple bundled
    \"m=\" sections only if each codec associated with the payload type
    number shares an identical codec configuration ([Section
    9.1.1](#sec-rtp-sessions-pt){.xref}).[¶](#section-9.1-5.1){.pilcrow}]{#section-9.1-5.1}
-   [The proto value in each bundled RTP-based \"m=\" section
    [MUST]{.bcp14} be identical (e.g.,
    RTP/AVPF).[¶](#section-9.1-5.2){.pilcrow}]{#section-9.1-5.2}
-   [The RTP MID header extension [MUST]{.bcp14} be enabled by including
    an SDP \'extmap\' attribute \[[RFC8285](#RFC8285){.xref}\], with a
    \'urn:ietf:params:rtp- hdrext:sdes:mid\' URI value defined in this
    specification in each bundled RTP-based \"m=\" section in every
    offer and answer.[¶](#section-9.1-5.3){.pilcrow}]{#section-9.1-5.3}
-   [A given SSRC [MUST NOT]{.bcp14} transmit RTP packets using payload
    types that originate from different bundled \"m=\"
    sections.[¶](#section-9.1-5.4){.pilcrow}]{#section-9.1-5.4}

NOTE: The last bullet above is to avoid sending multiple media types
from the same SSRC. If transmission of multiple media types is done with
time overlap, RTP and RTCP fail to function. Even if done in the proper
sequence, this causes RTP timestamp rate switching issues
\[[RFC7160](#RFC7160){.xref}\]. However, once an SSRC has left the RTP
session (by sending an RTCP BYE packet), that SSRC can be reused by
another source (possibly associated with a different bundled \"m=\"
section) after a delay of 5 RTCP reporting intervals (the delay is to
ensure the SSRC has timed out in case the RTCP BYE packet was lost
\[[RFC3550](#RFC3550){.xref}\]).[¶](#section-9.1-6){.pilcrow}

\[[RFC7657](#RFC7657){.xref}\] defines Differentiated Services
(Diffserv) considerations for RTP-based bundled media sent using a
mixture of Diffserv Codepoints.[¶](#section-9.1-7){.pilcrow}

::: {#sec-rtp-sessions-pt}
::: {#section-9.1.1 .section}
#### [9.1.1.](#section-9.1.1){.section-number .selfRef} [Payload Type (PT) Value Reuse](#name-payload-type-pt-value-reuse){.section-name .selfRef} {#name-payload-type-pt-value-reuse}

Multiple bundled \"m=\" sections might describe RTP-based media. As all
RTP-based media associated with a BUNDLE group belong to the same RTP
session, in order for a given payload type value to be used inside more
than one bundled \"m=\" section, all codecs associated with the payload
type number [MUST]{.bcp14} share an identical codec configuration. This
means that the codecs [MUST]{.bcp14} share the same media type, encoding
name, clock rate, and any parameter that can affect the codec
configuration and packetization. \[[RFC8859](#RFC8859){.xref}\] lists
SDP attributes whose attribute values are required to be identical for
all codecs that use the same payload type
value.[¶](#section-9.1.1-1){.pilcrow}
:::
:::
:::
:::

::: {#sec-rtp-pt}
::: {#section-9.2 .section}
### [9.2.](#section-9.2){.section-number .selfRef} [Associating RTP/RTCP Streams with the Correct SDP Media Description](#name-associating-rtp-rtcp-stream){.section-name .selfRef} {#name-associating-rtp-rtcp-stream}

As described in \[[RFC3550](#RFC3550){.xref}\], RTP packets are
associated with RTP streams \[[RFC7656](#RFC7656){.xref}\]. Each RTP
stream is identified by an SSRC value, and each RTP packet includes an
SSRC field that is used to associate the packet with the correct RTP
stream. RTCP packets also use SSRCs to identify which RTP streams the
packet relates to. However, an RTCP packet can contain multiple SSRC
fields in the course of providing feedback or reports on different RTP
streams; therefore, they can be associated with multiple such
streams.[¶](#section-9.2-1){.pilcrow}

In order to be able to process received RTP/RTCP packets correctly, it
[MUST]{.bcp14} be possible to associate an RTP stream with the correct
\"m=\" section, as the \"m=\" section and SDP attributes associated with
the \"m=\" section contain information needed to process the
packets.[¶](#section-9.2-2){.pilcrow}

As all RTP streams associated with a BUNDLE group use the same transport
for sending and receiving RTP/RTCP packets, the local address:port
combination part of the transport cannot be used to associate an RTP
stream with the correct \"m=\" section. In addition, multiple RTP
streams might be associated with the same \"m=\"
section.[¶](#section-9.2-3){.pilcrow}

An offerer and answerer can inform each other which SSRC values they
will use for an RTP stream by using the SDP \'ssrc\' attribute
\[[RFC5576](#RFC5576){.xref}\]. However, an offerer will not know which
SSRC values the answerer will use until the offerer has received the
answer providing that information. Due to this, before the offerer has
received the answer, the offerer will not be able to associate an RTP
stream with the correct \"m=\" section using the SSRC value associated
with the RTP stream. In addition, the offerer and answerer may start
using new SSRC values mid-session, without informing each other about
using the SDP \'ssrc\' attribute.[¶](#section-9.2-4){.pilcrow}

In order for an offerer and answerer to always be able to associate an
RTP stream with the correct \"m=\" section, the offerer and answerer
using the BUNDLE extension [MUST]{.bcp14} support the mechanism defined
in [Section 15](#sec-receiver-id){.xref}, where the offerer and answerer
insert the identification-tag associated with an \"m=\" section
(provided by the remote peer) into RTP and RTCP packets associated with
a BUNDLE group.[¶](#section-9.2-5){.pilcrow}

When using this mechanism, the mapping from an SSRC to an
identification-tag is carried in RTP header extensions or RTCP SDES
packets, as specified in [Section 15](#sec-receiver-id){.xref}. Since a
compound RTCP packet can contain multiple RTCP SDES packets and each
RTCP SDES packet can contain multiple chunks, a single RTCP packet can
contain several mappings of SSRC to identification-tag. The offerer and
answerer maintain tables used for routing that are updated each time an
RTP/RTCP packet contains new information that affects how packets are to
be routed.[¶](#section-9.2-6){.pilcrow}

However, some legacy implementations may not include this
identification-tag in their RTP and RTCP traffic when using the BUNDLE
mechanism and instead use a mechanism based on the payload type to
associate RTP streams with SDP \"m=\" sections. In this situation, each
\"m=\" section needs to use unique payload type values in order for the
payload type to be a reliable indicator of the relevant \"m=\" section
for the RTP stream. If an implementation fails to ensure unique payload
type values, it will be impossible to associate the RTP stream using
that payload type value to a particular \"m=\" section. Note that when
using the payload type to associate RTP streams with \"m=\" sections, an
RTP stream, identified by its SSRC, will be mapped to an \"m=\" section
when the first packet of that RTP stream is received, and the mapping
will not be changed even if the payload type used by that RTP stream
changes. In other words, the SSRC cannot \"move\" to a different \"m=\"
section simply by changing the payload
type.[¶](#section-9.2-7){.pilcrow}

Applications can implement RTP stacks in different ways. The algorithm
below details one way that RTP streams can be associated with \"m=\"
sections, but it is not meant to be prescriptive about exactly how an
RTP stack needs to be implemented. Applications [MAY]{.bcp14} use any
algorithm that achieves equivalent results to those described in the
algorithm below.[¶](#section-9.2-8){.pilcrow}

To prepare to associate RTP streams with the correct \"m=\" section, the
following steps [MUST]{.bcp14} be followed for each BUNDLE
group:[¶](#section-9.2-9){.pilcrow}

-   [Construct a table mapping a MID to an \"m=\" section for each
    \"m=\" section in this BUNDLE group. Note that an \"m=\" section may
    only have one
    MID.[¶](#section-9.2-10.1){.pilcrow}]{#section-9.2-10.1}
-   [Construct a table mapping SSRCs of incoming RTP streams to an
    \"m=\" section for each \"m=\" section in this BUNDLE group and for
    each SSRC configured for receiving in that \"m=\"
    section.[¶](#section-9.2-10.2){.pilcrow}]{#section-9.2-10.2}
-   [Construct a table mapping the SSRC of each outgoing RTP stream to
    an \"m=\" section for each \"m=\" section in this BUNDLE group and
    for each SSRC configured for sending in that \"m=\"
    section.[¶](#section-9.2-10.3){.pilcrow}]{#section-9.2-10.3}
-   [Construct a table mapping a payload type to an \"m=\" section for
    each \"m=\" section in the BUNDLE group and for each payload type
    configured for receiving in that \"m=\" section. If any payload type
    is configured for receiving in more than one \"m=\" section in the
    BUNDLE group, do not include it in the table, as it cannot be used
    to uniquely identify an \"m=\"
    section.[¶](#section-9.2-10.4){.pilcrow}]{#section-9.2-10.4}
-   [Note that for each of these tables, there can only be one mapping
    for any given key (MID, SSRC, or PT). In other words, the tables are
    not multimaps.[¶](#section-9.2-10.5){.pilcrow}]{#section-9.2-10.5}

As \"m=\" sections are added or removed from the BUNDLE groups or their
configurations are changed, the tables above [MUST]{.bcp14} also be
updated.[¶](#section-9.2-11){.pilcrow}

When an RTP packet is received, it [MUST]{.bcp14} be delivered to the
RTP stream corresponding to its SSRC. That RTP stream [MUST]{.bcp14}
then be associated with the correct \"m=\" section within a BUNDLE group
for additional processing, according to the following
steps:[¶](#section-9.2-12){.pilcrow}

-   [If the MID associated with the RTP stream is not in the table
    mapping a MID to an \"m=\" section, then the RTP stream is not
    decoded, and the payload data is
    discarded.[¶](#section-9.2-13.1){.pilcrow}]{#section-9.2-13.1}
-   [If the packet has a MID and the packet\'s extended sequence number
    is greater than that of the last MID update, as discussed in
    \[[RFC7941](#RFC7941){.xref}\], [Section
    4.2.6](https://www.rfc-editor.org/rfc/rfc7941#section-4.2.6){.relref},
    update the MID associated with the RTP stream to match the MID
    carried in the RTP packet and then update the mapping tables to
    include an entry that maps the SSRC of that RTP stream to the \"m=\"
    section for that
    MID.[¶](#section-9.2-13.2){.pilcrow}]{#section-9.2-13.2}
-   [If the SSRC of the RTP stream is in the incoming SSRC mapping
    table, check that the payload type used by the RTP stream matches a
    payload type included in the matching \"m=\" section. If so,
    associate the RTP stream with that \"m=\" section. Otherwise, the
    RTP stream is not decoded, and the payload data is
    discarded.[¶](#section-9.2-13.3){.pilcrow}]{#section-9.2-13.3}
-   [If the payload type used by the RTP stream is in the payload type
    table, update the incoming SSRC mapping table to include an entry
    that maps the RTP stream\'s SSRC to the \"m=\" section for that
    payload type. Associate the RTP stream with the corresponding \"m=\"
    section.[¶](#section-9.2-13.4){.pilcrow}]{#section-9.2-13.4}
-   [Otherwise, mark the RTP stream as \"not for decoding\" and discard
    the payload.[¶](#section-9.2-13.5){.pilcrow}]{#section-9.2-13.5}

If the RTP packet contains one or more contributing source (CSRC)
identifiers, then each CSRC is looked up in the incoming SSRC table, and
a copy of the RTP packet is associated with the corresponding \"m=\"
section for additional processing.[¶](#section-9.2-14){.pilcrow}

For each RTCP packet received (including each RTCP packet that is part
of a compound RTCP packet), the packet is processed as usual by the RTP
layer, then associated with the appropriate \"m=\" sections and
processed for the RTP streams represented by those \"m=\" sections. This
routing is type dependent, as each kind of RTCP packet has its own
mechanism for associating it with the relevant RTP
streams.[¶](#section-9.2-15){.pilcrow}

RTCP packets that cannot be associated with an appropriate \"m=\"
section [MUST]{.bcp14} still be processed as usual by the RTP layer,
which updates the metadata associated with the corresponding RTP
streams. This situation can occur with certain multiparty RTP topologies
or when RTCP packets are sent containing a subset of the SDES
information.[¶](#section-9.2-16){.pilcrow}

Additional rules for processing various types of RTCP packets are
explained below.[¶](#section-9.2-17){.pilcrow}

-   [If the RTCP packet is of type SDES, for each chunk in the packet
    whose SSRC is found in the incoming SSRC table, deliver a copy of
    the SDES packet to the \"m=\" section associated with that SSRC. In
    addition, for any SDES MID items contained in these chunks, if the
    MID is found in the table mapping a MID to an \"m=\" section, update
    the incoming SSRC table to include an entry that maps the RTP stream
    associated with the chunk\'s SSRC to the \"m=\" section associated
    with that MID, unless the packet is older than the packet that most
    recently updated the mapping for this SSRC, as discussed in
    \[[RFC7941](#RFC7941){.xref}\], [Section
    4.2.6](https://www.rfc-editor.org/rfc/rfc7941#section-4.2.6){.relref}.[¶](#section-9.2-18.1){.pilcrow}]{#section-9.2-18.1}

-   [Note that if an SDES packet is received as part of a compound RTCP
    packet, the SSRC to \"m=\" section mapping might not exist until the
    SDES packet is handled (e.g., in the case where RTCP for a source is
    received before any RTP packets). Therefore, it can be beneficial
    for an implementation to delay RTCP packet routing, such that it
    either prioritizes processing of the SDES item to generate or update
    the mapping or buffers the RTCP information that needs to be routed
    until the SDES item(s) has been processed. If the implementation is
    unable to follow this recommendation, the consequence could be that
    some RTCP information from this particular RTCP compound packet is
    not provided to higher layers. The impact from this is likely minor
    when this information relates to a future incoming RTP
    stream.[¶](#section-9.2-18.2){.pilcrow}]{#section-9.2-18.2}

-   [If the RTCP packet is of type BYE, it indicates that the RTP
    streams referenced in the packet are ending. Therefore, for each
    SSRC indicated in the packet that is found in the incoming SSRC
    table, first deliver a copy of the BYE packet to the \"m=\" section
    associated with that SSRC, and then remove the entry for that SSRC
    from the incoming SSRC table after an appropriate delay to account
    for \"straggler packets\", as specified in
    \[[RFC3550](#RFC3550){.xref}\], [Section
    6.2.1](https://www.rfc-editor.org/rfc/rfc3550#section-6.2.1){.relref}.[¶](#section-9.2-18.3){.pilcrow}]{#section-9.2-18.3}

-   [If the RTCP packet is of type sender report (SR) or receiver report
    (RR), for each report block in the report whose \"SSRC of source\"
    is found in the outgoing SSRC table, deliver a copy of the SR or RR
    packet to the \"m=\" section associated with that SSRC. In addition,
    if the packet is of type SR and the sender SSRC for the packet is
    found in the incoming SSRC table, deliver a copy of the SR packet to
    the \"m=\" section associated with that
    SSRC.[¶](#section-9.2-18.4){.pilcrow}]{#section-9.2-18.4}

-   [If the implementation supports the RTCP Extended Report (XR) and
    the packet is of type XR, as defined in
    \[[RFC3611](#RFC3611){.xref}\], for each report block in the report
    whose \"SSRC of source\" is found in the outgoing SSRC table,
    deliver a copy of the XR packet to the \"m=\" section associated
    with that SSRC. In addition, if the sender SSRC for the packet is
    found in the incoming SSRC table, deliver a copy of the XR packet to
    the \"m=\" section associated with that
    SSRC.[¶](#section-9.2-18.5){.pilcrow}]{#section-9.2-18.5}

-   [If the RTCP packet is a feedback message of type RTPFB
    (transport-layer FB message) or PSFB (payload-specific FB message),
    as defined in \[[RFC4585](#RFC4585){.xref}\], it will contain a
    media source SSRC, and this SSRC is used for routing certain
    subtypes of feedback messages. However, several subtypes of PSFB and
    RTPFB messages include a target SSRC(s) in a section called Feedback
    Control Information (FCI). For these messages, the target SSRC(s) is
    used for
    routing.[¶](#section-9.2-18.6){.pilcrow}]{#section-9.2-18.6}

-   ::: {#section-9.2-18.7}
    If the RTCP packet is a feedback packet that does not include target
    SSRCs in its FCI section, and the media source SSRC is found in the
    outgoing SSRC table, deliver the feedback packet to the \"m=\"
    section associated with that SSRC. RTPFB and PSFB types that are
    handled in this way include:[¶](#section-9.2-18.7.1){.pilcrow}

    []{.break}

    Generic NACK:
    :   (PT=RTPFB, FMT=1)
        \[[RFC4585](#RFC4585){.xref}\][¶](#section-9.2-18.7.2.2){.pilcrow}
    :   

    Picture Loss Indication (PLI):
    :   (PT=PSFB, FMT=1)
        \[[RFC4585](#RFC4585){.xref}\][¶](#section-9.2-18.7.2.4){.pilcrow}
    :   

    Slice Loss Indication (SLI):
    :   (PT=PSFB, FMT=2)
        \[[RFC4585](#RFC4585){.xref}\][¶](#section-9.2-18.7.2.6){.pilcrow}
    :   

    Reference Picture Selection Indication (RPSI):
    :   (PT=PSFB, FMT=3)
        \[[RFC4585](#RFC4585){.xref}\][¶](#section-9.2-18.7.2.8){.pilcrow}
    :   
    :::

```{=html}
<!-- -->
```
-   [If the RTCP packet is a feedback message that does include a target
    SSRC(s) in its FCI section, it can either be a request or a
    notification. Requests reference an RTP stream that is being sent by
    the message recipient, whereas notifications are responses to an
    earlier request and therefore reference an RTP stream that is being
    received by the message
    recipient.[¶](#section-9.2-19.1){.pilcrow}]{#section-9.2-19.1}

-   ::: {#section-9.2-19.2}
    If the RTCP packet is a feedback request that includes a target
    SSRC(s), for each target SSRC that is found in the outgoing SSRC
    table, deliver a copy of the RTCP packet to the \"m=\" section
    associated with that SSRC. PSFB and RTPFB types that are handled in
    this way include:[¶](#section-9.2-19.2.1){.pilcrow}

    []{.break}

    Full Intra Request (FIR):
    :   (PT=PSFB, FMT=4)
        \[[RFC5104](#RFC5104){.xref}\][¶](#section-9.2-19.2.2.2){.pilcrow}
    :   

    Temporal-Spatial Trade-off Request (TSTR):
    :   (PT=PSFB, FMT=5)
        \[[RFC5104](#RFC5104){.xref}\][¶](#section-9.2-19.2.2.4){.pilcrow}
    :   

    H.271 Video Back Channel Message (VBCM):
    :   (PT=PSFB, FMT=7)
        \[[RFC5104](#RFC5104){.xref}\][¶](#section-9.2-19.2.2.6){.pilcrow}
    :   

    Temporary Maximum Media Stream Bit Rate Request (TMMBR):
    :   (PT=RTPFB, FMT=3)
        \[[RFC5104](#RFC5104){.xref}\][¶](#section-9.2-19.2.2.8){.pilcrow}
    :   

    Layer Refresh Request (LRR):
    :   (PT=PSFB, FMT=10)
        \[[LLR-RTCP](#I-D.ietf-avtext-lrr){.xref}\].[¶](#section-9.2-19.2.2.10){.pilcrow}
    :   
    :::

```{=html}
<!-- -->
```
-   ::: {#section-9.2-20.1}
    If the RTCP packet is a feedback notification that includes a target
    SSRC(s), for each target SSRC that is found in the incoming SSRC
    table, deliver a copy of the RTCP packet to the \"m=\" section
    associated with the RTP stream with a matching SSRC. PSFB and RTPFB
    types that are handled in this way
    include:[¶](#section-9.2-20.1.1){.pilcrow}

    []{.break}

    Temporal-Spatial Trade-off Notification (TSTN):
    :   (PT=PSFB, FMT=6) \[[RFC5104](#RFC5104){.xref}\]. This message is
        a notification in response to a prior
        TSTR.[¶](#section-9.2-20.1.2.2){.pilcrow}
    :   

    Temporary Maximum Media Stream Bit Rate Notification (TMMBN):
    :   (PT=RTPFB, FMT=4) \[[RFC5104](#RFC5104){.xref}\]. This message
        is a notification in response to a prior TMMBR, but it can also
        be sent unsolicited.[¶](#section-9.2-20.1.2.4){.pilcrow}
    :   
    :::

```{=html}
<!-- -->
```
-   [If the RTCP packet is of type APP, then it is handled in an
    application-specific manner. If the application does not recognize
    the APP packet, then it [MUST]{.bcp14} be
    discarded.[¶](#section-9.2-21.1){.pilcrow}]{#section-9.2-21.1}
:::
:::

::: {#sec-rtprtcp-mux}
::: {#section-9.3 .section}
### [9.3.](#section-9.3){.section-number .selfRef} [RTP/RTCP Multiplexing](#name-rtp-rtcp-multiplexing){.section-name .selfRef} {#name-rtp-rtcp-multiplexing}

Within a BUNDLE group, the offerer and answerer [MUST]{.bcp14} enable
RTP/RTCP multiplexing \[[RFC5761](#RFC5761){.xref}\] for the RTP-based
bundled media (i.e., the same transport will be used for both RTP
packets and RTCP packets). In addition, the offerer and answerer
[MUST]{.bcp14} support the SDP \'rtcp-mux-only\' attribute
\[[RFC8858](#RFC8858){.xref}\].[¶](#section-9.3-1){.pilcrow}

::: {#sec-rtprtcp-mux-oa}
::: {#section-9.3.1 .section}
#### [9.3.1.](#section-9.3.1){.section-number .selfRef} [SDP Offer/Answer Procedures](#name-sdp-offer-answer-procedures-2){.section-name .selfRef} {#name-sdp-offer-answer-procedures-2}

This section describes how an offerer and answerer use the SDP
\'rtcp-mux\' \[[RFC5761](#RFC5761){.xref}\] and SDP \'rtcp-mux-only\'
attributes \[[RFC8858](#RFC8858){.xref}\] to negotiate usage of RTP/RTCP
multiplexing for RTP-based bundled media.[¶](#section-9.3.1-1){.pilcrow}

RTP/RTCP multiplexing only applies to RTP-based media. However, as
described in [Section 7.1.3](#sec-sdp-oa-cat){.xref}, within an offer or
answer, the SDP \'rtcp-mux\' and SDP \'rtcp-mux-only\' attributes might
be included in a bundled \"m=\" section for non-RTP-based media (if such
an \"m=\" section is the offerer-tagged \"m=\" section or
answerer-tagged \"m=\" section).[¶](#section-9.3.1-2){.pilcrow}

::: {#sec-rtprtcp-mux-oa-ino}
::: {#section-9.3.1.1 .section}
##### [9.3.1.1.](#section-9.3.1.1){.section-number .selfRef} [Generating the Initial BUNDLE Offer](#name-generating-the-initial-bundl){.section-name .selfRef} {#name-generating-the-initial-bundl}

When an offerer generates an initial BUNDLE offer, if the offer contains
one or more bundled \"m=\" sections for RTP-based media (or if there is
a chance that \"m=\" sections for RTP-based media will later be added to
the BUNDLE group), the offerer [MUST]{.bcp14} include an SDP
\'rtcp-mux\' attribute \[[RFC5761](#RFC5761){.xref}\] in each bundled
\"m=\" section (excluding any bundle-only \"m=\" sections). In addition,
the offerer [MAY]{.bcp14} include an SDP \'rtcp-mux-only\' attribute
\[[RFC8858](#RFC8858){.xref}\] in one or more bundled \"m=\" sections
for RTP-based media.[¶](#section-9.3.1.1-1){.pilcrow}

NOTE: Whether the offerer includes the SDP \'rtcp-mux-only\' attribute
depends on whether the offerer supports fallback to usage of a separate
port for RTCP in case the answerer moves one or more \"m=\" sections for
RTP-based media out of the BUNDLE group in the
answer.[¶](#section-9.3.1.1-2){.pilcrow}

NOTE: If the offerer includes an SDP \'rtcp-mux\' attribute in the
bundled \"m=\" sections but does not include an SDP \'rtcp-mux-only\'
attribute, the offerer can also include an SDP \'rtcp\' attribute
\[[RFC3605](#RFC3605){.xref}\] in one or more RTP-based bundled \"m=\"
sections in order to provide a fallback port for RTCP, as described in
\[[RFC5761](#RFC5761){.xref}\]. However, the fallback port will only be
applied to \"m=\" sections for RTP-based media that are moved out of the
BUNDLE group by the answerer.[¶](#section-9.3.1.1-3){.pilcrow}

In the initial BUNDLE offer, the address:port combination for RTCP
[MUST]{.bcp14} be unique in each bundled \"m=\" section for RTP-based
media (excluding a bundle-only \"m=\" section), similar to
RTP.[¶](#section-9.3.1.1-4){.pilcrow}
:::
:::

::: {#sec-rtprtcp-mux-oa-ans}
::: {#section-9.3.1.2 .section}
##### [9.3.1.2.](#section-9.3.1.2){.section-number .selfRef} [Generating the SDP Answer](#name-generating-the-sdp-answer-2){.section-name .selfRef} {#name-generating-the-sdp-answer-2}

When an answerer generates an answer, if the answerer supports RTP-based
media and if a bundled \"m=\" section in the corresponding offer
contained an SDP \'rtcp-mux\' attribute, the answerer [MUST]{.bcp14}
enable usage of RTP/RTCP multiplexing, even if there currently are no
bundled \"m=\" sections for RTP-based media within the BUNDLE group. The
answerer [MUST]{.bcp14} include an SDP \'rtcp-mux\' attribute in the
answerer-tagged \"m=\" section, following the procedures for BUNDLE
attributes ([Section 7.1.3](#sec-sdp-oa-cat){.xref}). In addition, if
the \"m=\" section that is selected as the offerer-tagged \"m=\" section
contained an SDP \'rtcp-mux-only\' attribute, the answerer
[MUST]{.bcp14} include an SDP \'rtcp-mux-only\' attribute in the
answerer-tagged \"m=\" section.[¶](#section-9.3.1.2-1){.pilcrow}

In an initial BUNDLE offer, if the suggested offerer-tagged \"m=\"
section contained an SDP \'rtcp-mux-only\' attribute, the \"m=\" section
was for RTP-based media. If the answerer does not accept the \"m=\"
section in the created BUNDLE group and moves the \"m=\" section out of
the BUNDLE group ([Section 7.3.2](#sec-sdp-oa-ans-mov){.xref}), the
answerer [MUST]{.bcp14} include the attribute in the moved \"m=\"
section and enable RTP/RTCP multiplexing for the media associated with
the \"m=\" section. If the answerer rejects the \"m=\" section ([Section
7.3.3](#sec-sdp-oa-ans-rej){.xref}), the answerer [MUST NOT]{.bcp14}
include the attribute.[¶](#section-9.3.1.2-2){.pilcrow}

The answerer [MUST NOT]{.bcp14} include an SDP \'rtcp\' attribute in any
bundled \"m=\" section in the answer. The answerer will use the port
value of the offerer-tagged \"m=\" section sending RTP and RTCP packets
associated with RTP-based bundled media towards the
offerer.[¶](#section-9.3.1.2-3){.pilcrow}

If the usage of RTP/RTCP multiplexing within a BUNDLE group has been
negotiated in a previous offer/answer exchange, the answerer
[MUST]{.bcp14} include an SDP \'rtcp-mux\' attribute in the
answerer-tagged \"m=\" section. It is not possible to disable RTP/RTCP
multiplexing within a BUNDLE group.[¶](#section-9.3.1.2-4){.pilcrow}
:::
:::

::: {#sec-rtprtcp-mux-oa-pra}
::: {#section-9.3.1.3 .section}
##### [9.3.1.3.](#section-9.3.1.3){.section-number .selfRef} [Offerer Processing of the SDP Answer](#name-offerer-processing-of-the-sd){.section-name .selfRef} {#name-offerer-processing-of-the-sd}

When an offerer receives an answer, if the answerer has accepted the
usage of RTP/RTCP multiplexing ([Section
9.3.1.2](#sec-rtprtcp-mux-oa-ans){.xref}), the answerer follows the
procedures for RTP/RTCP multiplexing defined in
\[[RFC5761](#RFC5761){.xref}\]. The offerer will use the port value of
the answerer-tagged \"m=\" section for sending RTP and RTCP packets
associated with RTP-based bundled media towards the
answerer.[¶](#section-9.3.1.3-1){.pilcrow}

NOTE: It is considered a protocol error if the answerer has not accepted
the usage of RTP/RTCP multiplexing for RTP-based \"m=\" sections that
the answerer included in the BUNDLE
group.[¶](#section-9.3.1.3-2){.pilcrow}
:::
:::

::: {#sec-rtprtcp-mux-oa-mod}
::: {#section-9.3.1.4 .section}
##### [9.3.1.4.](#section-9.3.1.4){.section-number .selfRef} [Modifying the Session](#name-modifying-the-session-2){.section-name .selfRef} {#name-modifying-the-session-2}

When an offerer generates a subsequent offer, the offerer [MUST]{.bcp14}
include an SDP \'rtcp-mux\' attribute in the offerer-tagged \"m=\"
section, following the procedures for IDENTICAL multiplexing category
attributes in [Section
7.1.3](#sec-sdp-oa-cat){.xref}.[¶](#section-9.3.1.4-1){.pilcrow}
:::
:::
:::
:::
:::
:::
:::
:::

::: {#sec-ice}
::: {#section-10 .section}
## [10.](#section-10){.section-number .selfRef} [ICE Considerations](#name-ice-considerations){.section-name .selfRef} {#name-ice-considerations}

This section describes how to use the BUNDLE grouping extension together
with the ICE mechanism
\[[RFC8445](#RFC8445){.xref}\].[¶](#section-10-1){.pilcrow}

The generic procedures for negotiating the usage of ICE using SDP,
defined in \[[RFC8839](#RFC8839){.xref}\], also apply to the usage of
ICE with BUNDLE, with the following
exceptions:[¶](#section-10-2){.pilcrow}

-   [When the BUNDLE transport has been established, ICE connectivity
    checks and keepalives only need to be performed for the BUNDLE
    transport, instead of per individual bundled \"m=\" section within
    the BUNDLE group.[¶](#section-10-3.1){.pilcrow}]{#section-10-3.1}
-   [The generic SDP attribute offer/answer considerations ([Section
    7.1.3](#sec-sdp-oa-cat){.xref}) also apply to ICE-related
    attributes. Therefore, when an offerer sends an initial BUNDLE offer
    (in order to negotiate a BUNDLE group), the offerer includes
    ICE-related media-level attributes in each bundled \"m=\" section
    (excluding any bundle-only \"m=\" sections), and each \"m=\" section
    [MUST]{.bcp14} contain unique ICE properties. When an answerer
    generates an answer (initial BUNDLE answer or subsequent) that
    contains a BUNDLE group and when an offerer sends a subsequent offer
    that contains a BUNDLE group, ICE-related media-level attributes are
    only included in the tagged \"m=\" section (suggested offerer-tagged
    \"m=\" section or answerer-tagged \"m=\" section), and the ICE
    properties are applied to each bundled \"m=\" section within the
    BUNDLE group.[¶](#section-10-3.2){.pilcrow}]{#section-10-3.2}

NOTE: Most ICE-related media-level SDP attributes belong to the
TRANSPORT multiplexing category \[[RFC8859](#RFC8859){.xref}\], and the
generic SDP attribute offer/answer considerations for the TRANSPORT
multiplexing category apply to the attributes. However, in the case of
ICE-related attributes, the same considerations also apply to
ICE-related media-level attributes that belong to other multiplexing
categories.[¶](#section-10-4){.pilcrow}

NOTE: The following ICE-related media-level SDP attributes are defined
in \[[RFC8839](#RFC8839){.xref}\]: \'candidate\', \'remote-candidates\',
\'ice-mismatch\', \'ice-ufrag\', \'ice-pwd\', and
\'ice-pacing\'.[¶](#section-10-5){.pilcrow}

Initially, before ICE has produced selected candidate pairs that will be
used for media, there might be multiple transports established (if
multiple candidate pairs are tested). Once ICE has selected candidate
pairs, they form the BUNDLE transport.[¶](#section-10-6){.pilcrow}

Support and usage of the ICE mechanism together with the BUNDLE
extension is [OPTIONAL]{.bcp14}, and the procedures in this section only
apply when the ICE mechanism is used. Note that applications might
mandate usage of the ICE mechanism even if the BUNDLE extension is not
used.[¶](#section-10-7){.pilcrow}

NOTE: If the Trickle ICE mechanism \[[RFC8840](#RFC8840){.xref}\] is
used, an offerer and answerer might assign a port value of \'9\' and an
IPv4 address of \'0.0.0.0\' (or, the IPv6 equivalent \'::\') to multiple
bundled \"m=\" sections in the initial BUNDLE offer. The offerer and
answerer will follow the normal procedures for generating the offers and
answers, including picking a bundled \"m=\" section as the suggested
offerer-tagged \"m=\" section, selecting the tagged \"m=\" sections,
etc. The only difference is that media cannot be sent until one or more
candidates have been provided. Once a BUNDLE group has been negotiated,
trickled candidates associated with a bundled \"m=\" section will be
applied to all bundled \"m=\" sections within the BUNDLE
group.[¶](#section-10-8){.pilcrow}
:::
:::

::: {#sec-dtls}
::: {#section-11 .section}
## [11.](#section-11){.section-number .selfRef} [DTLS Considerations](#name-dtls-considerations){.section-name .selfRef} {#name-dtls-considerations}

One or more media streams within a BUNDLE group might use the DTLS
protocol \[[RFC6347](#RFC6347){.xref}\] in order to encrypt the data or
negotiate encryption keys if another encryption mechanism is used to
encrypt media.[¶](#section-11-1){.pilcrow}

When DTLS is used within a BUNDLE group, the following rules
apply:[¶](#section-11-2){.pilcrow}

-   [There can only be one DTLS association
    \[[RFC6347](#RFC6347){.xref}\] associated with the BUNDLE
    group;[¶](#section-11-3.1){.pilcrow}]{#section-11-3.1}
-   [Each usage of the DTLS association within the BUNDLE group
    [MUST]{.bcp14} use the same mechanism for determining which
    endpoints (the offerer or answerer) become DTLS client and DTLS
    server;[¶](#section-11-3.2){.pilcrow}]{#section-11-3.2}
-   [Each usage of the DTLS association within the BUNDLE group
    [MUST]{.bcp14} use the same mechanism for determining whether an
    offer or answer will trigger the establishment of a new DTLS
    association or if an existing DTLS association will be used instead;
    and[¶](#section-11-3.3){.pilcrow}]{#section-11-3.3}
-   [If the DTLS client supports DTLS-SRTP, it [MUST]{.bcp14} include
    the \'use_srtp\' extension in the DTLS ClientHello message
    \[[RFC5764](#RFC5764){.xref}\]. The client [MUST]{.bcp14} include
    the extension even if the usage of DTLS-SRTP is not negotiated as
    part of the multimedia session (e.g., the SIP session
    \[[RFC3261](#RFC3261){.xref}\]).[¶](#section-11-3.4){.pilcrow}]{#section-11-3.4}

NOTE: The inclusion of the \'use_srtp\' extension during the initial
DTLS handshake ensures that a DTLS renegotiation will not be required in
order to include the extension in case DTLS-SRTP encrypted media is
added to the BUNDLE group later during the multimedia
session.[¶](#section-11-4){.pilcrow}
:::
:::

::: {#sec-extmap}
::: {#section-12 .section}
## [12.](#section-12){.section-number .selfRef} [RTP Header Extensions Consideration](#name-rtp-header-extensions-consi){.section-name .selfRef} {#name-rtp-header-extensions-consi}

When RTP header extensions \[[RFC8285](#RFC8285){.xref}\] are used in
the context of this specification, the identifier used for a given
extension [MUST]{.bcp14} identify the same extension across all the
bundled media descriptions.[¶](#section-12-1){.pilcrow}
:::
:::

::: {#sec-3264}
::: {#section-13 .section}
## [13.](#section-13){.section-number .selfRef} [Updates to RFC 3264](#name-updates-to-rfc-3264){.section-name .selfRef} {#name-updates-to-rfc-3264}

This section updates \[[RFC3264](#RFC3264){.xref}\] in order to allow
extensions to define the usage of a zero port value in offers and
answers for purposes other than removing or disabling media streams. The
following sections are being updated:[¶](#section-13-1){.pilcrow}

-   [\"Unicast Streams\"; see [Section
    5.1](https://www.rfc-editor.org/rfc/rfc3264#section-5.1){.relref} of
    \[[RFC3264](#RFC3264){.xref}\].[¶](#section-13-2.1){.pilcrow}]{#section-13-2.1}
-   [\"Putting a Unicast Media Stream on Hold\"; see [Section
    8.4](https://www.rfc-editor.org/rfc/rfc3264#section-8.4){.relref} of
    \[[RFC3264](#RFC3264){.xref}\].[¶](#section-13-2.2){.pilcrow}]{#section-13-2.2}

::: {#sec-3264-old-5_1}
::: {#section-13.1 .section}
### [13.1.](#section-13.1){.section-number .selfRef} [Original Text from RFC 3264, Section 5.1, Paragraph 2](#name-original-text-from-rfc-3264){.section-name .selfRef} {#name-original-text-from-rfc-3264}

> For recvonly and sendrecv streams, the port number and address in the
> offer indicate where the offerer would like to receive the media
> stream. For sendonly RTP streams, the address and port number
> indirectly indicate where the offerer wants to receive RTCP reports.
> Unless there is an explicit indication otherwise, reports are sent to
> the port number one higher than the number indicated. The IP address
> and port present in the offer indicate nothing about the source IP
> address and source port of RTP and RTCP packets that will be sent by
> the offerer. A port number of zero in the offer indicates that the
> stream is offered but [MUST NOT]{.bcp14} be used. This has no useful
> semantics in an initial offer, but is allowed for reasons of
> completeness, since the answer can contain a zero port indicating a
> rejected stream (Section
> [6](https://www.rfc-editor.org/rfc/rfc3264#section-6){.relref}).
> Furthermore, existing streams can be terminated by setting the port to
> zero (Section
> [8](https://www.rfc-editor.org/rfc/rfc3264#section-8){.relref}). In
> general, a port number of zero indicates that the media stream is not
> wanted.[¶](#section-13.1-1){.pilcrow}
:::
:::

::: {#sec-3264-new-5_1}
::: {#section-13.2 .section}
### [13.2.](#section-13.2){.section-number .selfRef} [New Text Replacing RFC 3264, Section 5.1, Paragraph 2](#name-new-text-replacing-rfc-3264){.section-name .selfRef} {#name-new-text-replacing-rfc-3264}

> For recvonly and sendrecv streams, the port number and address in the
> offer indicate where the offerer would like to receive the media
> stream. For sendonly RTP streams, the address and port number
> indirectly indicate where the offerer wants to receive RTCP reports.
> Unless there is an explicit indication otherwise, reports are sent to
> the port number one higher than the number indicated. The IP address
> and port present in the offer indicate nothing about the source IP
> address and source port of the RTP and RTCP packets that will be sent
> by the offerer. By default, a port number of zero in the offer
> indicates that the stream is offered but [MUST NOT]{.bcp14} be used,
> but an extension mechanism might specify different semantics for the
> usage of a zero port value. Furthermore, existing streams can be
> terminated by setting the port to zero (Section
> [8](https://www.rfc-editor.org/rfc/rfc3264#section-8){.relref}). In
> general, a port number of zero by default indicates that the media
> stream is not wanted.[¶](#section-13.2-1.1){.pilcrow}
:::
:::

::: {#sec-3264-old-8_4}
::: {#section-13.3 .section}
### [13.3.](#section-13.3){.section-number .selfRef} [Original Text from RFC 3264, Section 8.4, Paragraph 6](#name-original-text-from-rfc-3264-){.section-name .selfRef} {#name-original-text-from-rfc-3264-}

> RFC 2543 \[10\] specified that placing a user on hold was accomplished
> by setting the connection address to 0.0.0.0. Its usage for putting a
> call on hold is no longer recommended, since it doesn\'t allow for
> RTCP to be used with held streams, doesn\'t work with IPv6, and breaks
> with connection oriented media. However, it can be useful in an
> initial offer when the offerer knows it wants to use a particular set
> of media streams and formats, but doesn\'t know the addresses and
> ports at the time of the offer. Of course, when used, the port number
> [MUST NOT]{.bcp14} be zero, which would specify that the stream has
> been disabled. An agent [MUST]{.bcp14} be capable of receiving SDP
> with a connection address of 0.0.0.0, in which case it means that
> neither RTP nor RTCP should be sent to the
> peer.[¶](#section-13.3-1){.pilcrow}
:::
:::

::: {#sec-3264-new-8_4}
::: {#section-13.4 .section}
### [13.4.](#section-13.4){.section-number .selfRef} [New Text Replacing RFC 3264, Section 8.4, Paragraph 6](#name-new-text-replacing-rfc-3264-){.section-name .selfRef} {#name-new-text-replacing-rfc-3264-}

> RFC 2543 \[[RFC2543](#RFC2543){.xref}\] specifies that placing a user
> on hold was accomplished by setting the connection address to 0.0.0.0.
> Its usage for putting a call on hold is no longer recommended, since
> it doesn\'t allow for RTCP to be used with held streams, doesn\'t work
> with IPv6, and breaks with connection oriented media. However, it can
> be useful in an initial offer when the offerer knows it wants to use a
> particular set of media streams and formats, but doesn\'t know the
> addresses and ports at the time of the offer. Of course, when used,
> the port number [MUST NOT]{.bcp14} be zero, if it would specify that
> the stream has been disabled. However, an extension mechanism might
> specify different semantics of the zero port number usage. An agent
> [MUST]{.bcp14} be capable of receiving SDP with a connection address
> of 0.0.0.0, in which case it means that neither RTP nor RTCP is to be
> sent to the peer.[¶](#section-13.4-1.1){.pilcrow}
:::
:::
:::
:::

::: {#sec-5888}
::: {#section-14 .section}
## [14.](#section-14){.section-number .selfRef} [Update to RFC 5888](#name-update-to-rfc-5888){.section-name .selfRef} {#name-update-to-rfc-5888}

This section updates RFC 5888 \[[RFC5888](#RFC5888){.xref}\] in order
for extensions to allow an SDP \'group\' attribute containing an
identification-tag that identifies an \"m=\" section with the port set
to zero. \"Group Value in Answers\" ([Section
9.2](https://www.rfc-editor.org/rfc/rfc5888#section-9.2){.relref} of
\[[RFC5888](#RFC5888){.xref}\]) is updated.[¶](#section-14-1){.pilcrow}

::: {#sec-5888-old-9_2}
::: {#section-14.1 .section}
### [14.1.](#section-14.1){.section-number .selfRef} [Original Text from RFC 5888, Section 9.2, Paragraph 3](#name-original-text-from-rfc-5888){.section-name .selfRef} {#name-original-text-from-rfc-5888}

> SIP entities refuse media streams by setting the port to zero in the
> corresponding \"m\" line. \"a=group\" lines [MUST NOT]{.bcp14} contain
> identification-tags that correspond to \"m\" lines with the port set
> to zero.[¶](#section-14.1-1){.pilcrow}
:::
:::

::: {#sec-5888-new-9_2}
::: {#section-14.2 .section}
### [14.2.](#section-14.2){.section-number .selfRef} [New Text Replacing RFC 5888, Section 9.2, Paragraph 3](#name-new-text-replacing-rfc-5888){.section-name .selfRef} {#name-new-text-replacing-rfc-5888}

> SIP entities refuse media streams by setting the port to zero in the
> corresponding \"m\" line. \"a=group\" lines [MUST NOT]{.bcp14} contain
> identification-tags that correspond to \"m\" lines with the port set
> to zero, but an extension mechanism might specify different semantics
> for including identification-tags that correspond to such \"m=\"
> lines.[¶](#section-14.2-1.1){.pilcrow}
:::
:::
:::
:::

::: {#sec-receiver-id}
::: {#section-15 .section}
## [15.](#section-15){.section-number .selfRef} [RTP/RTCP Extensions for identification-tag Transport](#name-rtp-rtcp-extensions-for-ide){.section-name .selfRef} {#name-rtp-rtcp-extensions-for-ide}

Offerers and answerers \[[RFC3264](#RFC3264){.xref}\] can associate
identification-tags with \"m=\" sections within offers and answers using
the procedures in \[[RFC5888](#RFC5888){.xref}\]. Each
identification-tag uniquely represents an \"m=\"
section.[¶](#section-15-1){.pilcrow}

This section defines a new RTCP SDES item
\[[RFC3550](#RFC3550){.xref}\], \'MID\', which is used to carry
identification-tags within RTCP SDES packets. This section also defines
a new RTP SDES header extension \[[RFC7941](#RFC7941){.xref}\], which is
used to carry the \'MID\' RTCP SDES item in RTP
packets.[¶](#section-15-2){.pilcrow}

The SDES item and RTP SDES header extension make it possible for a
receiver to associate each RTP stream with a specific \"m=\" section
with which the receiver has associated an identification-tag, even if
those \"m=\" sections are part of the same RTP session. The RTP SDES
header extension also ensures that the media recipient gets the
identification-tag upon receipt of the first decodable media and is able
to associate the media with the correct
application.[¶](#section-15-3){.pilcrow}

A media recipient informs the media sender about the identification-tag
associated with an \"m=\" section through the use of a \'mid\' attribute
\[[RFC5888](#RFC5888){.xref}\]. The media sender then inserts the
identification-tag in RTCP and RTP packets sent to the media
recipient.[¶](#section-15-4){.pilcrow}

NOTE: The text above defines how identification-tags are carried in
offers and answers. The usage of other signaling protocols for carrying
identification-tags is not prevented, but the usage of such protocols is
outside the scope of this document.[¶](#section-15-5){.pilcrow}

\[[RFC3550](#RFC3550){.xref}\] defines general procedures regarding the
RTCP transmission interval. The RTCP MID SDES item [SHOULD]{.bcp14} be
sent in the first few RTCP packets after joining the session and
[SHOULD]{.bcp14} be sent regularly thereafter. The exact number of RTCP
packets in which this SDES item is sent is intentionally not specified
here, as it will depend on the expected packet-loss rate, the RTCP
reporting interval, and the allowable
overhead.[¶](#section-15-6){.pilcrow}

The RTP SDES header extension for carrying the \'MID\' RTCP SDES
[SHOULD]{.bcp14} be included in some RTP packets at the start of the
session and whenever the SSRC changes. It might also be useful to
include the header extension in RTP packets that comprise access points
in the media (e.g., with video I-frames). The exact number of RTP
packets in which this header extension is sent is intentionally not
specified here, as it will depend on expected packet-loss rate and loss
patterns, the overhead the application can tolerate, and the importance
of immediate receipt of the
identification-tag.[¶](#section-15-7){.pilcrow}

For robustness, endpoints need to be prepared for situations where the
reception of the identification-tag is delayed and [SHOULD NOT]{.bcp14}
terminate sessions in such cases, as the identification-tag is likely to
arrive soon.[¶](#section-15-8){.pilcrow}

::: {#sec-receiver-id-sdes-item}
::: {#section-15.1 .section}
### [15.1.](#section-15.1){.section-number .selfRef} [RTCP MID SDES Item](#name-rtcp-mid-sdes-item){.section-name .selfRef} {#name-rtcp-mid-sdes-item}

::: {#section-15.1-1 .alignLeft .art-text .artwork}
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |      MID=15   |     length    | identification-tag          ...
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-15.1-1){.pilcrow}
:::

The identification-tag payload is UTF-8 encoded
\[[RFC3629](#RFC3629){.xref}\], as in SDP.[¶](#section-15.1-2){.pilcrow}

The identification-tag is not zero
terminated.[¶](#section-15.1-3){.pilcrow}
:::
:::

::: {#sec-receiver-id-rtp-he}
::: {#section-15.2 .section}
### [15.2.](#section-15.2){.section-number .selfRef} [RTP SDES Header Extension for MID](#name-rtp-sdes-header-extension-f){.section-name .selfRef} {#name-rtp-sdes-header-extension-f}

The payload, containing the identification-tag, of the RTP SDES header
extension element can be encoded using either the 1-byte or the 2-byte
header \[[RFC7941](#RFC7941){.xref}\]. The identification-tag payload is
UTF-8 encoded, as in SDP.[¶](#section-15.2-1){.pilcrow}

The identification-tag is not zero terminated. Note that the set of
header extensions included in the packet needs to be padded to the next
32-bit boundary using zero bytes
\[[RFC8285](#RFC8285){.xref}\].[¶](#section-15.2-2){.pilcrow}

As the identification-tag is included in an RTCP SDES item, an RTP SDES
header extension, or both, there needs to be some consideration about
the packet expansion caused by the identification-tag. To avoid Maximum
Transmission Unit (MTU) issues for the RTP packets, the header
extension\'s size needs to be taken into account when encoding the
media.[¶](#section-15.2-3){.pilcrow}

It is recommended that the identification-tag be kept short. Due to the
properties of the RTP header extension mechanism, when using the 1-byte
header, a tag that is 1-3 bytes will result in a minimal number of
32-bit words used for the RTP SDES header extension, in case no other
header extensions are included at the same time. Note: do take into
account that some single characters when UTF-8 encoded will result in
multiple octets. The identification-tag [MUST NOT]{.bcp14} contain any
user information, and applications [SHALL]{.bcp14} avoid generating the
identification-tag using a pattern that enables user or application
identification.[¶](#section-15.2-4){.pilcrow}
:::
:::
:::
:::

::: {#sec-receiver-id-iana}
::: {#section-16 .section}
## [16.](#section-16){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

NOTE: Apart from the references, the IANA considerations in this section
are identical to those in
\[[RFC8843](#RFC8843){.xref}\].[¶](#section-16-1){.pilcrow}

::: {#sec-receiver-id-iana-sdes-item}
::: {#section-16.1 .section}
### [16.1.](#section-16.1){.section-number .selfRef} [SDES Item](#name-sdes-item){.section-name .selfRef} {#name-sdes-item}

This document updates the MID SDES entry in the \"RTP SDES Item Types\"
registry as follows:[¶](#section-16.1-1){.pilcrow}

[]{.break}

Value:
:   15[¶](#section-16.1-2.2){.pilcrow}
:   

Abbrev.:
:   MID[¶](#section-16.1-2.4){.pilcrow}
:   

Name:
:   Media Identification[¶](#section-16.1-2.6){.pilcrow}
:   

Reference:
:   RFC 9143[¶](#section-16.1-2.8){.pilcrow}
:   
:::
:::

::: {#sec-receiver-id-iana-rtp-uri}
::: {#section-16.2 .section}
### [16.2.](#section-16.2){.section-number .selfRef} [RTP SDES Header Extension URI](#name-rtp-sdes-header-extension-u){.section-name .selfRef} {#name-rtp-sdes-header-extension-u}

This document updates the extension URI in the \"RTP SDES Compact Header
Extensions\" subregistry of the \"RTP Compact Header Extensions\"
sub-registry, according to the following
data:[¶](#section-16.2-1){.pilcrow}

[]{.break}

Extension URI:
:   urn:ietf:params:rtp-hdrext:sdes:mid[¶](#section-16.2-2.2){.pilcrow}
:   

Description:
:   Media identification[¶](#section-16.2-2.4){.pilcrow}
:   

Contact:
:   IESG (iesg\@ietf.org)[¶](#section-16.2-2.6){.pilcrow}
:   

Reference:
:   RFC 9143[¶](#section-16.2-2.8){.pilcrow}
:   

The SDES item does not reveal privacy information about the users. It is
simply used to associate RTP-based media with the correct SDP media
description (\"m=\" section) in the SDP used to negotiate the
media.[¶](#section-16.2-3){.pilcrow}

The purpose of the extension is for the offerer to be able to associate
received multiplexed RTP-based media before the offerer receives the
associated answer.[¶](#section-16.2-4){.pilcrow}
:::
:::

::: {#sec-receiver-id-iana-sdp-attribute}
::: {#section-16.3 .section}
### [16.3.](#section-16.3){.section-number .selfRef} [SDP Attribute](#name-sdp-attribute){.section-name .selfRef} {#name-sdp-attribute}

This document updates the SDP media-level attribute, \'bundle-only\', in
the \"attribute-name (formerly \'att-field\')\" subregistry of the
\"Session Description Protocol (SDP) Parameters\" registry according to
the following data:[¶](#section-16.3-1){.pilcrow}

[]{.break}

Attribute name:
:   bundle-only[¶](#section-16.3-2.2){.pilcrow}
:   

Type of attribute:
:   media[¶](#section-16.3-2.4){.pilcrow}
:   

Subject to charset:
:   No[¶](#section-16.3-2.6){.pilcrow}
:   

Purpose:
:   Request a media description to be accepted in the answer only if
    kept within a BUNDLE group by the
    answerer.[¶](#section-16.3-2.8){.pilcrow}
:   

Appropriate values:
:   N/A[¶](#section-16.3-2.10){.pilcrow}
:   

Contact name:
:   IESG[¶](#section-16.3-2.12){.pilcrow}
:   

Contact e-mail:
:   iesg\@ietf.org[¶](#section-16.3-2.14){.pilcrow}
:   

Reference:
:   RFC 9143[¶](#section-16.3-2.16){.pilcrow}
:   

Mux category:
:   NORMAL[¶](#section-16.3-2.18){.pilcrow}
:   
:::
:::

::: {#sec-receiver-id-iana-sdp-group-semantics}
::: {#section-16.4 .section}
### [16.4.](#section-16.4){.section-number .selfRef} [SDP Group Semantics](#name-sdp-group-semantics){.section-name .selfRef} {#name-sdp-group-semantics}

This document updates the following semantics in the \"Semantics for the
\'group\' SDP Attribute\" subregistry (under the \"Session Description
Protocol (SDP) Parameters\" registry):[¶](#section-16.4-1){.pilcrow}

[]{#name-update-to-sdp-group-semanti}

::: {#Table_1}
  Semantics        Token    Mux Category   Reference
  ---------------- -------- -------------- -----------
  Media bundling   BUNDLE   NORMAL         RFC 9143

  : [Table 1](#table-1){.selfRef}: [Update to SDP Group
  Semantics](#name-update-to-sdp-group-semanti){.selfRef}
:::
:::
:::
:::
:::

::: {#sec-security}
::: {#section-17 .section}
## [17.](#section-17){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

The security considerations defined in \[[RFC3264](#RFC3264){.xref}\]
and \[[RFC5888](#RFC5888){.xref}\] apply to the BUNDLE extension. BUNDLE
does not change which information, e.g., RTP streams, flows over the
network, except for the usage of the MID SDES item as discussed below.
Primarily, it changes which addresses and ports, and thus in which (RTP)
sessions, the information flows to. This affects the security contexts
being used and can cause previously separated information flows to share
the same security context. This has very little impact on the
performance of the security mechanism of the RTP sessions. In cases
where one would have applied different security policies on the
different RTP streams being bundled or where the parties having access
to the security contexts would have differed between the RTP streams,
additional analysis of the implications is needed before selecting to
apply BUNDLE.[¶](#section-17-1){.pilcrow}

The identification-tag, independent of transport, RTCP SDES packet, or
RTP header extension, can expose the value to parties beyond the
signaling chain. Therefore, the identification-tag values [MUST]{.bcp14}
be generated in a fashion that does not leak user information, e.g.,
randomly or using a per-bundle group counter, and [SHOULD]{.bcp14} be 3
bytes or fewer to allow them to efficiently fit into the MID RTP header
extension. Note that if implementations use different methods for
generating identification-tags, this could enable fingerprinting of the
implementation, making it vulnerable to targeted attacks. The
identification-tag is exposed on the RTP stream level when included in
the RTP header extensions; however, what it reveals of the RTP media
stream structure of the endpoint and application was already possible to
deduce from the RTP streams without the MID SDES header extensions. As
the identification-tag is also used to route the media stream to the
right application functionality, it is important that the value received
is the one intended by the sender; thus, integrity and the authenticity
of the source are important to prevent denial of service on the
application. Existing SRTP configurations and other security mechanisms
protecting the whole RTP/RTCP packets will provide the necessary
protection.[¶](#section-17-2){.pilcrow}

When the BUNDLE extension is used, the set of configurations of the
security mechanism used in all the bundled media descriptions will need
to be compatible so that they can be used simultaneously, at least per
direction or endpoint. When using SRTP, this will be the case, at least
for the IETF-defined key-management solutions due to their SDP
attributes (\"a=crypto\", \"a=fingerprint\", \"a=mikey\") and their
classification in
\[[RFC8859](#RFC8859){.xref}\].[¶](#section-17-3){.pilcrow}

The security considerations of \"RTP Header Extension for the RTP
Control Protocol (RTCP) Source Description Items\"
\[[RFC7941](#RFC7941){.xref}\] require that when RTCP is confidentiality
protected, any SDES RTP header extension carrying an SDES item, such as
the MID RTP header extension, is also protected using commensurate
strength algorithms. However, assuming the above requirements and
recommendations are followed, there are no known significant security
risks with leaving the MID RTP header extension without confidentiality
protection. Therefore, this specification updates
\[[RFC7941](#RFC7941){.xref}\] by adding the exception that this
requirement [MAY]{.bcp14} be ignored for the MID RTP header extension.
Security mechanisms for RTP/RTCP are discussed in \"Options for Securing
RTP Sessions\" \[[RFC7201](#RFC7201){.xref}\]; for example, SRTP
\[[RFC3711](#RFC3711){.xref}\] can provide the necessary security
functions of ensuring the integrity and source
authenticity.[¶](#section-17-4){.pilcrow}
:::
:::

::: {#sec-example-alt1}
::: {#section-18 .section}
## [18.](#section-18){.section-number .selfRef} [Examples](#name-examples){.section-name .selfRef} {#name-examples}

::: {#sec-example-add}
::: {#section-18.1 .section}
### [18.1.](#section-18.1){.section-number .selfRef} [Example: Tagged \"m=\" Section Selections](#name-example-tagged-m-section-se){.section-name .selfRef} {#name-example-tagged-m-section-se}

The example below shows:[¶](#section-18.1-1){.pilcrow}

-   [An initial BUNDLE offer, in which the offerer wants to negotiate a
    BUNDLE group and indicates the audio \"m=\" section as the suggested
    offerer-tagged \"m=\"
    section.[¶](#section-18.1-2.1){.pilcrow}]{#section-18.1-2.1}
-   [An initial BUNDLE answer, in which the answerer accepts the
    creation of the BUNDLE group, selects the audio \"m=\" section in
    the offer as the offerer-tagged \"m=\" section, selects the audio
    \"m=\" section in the answer as the answerer-tagged \"m=\" section,
    and assigns the answerer BUNDLE address:port to that \"m=\"
    section.[¶](#section-18.1-2.2){.pilcrow}]{#section-18.1-2.2}

SDP Offer (1)[¶](#section-18.1-3){.pilcrow}

::: {#section-18.1-4}
``` {.lang-sdp .sourcecode}
    v=0
    o=alice 2890844526 2890844526 IN IP6 2001:db8::3
    s=
    c=IN IP6 2001:db8::3
    t=0 0
    a=group:BUNDLE foo bar

    m=audio 10000 RTP/AVP 0 8 97
    b=AS:200
    a=mid:foo
    a=rtcp-mux
    a=rtpmap:0 PCMU/8000
    a=rtpmap:8 PCMA/8000
    a=rtpmap:97 iLBC/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 10002 RTP/AVP 31 32
    b=AS:1000
    a=mid:bar
    a=rtcp-mux
    a=rtpmap:31 H261/90000
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-18.1-4){.pilcrow}
:::

SDP Answer (2)[¶](#section-18.1-5){.pilcrow}

::: {#section-18.1-6}
``` {.lang-sdp .sourcecode}
    v=0
    o=bob 2808844564 2808844564 IN IP6 2001:db8::1
    s=
    c=IN IP6 2001:db8::1
    t=0 0
    a=group:BUNDLE foo bar

    m=audio 20000 RTP/AVP 0
    b=AS:200
    a=mid:foo
    a=rtcp-mux
    a=rtpmap:0 PCMU/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 20000 RTP/AVP 32
    b=AS:1000
    a=mid:bar
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-18.1-6){.pilcrow}
:::
:::
:::

::: {#sec-example-bunrej}
::: {#section-18.2 .section}
### [18.2.](#section-18.2){.section-number .selfRef} [Example: BUNDLE Group Rejected](#name-example-bundle-group-reject){.section-name .selfRef} {#name-example-bundle-group-reject}

The example below shows:[¶](#section-18.2-1){.pilcrow}

-   [An initial BUNDLE offer, in which the offerer wants to negotiate a
    BUNDLE group and indicates the audio \"m=\" section as the suggested
    offerer-tagged \"m=\"
    section.[¶](#section-18.2-2.1){.pilcrow}]{#section-18.2-2.1}
-   [An initial BUNDLE answer, in which the answerer rejects the
    creation of the BUNDLE group, generates a normal answer, and assigns
    a unique address:port to each \"m=\" section in the
    answer.[¶](#section-18.2-2.2){.pilcrow}]{#section-18.2-2.2}

SDP Offer (1)[¶](#section-18.2-3){.pilcrow}

::: {#section-18.2-4}
``` {.lang-sdp .sourcecode}
    v=0
    o=alice 2890844526 2890844526 IN IP6 2001:db8::3
    s=
    c=IN IP6 2001:db8::3
    t=0 0
    a=group:BUNDLE foo bar

    m=audio 10000 RTP/AVP 0 8 97
    b=AS:200
    a=mid:foo
    a=rtcp-mux
    a=rtpmap:0 PCMU/8000
    a=rtpmap:8 PCMA/8000
    a=rtpmap:97 iLBC/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 10002 RTP/AVP 31 32
    b=AS:1000
    a=mid:bar
    a=rtcp-mux
    a=rtpmap:31 H261/90000
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-18.2-4){.pilcrow}
:::

SDP Answer (2)[¶](#section-18.2-5){.pilcrow}

::: {#section-18.2-6}
``` {.lang-sdp .sourcecode}
    v=0
    o=bob 2808844564 2808844564 IN IP6 2001:db8::1
    s=
    c=IN IP6 2001:db8::1
    t=0 0

    m=audio 20000 RTP/AVP 0
    b=AS:200
    a=rtcp-mux
    a=rtpmap:0 PCMU/8000

    m=video 30000 RTP/AVP 32
    b=AS:1000
    a=rtcp-mux
    a=rtpmap:32 MPV/90000
```

[¶](#section-18.2-6){.pilcrow}
:::
:::
:::

::: {#sec-example-off-add}
::: {#section-18.3 .section}
### [18.3.](#section-18.3){.section-number .selfRef} [Example: Offerer Adds a Media Description to a BUNDLE Group](#name-example-offerer-adds-a-medi){.section-name .selfRef} {#name-example-offerer-adds-a-medi}

The example below shows:[¶](#section-18.3-1){.pilcrow}

-   [A subsequent offer, in which the offerer adds a new bundled \"m=\"
    section (video), indicated by the \"zen\" identification-tag, to a
    previously negotiated BUNDLE group; indicates the new \"m=\" section
    as the offerer-tagged \"m=\" section; and assigns the offerer BUNDLE
    address:port to that \"m=\"
    section.[¶](#section-18.3-2.1){.pilcrow}]{#section-18.3-2.1}
-   [A subsequent answer, in which the answerer indicates the new video
    \"m=\" section in the answer as the answerer-tagged \"m=\" section
    and assigns the answerer BUNDLE address:port to that \"m=\"
    section.[¶](#section-18.3-2.2){.pilcrow}]{#section-18.3-2.2}

SDP Offer (1)[¶](#section-18.3-3){.pilcrow}

::: {#section-18.3-4}
``` {.lang-sdp .sourcecode}
    v=0
    o=alice 2890844526 2890844526 IN IP6 2001:db8::3
    s=
    c=IN IP6 2001:db8::3
    t=0 0
    a=group:BUNDLE zen foo bar

    m=audio 10000 RTP/AVP 0 8 97
    b=AS:200
    a=mid:foo
    a=rtpmap:0 PCMU/8000
    a=rtpmap:8 PCMA/8000
    a=rtpmap:97 iLBC/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 10000 RTP/AVP 31 32
    b=AS:1000
    a=mid:bar
    a=rtpmap:31 H261/90000
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 10000 RTP/AVP 66
    b=AS:1000
    a=mid:zen
    a=rtcp-mux
    a=rtpmap:66 H261/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-18.3-4){.pilcrow}
:::

SDP Answer (2)[¶](#section-18.3-5){.pilcrow}

::: {#section-18.3-6}
``` {.lang-sdp .sourcecode}
    v=0
    o=bob 2808844564 2808844564 IN IP6 2001:db8::1
    s=
    c=IN IP6 2001:db8::1
    t=0 0
    a=group:BUNDLE zen foo bar

    m=audio 20000 RTP/AVP 0
    b=AS:200
    a=mid:foo
    a=rtpmap:0 PCMU/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 20000 RTP/AVP 32
    b=AS:1000
    a=mid:bar
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 20000 RTP/AVP 66
    b=AS:1000
    a=mid:zen
    a=rtcp-mux
    a=rtpmap:66 H261/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
```

[¶](#section-18.3-6){.pilcrow}
:::
:::
:::

::: {#sec-example-off-mov}
::: {#section-18.4 .section}
### [18.4.](#section-18.4){.section-number .selfRef} [Example: Offerer Moves a Media Description Out of a BUNDLE Group](#name-example-offerer-moves-a-med){.section-name .selfRef} {#name-example-offerer-moves-a-med}

The example below shows:[¶](#section-18.4-1){.pilcrow}

-   [A subsequent offer, in which the offerer removes an \"m=\" section
    (video), indicated by the \"zen\" identification-tag, from a
    previously negotiated BUNDLE group; indicates one of the bundled
    \"m=\" sections (audio) remaining in the BUNDLE group as the
    offerer-tagged \"m=\" section; and assigns the offerer BUNDLE
    address:port to that \"m=\"
    section.[¶](#section-18.4-2.1){.pilcrow}]{#section-18.4-2.1}
-   [A subsequent answer, in which the answerer removes the \"m=\"
    section from the BUNDLE group, indicates the audio \"m=\" section in
    the answer as the answerer-tagged \"m=\" section, and assigns the
    answerer BUNDLE address:port to that \"m=\"
    section.[¶](#section-18.4-2.2){.pilcrow}]{#section-18.4-2.2}

SDP Offer (1)[¶](#section-18.4-3){.pilcrow}

::: {#section-18.4-4}
``` {.lang-sdp .sourcecode}
    v=0
    o=alice 2890844526 2890844526 IN IP6 2001:db8::3
    s=
    c=IN IP6 2001:db8::3
    t=0 0
    a=group:BUNDLE foo bar

    m=audio 10000 RTP/AVP 0 8 97
    b=AS:200
    a=mid:foo
    a=rtcp-mux
    a=rtpmap:0 PCMU/8000
    a=rtpmap:8 PCMA/8000
    a=rtpmap:97 iLBC/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 10000 RTP/AVP 31 32
    b=AS:1000
    a=mid:bar
    a=rtpmap:31 H261/90000
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 50000 RTP/AVP 66
    b=AS:1000
    a=mid:zen
    a=rtcp-mux
    a=rtpmap:66 H261/90000
```

[¶](#section-18.4-4){.pilcrow}
:::

SDP Answer (2)[¶](#section-18.4-5){.pilcrow}

::: {#section-18.4-6}
``` {.lang-sdp .sourcecode}
    v=0
    o=bob 2808844564 2808844564 IN IP6 2001:db8::1
    s=
    c=IN IP6 2001:db8::1
    t=0 0
    a=group:BUNDLE foo bar

    m=audio 20000 RTP/AVP 0
    b=AS:200
    a=mid:foo
    a=rtcp-mux
    a=rtpmap:0 PCMU/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 20000 RTP/AVP 32
    b=AS:1000
    a=mid:bar
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 60000 RTP/AVP 66
    b=AS:1000
    a=mid:zen
    a=rtcp-mux
    a=rtpmap:66 H261/90000
```

[¶](#section-18.4-6){.pilcrow}
:::
:::
:::

::: {#sec-example-off-dis}
::: {#section-18.5 .section}
### [18.5.](#section-18.5){.section-number .selfRef} [Example: Offerer Disables a Media Description within a BUNDLE Group](#name-example-offerer-disables-a-){.section-name .selfRef} {#name-example-offerer-disables-a-}

The example below shows:[¶](#section-18.5-1){.pilcrow}

-   [A subsequent offer, in which the offerer disables (by assigning a
    zero port value) an \"m=\" section (video), indicated by the \"zen\"
    identification-tag, from a previously negotiated BUNDLE group;
    indicates one of the bundled \"m=\" sections (audio) remaining
    active in the BUNDLE group as the offerer-tagged \"m=\" section; and
    assigns the offerer BUNDLE address:port to that \"m=\"
    section.[¶](#section-18.5-2.1){.pilcrow}]{#section-18.5-2.1}
-   [A subsequent answer, in which the answerer disables the \"m=\"
    section, indicates the audio \"m=\" section in the answer as the
    answerer-tagged \"m=\" section, and assigns the answerer BUNDLE
    address:port to that \"m=\"
    section.[¶](#section-18.5-2.2){.pilcrow}]{#section-18.5-2.2}

SDP Offer (1)[¶](#section-18.5-3){.pilcrow}

::: {#section-18.5-4}
``` {.lang-sdp .sourcecode}
    v=0
    o=alice 2890844526 2890844526 IN IP6 2001:db8::3
    s=
    t=0 0
    a=group:BUNDLE foo bar

    m=audio 10000 RTP/AVP 0 8 97
    c=IN IP6 2001:db8::3
    b=AS:200
    a=mid:foo
    a=rtcp-mux
    a=rtpmap:0 PCMU/8000
    a=rtpmap:8 PCMA/8000
    a=rtpmap:97 iLBC/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 10000 RTP/AVP 31 32
    c=IN IP6 2001:db8::3
    b=AS:1000
    a=mid:bar
    a=rtpmap:31 H261/90000
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 0 RTP/AVP 66
    a=mid:zen
    a=rtpmap:66 H261/90000
```

[¶](#section-18.5-4){.pilcrow}
:::

SDP Answer (2)[¶](#section-18.5-5){.pilcrow}

::: {#section-18.5-6}
``` {.lang-sdp .sourcecode}
    v=0
    o=bob 2808844564 2808844564 IN IP6 2001:db8::1
    s=
    t=0 0
    a=group:BUNDLE foo bar

    m=audio 20000 RTP/AVP 0
    c=IN IP6 2001:db8::1
    b=AS:200
    a=mid:foo
    a=rtcp-mux
    a=rtpmap:0 PCMU/8000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 20000 RTP/AVP 32
    c=IN IP6 2001:db8::1
    b=AS:1000
    a=mid:bar
    a=rtpmap:32 MPV/90000
    a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid

    m=video 0 RTP/AVP 66
    a=mid:zen
    a=rtpmap:66 H261/90000
```

[¶](#section-18.5-6){.pilcrow}
:::
:::
:::
:::
:::

::: {#section-19 .section}
## [19.](#section-19){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-19.1 .section}
### [19.1.](#section-19.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC3264\]
:   [Rosenberg, J.]{.refAuthor} and [H. Schulzrinne]{.refAuthor}, [\"An
    Offer/Answer Model with Session Description Protocol
    (SDP)\"]{.refTitle}, [RFC 3264]{.seriesInfo}, [DOI
    10.17487/RFC3264]{.seriesInfo}, June 2002,
    \<<https://www.rfc-editor.org/info/rfc3264>\>.
:   

\[RFC3550\]
:   [Schulzrinne, H.]{.refAuthor}, [Casner, S.]{.refAuthor},
    [Frederick, R.]{.refAuthor}, and [V. Jacobson]{.refAuthor}, [\"RTP:
    A Transport Protocol for Real-Time Applications\"]{.refTitle}, [STD
    64]{.seriesInfo}, [RFC 3550]{.seriesInfo}, [DOI
    10.17487/RFC3550]{.seriesInfo}, July 2003,
    \<<https://www.rfc-editor.org/info/rfc3550>\>.
:   

\[RFC3605\]
:   [Huitema, C.]{.refAuthor}, [\"Real Time Control Protocol (RTCP)
    attribute in Session Description Protocol (SDP)\"]{.refTitle}, [RFC
    3605]{.seriesInfo}, [DOI 10.17487/RFC3605]{.seriesInfo}, October
    2003, \<<https://www.rfc-editor.org/info/rfc3605>\>.
:   

\[RFC3629\]
:   [Yergeau, F.]{.refAuthor}, [\"UTF-8, a transformation format of ISO
    10646\"]{.refTitle}, [STD 63]{.seriesInfo}, [RFC 3629]{.seriesInfo},
    [DOI 10.17487/RFC3629]{.seriesInfo}, November 2003,
    \<<https://www.rfc-editor.org/info/rfc3629>\>.
:   

\[RFC3711\]
:   [Baugher, M.]{.refAuthor}, [McGrew, D.]{.refAuthor},
    [Naslund, M.]{.refAuthor}, [Carrara, E.]{.refAuthor}, and [K.
    Norrman]{.refAuthor}, [\"The Secure Real-time Transport Protocol
    (SRTP)\"]{.refTitle}, [RFC 3711]{.seriesInfo}, [DOI
    10.17487/RFC3711]{.seriesInfo}, March 2004,
    \<<https://www.rfc-editor.org/info/rfc3711>\>.
:   

\[RFC4566\]
:   [Handley, M.]{.refAuthor}, [Jacobson, V.]{.refAuthor}, and [C.
    Perkins]{.refAuthor}, [\"SDP: Session Description
    Protocol\"]{.refTitle}, [RFC 4566]{.seriesInfo}, [DOI
    10.17487/RFC4566]{.seriesInfo}, July 2006,
    \<<https://www.rfc-editor.org/info/rfc4566>\>.
:   

\[RFC4961\]
:   [Wing, D.]{.refAuthor}, [\"Symmetric RTP / RTP Control Protocol
    (RTCP)\"]{.refTitle}, [BCP 131]{.seriesInfo}, [RFC
    4961]{.seriesInfo}, [DOI 10.17487/RFC4961]{.seriesInfo}, July 2007,
    \<<https://www.rfc-editor.org/info/rfc4961>\>.
:   

\[RFC5761\]
:   [Perkins, C.]{.refAuthor} and [M. Westerlund]{.refAuthor},
    [\"Multiplexing RTP Data and Control Packets on a Single
    Port\"]{.refTitle}, [RFC 5761]{.seriesInfo}, [DOI
    10.17487/RFC5761]{.seriesInfo}, April 2010,
    \<<https://www.rfc-editor.org/info/rfc5761>\>.
:   

\[RFC5764\]
:   [McGrew, D.]{.refAuthor} and [E. Rescorla]{.refAuthor}, [\"Datagram
    Transport Layer Security (DTLS) Extension to Establish Keys for the
    Secure Real-time Transport Protocol (SRTP)\"]{.refTitle}, [RFC
    5764]{.seriesInfo}, [DOI 10.17487/RFC5764]{.seriesInfo}, May 2010,
    \<<https://www.rfc-editor.org/info/rfc5764>\>.
:   

\[RFC5888\]
:   [Camarillo, G.]{.refAuthor} and [H. Schulzrinne]{.refAuthor}, [\"The
    Session Description Protocol (SDP) Grouping Framework\"]{.refTitle},
    [RFC 5888]{.seriesInfo}, [DOI 10.17487/RFC5888]{.seriesInfo}, June
    2010, \<<https://www.rfc-editor.org/info/rfc5888>\>.
:   

\[RFC6347\]
:   [Rescorla, E.]{.refAuthor} and [N. Modadugu]{.refAuthor},
    [\"Datagram Transport Layer Security Version 1.2\"]{.refTitle}, [RFC
    6347]{.seriesInfo}, [DOI 10.17487/RFC6347]{.seriesInfo}, January
    2012, \<<https://www.rfc-editor.org/info/rfc6347>\>.
:   

\[RFC7941\]
:   [Westerlund, M.]{.refAuthor}, [Burman, B.]{.refAuthor},
    [Even, R.]{.refAuthor}, and [M. Zanaty]{.refAuthor}, [\"RTP Header
    Extension for the RTP Control Protocol (RTCP) Source Description
    Items\"]{.refTitle}, [RFC 7941]{.seriesInfo}, [DOI
    10.17487/RFC7941]{.seriesInfo}, August 2016,
    \<<https://www.rfc-editor.org/info/rfc7941>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8285\]
:   [Singer, D.]{.refAuthor}, [Desineni, H.]{.refAuthor}, and [R. Even,
    Ed.]{.refAuthor}, [\"A General Mechanism for RTP Header
    Extensions\"]{.refTitle}, [RFC 8285]{.seriesInfo}, [DOI
    10.17487/RFC8285]{.seriesInfo}, October 2017,
    \<<https://www.rfc-editor.org/info/rfc8285>\>.
:   

\[RFC8445\]
:   [Keranen, A.]{.refAuthor}, [Holmberg, C.]{.refAuthor}, and [J.
    Rosenberg]{.refAuthor}, [\"Interactive Connectivity Establishment
    (ICE): A Protocol for Network Address Translator (NAT)
    Traversal\"]{.refTitle}, [RFC 8445]{.seriesInfo}, [DOI
    10.17487/RFC8445]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8445>\>.
:   

\[RFC8839\]
:   [Petit-Huguenin, M.]{.refAuthor}, [Nandakumar, S.]{.refAuthor},
    [Holmberg, C.]{.refAuthor}, [Keränen, A.]{.refAuthor}, and [R.
    Shpount]{.refAuthor}, [\"Session Description Protocol (SDP)
    Offer/Answer Procedures for Interactive Connectivity Establishment
    (ICE)\"]{.refTitle}, [RFC 8839]{.seriesInfo}, [DOI
    10.17487/RFC8839]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8839>\>.
:   

\[RFC8840\]
:   [Ivov, E.]{.refAuthor}, [Stach, T.]{.refAuthor},
    [Marocco, E.]{.refAuthor}, and [C. Holmberg]{.refAuthor}, [\"A
    Session Initiation Protocol (SIP) Usage for Incremental Provisioning
    of Candidates for the Interactive Connectivity Establishment
    (Trickle ICE)\"]{.refTitle}, [RFC 8840]{.seriesInfo}, [DOI
    10.17487/RFC8840]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8840>\>.
:   

\[RFC8858\]
:   [Holmberg, C.]{.refAuthor}, [\"Indicating Exclusive Support of RTP
    and RTP Control Protocol (RTCP) Multiplexing Using the Session
    Description Protocol (SDP)\"]{.refTitle}, [RFC 8858]{.seriesInfo},
    [DOI 10.17487/RFC8858]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8858>\>.
:   

\[RFC8859\]
:   [Nandakumar, S.]{.refAuthor}, [\"A Framework for Session Description
    Protocol (SDP) Attributes When Multiplexing\"]{.refTitle}, [RFC
    8859]{.seriesInfo}, [DOI 10.17487/RFC8859]{.seriesInfo}, January
    2021, \<<https://www.rfc-editor.org/info/rfc8859>\>.
:   
:::

::: {#section-19.2 .section}
### [19.2.](#section-19.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[Err6431\]
:   [RFC Errata]{.refAuthor}, [Erratum ID 6431]{.refTitle}, [RFC
    8843]{.refContent}, \<<https://www.rfc-editor.org/errata/eid6431>\>.
:   

\[Err6437\]
:   [RFC Errata]{.refAuthor}, [Erratum ID 6437]{.refTitle}, [RFC
    8843]{.refContent}, \<<https://www.rfc-editor.org/errata/eid6437>\>.
:   

\[LLR-RTCP\]
:   [Lennox, J.]{.refAuthor}, [Hong, D.]{.refAuthor},
    [Uberti, J.]{.refAuthor}, [Holmer, S.]{.refAuthor}, and [M.
    Flodman]{.refAuthor}, [\"The Layer Refresh Request (LRR) RTCP
    Feedback Message\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-avtext-lrr-07]{.seriesInfo}, 2 July
    2017,
    \<<https://datatracker.ietf.org/doc/html/draft-ietf-avtext-lrr-07>\>.
:   

\[RFC2543\]
:   [Handley, M.]{.refAuthor}, [Schulzrinne, H.]{.refAuthor},
    [Schooler, E.]{.refAuthor}, and [J. Rosenberg]{.refAuthor}, [\"SIP:
    Session Initiation Protocol\"]{.refTitle}, [RFC 2543]{.seriesInfo},
    [DOI 10.17487/RFC2543]{.seriesInfo}, March 1999,
    \<<https://www.rfc-editor.org/info/rfc2543>\>.
:   

\[RFC3261\]
:   [Rosenberg, J.]{.refAuthor}, [Schulzrinne, H.]{.refAuthor},
    [Camarillo, G.]{.refAuthor}, [Johnston, A.]{.refAuthor},
    [Peterson, J.]{.refAuthor}, [Sparks, R.]{.refAuthor},
    [Handley, M.]{.refAuthor}, and [E. Schooler]{.refAuthor}, [\"SIP:
    Session Initiation Protocol\"]{.refTitle}, [RFC 3261]{.seriesInfo},
    [DOI 10.17487/RFC3261]{.seriesInfo}, June 2002,
    \<<https://www.rfc-editor.org/info/rfc3261>\>.
:   

\[RFC3611\]
:   [Friedman, T., Ed.]{.refAuthor}, [Caceres, R., Ed.]{.refAuthor}, and
    [A. Clark, Ed.]{.refAuthor}, [\"RTP Control Protocol Extended
    Reports (RTCP XR)\"]{.refTitle}, [RFC 3611]{.seriesInfo}, [DOI
    10.17487/RFC3611]{.seriesInfo}, November 2003,
    \<<https://www.rfc-editor.org/info/rfc3611>\>.
:   

\[RFC4585\]
:   [Ott, J.]{.refAuthor}, [Wenger, S.]{.refAuthor},
    [Sato, N.]{.refAuthor}, [Burmeister, C.]{.refAuthor}, and [J.
    Rey]{.refAuthor}, [\"Extended RTP Profile for Real-time Transport
    Control Protocol (RTCP)-Based Feedback (RTP/AVPF)\"]{.refTitle},
    [RFC 4585]{.seriesInfo}, [DOI 10.17487/RFC4585]{.seriesInfo}, July
    2006, \<<https://www.rfc-editor.org/info/rfc4585>\>.
:   

\[RFC5104\]
:   [Wenger, S.]{.refAuthor}, [Chandra, U.]{.refAuthor},
    [Westerlund, M.]{.refAuthor}, and [B. Burman]{.refAuthor}, [\"Codec
    Control Messages in the RTP Audio-Visual Profile with Feedback
    (AVPF)\"]{.refTitle}, [RFC 5104]{.seriesInfo}, [DOI
    10.17487/RFC5104]{.seriesInfo}, February 2008,
    \<<https://www.rfc-editor.org/info/rfc5104>\>.
:   

\[RFC5576\]
:   [Lennox, J.]{.refAuthor}, [Ott, J.]{.refAuthor}, and [T.
    Schierl]{.refAuthor}, [\"Source-Specific Media Attributes in the
    Session Description Protocol (SDP)\"]{.refTitle}, [RFC
    5576]{.seriesInfo}, [DOI 10.17487/RFC5576]{.seriesInfo}, June 2009,
    \<<https://www.rfc-editor.org/info/rfc5576>\>.
:   

\[RFC7160\]
:   [Petit-Huguenin, M.]{.refAuthor} and [G. Zorn, Ed.]{.refAuthor},
    [\"Support for Multiple Clock Rates in an RTP Session\"]{.refTitle},
    [RFC 7160]{.seriesInfo}, [DOI 10.17487/RFC7160]{.seriesInfo}, April
    2014, \<<https://www.rfc-editor.org/info/rfc7160>\>.
:   

\[RFC7201\]
:   [Westerlund, M.]{.refAuthor} and [C. Perkins]{.refAuthor},
    [\"Options for Securing RTP Sessions\"]{.refTitle}, [RFC
    7201]{.seriesInfo}, [DOI 10.17487/RFC7201]{.seriesInfo}, April 2014,
    \<<https://www.rfc-editor.org/info/rfc7201>\>.
:   

\[RFC7656\]
:   [Lennox, J.]{.refAuthor}, [Gross, K.]{.refAuthor},
    [Nandakumar, S.]{.refAuthor}, [Salgueiro, G.]{.refAuthor}, and [B.
    Burman, Ed.]{.refAuthor}, [\"A Taxonomy of Semantics and Mechanisms
    for Real-Time Transport Protocol (RTP) Sources\"]{.refTitle}, [RFC
    7656]{.seriesInfo}, [DOI 10.17487/RFC7656]{.seriesInfo}, November
    2015, \<<https://www.rfc-editor.org/info/rfc7656>\>.
:   

\[RFC7657\]
:   [Black, D., Ed.]{.refAuthor} and [P. Jones]{.refAuthor},
    [\"Differentiated Services (Diffserv) and Real-Time
    Communication\"]{.refTitle}, [RFC 7657]{.seriesInfo}, [DOI
    10.17487/RFC7657]{.seriesInfo}, November 2015,
    \<<https://www.rfc-editor.org/info/rfc7657>\>.
:   

\[RFC8829\]
:   [Uberti, J.]{.refAuthor}, [Jennings, C.]{.refAuthor}, and [E.
    Rescorla, Ed.]{.refAuthor}, [\"JavaScript Session Establishment
    Protocol (JSEP)\"]{.refTitle}, [RFC 8829]{.seriesInfo}, [DOI
    10.17487/RFC8829]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8829>\>.
:   

\[RFC8838\]
:   [Ivov, E.]{.refAuthor}, [Uberti, J.]{.refAuthor}, and [P.
    Saint-Andre]{.refAuthor}, [\"Trickle ICE: Incremental Provisioning
    of Candidates for the Interactive Connectivity Establishment (ICE)
    Protocol\"]{.refTitle}, [RFC 8838]{.seriesInfo}, [DOI
    10.17487/RFC8838]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8838>\>.
:   

\[RFC8843\]
:   [Holmberg, C.]{.refAuthor}, [Alvestrand, H.]{.refAuthor}, and [C.
    Jennings]{.refAuthor}, [\"Negotiating Media Multiplexing Using the
    Session Description Protocol (SDP)\"]{.refTitle}, [RFC
    8843]{.seriesInfo}, [DOI 10.17487/RFC8843]{.seriesInfo}, January
    2021, \<<https://www.rfc-editor.org/info/rfc8843>\>.
:   
:::
:::

::: {#appendix}
::: {#appendix-A .section}
## [Appendix A.](#appendix-A){.section-number .selfRef} [Design Considerations](#name-design-considerations){.section-name .selfRef} {#name-design-considerations}

One of the main issues regarding the BUNDLE grouping extensions has been
whether, in offers and answers, the same port value can be inserted in
\"m=\" lines associated with a BUNDLE group, as the purpose of the
extension is to negotiate the usage of a single transport for media
specified by the \"m=\" sections. Issues with both approaches, discussed
in [Appendix A](#appendix){.xref}, have been raised. The outcome was to
specify a mechanism that uses offers with both different and identical
port values.[¶](#appendix-A-1){.pilcrow}

Below are the primary issues that have been considered when defining the
\"BUNDLE\" grouping extension:[¶](#appendix-A-2){.pilcrow}

[]{.break}

1\)
:   Interoperability with existing User Agents
    (UAs).[¶](#appendix-A-3.1){.pilcrow}
:   

2\)
:   Interoperability with intermediary Back-to-Back User Agent (B2BUA)
    and proxy entities.[¶](#appendix-A-3.2){.pilcrow}
:   

3\)
:   The number of ICE candidates and the time to gather
    them.[¶](#appendix-A-3.3){.pilcrow}
:   

4\)
:   Different error scenarios and when they
    occur.[¶](#appendix-A-3.4){.pilcrow}
:   

5\)
:   SDP offer/answer impacts, including usage of port number value
    zero.[¶](#appendix-A-3.5){.pilcrow}
:   

::: {#appendix-A.1 .section}
### [A.1.](#appendix-A.1){.section-number .selfRef} [UA Interoperability](#name-ua-interoperability){.section-name .selfRef} {#name-ua-interoperability}

Consider the following SDP offer/answer exchange, where Alice sends an
offer to Bob:[¶](#appendix-A.1-1){.pilcrow}

SDP Offer[¶](#appendix-A.1-2){.pilcrow}

::: {#appendix-A.1-3}
``` {.lang-sdp .sourcecode}
    v=0
    o=alice 2890844526 2890844526 IN IP4 atlanta.example.com
    s=
    c=IN IP4 atlanta.example.com
    t=0 0

    m=audio 10000 RTP/AVP 97
    a=rtpmap:97 iLBC/8000
    m=video 10002 RTP/AVP 97
    a=rtpmap:97 H261/90000
```

[¶](#appendix-A.1-3){.pilcrow}
:::

SDP Answer[¶](#appendix-A.1-4){.pilcrow}

::: {#appendix-A.1-5}
``` {.lang-sdp .sourcecode}
    v=0
    o=bob 2808844564 2808844564 IN IP4 biloxi.example.com
    s=
    c=IN IP4 biloxi.example.com
    t=0 0

    m=audio 20000 RTP/AVP 97
    a=rtpmap:97 iLBC/8000
    m=video 20002 RTP/AVP 97
    a=rtpmap:97 H261/90000
```

[¶](#appendix-A.1-5){.pilcrow}
:::

\[[RFC4961](#RFC4961){.xref}\] specifies a way of doing symmetric RTP,
but that is a later extension to RTP, and Bob cannot assume that Alice
supports \[[RFC4961](#RFC4961){.xref}\]. This means that Alice may be
sending RTP from a different port than 10000 or 10002 \-- some
implementations simply send the RTP from an ephemeral port. When Bob\'s
endpoint receives an RTP packet, the only way that Bob knows if the
packet is to be passed to the video or audio codec is by looking at the
port it was received on. This prompted some SDP implementations to use a
port number as an index to find the correct \"m=\" line in the SDP,
since each \"m\"= section contains a different port number. As a result,
some implementations that do support symmetric RTP and ICE still use an
SDP data structure where SDP with \"m=\" sections with the same port
such as:[¶](#appendix-A.1-6){.pilcrow}

SDP Offer[¶](#appendix-A.1-7){.pilcrow}

::: {#appendix-A.1-8}
``` {.lang-sdp .sourcecode}
    v=0
    o=alice 2890844526 2890844526 IN IP4 atlanta.example.com
    s=
    c=IN IP4 atlanta.example.com
    t=0 0

    m=audio 10000 RTP/AVP 97
    a=rtpmap:97 iLBC/8000
    m=video 10000 RTP/AVP 98
    a=rtpmap:98 H261/90000
```

[¶](#appendix-A.1-8){.pilcrow}
:::

will result in the second \"m=\" section being considered an SDP error
because it has the same port as the first
line.[¶](#appendix-A.1-9){.pilcrow}
:::

::: {#appendix-A.2 .section}
### [A.2.](#appendix-A.2){.section-number .selfRef} [Usage of Port Number Value Zero](#name-usage-of-port-number-value-){.section-name .selfRef} {#name-usage-of-port-number-value-}

In an offer or answer, the media specified by an \"m=\" section can be
disabled/rejected by setting the port number value to zero. This is
different from, e.g., using the SDP direction attributes, where RTCP
traffic will continue even if the SDP \'inactive\' attribute is
indicated for the associated \"m=\"
section.[¶](#appendix-A.2-1){.pilcrow}

If each \"m=\" section associated with a BUNDLE group were to contain
different port values and one of those port values were used for a
BUNDLE address:port associated with the BUNDLE group, problems would
occur if an endpoint wants to disable/reject the \"m=\" section
associated with that port by setting the port value to zero. After that,
no \"m=\" section would contain the port value that is used for the
BUNDLE address:port. In addition, it is unclear what would happen to the
ICE candidates associated with the \"m=\" section, as they are also used
for the BUNDLE address:port.[¶](#appendix-A.2-2){.pilcrow}
:::

::: {#appendix-A.3 .section}
### [A.3.](#appendix-A.3){.section-number .selfRef} [B2BUA and Proxy Interoperability](#name-b2bua-and-proxy-interoperab){.section-name .selfRef} {#name-b2bua-and-proxy-interoperab}

Some back-to-back user agents may be configured in a mode where if the
incoming call leg contains an SDP attribute the B2BUA does not
understand, the B2BUA still generates that SDP attribute in the Offer
for the outgoing call leg. Consider a B2BUA that did not understand the
SDP \'rtcp\' attribute, defined in \[[RFC3605](#RFC3605){.xref}\], yet
acted this way. Further, assume that the B2BUA was configured to tear
down any call where it did not see any RTCP for 5 minutes. In this case,
if the B2BUA received an Offer like:[¶](#appendix-A.3-1){.pilcrow}

SDP Offer[¶](#appendix-A.3-2){.pilcrow}

::: {#appendix-A.3-3}
``` {.lang-sdp .sourcecode}
    v=0
    o=alice 2890844526 2890844526 IN IP4 atlanta.example.com
    s=
    c=IN IP4 atlanta.example.com
    t=0 0

    m=audio 49170 RTP/AVP 0
    a=rtcp:53020
```

[¶](#appendix-A.3-3){.pilcrow}
:::

it would be looking for RTCP on port 49171 but would not see any because
the RTCP would be on port 53020, and after five minutes, it would tear
down the call. Similarly, a B2BUA that did not understand BUNDLE yet put
it in its offer may be looking for media on the wrong port and tear down
the call. It is worth noting that a B2BUA that generated an Offer with
capabilities it does not understand is not compliant with the
specifications.[¶](#appendix-A.3-4){.pilcrow}

::: {#appendix-A.3.1 .section}
#### [A.3.1.](#appendix-A.3.1){.section-number .selfRef} [Traffic Policing](#name-traffic-policing){.section-name .selfRef} {#name-traffic-policing}

Sometimes intermediaries do not act as B2BUAs, in the sense that they
don\'t modify SDP bodies nor do they terminate SIP dialogs. However,
they may still use SDP information (e.g., IP address and port) in order
to control traffic gating functions and to set traffic policing rules.
There might be rules that will trigger a session to be terminated in
case media is not sent or received on the ports retrieved from the SDP.
This typically occurs once the session is already established and
ongoing.[¶](#appendix-A.3.1-1){.pilcrow}
:::

::: {#appendix-A.3.2 .section}
#### [A.3.2.](#appendix-A.3.2){.section-number .selfRef} [Bandwidth Allocation](#name-bandwidth-allocation){.section-name .selfRef} {#name-bandwidth-allocation}

Sometimes, intermediaries do not act as B2BUAs, in the sense that they
don\'t modify SDP bodies nor do they terminate SIP dialogs. However,
they may still use SDP information (e.g., codecs and media types) in
order to control bandwidth allocation functions. The bandwidth
allocation is done per \"m=\" section, which means that it might not be
enough if media specified by all \"m=\" sections try to use that
bandwidth. That may simply lead to either a bad user experience or
termination of the call.[¶](#appendix-A.3.2-1){.pilcrow}
:::
:::

::: {#appendix-A.4 .section}
### [A.4.](#appendix-A.4){.section-number .selfRef} [Candidate Gathering](#name-candidate-gathering){.section-name .selfRef} {#name-candidate-gathering}

When using ICE, a candidate needs to be gathered for each port. This
takes approximately 20 ms extra for each extra \"m=\" section due to the
NAT pacing requirements. All of this gathering can be overlapped with
other things while, e.g., a web page is loading to minimize the impact.
If the client only wants to generate Traversal Using Relays around NAT
(TURN) or STUN ICE candidates for one of the \"m=\" lines and then use
Trickle ICE \[[RFC8838](#RFC8838){.xref}\] to get the non-host ICE
candidates for the rest of the \"m=\" sections, it [MAY]{.bcp14} do that
and will not need any additional gathering
time.[¶](#appendix-A.4-1){.pilcrow}

Some people have suggested a TURN extension to get a bunch of TURN
allocations at once. This would only provide a single STUN result, so in
cases where the other end did not support BUNDLE, it may cause more use
of the TURN server, but it would be quick in the cases where both sides
supported BUNDLE and would fall back to a successful call in the other
cases.[¶](#appendix-A.4-2){.pilcrow}
:::
:::
:::

::: {#sec-acks}
::: {#appendix-B .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The usage of the SDP grouping extension for negotiating bundled media is
based on similar alternatives proposed by [Harald
Alvestrand]{.contact-name} and [Cullen Jennings]{.contact-name}. The
BUNDLE extension described in this document is based on the different
alternative proposals, and text (e.g., SDP examples) has been borrowed
(and, in some cases, modified) from those alternative
proposals.[¶](#appendix-B-1){.pilcrow}

The SDP examples are also modified versions from the ones in the
Alvestrand proposal.[¶](#appendix-B-2){.pilcrow}

Thanks to [Paul Kyzivat]{.contact-name}, [Martin
Thomson]{.contact-name}, [Flemming Andreasen]{.contact-name}, [Thomas
Stach]{.contact-name}, [Ari Keränen]{.contact-name}, [Adam
Roach]{.contact-name}, [Christian Groves]{.contact-name}, [Roman
Shpount]{.contact-name}, [Suhas Nandakumar]{.contact-name}, [Nils
Ohlmeier]{.contact-name}, [Jens Guballa]{.contact-name}, [Raju
Makaraju]{.contact-name}, [Justin Uberti]{.contact-name}, [Taylor
Brandstetter]{.contact-name}, [Byron Campen]{.contact-name}, and [Eric
Rescorla]{.contact-name} for reading the text and providing useful
feedback.[¶](#appendix-B-3){.pilcrow}

Thanks to [Bernard Aboba]{.contact-name}, [Peter
Thatcher]{.contact-name}, [Justin Uberti]{.contact-name}, and [Magnus
Westerlund]{.contact-name} for providing the text for the section on
RTP/RTCP stream association.[¶](#appendix-B-4){.pilcrow}

Thanks to [Magnus Westerlund]{.contact-name}, [Colin
Perkins]{.contact-name}, and [Jonathan Lennox]{.contact-name} for
providing help and text on the RTP/RTCP
procedures.[¶](#appendix-B-5){.pilcrow}

Thanks to [Charlie Kaufman]{.contact-name} for performing the Sec-Dir
review.[¶](#appendix-B-6){.pilcrow}

Thanks to [Linda Dunbar]{.contact-name} for performing the Gen-ART
review.[¶](#appendix-B-7){.pilcrow}

Thanks to Spotify for providing music for the countless hours of
document editing.[¶](#appendix-B-8){.pilcrow}
:::
:::

::: {#authors-addresses}
::: {#appendix-C .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Christer Holmberg]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Hirsalantie 11]{.street-address}
:::

::: {.left dir="auto"}
FI-[02420]{.postal-code} [Jorvas]{.locality}
:::

::: {.left dir="auto"}
[Finland]{.country-name}
:::

::: email
Email: <christer.holmberg@ericsson.com>
:::

::: {.left dir="auto"}
[Harald Tveit Alvestrand]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Google]{.org}
:::

::: {.left dir="auto"}
[Kungsbron 2]{.street-address}
:::

::: {.left dir="auto"}
SE-[11122]{.postal-code} [Stockholm]{.locality}
:::

::: {.left dir="auto"}
[Sweden]{.country-name}
:::

::: email
Email: <harald@alvestrand.no>
:::

::: {.left dir="auto"}
[Cullen Jennings]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco]{.org}
:::

::: {.left dir="auto"}
[Suite 350]{.extended-address}
:::

::: {.left dir="auto"}
[400 3rd Avenue SW]{.street-address}
:::

::: {.left dir="auto"}
[Calgary]{.locality} [AB]{.region} [T2P 4H2]{.postal-code}
:::

::: {.left dir="auto"}
[Canada]{.country-name}
:::

::: email
Email: <fluffy@iii.ca>
:::
:::
:::
