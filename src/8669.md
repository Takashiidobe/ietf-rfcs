  RFC 8669          SR Prefix-SID Extensions for BGP   December 2019
  ----------------- ---------------------------------- ---------------
  Previdi, et al.   Standards Track                    \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8669](https://www.rfc-editor.org/rfc/rfc8669){.eref}

Category:
:   Standards Track

Published:
:   December 2019

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    S. Previdi
    :::

    ::: org
    Huawei Technologies
    :::
    :::

    ::: author
    ::: author-name
    C. Filsfils
    :::

    ::: org
    Cisco Systems
    :::
    :::

    ::: author
    ::: author-name
    A. Lindem, [Ed.]{.editor}
    :::

    ::: org
    Cisco Systems
    :::
    :::

    ::: author
    ::: author-name
    A. Sreekantiah
    :::
    :::

    ::: author
    ::: author-name
    H. Gredler
    :::

    ::: org
    RtBrick Inc.
    :::
    :::
:::

# RFC 8669 {#rfcnum}

# Segment Routing Prefix Segment Identifier Extensions for BGP {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

Segment Routing (SR) leverages the source-routing paradigm. A node
steers a packet through an ordered list of instructions called
\"segments\". A segment can represent any instruction, topological or
service based. The ingress node prepends an SR header to a packet
containing a set of segment identifiers (SIDs). Each SID represents a
topological or service-based instruction. Per-flow state is maintained
only on the ingress node of the SR domain. An \"SR domain\" is defined
as a single administrative domain for global SID
assignment.[¶](#section-abstract-1){.pilcrow}

This document defines an optional, transitive BGP attribute for
announcing information about BGP Prefix Segment Identifiers (BGP
Prefix-SIDs) and the specification for SR-MPLS
SIDs.[¶](#section-abstract-2){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8669>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2019 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [MPLS BGP
    Prefix-SID](#name-mpls-bgp-prefix-sid){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [BGP Prefix-SID
    Attribute](#name-bgp-prefix-sid-attribute){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [Label-Index
        TLV](#name-label-index-tlv){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [Originator SRGB
        TLV](#name-originator-srgb-tlv){.xref}[¶](#section-toc.1-1.3.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Receiving BGP Prefix-SID
    Attribute](#name-receiving-bgp-prefix-sid-at){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [MPLS Data Plane: Labeled
        Unicast](#name-mpls-data-plane-labeled-uni){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Advertising BGP Prefix-SID
    Attribute](#name-advertising-bgp-prefix-sid-){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [MPLS Data Plane: Labeled
        Unicast](#name-mpls-data-plane-labeled-unic){.xref}[¶](#section-toc.1-1.5.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [Error Handling of BGP Prefix-SID
    Attribute](#name-error-handling-of-bgp-prefi){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Manageability
    Considerations](#name-manageability-consideration){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.10}
    [10](#section-10){.xref}. [References](#name-references){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}

    -   ::: {#section-toc.1-1.10.2.1}
        [10.1](#section-10.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.10.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.10.2.2}
        [10.2](#section-10.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.10.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.11}
    [](#section-appendix.a){.xref}[Acknowledgements](#name-acknowledgements){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.12}
    [](#section-appendix.b){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.12.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.13}
    [](#section-appendix.c){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.13.1){.pilcrow}
    :::
:::
:::

::: {#intro}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

The Segment Routing (SR) architecture leverages the source-routing
paradigm. A segment represents either a topological instruction, such as
\"go to prefix P following shortest path\", or a service instruction.
Other types of segments may be defined in the
future.[¶](#section-1-1){.pilcrow}

A segment is identified through a Segment Identifier (SID). An \"SR
domain\" is defined as a single administrative domain for global SID
assignment. It may be comprised of a single Autonomous System (AS) or
multiple ASes under consolidated global SID administration. Typically,
the ingress node of the SR domain prepends an SR header containing SIDs
to an incoming packet.[¶](#section-1-2){.pilcrow}

As described in \[[RFC8402](#RFC8402){.xref}\], when SR is applied to
the MPLS data plane (\[[RFC8660](#RFC8660){.xref}\]), the SID consists
of a label.[¶](#section-1-3){.pilcrow}

\[[RFC8402](#RFC8402){.xref}\] also describes how Segment Routing can be
applied to an IPv6 data plane (SRv6) using an IPv6 routing header
containing a stack of SR SIDs encoded as IPv6 addresses
\[[IPv6-SRH](#I-D.ietf-6man-segment-routing-header){.xref}\]. The
applicability and support for Segment Routing over IPv6 is beyond the
scope of this document.[¶](#section-1-4){.pilcrow}

A BGP Prefix Segment is a BGP prefix with a Prefix-SID attached. A BGP
Prefix-SID is always a global SID (\[[RFC8402](#RFC8402){.xref}\])
within the SR domain and identifies an instruction to forward the packet
over the Equal-Cost Multipath (ECMP) best path computed by BGP to the
related prefix. The BGP Prefix-SID is the identifier of the BGP Prefix
Segment. In this document, we always refer to the BGP Prefix Segment by
the BGP Prefix-SID.[¶](#section-1-5){.pilcrow}

This document describes the BGP extensions to signal the BGP Prefix-SID.
Specifically, this document defines a BGP attribute known as the \"BGP
Prefix-SID attribute\" and specifies the rules to originate, receive,
and handle error conditions for the
attribute.[¶](#section-1-6){.pilcrow}

The BGP Prefix-SID attribute defined in this document can be attached to
prefixes from Multiprotocol BGP IPv4/IPv6 Labeled Unicast
(\[[RFC4760](#RFC4760){.xref}\] \[[RFC8277](#RFC8277){.xref}\]). Usage
of the BGP Prefix-SID attribute for other Address Family Identifier
(AFI) / Subsequent Address Family Identifier (SAFI) combinations is not
defined herein but may be specified in future
specifications.[¶](#section-1-7){.pilcrow}

\[[RFC8670](#RFC8670){.xref}\] describes example use cases where the BGP
Prefix-SID is used for the above AFI/SAFI
combinations.[¶](#section-1-8){.pilcrow}

It should be noted that:[¶](#section-1-9){.pilcrow}

-   [A BGP Prefix-SID will be global across ASes when the interconnected
    ASes are part of the same SR domain. Alternatively, when
    interconnecting ASes, the ASBRs of each domain will have to handle
    the advertisement of unique SIDs. The mechanisms for such
    interconnection are outside the scope of the protocol extensions
    defined in this
    document.[¶](#section-1-10.1){.pilcrow}]{#section-1-10.1}
-   [A BGP Prefix-SID [MAY]{.bcp14} be attached to a BGP prefix. This
    implies that each prefix is advertised individually, reducing the
    ability to pack BGP advertisements (when sharing common
    attributes).[¶](#section-1-10.2){.pilcrow}]{#section-1-10.2}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1-11){.pilcrow}
:::
:::

::: {#MPLSPREFIXSID}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [MPLS BGP Prefix-SID](#name-mpls-bgp-prefix-sid){.section-name .selfRef} {#name-mpls-bgp-prefix-sid}

The BGP Prefix-SID is realized on the MPLS data plane
(\[[RFC8660](#RFC8660){.xref}\]) in the following
way:[¶](#section-2-1){.pilcrow}

-   [The operator assigns a globally unique label index, L_I, to a
    locally originated prefix of a BGP speaker N, which is advertised to
    all other BGP speakers in the SR
    domain.[¶](#section-2-2.1){.pilcrow}]{#section-2-2.1}
-   [According to \[[RFC8402](#RFC8402){.xref}\], each BGP speaker is
    configured with a label block called the Segment Routing Global
    Block (SRGB). While \[[RFC8402](#RFC8402){.xref}\] recommends using
    the same SRGB across all the nodes within the SR domain, the SRGB of
    a node is a local property and could be different on different
    speakers. The drawbacks of the use case where BGP speakers have
    different SRGBs are documented in \[[RFC8402](#RFC8402){.xref}\] and
    \[[RFC8670](#RFC8670){.xref}\].[¶](#section-2-2.2){.pilcrow}]{#section-2-2.2}
-   [If traffic engineering within the SR domain is required, each node
    may also be required to advertise topological information and Peer
    SIDs for each of its links and peers. This information is required
    to perform the explicit path computation and to express an explicit
    path as a list of SIDs. The advertisement of topological information
    and peer segments (Peer SIDs) is done through
    \[[BGPLS-SR-EPE](#I-D.ietf-idr-bgpls-segment-routing-epe){.xref}\].[¶](#section-2-2.3){.pilcrow}]{#section-2-2.3}
-   [If a prefix segment is to be included in an MPLS label stack, e.g.,
    for traffic-engineering purposes, knowledge of the prefix
    originator\'s SRGB is required in order to compute the local label
    used by the
    originator.[¶](#section-2-2.4){.pilcrow}]{#section-2-2.4}
-   [This document assumes that Border Gateway Protocol - Link State
    (BGP-LS) is the preferred method for a collecting both peer segments
    (Peer SIDs) and SRGB information through
    \[[RFC7752](#RFC7752){.xref}\],
    \[[BGPLS-SR-EPE](#I-D.ietf-idr-bgpls-segment-routing-epe){.xref}\],
    and
    \[[BGPLS-SR-EXT](#I-D.ietf-idr-bgp-ls-segment-routing-ext){.xref}\].
    However, as an optional alternative for the advertisement of the
    local SRGB without the topology or the peer SIDs and, therefore,
    without applicability for TE, the Originator SRGB TLV of the BGP
    Prefix-SID attribute is specified in [Section
    3.2](#ORIGINSRGBTLV){.xref} of this
    document.[¶](#section-2-2.5){.pilcrow}]{#section-2-2.5}
-   [A BGP speaker will derive its local MPLS label L from the label
    index L_I and its local SRGB as described in
    \[[RFC8660](#RFC8660){.xref}\]. The BGP speaker then programs the
    MPLS label L in its MPLS data plane as its incoming/local label for
    the prefix. See [Section 4.1](#RECMPLSLABEL){.xref} for more
    details.[¶](#section-2-2.6){.pilcrow}]{#section-2-2.6}
-   [The outgoing label for the prefix is found in the Network Layer
    Reachability Information (NLRI) of the Multiprotocol BGP IPv4/IPv6
    Labeled Unicast prefix advertisement as defined in
    \[[RFC8277](#RFC8277){.xref}\]. The label index L_I is only used as
    a hint to derive the local/incoming
    label.[¶](#section-2-2.7){.pilcrow}]{#section-2-2.7}
-   [[Section 3.1](#LABELINDEX){.xref} of this document specifies the
    Label-Index TLV of the BGP Prefix-SID attribute; this TLV can be
    used to advertise the label index for a given
    prefix.[¶](#section-2-2.8){.pilcrow}]{#section-2-2.8}
:::
:::

::: {#PREFIXSIDATTR}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [BGP Prefix-SID Attribute](#name-bgp-prefix-sid-attribute){.section-name .selfRef} {#name-bgp-prefix-sid-attribute}

The BGP Prefix-SID attribute is an optional, transitive BGP path
attribute. The attribute type code 40 has been assigned by IANA (see
[Section 7](#IANA){.xref}).[¶](#section-3-1){.pilcrow}

The BGP Prefix-SID attribute is defined here to be a set of elements
encoded as \"Type/Length/Value\" tuples (i.e., a set of TLVs). All BGP
Prefix-SID attribute TLVs will start with a 1-octet type and a 2-octet
length. The following TLVs are defined in this
document:[¶](#section-3-2){.pilcrow}

-   [Label-Index TLV[¶](#section-3-3.1){.pilcrow}]{#section-3-3.1}
-   [Originator SRGB TLV[¶](#section-3-3.2){.pilcrow}]{#section-3-3.2}

The Label-Index and Originator SRGB TLVs are used only when SR is
applied to the MPLS data plane.[¶](#section-3-4){.pilcrow}

For future extensibility, unknown TLVs [MUST]{.bcp14} be ignored and
propagated unmodified.[¶](#section-3-5){.pilcrow}

::: {#LABELINDEX}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [Label-Index TLV](#name-label-index-tlv){.section-name .selfRef} {#name-label-index-tlv}

The Label-Index TLV [MUST]{.bcp14} be present in the BGP Prefix-SID
attribute attached to IPv4/IPv6 Labeled Unicast prefixes
(\[[RFC8277](#RFC8277){.xref}\]). It [MUST]{.bcp14} be ignored when
received for other BGP AFI/SAFI combinations. The Label-Index TLV has
the following format:[¶](#section-3.1-1){.pilcrow}

::: {#section-3.1-2 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |       Type    |             Length            |   RESERVED    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |            Flags              |       Label Index             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |          Label Index          |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-3.1-2){.pilcrow}
:::

where:[¶](#section-3.1-3){.pilcrow}

-   ::: {#section-3.1-4.1}

    Type:
    :   1[¶](#section-3.1-4.1.1.2){.pilcrow}

    Length:
    :   7, the total length in octets of the value portion of the
        TLV.[¶](#section-3.1-4.1.1.4){.pilcrow}

    RESERVED:
    :   8-bit field. It [MUST]{.bcp14} be clear on transmission and
        [MUST]{.bcp14} be ignored on
        reception.[¶](#section-3.1-4.1.1.6){.pilcrow}

    Flags:
    :   16 bits of flags. None are defined by this document. The Flags
        field [MUST]{.bcp14} be clear on transmission and [MUST]{.bcp14}
        be ignored on reception.[¶](#section-3.1-4.1.1.8){.pilcrow}

    Label Index:
    :   32-bit value representing the index value in the SRGB
        space.[¶](#section-3.1-4.1.1.10){.pilcrow}
    :::
:::
:::

::: {#ORIGINSRGBTLV}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [Originator SRGB TLV](#name-originator-srgb-tlv){.section-name .selfRef} {#name-originator-srgb-tlv}

The Originator SRGB TLV is an optional TLV and has the following
format:[¶](#section-3.2-1){.pilcrow}

::: {#section-3.2-2 .artwork .art-text .alignLeft}
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |          Length               |    Flags      |      
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
     |     Flags     |     
     +-+-+-+-+-+-+-+-+
     
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |         SRGB 1 (6 octets)                                     |      
     |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |         SRGB n (6 octets)                                     |      
     |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-3.2-2){.pilcrow}
:::

where:[¶](#section-3.2-3){.pilcrow}

-   ::: {#section-3.2-4.1}

    Type:
    :   3[¶](#section-3.2-4.1.1.2){.pilcrow}

    Length:
    :   The total length in octets of the value portion of the TLV: 2 +
        (non-zero multiple of 6).[¶](#section-3.2-4.1.1.4){.pilcrow}

    Flags:
    :   16 bits of flags. None are defined in this document. The Flags
        field [MUST]{.bcp14} be clear on transmission and [MUST]{.bcp14}
        be ignored on reception.[¶](#section-3.2-4.1.1.6){.pilcrow}

    SRGB:
    :   3 octets specifying the first label in the range followed by 3
        octets specifying the number of labels in the range. Note that
        the SRGB field [MAY]{.bcp14} appear multiple times. If the SRGB
        field appears multiple times, the SRGB consists of multiple
        ranges that are concatenated.[¶](#section-3.2-4.1.1.8){.pilcrow}
    :::

The Originator SRGB TLV contains the SRGB of the node originating the
prefix to which the BGP Prefix-SID is attached. The Originator SRGB TLV
[MUST NOT]{.bcp14} be changed during the propagation of the BGP update.
It is used to build SR policies when different SRGBs are used in the
fabric, for example,
\[[RFC8670](#RFC8670){.xref}\].[¶](#section-3.2-5){.pilcrow}

Examples of how the receiving routers concatenate the ranges and build
their neighbor\'s Segment Routing Global Block (SRGB) are included in
\[[RFC8660](#RFC8660){.xref}\].[¶](#section-3.2-6){.pilcrow}

The Originator SRGB TLV may only appear in a BGP Prefix-SID attribute
attached to IPv4/IPv6 Labeled Unicast prefixes
(\[[RFC8277](#RFC8277){.xref}\]). It [MUST]{.bcp14} be ignored when
received for other BGP AFI/SAFI combinations. Since the Label-Index TLV
is required for IPv4/IPv6 prefix applicability, the Originator SRGB TLV
will be ignored if it is not specified in a manner consistent with
[Section 6](#ERRORHANDLING){.xref}.[¶](#section-3.2-7){.pilcrow}

If a BGP speaker receives a node\'s SRGB as an attribute of the BGP-LS
Node NLRI and the BGP speaker also receives the same node\'s SRGB in a
BGP Prefix-SID attribute, then the received values should be the same.
If the values are different, the values advertised in the BGP-LS NLRI
[SHOULD]{.bcp14} be preferred, and an error should be
logged.[¶](#section-3.2-8){.pilcrow}
:::
:::
:::
:::

::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Receiving BGP Prefix-SID Attribute](#name-receiving-bgp-prefix-sid-at){.section-name .selfRef} {#name-receiving-bgp-prefix-sid-at}

A BGP speaker receiving a BGP Prefix-SID attribute from an External BGP
(EBGP) neighbor residing outside the boundaries of the SR domain
[MUST]{.bcp14} discard the attribute unless it is configured to accept
the attribute from the EBGP neighbor. A BGP speaker [SHOULD]{.bcp14} log
an error for further analysis when discarding an
attribute.[¶](#section-4-1){.pilcrow}

::: {#RECMPLSLABEL}
::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [MPLS Data Plane: Labeled Unicast](#name-mpls-data-plane-labeled-uni){.section-name .selfRef} {#name-mpls-data-plane-labeled-uni}

A BGP session supporting the Multiprotocol BGP Labeled IPv4 or IPv6
Unicast (\[[RFC8277](#RFC8277){.xref}\]) AFI/SAFI is
required.[¶](#section-4.1-1){.pilcrow}

When the BGP Prefix-SID attribute is attached to a BGP Labeled IPv4 or
IPv6 Unicast \[[RFC8277](#RFC8277){.xref}\] AFI/SAFI, it [MUST]{.bcp14}
contain the Label-Index TLV and [MAY]{.bcp14} contain the Originator
SRGB TLV. A BGP Prefix-SID attribute received without a Label-Index TLV
[MUST]{.bcp14} be considered to be \"invalid\" by the receiving
speaker.[¶](#section-4.1-2){.pilcrow}

The label index provides guidance to the receiving BGP speaker as to the
incoming label that [SHOULD]{.bcp14} be allocated to the
prefix.[¶](#section-4.1-3){.pilcrow}

A BGP speaker may be locally configured with an SRGB=\[SRGB_Start,
SRGB_End\]. The preferred method for deriving the SRGB is a matter of
local node configuration.[¶](#section-4.1-4){.pilcrow}

The mechanisms through which a given label-index value is assigned to a
given prefix are outside the scope of this
document.[¶](#section-4.1-5){.pilcrow}

Given a label index L_I, we refer to (L = L_I + SRGB_Start) as the
derived label. A BGP Prefix-SID attribute is designated \"conflicting\"
for a speaker M if the derived label value L lies outside the SRGB
configured on M. Otherwise, the Label-Index TLV is designated
\"acceptable\" to speaker M.[¶](#section-4.1-6){.pilcrow}

If multiple different prefixes are received with the same label index,
all of the different prefixes [MUST]{.bcp14} have their BGP Prefix-SID
attribute considered to be \"conflicting\".[¶](#section-4.1-7){.pilcrow}

If multiple valid paths for the same prefix are received from multiple
BGP speakers or, in the case of \[[RFC7911](#RFC7911){.xref}\], from the
same BGP speaker, and the BGP Prefix-SID attributes do not contain the
same label index, then the label index from the best path BGP Prefix-SID
attribute [SHOULD]{.bcp14} be chosen with a notable exception being when
\[[RFC5004](#RFC5004){.xref}\] is being used to dampen route
changes.[¶](#section-4.1-8){.pilcrow}

When a BGP speaker receives a path from a neighbor with an
\"acceptable\" BGP Prefix-SID attribute and that path is selected as the
best path, it [SHOULD]{.bcp14} program the derived label as the label
for the prefix in its local MPLS data
plane.[¶](#section-4.1-9){.pilcrow}

When a BGP speaker receives a path from a neighbor with an \"invalid\"
or \"conflicting\" BGP Prefix-SID attribute, or when a BGP speaker
receives a path from a neighbor with a BGP Prefix-SID attribute but is
unable to process it (e.g., local policy disables the functionality), it
[MUST]{.bcp14} ignore the BGP Prefix-SID attribute. For the purposes of
label allocation, a BGP speaker [MUST]{.bcp14} assign a local (also
called dynamic) label (non-SRGB) for such a prefix as per classic
Multiprotocol BGP IPv4/IPv6 Labeled Unicast
(\[[RFC8277](#RFC8277){.xref}\])
operation.[¶](#section-4.1-10){.pilcrow}

In the case of an \"invalid\" BGP Prefix-SID attribute, a BGP speaker
[MUST]{.bcp14} follow the error-handling rules specified in [Section
6](#ERRORHANDLING){.xref}. A BGP speaker [SHOULD]{.bcp14} log an error
for further analysis. In the case of a \"conflicting\" BGP Prefix-SID
attribute, a BGP speaker [SHOULD NOT]{.bcp14} treat it as an error and
[SHOULD]{.bcp14} propagate the attribute unchanged. A BGP speaker
[SHOULD]{.bcp14} log a warning for further analysis, i.e., in the case
the conflict is not due to a label-index
transition.[¶](#section-4.1-11){.pilcrow}

When a BGP Prefix-SID attribute changes and transitions from
\"conflicting\" to \"acceptable\", the BGP Prefix-SID attributes for
other prefixes may also transition to \"acceptable\" as well.
Implementations [SHOULD]{.bcp14} ensure all impacted prefixes revert to
using the label indices corresponding to these newly \"acceptable\" BGP
Prefix-SID attributes.[¶](#section-4.1-12){.pilcrow}

The outgoing label is always programmed as per classic Multiprotocol BGP
IPv4/IPv6 Labeled Unicast (\[[RFC8277](#RFC8277){.xref}\]) operation.
Specifically, a BGP speaker receiving a prefix with a BGP Prefix-SID
attribute and a label NLRI field of Implicit NULL
\[[RFC3032](#RFC3032){.xref}\] from a neighbor [MUST]{.bcp14} adhere to
standard behavior and program its MPLS data plane to pop the top label
when forwarding traffic to the prefix. The label NLRI defines the
outbound label that [MUST]{.bcp14} be used by the receiving
node.[¶](#section-4.1-13){.pilcrow}
:::
:::
:::

::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Advertising BGP Prefix-SID Attribute](#name-advertising-bgp-prefix-sid-){.section-name .selfRef} {#name-advertising-bgp-prefix-sid-}

The BGP Prefix-SID attribute [MAY]{.bcp14} be attached to BGP IPv4/IPv6
Labeled Unicast prefixes \[[RFC8277](#RFC8277){.xref}\]. In order to
prevent distribution of the BGP Prefix-SID attribute beyond its intended
scope of applicability, attribute filtering [SHOULD]{.bcp14} be deployed
to remove the BGP Prefix-SID attribute at the administrative boundary of
the SR domain.[¶](#section-5-1){.pilcrow}

A BGP speaker that advertises a path received from one of its neighbors
[SHOULD]{.bcp14} advertise the BGP Prefix-SID received with the path
without modification as long as the BGP Prefix-SID was acceptable. If
the path did not come with a BGP Prefix-SID attribute, the speaker
[MAY]{.bcp14} attach a BGP Prefix-SID to the path if configured to do
so. The content of the TLVs present in the BGP Prefix-SID is determined
by the configuration.[¶](#section-5-2){.pilcrow}

::: {#ADVMPLSLABEL}
::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [MPLS Data Plane: Labeled Unicast](#name-mpls-data-plane-labeled-unic){.section-name .selfRef} {#name-mpls-data-plane-labeled-unic}

A BGP speaker that originates a prefix attaches the BGP Prefix-SID
attribute when it advertises the prefix to its neighbors via
Multiprotocol BGP IPv4/IPv6 Labeled Unicast
(\[[RFC8277](#RFC8277){.xref}\]). The value of the label index in the
Label-Index TLV is determined by
configuration.[¶](#section-5.1-1){.pilcrow}

A BGP speaker that originates a BGP Prefix-SID attribute [MAY]{.bcp14}
optionally announce the Originator SRGB TLV along with the mandatory
Label-Index TLV. The content of the Originator SRGB TLV is determined by
configuration.[¶](#section-5.1-2){.pilcrow}

Since the label-index value must be unique within an SR domain, by
default an implementation [SHOULD NOT]{.bcp14} advertise the BGP
Prefix-SID attribute outside an AS unless it is explicitly configured to
do so.[¶](#section-5.1-3){.pilcrow}

In all cases, the Label field of the advertised NLRI
(\[[RFC8277](#RFC8277){.xref}\] \[[RFC4364](#RFC4364){.xref}\])
[MUST]{.bcp14} be set to the local/incoming label programmed in the MPLS
data plane for the given advertised prefix. If the prefix is associated
with one of the BGP speaker\'s interfaces, this is the usual MPLS label
(such as the Implicit or Explicit NULL label
\[[RFC3032](#RFC3032){.xref}\]).[¶](#section-5.1-4){.pilcrow}
:::
:::
:::

::: {#ERRORHANDLING}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [Error Handling of BGP Prefix-SID Attribute](#name-error-handling-of-bgp-prefi){.section-name .selfRef} {#name-error-handling-of-bgp-prefi}

When a BGP speaker receives a BGP UPDATE message containing a malformed
or invalid BGP Prefix-SID attribute attached to an IPv4/IPv6 Labeled
Unicast prefix (\[[RFC8277](#RFC8277){.xref}\]), it [MUST]{.bcp14}
ignore the received BGP Prefix-SID attribute and not advertise it to
other BGP peers. In this context, a malformed BGP Prefix-SID attribute
is one that cannot be parsed due to not meeting the minimum attribute
length requirement, containing a TLV length that doesn\'t conform to the
length constraints for the TLV, or containing a TLV length that would
extend beyond the end of the attribute (as defined by the attribute
length). This is equivalent to the \"Attribute discard\" action
specified in \[[RFC7606](#RFC7606){.xref}\]. When discarding an
attribute, a BGP speaker [SHOULD]{.bcp14} log an error for further
analysis.[¶](#section-6-1){.pilcrow}

As per \[[RFC7606](#RFC7606){.xref}\], if the BGP Prefix-SID attribute
appears more than once in an UPDATE message, all the occurrences of the
attribute other than the first one [SHALL]{.bcp14} be discarded and the
UPDATE message will continue to be processed. Similarly, if a recognized
TLV appears more than once in a BGP Prefix-SID attribute while the
specification only allows for a single occurrence, then all the
occurrences of the TLV other than the first one [SHALL]{.bcp14} be
discarded and the Prefix-SID attribute will continue to be
processed.[¶](#section-6-2){.pilcrow}

For future extensibility, unknown TLVs [MUST]{.bcp14} be ignored and
propagated unmodified.[¶](#section-6-3){.pilcrow}
:::
:::

::: {#IANA}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document defines a BGP path attribute known as the BGP Prefix-SID
attribute. IANA has assigned attribute code type 40 to the BGP
Prefix-SID attribute from the \"BGP Path Attributes\"
registry.[¶](#section-7-1){.pilcrow}

This document defines two TLVs for the BGP Prefix-SID attribute. These
TLVs have been registered with IANA. IANA has created a registry for BGP
Prefix-SID Attribute TLVs as follows:[¶](#section-7-2){.pilcrow}

Under the \"Border Gateway Protocol (BGP) Parameters\" registry, the new
registry titled \"BGP Prefix-SID TLV Types\" has been created and points
to this document as the reference.[¶](#section-7-3){.pilcrow}

Registration Procedure(s):[¶](#section-7-4){.pilcrow}

-   [Values 1-254, Expert Review as defined in
    \[[RFC8126](#RFC8126){.xref}\][¶](#section-7-5.1){.pilcrow}]{#section-7-5.1}
-   [Values 0 and 255,
    Reserved[¶](#section-7-5.2){.pilcrow}]{#section-7-5.2}

[]{#name-bgp-prefix-sid-tlv-types}

::: {#IANA1}
  Value   Type              Reference
  ------- ----------------- ---------------
  0       Reserved          This document
  1       Label-Index       This document
  2       Deprecated        This document
  3       Originator SRGB   This document
  4-254   Unassigned        
  255     Reserved          This document

  : [Table 1](#table-1){.selfRef}: [BGP Prefix-SID TLV
  Types](#name-bgp-prefix-sid-tlv-types){.selfRef}
:::

The value 2 previously corresponded to the IPv6 SID TLV, which was
specified in previous versions of this document. It was removed, and use
of the BGP Prefix-SID for Segment Routing over the IPv6 data plane
\[[RFC8402](#RFC8402){.xref}\] has been deferred to future
specifications.[¶](#section-7-7){.pilcrow}

IANA has also created the \"BGP Prefix-SID Label-Index TLV Flags\"
registry under the \"Border Gateway Protocol (BGP) Parameters\"
registry, with a reference to this document. Initially, this 16-bit
flags registry is empty. The registration policy for flag bits is Expert
Review \[[RFC8126](#RFC8126){.xref}\], consistent with the \"BGP
Prefix-SID TLV Types\" registry.[¶](#section-7-8){.pilcrow}

Finally, IANA has created the \"BGP Prefix-SID Originator SRGB TLV
Flags\" registry under the \"Border Gateway Protocol (BGP) Parameters\"
registry, with a reference to this document. Initially, this 16-bit
flags registry is empty. The registration policy for flag bits is Expert
Review \[[RFC8126](#RFC8126){.xref}\] consistent with the BGP Prefix-SID
TLV Types registry.[¶](#section-7-9){.pilcrow}

The designated experts must be good and faithful stewards of the above
registries, ensuring that each request is legitimate and corresponds to
a viable use case. Given the limited number of bits in the flags
registries and the applicability to a single TLV, additional scrutiny
should be afforded to requests for flag-bit allocation. In general, no
single use case should require more than one flag bit and, should the
use case require more, alternate encodings using new TLVs should be
considered.[¶](#section-7-10){.pilcrow}
:::
:::

::: {#MANAGE}
::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Manageability Considerations](#name-manageability-consideration){.section-name .selfRef} {#name-manageability-consideration}

This document defines a BGP attribute to address use cases such as the
one described in \[[RFC8670](#RFC8670){.xref}\]. It is assumed that
advertisement of the BGP Prefix-SID attribute is controlled by the
operator in order to:[¶](#section-8-1){.pilcrow}

-   [Prevent undesired origination/advertisement of the BGP Prefix-SID
    attribute. By default, a BGP Prefix-SID attribute [SHOULD
    NOT]{.bcp14} be attached to a prefix and advertised. Hence, BGP
    Prefix-SID Advertisement [SHOULD]{.bcp14} require explicit
    enablement.[¶](#section-8-2.1){.pilcrow}]{#section-8-2.1}
-   [Prevent any undesired propagation of the BGP Prefix-SID attribute.
    By default, the BGP Prefix-SID is not advertised outside the
    boundary of a single SR/administrative domain that may include one
    or more ASes. The propagation to other ASes [MUST]{.bcp14} be
    explicitly configured.[¶](#section-8-2.2){.pilcrow}]{#section-8-2.2}

The deployment model described in \[[RFC8670](#RFC8670){.xref}\] assumes
multiple ASes under a common administrative domain. For this use case,
the BGP Prefix-SID Advertisement is applicable to the inter-AS context,
i.e., EBGP, while it is confined to a single administrative
domain.[¶](#section-8-3){.pilcrow}
:::
:::

::: {#Security}
::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

This document introduces a BGP attribute (BGP Prefix-SID), which
inherits the security considerations expressed in:
\[[RFC4271](#RFC4271){.xref}\], \[[RFC8277](#RFC8277){.xref}\], and
\[[RFC8402](#RFC8402){.xref}\].[¶](#section-9-1){.pilcrow}

When advertised using BGPsec as described in
\[[RFC8205](#RFC8205){.xref}\], the BGP Prefix-SID attribute doesn\'t
impose any unique security considerations. It should be noted that the
BGP Prefix-SID attribute is not protected by the BGPsec
signatures.[¶](#section-9-2){.pilcrow}

It should be noted that, as described in [Section 8](#MANAGE){.xref},
this document refers to a deployment model where all nodes are under the
single administrative domain. In this context, we assume that the
operator doesn\'t want to leak any information related to internal
prefixes and topology outside of the administrative domain. The internal
information includes the BGP Prefix-SID. In order to prevent such
leaking, the common BGP mechanisms (filters) are applied at the boundary
of the SR/administrative domain. Local BGP-attribute-filtering policies
and mechanisms are not standardized and, consequently, are beyond the
scope of this document.[¶](#section-9-3){.pilcrow}

To prevent a Denial-of-Service (DoS) or Distributed-Denial-of-Service
(DDoS) attack due to excessive BGP updates with an invalid or
conflicting BGP Prefix-SID attribute, error log message rate limiting as
well as suppression of duplicate error log messages [SHOULD]{.bcp14} be
deployed.[¶](#section-9-4){.pilcrow}

Since BGP-LS is the preferred method for advertising SRGB information,
the BGP speaker [SHOULD]{.bcp14} log an error if a BGP Prefix-SID
attribute is received with SRGB information different from that received
as an attribute of the same node\'s BGP-LS Node
NLRI.[¶](#section-9-5){.pilcrow}
:::
:::

::: {#section-10 .section}
## [10.](#section-10){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-10.1 .section}
### [10.1.](#section-10.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.

\[RFC4271\]
:   [Rekhter, Y., Ed.]{.refAuthor}[, Li, T., Ed.]{.refAuthor}[, and S.
    Hares, Ed.]{.refAuthor}, [\"A Border Gateway Protocol 4
    (BGP-4)\"]{.refTitle}, [RFC 4271]{.seriesInfo}, [DOI
    10.17487/RFC4271]{.seriesInfo}, January 2006,
    \<<https://www.rfc-editor.org/info/rfc4271>\>.

\[RFC4364\]
:   [Rosen, E.]{.refAuthor}[ and Y. Rekhter]{.refAuthor}, [\"BGP/MPLS IP
    Virtual Private Networks (VPNs)\"]{.refTitle}, [RFC
    4364]{.seriesInfo}, [DOI 10.17487/RFC4364]{.seriesInfo}, February
    2006, \<<https://www.rfc-editor.org/info/rfc4364>\>.

\[RFC4760\]
:   [Bates, T.]{.refAuthor}[, Chandra, R.]{.refAuthor}[,
    Katz, D.]{.refAuthor}[, and Y. Rekhter]{.refAuthor},
    [\"Multiprotocol Extensions for BGP-4\"]{.refTitle}, [RFC
    4760]{.seriesInfo}, [DOI 10.17487/RFC4760]{.seriesInfo}, January
    2007, \<<https://www.rfc-editor.org/info/rfc4760>\>.

\[RFC7606\]
:   [Chen, E., Ed.]{.refAuthor}[, Scudder, J., Ed.]{.refAuthor}[,
    Mohapatra, P.]{.refAuthor}[, and K. Patel]{.refAuthor}, [\"Revised
    Error Handling for BGP UPDATE Messages\"]{.refTitle}, [RFC
    7606]{.seriesInfo}, [DOI 10.17487/RFC7606]{.seriesInfo}, August
    2015, \<<https://www.rfc-editor.org/info/rfc7606>\>.

\[RFC7911\]
:   [Walton, D.]{.refAuthor}[, Retana, A.]{.refAuthor}[,
    Chen, E.]{.refAuthor}[, and J. Scudder]{.refAuthor},
    [\"Advertisement of Multiple Paths in BGP\"]{.refTitle}, [RFC
    7911]{.seriesInfo}, [DOI 10.17487/RFC7911]{.seriesInfo}, July 2016,
    \<<https://www.rfc-editor.org/info/rfc7911>\>.

\[RFC8126\]
:   [Cotton, M.]{.refAuthor}[, Leiba, B.]{.refAuthor}[, and T.
    Narten]{.refAuthor}, [\"Guidelines for Writing an IANA
    Considerations Section in RFCs\"]{.refTitle}, [BCP 26]{.seriesInfo},
    [RFC 8126]{.seriesInfo}, [DOI 10.17487/RFC8126]{.seriesInfo}, June
    2017, \<<https://www.rfc-editor.org/info/rfc8126>\>.

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.

\[RFC8205\]
:   [Lepinski, M., Ed.]{.refAuthor}[ and K. Sriram, Ed.]{.refAuthor},
    [\"BGPsec Protocol Specification\"]{.refTitle}, [RFC
    8205]{.seriesInfo}, [DOI 10.17487/RFC8205]{.seriesInfo}, September
    2017, \<<https://www.rfc-editor.org/info/rfc8205>\>.

\[RFC8277\]
:   [Rosen, E.]{.refAuthor}, [\"Using BGP to Bind MPLS Labels to Address
    Prefixes\"]{.refTitle}, [RFC 8277]{.seriesInfo}, [DOI
    10.17487/RFC8277]{.seriesInfo}, October 2017,
    \<<https://www.rfc-editor.org/info/rfc8277>\>.

\[RFC8402\]
:   [Filsfils, C., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Ginsberg, L.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing Architecture\"]{.refTitle}, [RFC 8402]{.seriesInfo}, [DOI
    10.17487/RFC8402]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8402>\>.

\[RFC8660\]
:   [Bashandy, A., Ed.]{.refAuthor}[, Filsfils, C., Ed.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing with the MPLS Data Plane\"]{.refTitle}, [RFC
    8660]{.seriesInfo}, [DOI 10.17487/RFC8660]{.seriesInfo}, December
    2019, \<<https://www.rfc-editor.org/info/rfc8660>\>.
:::

::: {#section-10.2 .section}
### [10.2.](#section-10.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[BGPLS-SR-EPE\]
:   [Previdi, S.]{.refAuthor}[, Talaulikar, K.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Patel, K.]{.refAuthor}[,
    Ray, S.]{.refAuthor}[, and J. Dong]{.refAuthor}, [\"BGP-LS
    extensions for Segment Routing BGP Egress Peer
    Engineering\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft,
    draft-ietf-idr-bgpls-segment-routing-epe-19]{.seriesInfo}, 16 May
    2019,
    \<<https://tools.ietf.org/html/draft-ietf-idr-bgpls-segment-routing-epe-19>\>.

\[BGPLS-SR-EXT\]
:   [Previdi, S.]{.refAuthor}[, Talaulikar, K.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Gredler, H.]{.refAuthor}[, and M.
    Chen]{.refAuthor}, [\"BGP Link-State extensions for Segment
    Routing\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft,
    draft-ietf-idr-bgp-ls-segment-routing-ext-16]{.seriesInfo}, 27 June
    2019,
    \<<https://tools.ietf.org/html/draft-ietf-idr-bgp-ls-segment-routing-ext-16>\>.

\[IPv6-SRH\]
:   [Filsfils, C.]{.refAuthor}[, Dukes, D.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Leddy, J.]{.refAuthor}[,
    Matsushima, S.]{.refAuthor}[, and D. Voyer]{.refAuthor}, [\"IPv6
    Segment Routing Header (SRH)\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-ietf-6man-segment-routing-header-26]{.seriesInfo}, 22 October
    2019,
    \<<https://tools.ietf.org/html/draft-ietf-6man-segment-routing-header-26>\>.

\[RFC3032\]
:   [Rosen, E.]{.refAuthor}[, Tappan, D.]{.refAuthor}[,
    Fedorkow, G.]{.refAuthor}[, Rekhter, Y.]{.refAuthor}[,
    Farinacci, D.]{.refAuthor}[, Li, T.]{.refAuthor}[, and A.
    Conta]{.refAuthor}, [\"MPLS Label Stack Encoding\"]{.refTitle}, [RFC
    3032]{.seriesInfo}, [DOI 10.17487/RFC3032]{.seriesInfo}, January
    2001, \<<https://www.rfc-editor.org/info/rfc3032>\>.

\[RFC5004\]
:   [Chen, E.]{.refAuthor}[ and S. Sangli]{.refAuthor}, [\"Avoid BGP
    Best Path Transitions from One External to Another\"]{.refTitle},
    [RFC 5004]{.seriesInfo}, [DOI 10.17487/RFC5004]{.seriesInfo},
    September 2007, \<<https://www.rfc-editor.org/info/rfc5004>\>.

\[RFC7752\]
:   [Gredler, H., Ed.]{.refAuthor}[, Medved, J.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Farrel, A.]{.refAuthor}[, and S.
    Ray]{.refAuthor}, [\"North-Bound Distribution of Link-State and
    Traffic Engineering (TE) Information Using BGP\"]{.refTitle}, [RFC
    7752]{.seriesInfo}, [DOI 10.17487/RFC7752]{.seriesInfo}, March 2016,
    \<<https://www.rfc-editor.org/info/rfc7752>\>.

\[RFC8670\]
:   [Filsfils, C., Ed.]{.refAuthor}[, Previdi, S.]{.refAuthor}[,
    Dawra, G.]{.refAuthor}[, Aries, E.]{.refAuthor}[, and P.
    Lapukhov]{.refAuthor}, [\"BGP Prefix Segment in Large-Scale Data
    Centers\"]{.refTitle}, [RFC 8670]{.seriesInfo}, [DOI
    10.17487/RFC8670]{.seriesInfo}, December 2019,
    \<<https://www.rfc-editor.org/info/rfc8670>\>.
:::
:::

::: {#Acknowledgements}
::: {#section-appendix.a .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The authors would like to thank Satya Mohanty for his contribution to
this document.[¶](#section-appendix.a-1){.pilcrow}

The authors would like to thank Alvaro Retana for substantive comments
as part of the Routing AD review.[¶](#section-appendix.a-2){.pilcrow}

The authors would like to thank Bruno Decraene for substantive comments
and suggested text as part of the Routing Directorate
review.[¶](#section-appendix.a-3){.pilcrow}

The authors would like to thank Shyam Sethuram for comments and
discussion of TLV processing and
validation.[¶](#section-appendix.a-4){.pilcrow}

The authors would like to thank Robert Raszuk for comments and
suggestions regarding the MPLS data-plane
behavior.[¶](#section-appendix.a-5){.pilcrow}

The authors would like to thank Krishna Deevi, Juan Alcaide, Howard
Yang, and Jakob Heitz for discussions on conflicting BGP Prefix-SID
label indices and BGP add paths.[¶](#section-appendix.a-6){.pilcrow}

The authors would like to thank Peter Yee, Tony Przygienda, Mirja
Kuhlewind, Alexey Melnikov, Eric Rescorla, Suresh Krishnan, Warren
Kumari, Ben Campbell Sue Hares, and Martin Vigoureux for IDR Working
Group last call, IETF Last Call, directorate, and IESG
reviews.[¶](#section-appendix.a-7){.pilcrow}
:::
:::

::: {#Contributors}
::: {#section-appendix.b .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

::: {#section-appendix.b-1 .artwork .art-text .alignLeft}
    Keyur Patel
    Arrcus, Inc.
    United States of America

    Email: Keyur@arrcus.com

[¶](#section-appendix.b-1){.pilcrow}
:::

::: {#section-appendix.b-2 .artwork .art-text .alignLeft}
    Saikat Ray
    Unaffiliated
    United States of America

    Email: raysaikat@gmail.com

[¶](#section-appendix.b-2){.pilcrow}
:::
:::
:::

::: {#authors-addresses}
::: {#section-appendix.c .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Stefano Previdi]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[Italy]{.country-name}
:::

::: email
Email: <stefano@previdi.net>
:::

::: {.left dir="auto"}
[Clarence Filsfils]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems]{.org}
:::

::: {.left dir="auto"}
[Brussels]{.locality}
:::

::: {.left dir="auto"}
[Belgium]{.country-name}
:::

::: email
Email: <cfilsfil@cisco.com>
:::

::: {.left dir="auto"}
[Acee Lindem ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems]{.org}
:::

::: {.left dir="auto"}
[301 Midenhall Way]{.street-address}
:::

::: {.left dir="auto"}
[Cary, NC]{.locality}, [27513]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <acee@cisco.com>
:::

::: {.left dir="auto"}
[Arjun Sreekantiah]{.fn .nameRole}
:::

::: email
Email: <arjunhrs@gmail.com>
:::

::: {.left dir="auto"}
[Hannes Gredler]{.fn .nameRole}
:::

::: {.left dir="auto"}
[RtBrick Inc.]{.org}
:::

::: email
Email: <hannes@rtbrick.com>
:::
:::
:::
