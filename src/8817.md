  RFC 8817             RTP Payload Format for TSVCIS Codec   August 2020
  -------------------- ------------------------------------- -------------
  Demjanenko, et al.   Standards Track                       \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8817](https://www.rfc-editor.org/rfc/rfc8817){.eref}

Category:
:   Standards Track

Published:
:   August 2020

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    V. Demjanenko
    :::

    ::: org
    VOCAL Technologies, Ltd.
    :::
    :::

    ::: author
    ::: author-name
    J. Punaro
    :::

    ::: org
    VOCAL Technologies, Ltd.
    :::
    :::

    ::: author
    ::: author-name
    D. Satterlee
    :::

    ::: org
    VOCAL Technologies, Ltd.
    :::
    :::
:::

# RFC 8817 {#rfcnum}

# RTP Payload Format for Tactical Secure Voice Cryptographic Interoperability Specification (TSVCIS) Codec {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

This document describes the RTP payload format for the Tactical Secure
Voice Cryptographic Interoperability Specification (TSVCIS) speech
coder. TSVCIS is a scalable narrowband voice coder supporting varying
encoder data rates and fallbacks. It is implemented as an augmentation
to the Mixed Excitation Linear Prediction Enhanced (MELPe) speech coder
by conveying additional speech coder parameters to enhance voice
quality. TSVCIS augmented speech data is processed in conjunction with
its temporally matched Mixed Excitation Linear Prediction (MELP) 2400
speech data. The RTP packetization of TSVCIS and MELPe speech coder data
is described in detail.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8817>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2020 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Conventions](#name-conventions){.xref}[¶](#section-toc.1-1.1.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.1.2.2}
        [1.2](#section-1.2){.xref}.  [Abbreviations](#name-abbreviations){.xref}[¶](#section-toc.1-1.1.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Background](#name-background){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Payload
    Format](#name-payload-format){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [MELPe Bitstream
        Definitions](#name-melpe-bitstream-definitions){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}

        -   ::: {#section-toc.1-1.3.2.1.2.1}
            [3.1.1](#section-3.1.1){.xref}.  [2400 bps Bitstream
            Structure](#name-2400-bps-bitstream-structur){.xref}[¶](#section-toc.1-1.3.2.1.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.3.2.1.2.2}
            [3.1.2](#section-3.1.2){.xref}.  [1200 bps Bitstream
            Structure](#name-1200-bps-bitstream-structur){.xref}[¶](#section-toc.1-1.3.2.1.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.3.2.1.2.3}
            [3.1.3](#section-3.1.3){.xref}.  [600 bps Bitstream
            Structure](#name-600-bps-bitstream-structure){.xref}[¶](#section-toc.1-1.3.2.1.2.3.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.3.2.1.2.4}
            [3.1.4](#section-3.1.4){.xref}.  [Comfort Noise Bitstream
            Definition](#name-comfort-noise-bitstream-def){.xref}[¶](#section-toc.1-1.3.2.1.2.4.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [TSVCIS Bitstream
        Definition](#name-tsvcis-bitstream-definition){.xref}[¶](#section-toc.1-1.3.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.3}
        [3.3](#section-3.3){.xref}.  [Multiple TSVCIS Frames in an RTP
        Packet](#name-multiple-tsvcis-frames-in-a){.xref}[¶](#section-toc.1-1.3.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.4}
        [3.4](#section-3.4){.xref}.  [Congestion Control
        Considerations](#name-congestion-control-consider){.xref}[¶](#section-toc.1-1.3.2.4.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Payload Format
    Parameters](#name-payload-format-parameters){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [Media Type
        Definitions](#name-media-type-definitions){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [Mapping to
        SDP](#name-mapping-to-sdp){.xref}[¶](#section-toc.1-1.4.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.xref}.  [Declarative SDP
        Considerations](#name-declarative-sdp-considerati){.xref}[¶](#section-toc.1-1.4.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.xref}.  [Offer/Answer SDP
        Considerations](#name-offer-answer-sdp-considerat){.xref}[¶](#section-toc.1-1.4.2.4.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Discontinuous
    Transmissions](#name-discontinuous-transmissions){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [Packet Loss
    Concealment](#name-packet-loss-concealment){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [References](#name-references){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}

    -   ::: {#section-toc.1-1.9.2.1}
        [9.1](#section-9.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.9.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.9.2.2}
        [9.2](#section-9.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.9.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.10}
    [](#section-appendix.a){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}
    :::
:::
:::

::: {#sect-1}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

This document describes how compressed Tactical Secure Voice
Cryptographic Interoperability Specification (TSVCIS) speech as produced
by the TSVCIS codec \[[TSVCIS](#TSVCIS){.xref}\]
\[[NRLVDR](#NRLVDR){.xref}\] may be formatted for use as an RTP payload.
The TSVCIS speech coder (or TSVCIS speech-aware communications equipment
on any intervening transport link) may adjust to restricted bandwidth
conditions by reducing the amount of augmented speech data and relying
on the underlying MELPe speech coder for the most constrained bandwidth
links.[¶](#section-1-1){.pilcrow}

Details are provided for packetizing the TSVCIS augmented speech data
along with MELPe 2400 bps speech parameters in an RTP packet. The sender
may send one or more codec data frames per packet, depending on the
application scenario or based on transport network conditions, bandwidth
restrictions, delay requirements, and packet loss
tolerance.[¶](#section-1-2){.pilcrow}

::: {#sect-1.1}
::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Conventions](#name-conventions){.section-name .selfRef} {#name-conventions}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1.1-1){.pilcrow}

Best current practices for writing an RTP payload format specification
were followed \[[RFC2736](#RFC2736){.xref}\]
\[[RFC8088](#RFC8088){.xref}\].[¶](#section-1.1-2){.pilcrow}
:::
:::

::: {#sect-1.2}
::: {#section-1.2 .section}
### [1.2.](#section-1.2){.section-number .selfRef} [Abbreviations](#name-abbreviations){.section-name .selfRef} {#name-abbreviations}

The following abbreviations are used in this
document.[¶](#section-1.2-1){.pilcrow}

[]{.break}

AVP:
:   Audio/Video Profile[¶](#section-1.2-2.2){.pilcrow}
:   

AVPF:
:   Audio/Video Profile Feedback[¶](#section-1.2-2.4){.pilcrow}
:   

CELP:
:   Code-Excited Linear Prediction[¶](#section-1.2-2.6){.pilcrow}
:   

FEC:
:   Forward Error Correction[¶](#section-1.2-2.8){.pilcrow}
:   

LPC:
:   Linear-Predictive Coding[¶](#section-1.2-2.10){.pilcrow}
:   

LSB:
:   Least Significant Bit[¶](#section-1.2-2.12){.pilcrow}
:   

MELP:
:   Mixed Excitation Linear Prediction[¶](#section-1.2-2.14){.pilcrow}
:   

MELPe:
:   Mixed Excitation Linear Prediction
    Enhanced[¶](#section-1.2-2.16){.pilcrow}
:   

MSB:
:   Most Significant Bit[¶](#section-1.2-2.18){.pilcrow}
:   

MTC:
:   Modified Count[¶](#section-1.2-2.20){.pilcrow}
:   

NATO:
:   North American Treaty Organization[¶](#section-1.2-2.22){.pilcrow}
:   

NRL:
:   Naval Research Lab[¶](#section-1.2-2.24){.pilcrow}
:   

PLC:
:   Packet Loss Concealment[¶](#section-1.2-2.26){.pilcrow}
:   

SAVP:
:   Secure Audio/Video Profile[¶](#section-1.2-2.28){.pilcrow}
:   

SAVPF:
:   Secure Audio/Video Profile Feedback[¶](#section-1.2-2.30){.pilcrow}
:   

SDP:
:   Session Description Protocol[¶](#section-1.2-2.32){.pilcrow}
:   

SSRC:
:   Synchronization Source[¶](#section-1.2-2.34){.pilcrow}
:   

SRTP:
:   Secure Real-Time Transport Protocol[¶](#section-1.2-2.36){.pilcrow}
:   

TSVCIS:
:   Tactical Secure Voice Cryptographic Interoperability
    Specification[¶](#section-1.2-2.38){.pilcrow}
:   

VAD:
:   Voice Activity Detect[¶](#section-1.2-2.40){.pilcrow}
:   

VDR:
:   Variable Date Rate[¶](#section-1.2-2.42){.pilcrow}
:   
:::
:::
:::
:::

::: {#sect-2}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Background](#name-background){.section-name .selfRef} {#name-background}

The MELP speech coder was developed by the US military as an upgrade
from the LPC-based CELP standard vocoder for low-bitrate communications
\[[MELP](#MELP){.xref}\]. (\"LPC\" stands for \"Linear-Predictive
Coding\", and \"CELP\" stands for \"Code-Excited Linear Prediction\".)
MELP was further enhanced and subsequently adopted by NATO as \"MELPe\"
for use by its members and Partnership for Peace countries for military
and other governmental communications as international NATO Standard
STANAG 4591 \[[MELPE](#MELPE){.xref}\].[¶](#section-2-1){.pilcrow}

The Tactical Secure Voice Cryptographic Interoperability Specification
(TSVCIS) is a specification written by the Tactical Secure Voice Working
Group (TSVWG) to enable all modern tactical secure voice devices to be
interoperable across the US Department of Defense
\[[TSVCIS](#TSVCIS){.xref}\]. One of the most important aspects is that
the voice modes defined in TSVCIS are based on specific fixed rates of
the Naval Research Lab\'s (NRL\'s) Variable Date Rate (VDR) Vocoder,
which uses the MELPe standard as its base \[[NRLVDR](#NRLVDR){.xref}\].
A complete TSVCIS speech frame consists of MELPe speech parameters and
corresponding TSVCIS augmented speech data.[¶](#section-2-2){.pilcrow}

In addition to the augmented speech data, the TSVCIS specification
identifies which speech coder and framing bits are to be encrypted and
how they are protected by forward error correction (FEC) techniques
(using block codes). At the RTP transport layer, only the speech
coder-related bits need to be considered and are conveyed in unencrypted
form. In most IP-based network deployments, standard link encryption
methods (Secure Real-Time Transport Protocol (SRTP), VPNs, FIPS 140 link
encryptors, or Type 1 Ethernet encryptors) would be used to secure the
RTP speech contents.[¶](#section-2-3){.pilcrow}

TSVCIS augmented speech data is derived from the signal processing and
data generated by the MELPe speech coder. For the purposes of this
specification, only the general parameter nature of TSVCIS will be
characterized. Depending on the bandwidth available (and FEC
requirements), a varying number of TSVCIS-specific speech coder
parameters need to be transported. These are first byte-packed and then
conveyed from encoder to decoder.[¶](#section-2-4){.pilcrow}

Byte packing of TSVCIS speech data into packed parameters is processed
as per the following example, where[¶](#section-2-5){.pilcrow}

[]{.break}

Three-bit field:
:   Bits A, B, and C (A is MSB; C is LSB)[¶](#section-2-6.2){.pilcrow}
:   

Five-bit field:
:   Bits D, E, F, G, and H (D is MSB; H is
    LSB)[¶](#section-2-6.4){.pilcrow}
:   

::: {#section-2-7 .artwork .art-text .alignLeft}
            MSB                                              LSB
             0      1      2      3      4      5      6      7
         +------+------+------+------+------+------+------+------+
         |   H  |   G  |   F  |   E  |   D  |   C  |   B  |   A  |
         +------+------+------+------+------+------+------+------+

[¶](#section-2-7){.pilcrow}
:::

This packing method places the three-bit field \"first\" in the lowest
bits followed by the next five-bit field. Parameters may be split
between octets with the most significant bits in the earlier octet. Any
unfilled bits in the last octet [MUST]{.bcp14} be filled with
zero.[¶](#section-2-8){.pilcrow}

In order to accommodate a varying amount of TSVCIS augmented speech
data, an octet count specifies the number of octets representing the
TSVCIS packed parameters. The encoding to do so is presented in [Section
3.2](#sect-3.2){.xref}. TSVCIS specifically uses the NRL VDR in two
configurations with a fixed set of 15 and 35 packed octet parameters in
a standardized order
\[[TSVCIS](#TSVCIS){.xref}\].[¶](#section-2-9){.pilcrow}
:::
:::

::: {#sect-3}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Payload Format](#name-payload-format){.section-name .selfRef} {#name-payload-format}

The TSVCIS codec augments the standard MELP 2400, 1200, and 600 bitrates
and hence uses 22.5, 67.5, or 90 ms frames with a sampling rate clock of
8 kHz, so the RTP timestamp [MUST]{.bcp14} be in units of 1/8000 of a
second.[¶](#section-3-1){.pilcrow}

The RTP payload for TSVCIS has the format shown in [Figure
1](#fig-1){.xref}. No additional header specific to this payload format
is needed. This format is intended for situations where the sender and
the receiver send one or more codec data frames per
packet.[¶](#section-3-2){.pilcrow}

[]{#name-packet-format-diagram}

::: {#fig-1}
::: {#section-3-3.1 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         RTP Header                            |
    +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
    |                                                               |
    +                 one or more frames of TSVCIS                  |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
:::

[Figure 1](#figure-1){.selfRef}: [Packet Format
Diagram](#name-packet-format-diagram){.selfRef}
:::

The RTP header of the packetized encoded TSVCIS speech has the expected
values as described in \[[RFC3550](#RFC3550){.xref}\]. The usage of the
M bit [SHOULD]{.bcp14} be as specified in the applicable RTP profile \--
for example, \[[RFC3551](#RFC3551){.xref}\] specifies that if the sender
does not suppress silence (i.e., sends a frame on every frame interval),
the M bit will always be zero. When more than one codec data frame is
present in a single RTP packet, the timestamp specified is that of the
oldest data frame represented in the RTP
packet.[¶](#section-3-4){.pilcrow}

The assignment of an RTP payload type for this new packet format is
outside the scope of this document and will not be specified here. It is
expected that the RTP profile for a particular class of applications
will assign a payload type for this encoding; if that is not done, then
a payload type in the dynamic range shall be chosen by the
sender.[¶](#section-3-5){.pilcrow}

::: {#sect-3.1}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [MELPe Bitstream Definitions](#name-melpe-bitstream-definitions){.section-name .selfRef} {#name-melpe-bitstream-definitions}

The TSVCIS speech coder includes all three MELPe coder rates used as
base speech parameters or as speech coders for bandwidth-restricted
links. RTP packetization of MELPe follows \[[RFC8130](#RFC8130){.xref}\]
and is repeated here for all three MELPe rates
\[[RFC8130](#RFC8130){.xref}\], with its recommendations now regarded as
requirements. The bits previously labeled as RSVA, RSVB, and RSVC in
\[[RFC8130](#RFC8130){.xref}\] [SHOULD]{.bcp14} be filled with rate code
bits CODA, CODB, and CODC, as shown in [Table 1](#tab-1){.xref}
(compatible with Table 7 in [Section
3.3](https://www.rfc-editor.org/rfc/rfc8130#section-3.3){.relref} of
\[[RFC8130](#RFC8130){.xref}\]).[¶](#section-3.1-1){.pilcrow}

[]{#name-tsvcis-melpe-frame-bitrate-}

::: {#tab-1}
  Coder Bitrate   CODA   CODB   CODC   Length
  --------------- ------ ------ ------ --------
  2400 bps        0      0      N/A    7
  1200 bps        1      0      0      11
  600 bps         0      1      N/A    7
  Comfort Noise   1      0      1      2
  TSVCIS Data     1      1      N/A    var.

  : [Table 1](#table-1){.selfRef}: [TSVCIS/MELPe Frame Bitrate
  Indicators and Frame
  Length](#name-tsvcis-melpe-frame-bitrate-){.selfRef}
:::

The total number of bits used to describe one MELPe frame of 2400 bps
speech is 54, which fits in 7 octets (with two rate code bits). For
MELPe 1200 bps speech, the total number of bits used is 81, which fits
in 11 octets (with three rate code bits and four unused bits). For MELPe
600 bps speech, the total number of bits used is 54, which fits in 7
octets (with two rate code bits). The comfort noise frame consists of 13
bits, which fits in 2 octets (with three rate code bits). TSVCIS packed
parameters will use the last code combination in a trailing byte as
discussed in [Section
3.2](#sect-3.2){.xref}.[¶](#section-3.1-3){.pilcrow}

It should be noted that CODB for MELPe 600 bps mode [MAY]{.bcp14}
deviate from the value in [Table 1](#tab-1){.xref} when bit 55 is used
as an alternating 1/0 end-to-end framing bit. Frame decoding would
remain distinct as CODA being zero on its own would indicate a 7-byte
frame for either a 2400 or 600 bps rate, and the use of 600 bps speech
coding could be deduced from the RTP timestamp (and anticipated by the
Session Description Protocol (SDP)
negotiations).[¶](#section-3.1-4){.pilcrow}

::: {#sect-3.1.1}
::: {#section-3.1.1 .section}
#### [3.1.1.](#section-3.1.1){.section-number .selfRef} [2400 bps Bitstream Structure](#name-2400-bps-bitstream-structur){.section-name .selfRef} {#name-2400-bps-bitstream-structur}

The 2400 bps MELPe RTP payload is constructed as per [Figure
2](#fig-2){.xref}. Note that CODA [MUST]{.bcp14} be filled with 0 and
CODB [SHOULD]{.bcp14} be filled with 0 as per [Section
3.1](#sect-3.1){.xref}. CODB [MAY]{.bcp14} contain an end-to-end framing
bit if required by the endpoints.[¶](#section-3.1.1-1){.pilcrow}

[]{#name-packed-melpe-2400-bps-paylo}

::: {#fig-2}
::: {#section-3.1.1-2.1 .artwork .art-text .alignLeft}
            MSB                                              LSB
             0      1      2      3      4      5      6      7
         +------+------+------+------+------+------+------+------+
         | B_08 | B_07 | B_06 | B_05 | B_04 | B_03 | B_02 | B_01 |
         +------+------+------+------+------+------+------+------+
         | B_16 | B_15 | B_14 | B_13 | B_12 | B_11 | B_10 | B_09 |
         +------+------+------+------+------+------+------+------+
         | B_24 | B_23 | B_22 | B_21 | B_20 | B_19 | B_18 | B_17 |
         +------+------+------+------+------+------+------+------+
         | B_32 | B_31 | B_30 | B_29 | B_28 | B_27 | B_26 | B_25 |
         +------+------+------+------+------+------+------+------+
         | B_40 | B_39 | B_38 | B_37 | B_36 | B_35 | B_34 | B_33 |
         +------+------+------+------+------+------+------+------+
         | B_48 | B_47 | B_46 | B_45 | B_44 | B_43 | B_42 | B_41 |
         +------+------+------+------+------+------+------+------+
         | CODA | CODB | B_54 | B_53 | B_52 | B_51 | B_50 | B_49 |
         +------+------+------+------+------+------+------+------+
:::

[Figure 2](#figure-2){.selfRef}: [Packed MELPe 2400 bps Payload
Octets](#name-packed-melpe-2400-bps-paylo){.selfRef}
:::
:::
:::

::: {#sect-3.1.2}
::: {#section-3.1.2 .section}
#### [3.1.2.](#section-3.1.2){.section-number .selfRef} [1200 bps Bitstream Structure](#name-1200-bps-bitstream-structur){.section-name .selfRef} {#name-1200-bps-bitstream-structur}

The 1200 bps MELPe RTP payload is constructed as per [Figure
3](#fig-3){.xref}. Note that CODA, CODB, and CODC [MUST]{.bcp14} be
filled with 1, 0, and 0, respectively, as per [Section
3.1](#sect-3.1){.xref}. RSV0 [MUST]{.bcp14} be coded as
0.[¶](#section-3.1.2-1){.pilcrow}

[]{#name-packed-melpe-1200-bps-paylo}

::: {#fig-3}
::: {#section-3.1.2-2.1 .artwork .art-text .alignLeft}
            MSB                                              LSB
             0      1      2      3      4      5      6      7
         +------+------+------+------+------+------+------+------+
         | B_08 | B_07 | B_06 | B_05 | B_04 | B_03 | B_02 | B_01 |
         +------+------+------+------+------+------+------+------+
         | B_16 | B_15 | B_14 | B_13 | B_12 | B_11 | B_10 | B_09 |
         +------+------+------+------+------+------+------+------+
         | B_24 | B_23 | B_22 | B_21 | B_20 | B_19 | B_18 | B_17 |
         +------+------+------+------+------+------+------+------+
         | B_32 | B_31 | B_30 | B_29 | B_28 | B_27 | B_26 | B_25 |
         +------+------+------+------+------+------+------+------+
         | B_40 | B_39 | B_38 | B_37 | B_36 | B_35 | B_34 | B_33 |
         +------+------+------+------+------+------+------+------+
         | B_48 | B_47 | B_46 | B_45 | B_44 | B_43 | B_42 | B_41 |
         +------+------+------+------+------+------+------+------+
         | B_56 | B_55 | B_54 | B_53 | B_52 | B_51 | B_50 | B_49 |
         +------+------+------+------+------+------+------+------+
         | B_64 | B_63 | B_62 | B_61 | B_60 | B_59 | B_58 | B_57 |
         +------+------+------+------+------+------+------+------+
         | B_72 | B_71 | B_70 | B_69 | B_68 | B_67 | B_66 | B_65 |
         +------+------+------+------+------+------+------+------+
         | B_80 | B_79 | B_78 | B_77 | B_76 | B_75 | B_74 | B_73 |
         +------+------+------+------+------+------+------+------+
         | CODA | CODB | CODC | RSV0 | RSV0 | RSV0 | RSV0 | B_81 |
         +------+------+------+------+------+------+------+------+
:::

[Figure 3](#figure-3){.selfRef}: [Packed MELPe 1200 bps Payload
Octets](#name-packed-melpe-1200-bps-paylo){.selfRef}
:::
:::
:::

::: {#sect-3.1.3}
::: {#section-3.1.3 .section}
#### [3.1.3.](#section-3.1.3){.section-number .selfRef} [600 bps Bitstream Structure](#name-600-bps-bitstream-structure){.section-name .selfRef} {#name-600-bps-bitstream-structure}

The 600 bps MELPe RTP payload is constructed as per [Figure
4](#fig-4){.xref}. Note CODA [MUST]{.bcp14} be filled with 0 and CODB
[SHOULD]{.bcp14} be filled with 1 as per [Section
3.1](#sect-3.1){.xref}. CODB [MAY]{.bcp14} contain an end-to-end framing
bit if required by the endpoints.[¶](#section-3.1.3-1){.pilcrow}

[]{#name-packed-melpe-600-bps-payloa}

::: {#fig-4}
::: {#section-3.1.3-2.1 .artwork .art-text .alignLeft}
            MSB                                              LSB
             0      1      2      3      4      5      6      7
         +------+------+------+------+------+------+------+------+
         | B_08 | B_07 | B_06 | B_05 | B_04 | B_03 | B_02 | B_01 |
         +------+------+------+------+------+------+------+------+
         | B_16 | B_15 | B_14 | B_13 | B_12 | B_11 | B_10 | B_09 |
         +------+------+------+------+------+------+------+------+
         | B_24 | B_23 | B_22 | B_21 | B_20 | B_19 | B_18 | B_17 |
         +------+------+------+------+------+------+------+------+
         | B_32 | B_31 | B_30 | B_29 | B_28 | B_27 | B_26 | B_25 |
         +------+------+------+------+------+------+------+------+
         | B_40 | B_39 | B_38 | B_37 | B_36 | B_35 | B_34 | B_33 |
         +------+------+------+------+------+------+------+------+
         | B_48 | B_47 | B_46 | B_45 | B_44 | B_43 | B_42 | B_41 |
         +------+------+------+------+------+------+------+------+
         | CODA | CODB | B_54 | B_53 | B_52 | B_51 | B_50 | B_49 |
         +------+------+------+------+------+------+------+------+
:::

[Figure 4](#figure-4){.selfRef}: [Packed MELPe 600 bps Payload
Octets](#name-packed-melpe-600-bps-payloa){.selfRef}
:::
:::
:::

::: {#sect-3.1.4}
::: {#section-3.1.4 .section}
#### [3.1.4.](#section-3.1.4){.section-number .selfRef} [Comfort Noise Bitstream Definition](#name-comfort-noise-bitstream-def){.section-name .selfRef} {#name-comfort-noise-bitstream-def}

The comfort noise MELPe RTP payload is constructed as per [Figure
5](#fig-5){.xref}. Note that CODA, CODB, and CODC [MUST]{.bcp14} be
filled with 1, 0, and 1, respectively, as per [Section
3.1](#sect-3.1){.xref}.[¶](#section-3.1.4-1){.pilcrow}

[]{#name-packed-melpe-comfort-noise-}

::: {#fig-5}
::: {#section-3.1.4-2.1 .artwork .art-text .alignLeft}
            MSB                                              LSB
             0      1      2      3      4      5      6      7
         +------+------+------+------+------+------+------+------+
         | B_08 | B_07 | B_06 | B_05 | B_04 | B_03 | B_02 | B_01 |
         +------+------+------+------+------+------+------+------+
         | CODA | CODB | CODC | B_13 | B_12 | B_11 | B_10 | B_09 |
         +------+------+------+------+------+------+------+------+
:::

[Figure 5](#figure-5){.selfRef}: [Packed MELPe Comfort Noise Payload
Octets](#name-packed-melpe-comfort-noise-){.selfRef}
:::
:::
:::
:::
:::

::: {#sect-3.2}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [TSVCIS Bitstream Definition](#name-tsvcis-bitstream-definition){.section-name .selfRef} {#name-tsvcis-bitstream-definition}

The TSVCIS augmented speech data as packed parameters [MUST]{.bcp14} be
placed immediately after a corresponding MELPe 2400 bps payload in the
same RTP packet. The packed parameters are counted in octets (TC). The
preferred placement [SHOULD]{.bcp14} be used for TSVCIS payloads with TC
less than or equal to 77 octets; this is shown in [Figure
6](#fig-6){.xref}. In the preferred placement, a single trailing octet
[SHALL]{.bcp14} be appended to include a two-bit rate code, CODA and
CODB (both bits set to one), and a six-bit modified count (MTC). The
special modified count value of all ones (representing an MTC value of
63) [SHALL NOT]{.bcp14} be used for this format as it is used as the
indicator for the alternate packing format shown next. In a standard
implementation, the TSVCIS speech coder uses a minimum of 15 octets for
parameters in octet packed form. The modified count (MTC) [MUST]{.bcp14}
be reduced by 15 from the full octet count (TC). Computed MTC = TC-15.
This accommodates a maximum of 77 parameter octets (the maximum value of
MTC is 62; 77 is the sum of 62+15).[¶](#section-3.2-1){.pilcrow}

[]{#name-preferred-packed-tsvcis-pay}

::: {#fig-6}
::: {#section-3.2-2.1 .artwork .art-text .alignLeft}
            MSB                                              LSB
             0      1      2      3      4      5      6      7
         +------+------+------+------+------+------+------+------+
      1  | T008 | T007 | T006 | T005 | T004 | T003 | T002 | T001 |
         +------+------+------+------+------+------+------+------+
      2  | T016 | T015 | T014 | T013 | T012 | T011 | T010 | T009 |
         +------+------+------+------+------+------+------+------+
      3  | T024 | T023 | T022 | T021 | T020 | T019 | T018 | T017 |
         +------+------+------+------+------+------+------+------+
      4  | T032 | T031 | T030 | T029 | T028 | T027 | T026 | T025 |
         +------+------+------+------+------+------+------+------+
      5  | T040 | T039 | T038 | T037 | T036 | T035 | T034 | T033 |
         +------+------+------+------+------+------+------+------+
      6  | T048 | T047 | T046 | T045 | T044 | T043 | T042 | T041 |
         +------+------+------+------+------+------+------+------+
      7  | TO56 | TO55 | T054 | T053 | T052 | T051 | T050 | T049 |
         +------+------+------+------+------+------+------+------+
      8  | T064 | T063 | T062 | T061 | T060 | T059 | T058 | T057 |
         +------+------+------+------+------+------+------+------+
      9  | T072 | T071 | T070 | T069 | T068 | T067 | T066 | T065 |
         +------+------+------+------+------+------+------+------+
     10  | T080 | T079 | T078 | T077 | T076 | T075 | T074 | T073 |
         +------+------+------+------+------+------+------+------+
     11  | T088 | T087 | T086 | T085 | T084 | T083 | T082 | T081 |
         +------+------+------+------+------+------+------+------+
     12  | TO96 | TO95 | T094 | T093 | T092 | T091 | T090 | T089 |
         +------+------+------+------+------+------+------+------+
     13  | T104 | T103 | T102 | T101 | T100 | T099 | T098 | T097 |
         +------+------+------+------+------+------+------+------+
     14  | T112 | T111 | T110 | T109 | T108 | T107 | T106 | T105 |
         +------+------+------+------+------+------+------+------+
     15  | T120 | T119 | T118 | T117 | T116 | T115 | T114 | T113 |
         +------+------+------+------+------+------+------+------+
         |                      .  .  .  .                       |
         +------+------+------+------+------+------+------+------+
    TC+1 | CODA | CODB |          modified octet count           |
         +------+------+------+------+------+------+------+------+
:::

[Figure 6](#figure-6){.selfRef}: [Preferred Packed TSVCIS Payload
Octets](#name-preferred-packed-tsvcis-pay){.selfRef}
:::

In order to accommodate all other NRL VDR configurations, an alternate
parameter placement [MUST]{.bcp14} use two trailing bytes as shown in
[Figure 7](#fig-7){.xref}. The last trailing byte [MUST]{.bcp14} be
filled with a two-bit rate code, CODA and CODB (both bits set to one),
and its six-bit count field [MUST]{.bcp14} be filled with ones. The
second to last trailing byte [MUST]{.bcp14} contain the parameter count
(TC) in octets (a value from 1 and 255, inclusive). The value of zero
[SHALL]{.bcp14} be considered as reserved.[¶](#section-3.2-3){.pilcrow}

[]{#name-length-unrestricted-packed-}

::: {#fig-7}
::: {#section-3.2-4.1 .artwork .art-text .alignLeft}
            MSB                                              LSB
             0      1      2      3      4      5      6      7
         +------+------+------+------+------+------+------+------+
      1  | T008 | T007 | T006 | T005 | T004 | T003 | T002 | T001 |
         +------+------+------+------+------+------+------+------+
      2  | T016 | T015 | T014 | T013 | T012 | T011 | T010 | T009 |
         +------+------+------+------+------+------+------+------+
         |                      .  .  .  .                       |
         +------+------+------+------+------+------+------+------+
    TC+1 |                      octet count                      |
         +------+------+------+------+------+------+------+------+
    TC+2 | CODA | CODB |   1  |   1  |   1  |   1  |   1  |   1  |
         +------+------+------+------+------+------+------+------+
:::

[Figure 7](#figure-7){.selfRef}: [Length Unrestricted Packed TSVCIS
Payload Octets](#name-length-unrestricted-packed-){.selfRef}
:::
:::
:::

::: {#sect-3.3}
::: {#section-3.3 .section}
### [3.3.](#section-3.3){.section-number .selfRef} [Multiple TSVCIS Frames in an RTP Packet](#name-multiple-tsvcis-frames-in-a){.section-name .selfRef} {#name-multiple-tsvcis-frames-in-a}

A TSVCIS RTP packet payload consists of zero or more consecutive TSVCIS
coder frames (each consisting of MELPe 2400 and TSVCIS coder data), with
the oldest frame first, followed by zero or one MELPe comfort noise
frame. The presence of a comfort noise frame can be determined by its
rate code bits in its last octet.[¶](#section-3.3-1){.pilcrow}

The default packetization interval is one coder frame (22.5, 67.5, or 90
ms) according to the coder bitrate (2400, 1200, or 600 bps). For some
applications, a longer packetization interval is used to reduce the
packet rate.[¶](#section-3.3-2){.pilcrow}

A TSVCIS RTP packet without coder and comfort noise frames [MAY]{.bcp14}
be used periodically by an endpoint to indicate connectivity by an
otherwise idle receiver.[¶](#section-3.3-3){.pilcrow}

TSVCIS coder frames in a single RTP packet [MAY]{.bcp14} have varying
TSVCIS parameter octet counts. Its packed parameter octet count (length)
is indicated in the trailing byte(s). All MELPe frames in a single RTP
packet [MUST]{.bcp14} be of the same coder bitrate. For all MELPe coder
frames, the coder rate bits in the trailing byte identify the contents
and length as per [Table 1](#tab-1){.xref}.[¶](#section-3.3-4){.pilcrow}

It is important to observe that senders have the following additional
restrictions:[¶](#section-3.3-5){.pilcrow}

-   [Senders [SHOULD NOT]{.bcp14} include more TSVCIS or MELPe frames in
    a single RTP packet than will fit in the MTU of the RTP transport
    protocol.[¶](#section-3.3-6.1){.pilcrow}]{#section-3.3-6.1}
-   [Frames [MUST NOT]{.bcp14} be split between RTP
    packets.[¶](#section-3.3-6.2){.pilcrow}]{#section-3.3-6.2}

It is [RECOMMENDED]{.bcp14} that the number of frames contained within
an RTP packet be consistent with the application. For example, in
telephony and other real-time applications where delay is important, the
fewer frames per packet, the lower the delay. However, for
bandwidth-constrained links or delay-insensitive streaming messaging
applications, more than one frame per packet or many frames per packet
would be acceptable.[¶](#section-3.3-7){.pilcrow}

Information describing the number of frames contained in an RTP packet
is not transmitted as part of the RTP payload. The way to determine the
number of TSVCIS/MELPe frames is to identify each frame type and length,
thereby counting the total number of octets within the RTP
packet.[¶](#section-3.3-8){.pilcrow}
:::
:::

::: {#sect-3.4}
::: {#section-3.4 .section}
### [3.4.](#section-3.4){.section-number .selfRef} [Congestion Control Considerations](#name-congestion-control-consider){.section-name .selfRef} {#name-congestion-control-consider}

The target bitrate of TSVCIS can be adjusted at any point in time, thus
allowing congestion management. Furthermore, the amount of encoded
speech or audio data encoded in a single packet can be used for
congestion control, since the packet rate is inversely proportional to
the packet duration. A lower packet transmission rate reduces the amount
of header overhead but at the same time increases latency and loss
sensitivity, so it ought to be used with
care.[¶](#section-3.4-1){.pilcrow}

Since UDP does not provide congestion control, applications that use RTP
over UDP [SHOULD]{.bcp14} implement their own congestion control above
the UDP layer \[[RFC8085](#RFC8085){.xref}\] and [MAY]{.bcp14} also
implement a transport circuit breaker \[[RFC8083](#RFC8083){.xref}\].
Work in the RMCAT Working Group \[[RMCAT](#RMCAT){.xref}\] describes the
interactions and conceptual interfaces necessary between the application
components that relate to congestion control, including the RTP layer,
the higher-level media codec control layer, and the lower-level
transport interface, as well as components dedicated to congestion
control functions.[¶](#section-3.4-2){.pilcrow}
:::
:::
:::
:::

::: {#sect-4}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Payload Format Parameters](#name-payload-format-parameters){.section-name .selfRef} {#name-payload-format-parameters}

This RTP payload format is identified using the TSVCIS media subtype,
which is registered in accordance with \[[RFC4855](#RFC4855){.xref}\]
and per the media type registration template from
\[[RFC6838](#RFC6838){.xref}\].[¶](#section-4-1){.pilcrow}

::: {#sect-4.1}
::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [Media Type Definitions](#name-media-type-definitions){.section-name .selfRef} {#name-media-type-definitions}

[]{.break}

Type name:
:   audio[¶](#section-4.1-1.2){.pilcrow}
:   

Subtype name:
:   TSVCIS[¶](#section-4.1-1.4){.pilcrow}
:   

Required parameters:
:   Clock Rate (Hz): 8000[¶](#section-4.1-1.6){.pilcrow}
:   

[]{.break}

Optional parameters:
:   []{.break}

    ptime:
    :   the recommended length of time (in milliseconds) represented by
        the media in a packet. It [SHALL]{.bcp14} use the nearest
        rounded-up ms integer packet duration. For TSVCIS, this
        corresponds to the following values: 23, 45, 68, 90, 112, 135,
        156, and 180. Larger values can be used as long as they are
        properly rounded. See [Section
        6](https://www.rfc-editor.org/rfc/rfc4566#section-6){.relref} of
        \[[RFC4566](#RFC4566){.xref}\].[¶](#section-4.1-2.2.1.2){.pilcrow}
    :   

    maxptime:
    :   the maximum length of time (in milliseconds) that can be
        encapsulated in a packet. It [SHALL]{.bcp14} use the nearest
        rounded-up ms integer packet duration. For TSVCIS, this
        corresponds to the following values: 23, 45, 68, 90, 112, 135,
        156, and 180. Larger values can be used as long as they are
        properly rounded. See [Section
        6](https://www.rfc-editor.org/rfc/rfc4566#section-6){.relref} of
        \[[RFC4566](#RFC4566){.xref}\].[¶](#section-4.1-2.2.1.4){.pilcrow}
    :   

    bitrate:
    :   specifies the MELPe coder bitrates supported. Possible values
        are a comma-separated list of rates from the following set:
        2400, 1200, 600. The modes are listed in order of preference;
        the first is preferred. If \"bitrate\" is not present, the fixed
        coder bitrate of 2400 [MUST]{.bcp14} be
        used.[¶](#section-4.1-2.2.1.6){.pilcrow}
    :   

    tcmax:
    :   specifies the TSVCIS maximum value for the TC supported or
        desired, ranging from 1 to 255. If \"tcmax\" is not present, a
        default value of 35 is used.[¶](#section-4.1-2.2.1.8){.pilcrow}
    :   

    Channels:
    :   1[¶](#section-4.1-2.2.1.10){.pilcrow}
    :   
:   

[]{.break}

Encoding considerations:
:   This media subtype is framed and binary; see [Section
    4.8](https://www.rfc-editor.org/rfc/rfc6838#section-4.8){.relref} of
    \[[RFC6838](#RFC6838){.xref}\].[¶](#section-4.1-3.2){.pilcrow}
:   

Security considerations:
:   Please see [Section 8](#sect-8){.xref} of RFC
    8817.[¶](#section-4.1-3.4){.pilcrow}
:   

Interoperability considerations:
:   N/A[¶](#section-4.1-3.6){.pilcrow}
:   

Published specification:
:   \[[TSVCIS](#TSVCIS){.xref}\][¶](#section-4.1-3.8){.pilcrow}
:   

Applications that use this media type:
:   N/A[¶](#section-4.1-3.10){.pilcrow}
:   

Fragment identifier considerations:
:   N/A[¶](#section-4.1-3.12){.pilcrow}
:   

Additional information:

:   \

    []{.break}

    Deprecated alias names for this type:
    :   N/A[¶](#section-4.1-3.14.2.2){.pilcrow}
    :   

    Magic number(s):
    :   N/A[¶](#section-4.1-3.14.2.4){.pilcrow}
    :   

    File extension(s):
    :   N/A[¶](#section-4.1-3.14.2.6){.pilcrow}
    :   

    Macintosh file type code(s):
    :   N/A[¶](#section-4.1-3.14.2.8){.pilcrow}
    :   

:   

Person & email address to contact for further information:

:   \
    [Victor Demjanenko, Ph.D.]{.contact-name}
    \<victor.demjanenko\@vocal.com>[¶](#section-4.1-3.16.1){.pilcrow}

:   

Intended usage:
:   COMMON[¶](#section-4.1-3.18){.pilcrow}
:   

Restrictions on usage:
:   The media subtype depends on RTP framing and hence is only defined
    for transfer via RTP \[[RFC3550](#RFC3550){.xref}\]. Transport
    within other framing protocols is not defined at this
    time.[¶](#section-4.1-3.20){.pilcrow}
:   

Author:

:   [Victor Demjanenko,
    Ph.D.]{.contact-name}[¶](#section-4.1-3.22.1){.pilcrow}

:   

Change controller:
:   IETF; contact \<avt\@ietf.org>[¶](#section-4.1-3.24){.pilcrow}
:   

Provisional registration? (standards tree only):
:   No[¶](#section-4.1-3.26){.pilcrow}
:   
:::
:::

::: {#sect-4.2}
::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [Mapping to SDP](#name-mapping-to-sdp){.section-name .selfRef} {#name-mapping-to-sdp}

The mapping of the above-defined payload format media subtype and its
parameters [SHALL]{.bcp14} be done according to [Section
3](https://www.rfc-editor.org/rfc/rfc4855#section-3){.relref} of
\[[RFC4855](#RFC4855){.xref}\].[¶](#section-4.2-1){.pilcrow}

The information carried in the media type specification has a specific
mapping to fields in the Session Description Protocol (SDP)
\[[RFC4566](#RFC4566){.xref}\], which is commonly used to describe RTP
sessions. When SDP is used to specify sessions employing the TSVCIS
codec, the mapping is as follows:[¶](#section-4.2-2){.pilcrow}

-   [The media type (\"audio\") goes in SDP \"m=\" as the media
    name.[¶](#section-4.2-3.1){.pilcrow}]{#section-4.2-3.1}
-   [The media subtype (payload format name) goes in SDP \"a=rtpmap\" as
    the encoding name.[¶](#section-4.2-3.2){.pilcrow}]{#section-4.2-3.2}
-   [The parameter \"bitrate\" goes in the SDP \"a=fmtp\" attribute by
    copying it as a \"bitrate=\<value>\"
    string.[¶](#section-4.2-3.3){.pilcrow}]{#section-4.2-3.3}
-   [The parameter \"tcmax\" goes in the SDP \"a=fmtp\" attribute by
    copying it as a \"tcmax=\<value>\"
    string.[¶](#section-4.2-3.4){.pilcrow}]{#section-4.2-3.4}
-   [The parameters \"ptime\" and \"maxptime\" go in the SDP \"a=ptime\"
    and \"a=maxptime\" attributes,
    respectively.[¶](#section-4.2-3.5){.pilcrow}]{#section-4.2-3.5}

When conveying information via SDP, the encoding name [SHALL]{.bcp14} be
\"TSVCIS\" (the same as the media subtype).[¶](#section-4.2-4){.pilcrow}

An example of the media representation in SDP for describing TSVCIS
might be:[¶](#section-4.2-5){.pilcrow}

::: {#section-4.2-6}
``` {.sourcecode .lang-sdp}
   m=audio 49120 RTP/AVP 96
   a=rtpmap:96 TSVCIS/8000
```

[¶](#section-4.2-6){.pilcrow}
:::

The optional media type parameter \"bitrate\", when present,
[MUST]{.bcp14} be included in the \"a=fmtp\" attribute in the SDP,
expressed as a media type string in the form of a semicolon-separated
list of parameter=value pairs. The string \"value\" can be one or more
of 2400, 1200, and 600, separated by commas (where each bitrate value
indicates the corresponding MELPe coder). An example of the media
representation in SDP for describing TSVCIS when all three coder
bitrates are supported might be:[¶](#section-4.2-7){.pilcrow}

::: {#section-4.2-8}
``` {.sourcecode .lang-sdp}
   m=audio 49120 RTP/AVP 96
   a=rtpmap:96 TSVCIS/8000
   a=fmtp:96 bitrate=2400,600,1200
```

[¶](#section-4.2-8){.pilcrow}
:::

The optional media type parameter \"tcmax\", when present,
[MUST]{.bcp14} be included in the \"a=fmtp\" attribute in the SDP,
expressed as a media type string in the form of a semicolon-separated
list of parameter=value pairs. The string \"value\" is an integer number
in the range of 1 to 255 representing the maximum number of TSVCIS
parameter octets supported. An example of the media representation in
SDP for describing TSVCIS with a maximum of 101 octets supported is as
follows:[¶](#section-4.2-9){.pilcrow}

::: {#section-4.2-10}
``` {.sourcecode .lang-sdp}
   m=audio 49120 RTP/AVP 96
   a=rtpmap:96 TSVCIS/8000
   a=fmtp:96 tcmax=101
```

[¶](#section-4.2-10){.pilcrow}
:::

The parameter \"ptime\" cannot be used for the purpose of specifying the
TSVCIS operating mode due to the fact that, for certain values, it will
be impossible to distinguish which mode is about to be used (e.g., when
ptime=68, it would be impossible to distinguish whether the packet is
carrying one frame of 67.5 ms or three frames of 22.5
ms).[¶](#section-4.2-11){.pilcrow}

Note that the payload format (encoding) names are commonly shown in
upper case. Media subtypes are commonly shown in lower case. These names
are case insensitive in both places. Similarly, parameter names are case
insensitive in both the media subtype name and the default mapping to
the SDP a=fmtp attribute.[¶](#section-4.2-12){.pilcrow}
:::
:::

::: {#sect-4.3}
::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [Declarative SDP Considerations](#name-declarative-sdp-considerati){.section-name .selfRef} {#name-declarative-sdp-considerati}

For declarative media, the \"bitrate\" parameter specifies the possible
bitrates used by the sender. Multiple TSVCIS rtpmap values (such as 97,
98, and 99, as used below) [MAY]{.bcp14} be used to convey TSVCIS-coded
voice at different bitrates. The receiver can then select an appropriate
TSVCIS codec by using 97, 98, or 99.[¶](#section-4.3-1){.pilcrow}

::: {#section-4.3-2}
``` {.sourcecode .lang-sdp}
   m=audio 49120 RTP/AVP 97 98 99
   a=rtpmap:97 TSVCIS/8000
   a=fmtp:97 bitrate=2400
   a=rtpmap:98 TSVCIS/8000
   a=fmtp:98 bitrate=1200
   a=rtpmap:99 TSVCIS/8000
   a=fmtp:99 bitrate=600
```

[¶](#section-4.3-2){.pilcrow}
:::

For declarative media, the \"tcmax\" parameter specifies the maximum
number of octets of TSVCIS packed parameters used by the sender or the
sender\'s communications channel.[¶](#section-4.3-3){.pilcrow}
:::
:::

::: {#sect-4.4}
::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [Offer/Answer SDP Considerations](#name-offer-answer-sdp-considerat){.section-name .selfRef} {#name-offer-answer-sdp-considerat}

In the Offer/Answer model \[[RFC3264](#RFC3264){.xref}\], \"bitrate\" is
a bidirectional parameter. Both sides [MUST]{.bcp14} use a common
\"bitrate\" value or values. The offer contains the bitrates supported
by the offerer, listed in its preferred order. The answerer
[MAY]{.bcp14} agree to any bitrate by listing the bitrate first in the
answerer response. Additionally, the answerer [MAY]{.bcp14} indicate any
secondary bitrate or bitrates that it supports. The initial bitrate used
by both parties [SHALL]{.bcp14} be the first bitrate specified in the
answerer response.[¶](#section-4.4-1){.pilcrow}

For example, if offerer bitrates are \"2400,600\" and answerer bitrates
are \"600,2400\", the initial bitrate is 600. If other bitrates are
provided by the answerer, any common bitrate between the offer and
answer [MAY]{.bcp14} be used at any time in the future. Activation of
these other common bitrates is beyond the scope of this
document.[¶](#section-4.4-2){.pilcrow}

The use of a lower bitrate is often important for a case such as when
one endpoint utilizes a bandwidth-constrained link (e.g., 1200 bps radio
link or slower), where only the lower coder bitrate will
work.[¶](#section-4.4-3){.pilcrow}

In the Offer/Answer model \[[RFC3264](#RFC3264){.xref}\], \"tcmax\" is a
bidirectional parameter. Both sides [SHOULD]{.bcp14} use a common
\"tcmax\" value. The offer contains the tcmax supported by the offerer.
The answerer [MAY]{.bcp14} agree to any tcmax equal to or less than this
value by stating the desired tcmax in the answerer response. The
answerer alternatively [MAY]{.bcp14} identify its own tcmax and rely on
TSVCIS ignoring any augmented data it cannot
use.[¶](#section-4.4-4){.pilcrow}
:::
:::
:::
:::

::: {#sect-5}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Discontinuous Transmissions](#name-discontinuous-transmissions){.section-name .selfRef} {#name-discontinuous-transmissions}

A primary application of TSVCIS is for radio communications of voice
conversations, and discontinuous transmissions are normal. When TSVCIS
is used in an IP network, TSVCIS RTP packet transmissions may cease and
resume frequently. RTP synchronization source (SSRC) sequence number
gaps indicate lost packets to be filled by Packet Loss Concealment
(PLC), while abrupt loss of RTP packets indicates intended discontinuous
transmissions. Resumption of voice transmission [SHOULD]{.bcp14} be
indicated by the RTP marker bit (M) set to 1.[¶](#section-5-1){.pilcrow}

If a TSVCIS coder so desires, it may send a MELPe comfort noise frame as
per Appendix B of \[[SCIP210](#SCIP210){.xref}\] prior to ceasing
transmission. A receiver may optionally use comfort noise during its
silence periods. No SDP negotiations are
required.[¶](#section-5-2){.pilcrow}
:::
:::

::: {#sect-6}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [Packet Loss Concealment](#name-packet-loss-concealment){.section-name .selfRef} {#name-packet-loss-concealment}

TSVCIS packet loss concealment (PLC) uses the special properties and
coding for the pitch/voicing parameter of the MELPe 2400 bps coder. The
PLC erasure indication utilizes any of the errored encodings of a
non-voiced frame as identified in Table 1 of \[[MELPE](#MELPE){.xref}\].
For the sake of simplicity, it is preferred that a code value of 3 for
the pitch/voicing parameter be used. Hence, set bits P0 and P1 to one
and bits P2, P3, P4, P5, and P6 to zero.[¶](#section-6-1){.pilcrow}

When using PLC in 1200 bps or 600 bps mode, the MELPe 2400 bps decoder
is called three or four times, respectively, to cover the loss of a low
bitrate MELPe frame.[¶](#section-6-2){.pilcrow}
:::
:::

::: {#sect-7}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

IANA has registered TSVCIS as specified in [Section
4.1](#sect-4.1){.xref}. The media type has been added to the IANA
registry for \"RTP Payload Format Media Types\"
(<https://www.iana.org/assignments/rtp-parameters>).[¶](#section-7-1){.pilcrow}
:::
:::

::: {#sect-8}
::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

RTP packets using the payload format defined in this specification are
subject to the security considerations discussed in the RTP
specification \[[RFC3550](#RFC3550){.xref}\] and in any applicable RTP
profile such as RTP/AVP \[[RFC3551](#RFC3551){.xref}\], RTP/AVPF
\[[RFC4585](#RFC4585){.xref}\], RTP/SAVP \[[RFC3711](#RFC3711){.xref}\],
or RTP/SAVPF \[[RFC5124](#RFC5124){.xref}\]. However, as discussed in
\[[RFC7202](#RFC7202){.xref}\], it is not an RTP payload format\'s
responsibility to discuss or mandate what solutions are used to meet
such basic security goals as confidentiality, integrity, and source
authenticity for RTP in general. This responsibility lies with anyone
using RTP in an application. They can find guidance on available
security mechanisms and important considerations in
\[[RFC7201](#RFC7201){.xref}\]. Applications [SHOULD]{.bcp14} use one or
more appropriate strong security mechanisms. The rest of this section
discusses the security-impacting properties of the payload format
itself.[¶](#section-8-1){.pilcrow}

This RTP payload format and the TSVCIS decoder, to the best of our
knowledge, do not exhibit any significant non-uniformity in the
receiver-side computational complexity for packet processing and thus
are unlikely to pose a denial-of-service threat due to the receipt of
pathological data. Additionally, the RTP payload format does not contain
any active content.[¶](#section-8-2){.pilcrow}

Please see the security considerations discussed in
\[[RFC6562](#RFC6562){.xref}\] regarding Voice Activity Detect (VAD) and
its effect on bitrates.[¶](#section-8-3){.pilcrow}
:::
:::

::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-9.1 .section}
### [9.1.](#section-9.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[MELP\]
:   [Department of Defense]{.refAuthor}, [\"Analog-to-Digital Conversion
    of Voice by 2,400 Bit/Second Mixed Excitation Linear Prediction
    (MELP)\"]{.refTitle}, [Department of Defense Telecommunications
    Standard MIL-STD-3005]{.seriesInfo}, December 1999.
:   

\[MELPE\]
:   [North Atlantic Treaty Organization (NATO)]{.refAuthor}, [\"The 600
    Bit/S, 1200 Bit/S and 2400 Bit/S NATO Interoperable Narrow Band
    Voice Coder\"]{.refTitle}, [STANAG No. 4591]{.seriesInfo},
    October 2008.
:   

\[NRLVDR\]
:   [Heide, D.]{.refAuthor}[, Cohen, A.]{.refAuthor}[,
    Lee, Y.]{.refAuthor}[, and T. Moran]{.refAuthor}, [\"Universal
    Vocoder Using Variable Data Rate Vocoding\"]{.refTitle}, [DOI
    10.21236/ada588068]{.seriesInfo}, [Naval Research Lab
    NRL/FR/5555\--13-10, 239]{.seriesInfo}, June 2013,
    \<<https://doi.org/10.21236/ada588068>\>.
:   

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC2736\]
:   [Handley, M.]{.refAuthor}[ and C. Perkins]{.refAuthor},
    [\"Guidelines for Writers of RTP Payload Format
    Specifications\"]{.refTitle}, [BCP 36]{.seriesInfo}, [RFC
    2736]{.seriesInfo}, [DOI 10.17487/RFC2736]{.seriesInfo}, December
    1999, \<<https://www.rfc-editor.org/info/rfc2736>\>.
:   

\[RFC3264\]
:   [Rosenberg, J.]{.refAuthor}[ and H. Schulzrinne]{.refAuthor}, [\"An
    Offer/Answer Model with Session Description Protocol
    (SDP)\"]{.refTitle}, [RFC 3264]{.seriesInfo}, [DOI
    10.17487/RFC3264]{.seriesInfo}, June 2002,
    \<<https://www.rfc-editor.org/info/rfc3264>\>.
:   

\[RFC3550\]
:   [Schulzrinne, H.]{.refAuthor}[, Casner, S.]{.refAuthor}[,
    Frederick, R.]{.refAuthor}[, and V. Jacobson]{.refAuthor}, [\"RTP: A
    Transport Protocol for Real-Time Applications\"]{.refTitle}, [STD
    64]{.seriesInfo}, [RFC 3550]{.seriesInfo}, [DOI
    10.17487/RFC3550]{.seriesInfo}, July 2003,
    \<<https://www.rfc-editor.org/info/rfc3550>\>.
:   

\[RFC3551\]
:   [Schulzrinne, H.]{.refAuthor}[ and S. Casner]{.refAuthor}, [\"RTP
    Profile for Audio and Video Conferences with Minimal
    Control\"]{.refTitle}, [STD 65]{.seriesInfo}, [RFC
    3551]{.seriesInfo}, [DOI 10.17487/RFC3551]{.seriesInfo}, July 2003,
    \<<https://www.rfc-editor.org/info/rfc3551>\>.
:   

\[RFC3711\]
:   [Baugher, M.]{.refAuthor}[, McGrew, D.]{.refAuthor}[,
    Naslund, M.]{.refAuthor}[, Carrara, E.]{.refAuthor}[, and K.
    Norrman]{.refAuthor}, [\"The Secure Real-time Transport Protocol
    (SRTP)\"]{.refTitle}, [RFC 3711]{.seriesInfo}, [DOI
    10.17487/RFC3711]{.seriesInfo}, March 2004,
    \<<https://www.rfc-editor.org/info/rfc3711>\>.
:   

\[RFC4566\]
:   [Handley, M.]{.refAuthor}[, Jacobson, V.]{.refAuthor}[, and C.
    Perkins]{.refAuthor}, [\"SDP: Session Description
    Protocol\"]{.refTitle}, [RFC 4566]{.seriesInfo}, [DOI
    10.17487/RFC4566]{.seriesInfo}, July 2006,
    \<<https://www.rfc-editor.org/info/rfc4566>\>.
:   

\[RFC4855\]
:   [Casner, S.]{.refAuthor}, [\"Media Type Registration of RTP Payload
    Formats\"]{.refTitle}, [RFC 4855]{.seriesInfo}, [DOI
    10.17487/RFC4855]{.seriesInfo}, February 2007,
    \<<https://www.rfc-editor.org/info/rfc4855>\>.
:   

\[RFC5124\]
:   [Ott, J.]{.refAuthor}[ and E. Carrara]{.refAuthor}, [\"Extended
    Secure RTP Profile for Real-time Transport Control Protocol
    (RTCP)-Based Feedback (RTP/SAVPF)\"]{.refTitle}, [RFC
    5124]{.seriesInfo}, [DOI 10.17487/RFC5124]{.seriesInfo}, February
    2008, \<<https://www.rfc-editor.org/info/rfc5124>\>.
:   

\[RFC6562\]
:   [Perkins, C.]{.refAuthor}[ and JM. Valin]{.refAuthor}, [\"Guidelines
    for the Use of Variable Bit Rate Audio with Secure
    RTP\"]{.refTitle}, [RFC 6562]{.seriesInfo}, [DOI
    10.17487/RFC6562]{.seriesInfo}, March 2012,
    \<<https://www.rfc-editor.org/info/rfc6562>\>.
:   

\[RFC6838\]
:   [Freed, N.]{.refAuthor}[, Klensin, J.]{.refAuthor}[, and T.
    Hansen]{.refAuthor}, [\"Media Type Specifications and Registration
    Procedures\"]{.refTitle}, [BCP 13]{.seriesInfo}, [RFC
    6838]{.seriesInfo}, [DOI 10.17487/RFC6838]{.seriesInfo}, January
    2013, \<<https://www.rfc-editor.org/info/rfc6838>\>.
:   

\[RFC8083\]
:   [Perkins, C.]{.refAuthor}[ and V. Singh]{.refAuthor}, [\"Multimedia
    Congestion Control: Circuit Breakers for Unicast RTP
    Sessions\"]{.refTitle}, [RFC 8083]{.seriesInfo}, [DOI
    10.17487/RFC8083]{.seriesInfo}, March 2017,
    \<<https://www.rfc-editor.org/info/rfc8083>\>.
:   

\[RFC8085\]
:   [Eggert, L.]{.refAuthor}[, Fairhurst, G.]{.refAuthor}[, and G.
    Shepherd]{.refAuthor}, [\"UDP Usage Guidelines\"]{.refTitle}, [BCP
    145]{.seriesInfo}, [RFC 8085]{.seriesInfo}, [DOI
    10.17487/RFC8085]{.seriesInfo}, March 2017,
    \<<https://www.rfc-editor.org/info/rfc8085>\>.
:   

\[RFC8088\]
:   [Westerlund, M.]{.refAuthor}, [\"How to Write an RTP Payload
    Format\"]{.refTitle}, [RFC 8088]{.seriesInfo}, [DOI
    10.17487/RFC8088]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8088>\>.
:   

\[RFC8130\]
:   [Demjanenko, V.]{.refAuthor}[ and D. Satterlee]{.refAuthor}, [\"RTP
    Payload Format for the Mixed Excitation Linear Prediction Enhanced
    (MELPe) Codec\"]{.refTitle}, [RFC 8130]{.seriesInfo}, [DOI
    10.17487/RFC8130]{.seriesInfo}, March 2017,
    \<<https://www.rfc-editor.org/info/rfc8130>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[SCIP210\]
:   [National Security Agency]{.refAuthor}, [\"SCIP Signaling
    Plan\"]{.refTitle}, [SCIP-210]{.refContent}, January 2013.
:   
:::

::: {#section-9.2 .section}
### [9.2.](#section-9.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC4585\]
:   [Ott, J.]{.refAuthor}[, Wenger, S.]{.refAuthor}[,
    Sato, N.]{.refAuthor}[, Burmeister, C.]{.refAuthor}[, and J.
    Rey]{.refAuthor}, [\"Extended RTP Profile for Real-time Transport
    Control Protocol (RTCP)-Based Feedback (RTP/AVPF)\"]{.refTitle},
    [RFC 4585]{.seriesInfo}, [DOI 10.17487/RFC4585]{.seriesInfo}, July
    2006, \<<https://www.rfc-editor.org/info/rfc4585>\>.
:   

\[RFC7201\]
:   [Westerlund, M.]{.refAuthor}[ and C. Perkins]{.refAuthor},
    [\"Options for Securing RTP Sessions\"]{.refTitle}, [RFC
    7201]{.seriesInfo}, [DOI 10.17487/RFC7201]{.seriesInfo}, April 2014,
    \<<https://www.rfc-editor.org/info/rfc7201>\>.
:   

\[RFC7202\]
:   [Perkins, C.]{.refAuthor}[ and M. Westerlund]{.refAuthor},
    [\"Securing the RTP Framework: Why RTP Does Not Mandate a Single
    Media Security Solution\"]{.refTitle}, [RFC 7202]{.seriesInfo}, [DOI
    10.17487/RFC7202]{.seriesInfo}, April 2014,
    \<<https://www.rfc-editor.org/info/rfc7202>\>.
:   

\[RMCAT\]
:   [IETF]{.refAuthor}, [\"RTP Media Congestion Avoidance Techniques
    (rmcat) Working Group\"]{.refTitle},
    \<<https://datatracker.ietf.org/wg/rmcat/about/>\>.
:   

\[TSVCIS\]
:   [National Security Agency]{.refAuthor}, [\"Tactical Secure Voice
    Cryptographic Interoperability Specification (TSVCIS) Version
    3.1\"]{.refTitle}, [NSA 09-01A]{.seriesInfo}, March 2019.
:   
:::
:::

::: {#authors-addresses}
::: {#section-appendix.a .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Victor Demjanenko, Ph.D.]{.fn .nameRole}
:::

::: {.left dir="auto"}
[VOCAL Technologies, Ltd.]{.org}
:::

::: {.left dir="auto"}
[520 Lee Entrance, Suite 202]{.street-address}
:::

::: {.left dir="auto"}
[Buffalo]{.locality}, [NY]{.region} [14228]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: tel
Phone: [+1 716 688 4675](tel:+1%20716%20688%204675){.tel}
:::

::: email
Email: <victor.demjanenko@vocal.com>
:::

::: {.left dir="auto"}
[John Punaro]{.fn .nameRole}
:::

::: {.left dir="auto"}
[VOCAL Technologies, Ltd.]{.org}
:::

::: {.left dir="auto"}
[520 Lee Entrance, Suite 202]{.street-address}
:::

::: {.left dir="auto"}
[Buffalo]{.locality}, [NY]{.region} [14228]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: tel
Phone: [+1 716 688 4675](tel:+1%20716%20688%204675){.tel}
:::

::: email
Email: <john.punaro@vocal.com>
:::

::: {.left dir="auto"}
[David Satterlee]{.fn .nameRole}
:::

::: {.left dir="auto"}
[VOCAL Technologies, Ltd.]{.org}
:::

::: {.left dir="auto"}
[520 Lee Entrance, Suite 202]{.street-address}
:::

::: {.left dir="auto"}
[Buffalo]{.locality}, [NY]{.region} [14228]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: tel
Phone: [+1 716 688 4675](tel:+1%20716%20688%204675){.tel}
:::

::: email
Email: <david.satterlee@vocal.com>
:::
:::
:::
