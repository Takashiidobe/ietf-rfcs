  RFC 8667          IS-IS Extensions for Segment Routing   December 2019
  ----------------- -------------------------------------- ---------------
  Previdi, et al.   Standards Track                        \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8667](https://www.rfc-editor.org/rfc/rfc8667){.eref}

Category:
:   Standards Track

Published:
:   December 2019

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    S. Previdi, [Ed.]{.editor}
    :::

    ::: org
    Huawei Technologies
    :::
    :::

    ::: author
    ::: author-name
    L. Ginsberg, [Ed.]{.editor}
    :::

    ::: org
    Cisco Systems, Inc.
    :::
    :::

    ::: author
    ::: author-name
    C. Filsfils
    :::

    ::: org
    Cisco Systems, Inc.
    :::
    :::

    ::: author
    ::: author-name
    A. Bashandy
    :::

    ::: org
    Arrcus
    :::
    :::

    ::: author
    ::: author-name
    H. Gredler
    :::

    ::: org
    RtBrick Inc.
    :::
    :::

    ::: author
    ::: author-name
    B. Decraene
    :::

    ::: org
    Orange
    :::
    :::
:::

# RFC 8667 {#rfcnum}

# IS-IS Extensions for Segment Routing {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

Segment Routing (SR) allows for a flexible definition of end-to-end
paths within IGP topologies by encoding paths as sequences of
topological sub-paths, called \"segments\". These segments are
advertised by the link-state routing protocols (IS-IS and
OSPF).[¶](#section-abstract-1){.pilcrow}

This document describes the IS-IS extensions that need to be introduced
for Segment Routing operating on an MPLS data
plane.[¶](#section-abstract-2){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8667>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2019 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Requirements
        Language](#name-requirements-language){.xref}[¶](#section-toc.1-1.1.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Segment Routing
    Identifiers](#name-segment-routing-identifiers){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.xref}.  [Prefix Segment Identifier
        (Prefix-SID)
        Sub-TLV](#name-prefix-segment-identifier-p){.xref}[¶](#section-toc.1-1.2.2.1.1){.pilcrow}

        -   ::: {#section-toc.1-1.2.2.1.2.1}
            [2.1.1](#section-2.1.1){.xref}.  [Flags](#name-flags){.xref}[¶](#section-toc.1-1.2.2.1.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.2.2.1.2.2}
            [2.1.2](#section-2.1.2){.xref}.  [Prefix-SID
            Propagation](#name-prefix-sid-propagation){.xref}[¶](#section-toc.1-1.2.2.1.2.2.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.2.2.2}
        [2.2](#section-2.2){.xref}.  [Adjacency Segment
        Identifier](#name-adjacency-segment-identifie){.xref}[¶](#section-toc.1-1.2.2.2.1){.pilcrow}

        -   ::: {#section-toc.1-1.2.2.2.2.1}
            [2.2.1](#section-2.2.1){.xref}.  [Adjacency Segment
            Identifier (Adj-SID)
            Sub-TLV](#name-adjacency-segment-identifier){.xref}[¶](#section-toc.1-1.2.2.2.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.2.2.2.2.2}
            [2.2.2](#section-2.2.2){.xref}.  [Adjacency Segment
            Identifier (LAN-Adj-SID)
            Sub-TLV](#name-adjacency-segment-identifier-){.xref}[¶](#section-toc.1-1.2.2.2.2.2.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.2.2.3}
        [2.3](#section-2.3){.xref}.  [SID/Label
        Sub-TLV](#name-sid-label-sub-tlv){.xref}[¶](#section-toc.1-1.2.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.2.2.4}
        [2.4](#section-2.4){.xref}.  [SID/Label Binding
        TLV](#name-sid-label-binding-tlv){.xref}[¶](#section-toc.1-1.2.2.4.1){.pilcrow}

        -   ::: {#section-toc.1-1.2.2.4.2.1}
            [2.4.1](#section-2.4.1){.xref}.  [Flags](#name-flags-2){.xref}[¶](#section-toc.1-1.2.2.4.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.2.2.4.2.2}
            [2.4.2](#section-2.4.2){.xref}.  [Range](#name-range){.xref}[¶](#section-toc.1-1.2.2.4.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.2.2.4.2.3}
            [2.4.3](#section-2.4.3){.xref}.  [Prefix Length,
            Prefix](#name-prefix-length-prefix){.xref}[¶](#section-toc.1-1.2.2.4.2.3.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.2.2.4.2.4}
            [2.4.4](#section-2.4.4){.xref}.  [Mapping Server
            Prefix-SID](#name-mapping-server-prefix-sid){.xref}[¶](#section-toc.1-1.2.2.4.2.4.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.2.2.4.2.5}
            [2.4.5](#section-2.4.5){.xref}.  [SID/Label
            Sub-TLV](#name-sid-label-sub-tlv-2){.xref}[¶](#section-toc.1-1.2.2.4.2.5.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.2.2.4.2.6}
            [2.4.6](#section-2.4.6){.xref}.  [Example
            Encodings](#name-example-encodings){.xref}[¶](#section-toc.1-1.2.2.4.2.6.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.2.2.5}
        [2.5](#section-2.5){.xref}.  [Multi-Topology SID/Label Binding
        TLV](#name-multi-topology-sid-label-bi){.xref}[¶](#section-toc.1-1.2.2.5.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Router
    Capabilities](#name-router-capabilities){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [SR-Capabilities
        Sub-TLV](#name-sr-capabilities-sub-tlv){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [SR-Algorithm
        Sub-TLV](#name-sr-algorithm-sub-tlv){.xref}[¶](#section-toc.1-1.3.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.3}
        [3.3](#section-3.3){.xref}.  [SR Local Block
        Sub-TLV](#name-sr-local-block-sub-tlv){.xref}[¶](#section-toc.1-1.3.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.4}
        [3.4](#section-3.4){.xref}.  [SRMS Preference
        Sub-TLV](#name-srms-preference-sub-tlv){.xref}[¶](#section-toc.1-1.3.2.4.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [Sub-TLVs for Types 22, 23, 25,
        141, 222, and
        223](#name-sub-tlvs-for-types-22-23-25){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [Sub-TLVs for Types 135, 235, 236,
        and
        237](#name-sub-tlvs-for-types-135-235-){.xref}[¶](#section-toc.1-1.4.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.xref}.  [Sub-TLVs for Type
        242](#name-sub-tlvs-for-type-242){.xref}[¶](#section-toc.1-1.4.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.xref}.  [New TLV Codepoint and Sub-TLV
        Registry](#name-new-tlv-codepoint-and-sub-t){.xref}[¶](#section-toc.1-1.4.2.4.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [References](#name-references){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.6.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.6.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [](#section-appendix.a){.xref}[Acknowledgements](#name-acknowledgements){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [](#section-appendix.b){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.9}
    [](#section-appendix.c){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}
    :::
:::
:::

::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

Segment Routing (SR) allows for a flexible definition of end-to-end
paths within IGP topologies by encoding paths as sequences of
topological sub-paths, called \"segments\". These segments are
advertised by the link-state routing protocols (IS-IS and OSPF). Prefix
segments represent an ECMP-aware shortest path to a prefix (or a node),
as per the state of the IGP topology. Adjacency segments represent a hop
over a specific adjacency between two nodes in the IGP. A prefix segment
is typically a multi-hop path while an adjacency segment, in most of the
cases, is a one-hop path. SR\'s control plane can be applied to both
IPv6 and MPLS data planes and does not require any additional signaling
(other than the regular IGP). For example, when used in MPLS networks,
SR paths do not require any LDP or RSVP-TE signaling. Still, SR can
interoperate in the presence of Label Switched Paths (LSPs) established
with RSVP or LDP.[¶](#section-1-1){.pilcrow}

There are additional segment types, e.g., the Binding SID as defined in
\[[RFC8402](#RFC8402){.xref}\]. This document also defines an
advertisement for one type of Binding SID: the Mirror Context
segment.[¶](#section-1-2){.pilcrow}

This document describes the IS-IS extensions that need to be introduced
for Segment Routing operating on an MPLS data
plane.[¶](#section-1-3){.pilcrow}

The Segment Routing architecture is described in
\[[RFC8402](#RFC8402){.xref}\]. Segment Routing use cases are described
in \[[RFC7855](#RFC7855){.xref}\].[¶](#section-1-4){.pilcrow}

::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Requirements Language](#name-requirements-language){.section-name .selfRef} {#name-requirements-language}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1.1-1){.pilcrow}
:::
:::

::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Segment Routing Identifiers](#name-segment-routing-identifiers){.section-name .selfRef} {#name-segment-routing-identifiers}

The Segment Routing architecture \[[RFC8402](#RFC8402){.xref}\] defines
different types of Segment Identifiers (SIDs). This document defines the
IS-IS encodings for the IGP-Prefix Segment, the IGP-Adjacency Segment,
the IGP-LAN-Adjacency Segment, and the Binding
Segment.[¶](#section-2-1){.pilcrow}

::: {#PREFIXSIDSUBTLV}
::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [Prefix Segment Identifier (Prefix-SID) Sub-TLV](#name-prefix-segment-identifier-p){.section-name .selfRef} {#name-prefix-segment-identifier-p}

A new IS-IS sub-TLV is defined: the Prefix Segment Identifier
(Prefix-SID) sub-TLV.[¶](#section-2.1-1){.pilcrow}

The Prefix-SID sub-TLV carries the Segment Routing IGP-Prefix-SID as
defined in \[[RFC8402](#RFC8402){.xref}\]. The \'Prefix-SID\'
[MUST]{.bcp14} be unique within a given IGP domain (when the L-Flag is
not set).[¶](#section-2.1-2){.pilcrow}

A Prefix-SID sub-TLV is associated to a prefix advertised by a node and
[MAY]{.bcp14} be present in any of the following
TLVs:[¶](#section-2.1-3){.pilcrow}

-   [TLV-135 (Extended IPv4 reachability) defined in
    \[[RFC5305](#RFC5305){.xref}\].[¶](#section-2.1-4.1){.pilcrow}]{#section-2.1-4.1}
-   [TLV-235 (Multi-topology IPv4 Reachability) defined in
    \[[RFC5120](#RFC5120){.xref}\].[¶](#section-2.1-4.2){.pilcrow}]{#section-2.1-4.2}
-   [TLV-236 (IPv6 IP Reachability) defined in
    \[[RFC5308](#RFC5308){.xref}\].[¶](#section-2.1-4.3){.pilcrow}]{#section-2.1-4.3}
-   [TLV-237 (Multi-topology IPv6 IP Reachability) defined in
    \[[RFC5120](#RFC5120){.xref}\].[¶](#section-2.1-4.4){.pilcrow}]{#section-2.1-4.4}
-   [The Binding TLV and Multi-Topology Binding TLV are defined in
    Sections [2.4](#BINDINGTLV){.xref} and [2.5](#MTBINDINGTLV){.xref},
    respectively.[¶](#section-2.1-4.5){.pilcrow}]{#section-2.1-4.5}

The Prefix-SID sub-TLV has the following
format:[¶](#section-2.1-5){.pilcrow}

::: {#section-2.1-6 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        |     Length    |     Flags     |   Algorithm   |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         SID/Index/Label (variable)            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-2.1-6){.pilcrow}
:::

where:[¶](#section-2.1-7){.pilcrow}

-   ::: {#section-2.1-8.1}

    Type:
    :   3[¶](#section-2.1-8.1.1.2){.pilcrow}

    Length:
    :   5 or 6 depending on the size of the SID (described
        below)[¶](#section-2.1-8.1.1.4){.pilcrow}

    Flags:

    :   1-octet field of the following
        flags:[¶](#section-2.1-8.1.1.6.1){.pilcrow}

        ::: {#section-2.1-8.1.1.6.2 .artwork .art-text .alignLeft}
                   0 1 2 3 4 5 6 7 
                  +-+-+-+-+-+-+-+-+
                  |R|N|P|E|V|L|   | 
                  +-+-+-+-+-+-+-+-+

        [¶](#section-2.1-8.1.1.6.2){.pilcrow}
        :::

        where:[¶](#section-2.1-8.1.1.6.3){.pilcrow}

        R-Flag:
        :   Re-advertisement Flag. If set, then the prefix to which this
            Prefix-SID is attached has been propagated by the router
            from either another level (i.e., from Level-1 to Level-2 or
            the opposite) or redistribution (e.g., from another
            protocol).[¶](#section-2.1-8.1.1.6.4.2){.pilcrow}

        N-Flag:
        :   Node-SID Flag. If set, then the Prefix-SID refers to the
            router identified by the prefix. Typically, the N-Flag is
            set on Prefix-SIDs that are attached to a router loopback
            address. The N-Flag is set when the Prefix-SID is a Node-SID
            as described in
            \[[RFC8402](#RFC8402){.xref}\].[¶](#section-2.1-8.1.1.6.4.4){.pilcrow}

        P-Flag:
        :   No-PHP (No Penultimate Hop-Popping) Flag. If set, then the
            penultimate hop [MUST NOT]{.bcp14} pop the Prefix-SID before
            delivering the packet to the node that advertised the
            Prefix-SID.[¶](#section-2.1-8.1.1.6.4.6){.pilcrow}

        E-Flag:
        :   Explicit NULL Flag. If set, any upstream neighbor of the
            Prefix-SID originator [MUST]{.bcp14} replace the Prefix-SID
            with a Prefix-SID that has an Explicit NULL value (0 for
            IPv4 and 2 for IPv6) before forwarding the
            packet.[¶](#section-2.1-8.1.1.6.4.8){.pilcrow}

        V-Flag:
        :   Value Flag. If set, then the Prefix-SID carries a value
            (instead of an index). By default, the flag is
            UNSET.[¶](#section-2.1-8.1.1.6.4.10){.pilcrow}

        L-Flag:
        :   Local Flag. If set, then the value/index carried by the
            Prefix-SID has local significance. By default, the flag is
            UNSET.[¶](#section-2.1-8.1.1.6.4.12){.pilcrow}

        Other bits:
        :   [MUST]{.bcp14} be zero when originated and ignored when
            received.[¶](#section-2.1-8.1.1.6.4.14){.pilcrow}
    :::

```{=html}
<!-- -->
```
-   ::: {#section-2.1-9.1}

    Algorithm:
    :   the router may use various algorithms when calculating
        reachability to other nodes or to prefixes attached to these
        nodes. Algorithm identifiers are defined in [Section
        3.2](#SRALGOSUBTLV){.xref}. Examples of these algorithms are
        metric-based Shortest Path First (SPF), various sorts of
        Constrained SPF, etc. The Algorithm field of the Prefix-SID
        contains the identifier of the algorithm the router uses to
        compute the reachability of the prefix to which the Prefix-SID
        is associated.[¶](#section-2.1-9.1.1.2){.pilcrow}
    :::

```{=html}
<!-- -->
```
-   [At origination, the Prefix-SID Algorithm field [MUST]{.bcp14} be
    set to 0 or to any value advertised in the SR-Algorithm sub-TLV (see
    [Section
    3.2](#SRALGOSUBTLV){.xref}).[¶](#section-2.1-10.1){.pilcrow}]{#section-2.1-10.1}
-   [A router receiving a Prefix-SID from a remote node and with an
    algorithm value that such remote node has not advertised in the
    SR-Algorithm sub-TLV (see [Section 3.2](#SRALGOSUBTLV){.xref})
    [MUST]{.bcp14} ignore the Prefix-SID
    sub-TLV.[¶](#section-2.1-10.2){.pilcrow}]{#section-2.1-10.2}
-   [SID/Index/Label as defined in [Section
    2.1.1.1](#VANDLFLAGS){.xref}.[¶](#section-2.1-10.3){.pilcrow}]{#section-2.1-10.3}

When the Prefix-SID is an index (and the V-Flag is not set), the value
is used to determine the actual label value inside the set of all
advertised label ranges of a given router. This allows a receiving
router to construct the forwarding state to a particular destination
router.[¶](#section-2.1-11){.pilcrow}

In many use cases, a \'stable transport\' address is overloaded as an
identifier of a given node. Because Prefixes may be re-advertised into
other levels, there may be some ambiguity (e.g., originating router vs.
L1L2 router) for which node a particular IP prefix serves as the
identifier. The Prefix-SID sub-TLV contains the necessary flags to
disambiguate Prefix-to-node mappings. Furthermore, if a given node has
several \'stable transport\' addresses, there are flags to differentiate
those among other Prefixes advertised from a given
node.[¶](#section-2.1-12){.pilcrow}

::: {#FLAGS}
::: {#section-2.1.1 .section}
#### [2.1.1.](#section-2.1.1){.section-number .selfRef} [Flags](#name-flags){.section-name .selfRef} {#name-flags}

::: {#VANDLFLAGS}
::: {#section-2.1.1.1 .section}
##### [2.1.1.1.](#section-2.1.1.1){.section-number .selfRef} [V-Flag and L-Flag](#name-v-flag-and-l-flag){.section-name .selfRef} {#name-v-flag-and-l-flag}

The V-Flag indicates whether the SID/Index/Label field is a value or an
index.[¶](#section-2.1.1.1-1){.pilcrow}

The L-Flag indicates whether the value/index in the SID/Index/Label
field has local or global significance.[¶](#section-2.1.1.1-2){.pilcrow}

The following settings for V-Flag and L-Flag are
valid:[¶](#section-2.1.1.1-3){.pilcrow}

-   ::: {#section-2.1.1.1-4.1}

    The V-Flag and L-Flag are set to 0:
    :   The SID/Index/Label field is a 4-octet index defining the offset
        in the SID/Label space advertised by this router using the
        encodings defined in [Section
        3.1](#SRCAPSUBTLV){.xref}.[¶](#section-2.1.1.1-4.1.1.2){.pilcrow}

    The V-Flag and L-Flag are set to 1:
    :   The SID/Index/Label field is a 3-octet local label where the 20
        rightmost bits are used for encoding the label
        value.[¶](#section-2.1.1.1-4.1.1.4){.pilcrow}
    :::

All other combinations of V-Flag and L-Flag are invalid, and any SID
advertisement received with an invalid setting for the V-Flag and L-Flag
[MUST]{.bcp14} be ignored.[¶](#section-2.1.1.1-5){.pilcrow}
:::
:::

::: {#RANDNFLAGS}
::: {#section-2.1.1.2 .section}
##### [2.1.1.2.](#section-2.1.1.2){.section-number .selfRef} [R-Flag and N-Flag](#name-r-flag-and-n-flag){.section-name .selfRef} {#name-r-flag-and-n-flag}

The R-Flag [MUST]{.bcp14} be set for prefixes that are not local to the
router and are advertised because of:[¶](#section-2.1.1.2-1){.pilcrow}

-   [propagation (Level-1 into
    Level-2);[¶](#section-2.1.1.2-2.1){.pilcrow}]{#section-2.1.1.2-2.1}
-   [leaking (Level-2 into Level-1);
    or[¶](#section-2.1.1.2-2.2){.pilcrow}]{#section-2.1.1.2-2.2}
-   [redistribution (e.g., from another
    protocol).[¶](#section-2.1.1.2-2.3){.pilcrow}]{#section-2.1.1.2-2.3}

In the case where a Level-1-2 router has local interface addresses
configured in one level, it may also propagate these addresses into the
other level. In such case, the Level-1-2 router [MUST NOT]{.bcp14} set
the R bit.[¶](#section-2.1.1.2-3){.pilcrow}

The N-Flag is used in order to define a Node-SID. A router [MAY]{.bcp14}
set the N-Flag only if all of the following conditions are
met:[¶](#section-2.1.1.2-4){.pilcrow}

-   [The prefix to which the Prefix-SID is attached is local to the
    router (i.e., the prefix is configured on one of the local
    interfaces, e.g., a \'stable transport\'
    loopback).[¶](#section-2.1.1.2-5.1){.pilcrow}]{#section-2.1.1.2-5.1}
-   [The prefix to which the Prefix-SID is attached has a Prefix length
    of either /32 (IPv4) or /128
    (IPv6).[¶](#section-2.1.1.2-5.2){.pilcrow}]{#section-2.1.1.2-5.2}

The router [MUST]{.bcp14} ignore the N-Flag on a received Prefix-SID if
the prefix has a Prefix length different than /32 (IPv4) or /128
(IPv6).[¶](#section-2.1.1.2-6){.pilcrow}

The Prefix Attribute Flags sub-TLV \[[RFC7794](#RFC7794){.xref}\] also
defines the N-Flag and R-Flag and with the same semantics of the
equivalent flags defined in this document. Whenever the Prefix Attribute
Flags sub-TLV is present for a given prefix, the values of the N-Flag
and R-Flag advertised in that sub-TLV [MUST]{.bcp14} be used, and the
values in a corresponding Prefix-SID sub-TLV (if present) [MUST]{.bcp14}
be ignored.[¶](#section-2.1.1.2-7){.pilcrow}
:::
:::

::: {#EANDPFLAGS}
::: {#section-2.1.1.3 .section}
##### [2.1.1.3.](#section-2.1.1.3){.section-number .selfRef} [E-Flag and P-Flag](#name-e-flag-and-p-flag){.section-name .selfRef} {#name-e-flag-and-p-flag}

The following behavior is associated with the settings of the E-Flag and
P-Flag:[¶](#section-2.1.1.3-1){.pilcrow}

-   [If the P-Flag is not set, then any upstream neighbor of the
    Prefix-SID originator [MUST]{.bcp14} pop the Prefix-SID. This is
    equivalent to the \"penultimate hop-popping\" mechanism used in the
    MPLS data plane, which improves performance of the ultimate hop.
    MPLS EXP bits of the Prefix-SID are not preserved to the ultimate
    hop (the Prefix-SID being removed). If the P-Flag is unset, the
    received E-Flag is
    ignored.[¶](#section-2.1.1.3-2.1){.pilcrow}]{#section-2.1.1.3-2.1}

-   ::: {#section-2.1.1.3-2.2}
    If the P-Flag is set, then:[¶](#section-2.1.1.3-2.2.1){.pilcrow}

    -   [If the E-Flag is not set, then any upstream neighbor of the
        Prefix-SID originator [MUST]{.bcp14} keep the Prefix-SID on top
        of the stack. This is useful when, e.g., the originator of the
        Prefix-SID must stitch the incoming packet into a continuing
        MPLS LSP to the final destination. This could occur at an
        inter-area border router (prefix propagation from one area to
        another) or at an interdomain border router (prefix propagation
        from one domain to
        another).[¶](#section-2.1.1.3-2.2.2.1){.pilcrow}]{#section-2.1.1.3-2.2.2.1}
    -   [If the E-Flag is set, then any upstream neighbor of the
        Prefix-SID originator [MUST]{.bcp14} replace the Prefix-SID with
        a Prefix-SID having an Explicit NULL value. This is useful,
        e.g., when the originator of the Prefix-SID is the final
        destination for the related prefix and the originator wishes to
        receive the packet with the original EXP
        bits.[¶](#section-2.1.1.3-2.2.2.2){.pilcrow}]{#section-2.1.1.3-2.2.2.2}
    :::

When propagating (from either Level-1 to Level-2 or Level-2 to Level-1)
a reachability advertisement originated by another IS-IS speaker, the
router [MUST]{.bcp14} set the P-Flag and [MUST]{.bcp14} clear the E-Flag
of the related Prefix-SIDs.[¶](#section-2.1.1.3-3){.pilcrow}
:::
:::
:::
:::

::: {#PROPAGATION}
::: {#section-2.1.2 .section}
#### [2.1.2.](#section-2.1.2){.section-number .selfRef} [Prefix-SID Propagation](#name-prefix-sid-propagation){.section-name .selfRef} {#name-prefix-sid-propagation}

The Prefix-SID sub-TLV [MUST]{.bcp14} be included when the associated
Prefix Reachability TLV is propagated across level
boundaries.[¶](#section-2.1.2-1){.pilcrow}

The Level-1-2 router that propagates the Prefix-SID sub-TLV between
levels maintains the content (flags and SID), except as noted in
Sections [2.1.1.2](#RANDNFLAGS){.xref} and
[2.1.1.3](#EANDPFLAGS){.xref}.[¶](#section-2.1.2-2){.pilcrow}
:::
:::
:::
:::

::: {#section-2.2 .section}
### [2.2.](#section-2.2){.section-number .selfRef} [Adjacency Segment Identifier](#name-adjacency-segment-identifie){.section-name .selfRef} {#name-adjacency-segment-identifie}

A new IS-IS sub-TLV is defined: the Adjacency Segment Identifier
(Adj-SID) sub-TLV.[¶](#section-2.2-1){.pilcrow}

The Adj-SID sub-TLV is an optional sub-TLV carrying the Segment Routing
IGP-Adjacency-SID as defined in \[[RFC8402](#RFC8402){.xref}\] with
flags and fields that may be used, in future extensions of Segment
Routing, for carrying other types of SIDs.[¶](#section-2.2-2){.pilcrow}

IS-IS adjacencies are advertised using one of the IS Neighbor TLVs
below:[¶](#section-2.2-3){.pilcrow}

-   [TLV-22 (Extended IS reachability)
    \[[RFC5305](#RFC5305){.xref}\][¶](#section-2.2-4.1){.pilcrow}]{#section-2.2-4.1}
-   [TLV-222 (MT-ISN)
    \[[RFC5120](#RFC5120){.xref}\][¶](#section-2.2-4.2){.pilcrow}]{#section-2.2-4.2}
-   [TLV-23 (IS Neighbor Attribute)
    \[[RFC5311](#RFC5311){.xref}\][¶](#section-2.2-4.3){.pilcrow}]{#section-2.2-4.3}
-   [TLV-223 (MT IS Neighbor Attribute)
    \[[RFC5311](#RFC5311){.xref}\][¶](#section-2.2-4.4){.pilcrow}]{#section-2.2-4.4}
-   [TLV-141 (inter-AS reachability information)
    \[[RFC5316](#RFC5316){.xref}\][¶](#section-2.2-4.5){.pilcrow}]{#section-2.2-4.5}

Multiple Adj-SID sub-TLVs [MAY]{.bcp14} be associated with a single IS
Neighbor.[¶](#section-2.2-5){.pilcrow}

::: {#ADJSIDSUBTLV}
::: {#section-2.2.1 .section}
#### [2.2.1.](#section-2.2.1){.section-number .selfRef} [Adjacency Segment Identifier (Adj-SID) Sub-TLV](#name-adjacency-segment-identifier){.section-name .selfRef} {#name-adjacency-segment-identifier}

The following format is defined for the Adj-SID
sub-TLV:[¶](#section-2.2.1-1){.pilcrow}

::: {#section-2.2.1-2 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        |     Length    |     Flags     |     Weight    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         SID/Label/Index (variable)            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-2.2.1-2){.pilcrow}
:::

where:[¶](#section-2.2.1-3){.pilcrow}

-   ::: {#section-2.2.1-4.1}

    Type:
    :   31[¶](#section-2.2.1-4.1.1.2){.pilcrow}

    Length:
    :   5 or 6 depending on size of the
        SID[¶](#section-2.2.1-4.1.1.4){.pilcrow}

    Flags:

    :   1-octet field of the following
        flags:[¶](#section-2.2.1-4.1.1.6.1){.pilcrow}

        ::: {#section-2.2.1-4.1.1.6.2 .artwork .art-text .alignLeft}
                   0 1 2 3 4 5 6 7 
                  +-+-+-+-+-+-+-+-+
                  |F|B|V|L|S|P|   | 
                  +-+-+-+-+-+-+-+-+

        [¶](#section-2.2.1-4.1.1.6.2){.pilcrow}
        :::

        where:[¶](#section-2.2.1-4.1.1.6.3){.pilcrow}

        F-Flag:
        :   Address-Family Flag. If unset, then the Adj-SID is used when
            forwarding IPv4-encapsulated traffic to the neighbor. If
            set, then the Adj-SID is used when forwarding
            IPv6-encapsulated traffic to the
            neighbor.[¶](#section-2.2.1-4.1.1.6.4.2){.pilcrow}

        B-Flag:
        :   Backup Flag. If set, the Adj-SID is eligible for protection
            (e.g., using IP Fast Reroute (IPFRR) or MPLS Fast Reroute
            (MPLS-FRR)) as described in
            \[[RFC8402](#RFC8402){.xref}\].[¶](#section-2.2.1-4.1.1.6.4.4){.pilcrow}

        V-Flag:
        :   Value Flag. If set, then the Adj-SID carries a value. By
            default, the flag is
            SET.[¶](#section-2.2.1-4.1.1.6.4.6){.pilcrow}

        L-Flag:
        :   Local Flag. If set, then the value/index carried by the
            Adj-SID has local significance. By default, the flag is
            SET.[¶](#section-2.2.1-4.1.1.6.4.8){.pilcrow}

        S-Flag:
        :   Set Flag. When set, the S-Flag indicates that the Adj-SID
            refers to a set of adjacencies (and therefore [MAY]{.bcp14}
            be assigned to other adjacencies as
            well).[¶](#section-2.2.1-4.1.1.6.4.10){.pilcrow}

        P-Flag:
        :   Persistent Flag. When set, the P-Flag indicates that the
            Adj-SID is persistently allocated, i.e., the Adj-SID value
            remains consistent across router restart and/or interface
            flap.[¶](#section-2.2.1-4.1.1.6.4.12){.pilcrow}

        Other bits:
        :   [MUST]{.bcp14} be zero when originated and ignored when
            received.[¶](#section-2.2.1-4.1.1.6.4.14){.pilcrow}
    :::

```{=html}
<!-- -->
```
-   ::: {#section-2.2.1-5.1}

    Weight:
    :   1 octet. The value represents the weight of the Adj-SID for the
        purpose of load balancing. The use of the weight is defined in
        \[[RFC8402](#RFC8402){.xref}\].[¶](#section-2.2.1-5.1.1.2){.pilcrow}
    :::

```{=html}
<!-- -->
```
-   [SID/Index/Label as defined in [Section
    2.1.1.1](#VANDLFLAGS){.xref}.[¶](#section-2.2.1-6.1){.pilcrow}]{#section-2.2.1-6.1}
-   [An SR-capable router [MAY]{.bcp14} allocate an Adj-SID for each of
    its
    adjacencies.[¶](#section-2.2.1-6.2){.pilcrow}]{#section-2.2.1-6.2}
-   [An SR-capable router [MAY]{.bcp14} allocate more than one Adj-SID
    to an
    adjacency.[¶](#section-2.2.1-6.3){.pilcrow}]{#section-2.2.1-6.3}
-   [An SR-capable router [MAY]{.bcp14} allocate the same Adj-SID to
    different
    adjacencies.[¶](#section-2.2.1-6.4){.pilcrow}]{#section-2.2.1-6.4}
-   [When the P-Flag is not set, the Adj-SID [MAY]{.bcp14} be
    persistent. When the P-Flag is set, the Adj-SID [MUST]{.bcp14} be
    persistent.[¶](#section-2.2.1-6.5){.pilcrow}]{#section-2.2.1-6.5}
-   [Examples of Adj-SID sub-TLV use are described in
    \[[RFC8402](#RFC8402){.xref}\].[¶](#section-2.2.1-6.6){.pilcrow}]{#section-2.2.1-6.6}
-   [The F-Flag is used in order for the router to advertise the
    outgoing encapsulation of the adjacency the Adj-SID is attached
    to.[¶](#section-2.2.1-6.7){.pilcrow}]{#section-2.2.1-6.7}
:::
:::

::: {#LANADJSIDSUBTLV}
::: {#section-2.2.2 .section}
#### [2.2.2.](#section-2.2.2){.section-number .selfRef} [Adjacency Segment Identifier (LAN-Adj-SID) Sub-TLV](#name-adjacency-segment-identifier-){.section-name .selfRef} {#name-adjacency-segment-identifier-}

In LAN subnetworks, the Designated Intermediate System (DIS) is elected
and originates the Pseudonode LSP (PN LSP) including all neighbors of
the DIS.[¶](#section-2.2.2-1){.pilcrow}

When Segment Routing is used, each router in the LAN [MAY]{.bcp14}
advertise the Adj-SID of each of its neighbors. Since, on LANs, each
router only advertises one adjacency to the DIS (and doesn\'t advertise
any other adjacency), each router advertises the set of Adj-SIDs (for
each of its neighbors) inside a newly defined sub-TLV that is a part of
the TLV advertising the adjacency to the DIS (e.g.,
TLV-22).[¶](#section-2.2.2-2){.pilcrow}

The following new sub-TLV is defined: LAN Adjacency Segment Identifier
(LAN-Adj-SID) containing the set of Adj-SIDs the router assigned to each
of its LAN neighbors.[¶](#section-2.2.2-3){.pilcrow}

The format of the LAN-Adj-SID sub-TLV is as
follows:[¶](#section-2.2.2-4){.pilcrow}

::: {#section-2.2.2-5 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        |     Length    |      Flags    |    Weight     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                  Neighbor System-ID (ID length octets)        |
    +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                               | 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                   SID/Label/Index (variable)                  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-2.2.2-5){.pilcrow}
:::

where:[¶](#section-2.2.2-6){.pilcrow}

-   ::: {#section-2.2.2-7.1}

    Type:
    :   32[¶](#section-2.2.2-7.1.1.2){.pilcrow}

    Length:
    :   Variable[¶](#section-2.2.2-7.1.1.4){.pilcrow}

    Flags:

    :   1-octet field of the following
        flags:[¶](#section-2.2.2-7.1.1.6.1){.pilcrow}

        ::: {#section-2.2.2-7.1.1.6.2 .artwork .art-text .alignLeft}
                   0 1 2 3 4 5 6 7 
                  +-+-+-+-+-+-+-+-+
                  |F|B|V|L|S|P|   | 
                  +-+-+-+-+-+-+-+-+

        [¶](#section-2.2.2-7.1.1.6.2){.pilcrow}
        :::

        where the F-Flag, B-Flag, V-Flag, L-Flag, S-Flag, and P-Flag are
        defined in [Section
        2.2.1](#ADJSIDSUBTLV){.xref}.[¶](#section-2.2.2-7.1.1.6.3){.pilcrow}
    :::

```{=html}
<!-- -->
```
-   ::: {#section-2.2.2-8.1}

    Other bits:
    :   [MUST]{.bcp14} be zero when originated and ignored when
        received.[¶](#section-2.2.2-8.1.1.2){.pilcrow}

    Weight:
    :   1 octet. The value represents the weight of the Adj-SID for the
        purpose of load balancing. The use of the weight is defined in
        \[[RFC8402](#RFC8402){.xref}\].[¶](#section-2.2.2-8.1.1.4){.pilcrow}

    Neighbor System-ID:
    :   IS-IS System-ID of length \"ID Length\" as defined in
        \[[ISO10589](#ISO10589){.xref}\].[¶](#section-2.2.2-8.1.1.6){.pilcrow}

    SID/Index/Label:
    :   As defined in [Section
        2.1.1.1](#VANDLFLAGS){.xref}.[¶](#section-2.2.2-8.1.1.8){.pilcrow}
    :::

Multiple LAN-Adj-SID sub-TLVs [MAY]{.bcp14} be
encoded.[¶](#section-2.2.2-9){.pilcrow}

Note that this sub-TLV [MUST NOT]{.bcp14} appear in TLV
141.[¶](#section-2.2.2-10){.pilcrow}

In case TLV-22, TLV-23, TLV-222, or TLV-223 (reporting the adjacency to
the DIS) can\'t contain the whole set of LAN-Adj-SID sub-TLVs, multiple
advertisements of the adjacency to the DIS [MUST]{.bcp14} be used, and
all advertisements [MUST]{.bcp14} have the same
metric.[¶](#section-2.2.2-11){.pilcrow}

Each router within the level, by receiving the DIS PN LSP as well as the
non-PN LSP of each router in the LAN, is capable of reconstructing the
LAN topology as well as the set of Adj-SIDs each router uses for each of
its neighbors.[¶](#section-2.2.2-12){.pilcrow}
:::
:::
:::

::: {#SIDLABELSUBTLV}
::: {#section-2.3 .section}
### [2.3.](#section-2.3){.section-number .selfRef} [SID/Label Sub-TLV](#name-sid-label-sub-tlv){.section-name .selfRef} {#name-sid-label-sub-tlv}

The SID/Label sub-TLV may be present in the following TLVs/sub-TLVs
defined in this document:[¶](#section-2.3-1){.pilcrow}

-   [SR-Capabilities sub-TLV ([Section
    3.1](#SRCAPSUBTLV){.xref})[¶](#section-2.3-2.1){.pilcrow}]{#section-2.3-2.1}
-   [SR Local Block sub-TLV ([Section
    3.3](#SRLBSUBTLV){.xref})[¶](#section-2.3-2.2){.pilcrow}]{#section-2.3-2.2}
-   [SID/Label Binding TLV ([Section
    2.4](#BINDINGTLV){.xref})[¶](#section-2.3-2.3){.pilcrow}]{#section-2.3-2.3}
-   [Multi-Topology SID/Label Binding TLV ([Section
    2.5](#MTBINDINGTLV){.xref})[¶](#section-2.3-2.4){.pilcrow}]{#section-2.3-2.4}

Note that the codepoint used in all of the above cases is the SID/Label
sub-TLV codepoint specified in the new \"sub-TLVs for TLV 149 and 150\"
registry created by this document.[¶](#section-2.3-3){.pilcrow}

The SID/Label sub-TLV contains a SID or an MPLS label. The SID/Label
sub-TLV has the following format:[¶](#section-2.3-4){.pilcrow}

::: {#section-2.3-5 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        |     Length    |  
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                          SID/Label (variable)                 |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-2.3-5){.pilcrow}
:::

where:[¶](#section-2.3-6){.pilcrow}

-   ::: {#section-2.3-7.1}

    Type:
    :   1[¶](#section-2.3-7.1.1.2){.pilcrow}

    Length:
    :   3 or 4[¶](#section-2.3-7.1.1.4){.pilcrow}

    SID/Label:
    :   If the length is set to 3, then the 20 rightmost bits represent
        an MPLS label. If the length is set to 4, then the value is a
        32-bit index.[¶](#section-2.3-7.1.1.6){.pilcrow}
    :::
:::
:::

::: {#BINDINGTLV}
::: {#section-2.4 .section}
### [2.4.](#section-2.4){.section-number .selfRef} [SID/Label Binding TLV](#name-sid-label-binding-tlv){.section-name .selfRef} {#name-sid-label-binding-tlv}

The SID/Label Binding TLV [MAY]{.bcp14} be originated by any router in
an IS-IS domain. There are multiple uses of the SID/Label Binding
TLV.[¶](#section-2.4-1){.pilcrow}

The SID/Label Binding TLV may be used to advertise prefixes to SID/Label
mappings. This functionality is called the Segment Routing Mapping
Server (SRMS). The behavior of the SRMS is defined in
\[[RFC8661](#RFC8661){.xref}\].[¶](#section-2.4-2){.pilcrow}

The SID/Label Binding TLV may also be used to advertise a Mirror SID
indicating the ability of a node to process traffic originally destined
to another IGP node. This behavior is defined in
\[[RFC8402](#RFC8402){.xref}\].[¶](#section-2.4-3){.pilcrow}

The SID/Label Binding TLV has the following
format:[¶](#section-2.4-4){.pilcrow}

::: {#section-2.4-5 .artwork .art-text .alignLeft}
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |     Length    |     Flags     |     RESERVED  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Range              | Prefix Length |     Prefix    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      //               Prefix (continued, variable)                  //
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                    Sub-TLVs (variable)                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-2.4-5){.pilcrow}
:::

where:[¶](#section-2.4-6){.pilcrow}

-   ::: {#section-2.4-7.1}

    Type:
    :   149[¶](#section-2.4-7.1.1.2){.pilcrow}

    Length:
    :   Variable[¶](#section-2.4-7.1.1.4){.pilcrow}

    Flags:
    :   1 octet[¶](#section-2.4-7.1.1.6){.pilcrow}

    RESERVED:
    :   1 octet ([SHOULD]{.bcp14} be transmitted as 0 and [MUST]{.bcp14}
        be ignored on receipt)[¶](#section-2.4-7.1.1.8){.pilcrow}

    Range:
    :   2 octets[¶](#section-2.4-7.1.1.10){.pilcrow}

    Prefix Length:
    :   1 octet[¶](#section-2.4-7.1.1.12){.pilcrow}

    Prefix:
    :   0-16 octets[¶](#section-2.4-7.1.1.14){.pilcrow}

    sub-TLVs, where each sub-TLV consists of a sequence
    of:[¶](#section-2.4-7.1.2){.pilcrow}

    -   [1 octet of sub-TLV
        type[¶](#section-2.4-7.1.3.1){.pilcrow}]{#section-2.4-7.1.3.1}
    -   [1 octet of length of the value field of the
        sub-TLV[¶](#section-2.4-7.1.3.2){.pilcrow}]{#section-2.4-7.1.3.2}
    -   [0-243 octets of
        value[¶](#section-2.4-7.1.3.3){.pilcrow}]{#section-2.4-7.1.3.3}
    :::

::: {#section-2.4.1 .section}
#### [2.4.1.](#section-2.4.1){.section-number .selfRef} [Flags](#name-flags-2){.section-name .selfRef} {#name-flags-2}

Flags: 1-octet field of the following
flags:[¶](#section-2.4.1-1){.pilcrow}

::: {#section-2.4.1-2 .artwork .art-text .alignLeft}
     0 1 2 3 4 5 6 7 
    +-+-+-+-+-+-+-+-+
    |F|M|S|D|A|     | 
    +-+-+-+-+-+-+-+-+

[¶](#section-2.4.1-2){.pilcrow}
:::

where:[¶](#section-2.4.1-3){.pilcrow}

-   ::: {#section-2.4.1-4.1}

    F-Flag:
    :   Address-Family Flag. If unset, then the prefix carries an IPv4
        prefix. If set, then the prefix carries an IPv6
        prefix.[¶](#section-2.4.1-4.1.1.2){.pilcrow}

    M-Flag:
    :   Mirror Context Flag. Set if the advertised SID corresponds to a
        mirrored context. The use of a mirrored context is described in
        \[[RFC8402](#RFC8402){.xref}\].[¶](#section-2.4.1-4.1.1.4){.pilcrow}

    S-Flag:
    :   If set, the SID/Label Binding TLV [SHOULD]{.bcp14} be flooded
        across the entire routing domain. If the S-Flag is not set, the
        SID/Label Binding TLV [MUST NOT]{.bcp14} be leaked between
        levels. This bit [MUST NOT]{.bcp14} be altered during the TLV
        leaking.[¶](#section-2.4.1-4.1.1.6){.pilcrow}

    D-Flag:
    :   When the SID/Label Binding TLV is leaked from Level-2 to
        Level-1, the D-Flag [MUST]{.bcp14} be set. Otherwise, this flag
        [MUST]{.bcp14} be clear. SID/Label Binding TLVs with the D-Flag
        set [MUST NOT]{.bcp14} be leaked from Level-1 to Level-2. This
        is to prevent TLV looping across
        levels.[¶](#section-2.4.1-4.1.1.8){.pilcrow}

    A-Flag:
    :   Attached Flag. The originator of the SID/Label Binding TLV
        [MAY]{.bcp14} set the A bit in order to signal that the prefixes
        and SIDs advertised in the SID/Label Binding TLV are directly
        connected to their originators. The mechanisms through which the
        originator of the SID/Label Binding TLV can figure out if a
        prefix is attached or not are outside the scope of this document
        (e.g., through explicit configuration). If the Binding TLV is
        leaked to other areas/levels, the A-Flag [MUST]{.bcp14} be
        cleared.[¶](#section-2.4.1-4.1.1.10){.pilcrow}
    :::

```{=html}
<!-- -->
```
-   [An implementation may decide not to honor the S-Flag in order to
    not leak Binding TLVs between levels (for policy
    reasons).[¶](#section-2.4.1-5.1){.pilcrow}]{#section-2.4.1-5.1}

```{=html}
<!-- -->
```
-   ::: {#section-2.4.1-6.1}

    Other bits:
    :   [MUST]{.bcp14} be zero when originated and ignored when
        received.[¶](#section-2.4.1-6.1.1.2){.pilcrow}
    :::
:::

::: {#section-2.4.2 .section}
#### [2.4.2.](#section-2.4.2){.section-number .selfRef} [Range](#name-range){.section-name .selfRef} {#name-range}

The \'Range\' field provides the ability to specify a range of addresses
and their associated Prefix-SIDs. This advertisement supports the SRMS
functionality. It is essentially a compression scheme to distribute a
continuous prefix and their continuous, corresponding SID/Label Block.
If a single SID is advertised, then the Range field [MUST]{.bcp14} be
set to one. For range advertisements \> 1, the Range field
[MUST]{.bcp14} be set to the number of addresses that need to be mapped
into a Prefix-SID. In either case, the prefix is the first address to
which a SID is to be assigned.[¶](#section-2.4.2-1){.pilcrow}
:::

::: {#section-2.4.3 .section}
#### [2.4.3.](#section-2.4.3){.section-number .selfRef} [Prefix Length, Prefix](#name-prefix-length-prefix){.section-name .selfRef} {#name-prefix-length-prefix}

The \'Prefix\' represents the Forwarding Equivalence Class at the tail
end of the advertised path. The \'Prefix\' does not need to correspond
to a routable prefix of the originating
node.[¶](#section-2.4.3-1){.pilcrow}

The \'Prefix Length\' field contains the length of the prefix in bits.
Only the most significant octets of the prefix are encoded (i.e., 1
octet for prefix length 1 up to 8, 2 octets for prefix length 9 to up
16, 3 octets for prefix length 17 up to 24, 4 octets for prefix length
25 up to 32, \...., and 16 octets for prefix length 113 up to
128).[¶](#section-2.4.3-2){.pilcrow}
:::

::: {#section-2.4.4 .section}
#### [2.4.4.](#section-2.4.4){.section-number .selfRef} [Mapping Server Prefix-SID](#name-mapping-server-prefix-sid){.section-name .selfRef} {#name-mapping-server-prefix-sid}

The Prefix-SID sub-TLV is defined in [Section
2.1](#PREFIXSIDSUBTLV){.xref} and contains the SID/Index/Label value
associated with the prefix and range. The Prefix-SID sub-TLV
[MUST]{.bcp14} be present in the SID/Label Binding TLV when the M-Flag
is clear. The Prefix-SID sub-TLV [MUST NOT]{.bcp14} be present when the
M-Flag is set.[¶](#section-2.4.4-1){.pilcrow}

::: {#section-2.4.4.1 .section}
##### [2.4.4.1.](#section-2.4.4.1){.section-number .selfRef} [Prefix-SID Flags](#name-prefix-sid-flags){.section-name .selfRef} {#name-prefix-sid-flags}

The Prefix-SID Flags are defined in [Section
2.1](#PREFIXSIDSUBTLV){.xref}. The Mapping Server [MAY]{.bcp14}
advertise a mapping with the N-Flag set when the prefix being mapped is
known in the link-state topology with a mask length of 32 (IPv4) or 128
(IPv6) and when the prefix represents a node. The mechanisms through
which the operator defines that a prefix represents a node are outside
the scope of this document (typically it will be through
configuration).[¶](#section-2.4.4.1-1){.pilcrow}

The other flags defined in [Section 2.1](#PREFIXSIDSUBTLV){.xref} are
not used by the Mapping Server and [MUST]{.bcp14} be ignored at
reception.[¶](#section-2.4.4.1-2){.pilcrow}
:::

::: {#MSPHP}
::: {#section-2.4.4.2 .section}
##### [2.4.4.2.](#section-2.4.4.2){.section-number .selfRef} [PHP Behavior when Using Mapping Server Advertisements](#name-php-behavior-when-using-map){.section-name .selfRef} {#name-php-behavior-when-using-map}

As the Mapping Server does not specify the originator of a prefix
advertisement, it is not possible to determine PHP behavior solely based
on the Mapping Server Advertisement. However, if additional information
is available, PHP behavior may safely be done. The required information
consists of:[¶](#section-2.4.4.2-1){.pilcrow}

-   [A prefix reachability advertisement for the prefix has been
    received, which includes the Prefix Attribute Flags sub-TLV
    \[[RFC7794](#RFC7794){.xref}\].[¶](#section-2.4.4.2-2.1){.pilcrow}]{#section-2.4.4.2-2.1}
-   [X-Flag and R-Flag are both set to 0 in the Prefix Attribute Flags
    sub-TLV.[¶](#section-2.4.4.2-2.2){.pilcrow}]{#section-2.4.4.2-2.2}

In the absence of a Prefix Attribute Flags sub-TLV
\[[RFC7794](#RFC7794){.xref}\], the A-Flag in the Binding TLV indicates
that the originator of a prefix reachability advertisement is directly
connected to the prefix; thus, PHP [MUST]{.bcp14} be done by the
neighbors of the router originating the prefix reachability
advertisement. Note that the A-Flag is only valid in the original area
in which the Binding TLV is advertised.[¶](#section-2.4.4.2-3){.pilcrow}
:::
:::

::: {#section-2.4.4.3 .section}
##### [2.4.4.3.](#section-2.4.4.3){.section-number .selfRef} [Prefix-SID Algorithm](#name-prefix-sid-algorithm){.section-name .selfRef} {#name-prefix-sid-algorithm}

The Algorithm field contains the identifier of the algorithm associated
with the SIDs for the prefix(es) in the range. Use of the Algorithm
field is described in [Section
2.1](#PREFIXSIDSUBTLV){.xref}.[¶](#section-2.4.4.3-1){.pilcrow}
:::
:::

::: {#BSIDSUBTLV}
::: {#section-2.4.5 .section}
#### [2.4.5.](#section-2.4.5){.section-number .selfRef} [SID/Label Sub-TLV](#name-sid-label-sub-tlv-2){.section-name .selfRef} {#name-sid-label-sub-tlv-2}

The SID/Label sub-TLV (Type: 1) contains the SID/Label value as defined
in [Section 2.3](#SIDLABELSUBTLV){.xref}. It [MUST]{.bcp14} be present
in the SID/Label Binding TLV when the M-Flag is set in the Flags field
of the parent TLV.[¶](#section-2.4.5-1){.pilcrow}
:::
:::

::: {#BSIDEXAMPLE}
::: {#section-2.4.6 .section}
#### [2.4.6.](#section-2.4.6){.section-number .selfRef} [Example Encodings](#name-example-encodings){.section-name .selfRef} {#name-example-encodings}

Example 1: If the following IPv4 router addresses (loopback addresses)
need to be mapped into the corresponding Prefix-SID indexes,
then:[¶](#section-2.4.6-1){.pilcrow}

-   [Router-A: 192.0.2.1/32, Prefix-SID: Index
    1[¶](#section-2.4.6-2.1){.pilcrow}]{#section-2.4.6-2.1}
-   [Router-B: 192.0.2.2/32, Prefix-SID: Index
    2[¶](#section-2.4.6-2.2){.pilcrow}]{#section-2.4.6-2.2}
-   [Router-C: 192.0.2.3/32, Prefix-SID: Index
    3[¶](#section-2.4.6-2.3){.pilcrow}]{#section-2.4.6-2.3}
-   [Router-D: 192.0.2.4/32, Prefix-SID: Index
    4[¶](#section-2.4.6-2.4){.pilcrow}]{#section-2.4.6-2.4}

::: {#section-2.4.6-3 .artwork .art-text .alignLeft}
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |     Length    |0|0|0|0|0|     |     RESERVED  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Range = 4          |        32     |      192      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        0      |         2     |        1      |Prefix-SID Type|
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Sub-TLV Length|     Flags     |   Algorithm   |               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                             1 |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

[¶](#section-2.4.6-3){.pilcrow}
:::

Example 2: If the following IPv4 prefixes need to be mapped into the
corresponding Prefix-SID indexes, then:[¶](#section-2.4.6-4){.pilcrow}

-   [10.1.1/24, Prefix-SID: Index
    51[¶](#section-2.4.6-5.1){.pilcrow}]{#section-2.4.6-5.1}
-   [10.1.2/24, Prefix-SID: Index
    52[¶](#section-2.4.6-5.2){.pilcrow}]{#section-2.4.6-5.2}
-   [10.1.3/24, Prefix-SID: Index
    53[¶](#section-2.4.6-5.3){.pilcrow}]{#section-2.4.6-5.3}
-   [10.1.4/24, Prefix-SID: Index
    54[¶](#section-2.4.6-5.4){.pilcrow}]{#section-2.4.6-5.4}
-   [10.1.5/24, Prefix-SID: Index
    55[¶](#section-2.4.6-5.5){.pilcrow}]{#section-2.4.6-5.5}
-   [10.1.6/24, Prefix-SID: Index
    56[¶](#section-2.4.6-5.6){.pilcrow}]{#section-2.4.6-5.6}
-   [10.1.7/24, Prefix-SID: Index
    57[¶](#section-2.4.6-5.7){.pilcrow}]{#section-2.4.6-5.7}

::: {#section-2.4.6-6 .artwork .art-text .alignLeft}
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |     Length    |0|0|0|0|0|     |     RESERVED  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Range = 7          |        24     |      10       |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        1      |         1     |Prefix-SID Type| Sub-TLV Length|
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Flags      | Algorithm     |                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           51  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-2.4.6-6){.pilcrow}
:::

Example 3: If the following IPv6 prefixes need to be mapped into the
corresponding Prefix-SID indexes, then:[¶](#section-2.4.6-7){.pilcrow}

-   [2001:db8:1/48, Prefix-SID: Index
    151[¶](#section-2.4.6-8.1){.pilcrow}]{#section-2.4.6-8.1}
-   [2001:db8:2/48, Prefix-SID: Index
    152[¶](#section-2.4.6-8.2){.pilcrow}]{#section-2.4.6-8.2}
-   [2001:db8:3/48, Prefix-SID: Index
    153[¶](#section-2.4.6-8.3){.pilcrow}]{#section-2.4.6-8.3}
-   [2001:db8:4/48, Prefix-SID: Index
    154[¶](#section-2.4.6-8.4){.pilcrow}]{#section-2.4.6-8.4}

::: {#section-2.4.6-9 .artwork .art-text .alignLeft}
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |     Length    |1|0|0|0|0|     |     RESERVED  |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Range = 4          |        48     |     0x20      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |       0x01    |       0x0d    |       0xb8    |     0x00      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    0x01       |Prefix-SID Type| Sub-TLV Length|  Flags        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Algorithm     |                 0                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |       151     |
      +-+-+-+-+-+-+-+-+

[¶](#section-2.4.6-9){.pilcrow}
:::

It is not expected that a network operator will be able to keep fully
continuous Prefix/SID/Index mappings. In order to support noncontinuous
mapping ranges, an implementation [MAY]{.bcp14} generate several
instances of Binding TLVs.[¶](#section-2.4.6-10){.pilcrow}

For example, if a router wants to advertise the following
ranges:[¶](#section-2.4.6-11){.pilcrow}

-   ::: {#section-2.4.6-12.1}

    Range 16:
    :   { 192.0.2.1-15, Index 1-15
        }[¶](#section-2.4.6-12.1.1.2){.pilcrow}

    Range 6:
    :   { 192.0.2.22-27, Index 22-27
        }[¶](#section-2.4.6-12.1.1.4){.pilcrow}

    Range 41:
    :   { 192.0.2.44-84, Index 80-120
        }[¶](#section-2.4.6-12.1.1.6){.pilcrow}
    :::

a router would need to advertise three instances of the Binding
TLV.[¶](#section-2.4.6-13){.pilcrow}
:::
:::
:::
:::

::: {#MTBINDINGTLV}
::: {#section-2.5 .section}
### [2.5.](#section-2.5){.section-number .selfRef} [Multi-Topology SID/Label Binding TLV](#name-multi-topology-sid-label-bi){.section-name .selfRef} {#name-multi-topology-sid-label-bi}

The Multi-Topology SID/Label Binding TLV allows the support of
Multi-Topology IS-IS (M-ISIS) as defined in
\[[RFC5120](#RFC5120){.xref}\]. The Multi-Topology SID/Label Binding TLV
has the same format as the SID/Label Binding TLV defined in [Section
2.4](#BINDINGTLV){.xref} with the difference consisting of a
Multi-topology Identifier (MT ID) as defined here
below:[¶](#section-2.5-1){.pilcrow}

::: {#section-2.5-2 .artwork .art-text .alignLeft}
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |     Length    |             MT ID             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     Flags     |     RESERVED  |            Range              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Prefix Length |            Prefix (variable)                 //
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                    Sub-TLVs (variable)                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-2.5-2){.pilcrow}
:::

where:[¶](#section-2.5-3){.pilcrow}

-   ::: {#section-2.5-4.1}

    Type:
    :   150[¶](#section-2.5-4.1.1.2){.pilcrow}

    Length:
    :   Variable[¶](#section-2.5-4.1.1.4){.pilcrow}

    MT ID is the Multi-topology Identifier defined
    as:[¶](#section-2.5-4.1.2){.pilcrow}

    ::: {#section-2.5-4.1.3 .artwork .art-text .alignLeft}
           0                   1               
           0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
          | RESVD |         MT ID         |
          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    [¶](#section-2.5-4.1.3){.pilcrow}
    :::

    -   ::: {#section-2.5-4.1.4.1}

        RESVD:
        :   Reserved bits. [MUST]{.bcp14} be reset on transmission and
            ignored on receive.[¶](#section-2.5-4.1.4.1.1.2){.pilcrow}

        MT ID:
        :   A 12-bit field containing the non-zero ID of the topology
            being announced. The TLV [MUST]{.bcp14} be ignored if the ID
            is zero. This is to ensure the consistent view of the
            standard unicast
            topology.[¶](#section-2.5-4.1.4.1.1.4){.pilcrow}
        :::
    :::

```{=html}
<!-- -->
```
-   ::: {#section-2.5-5.1}
    The other fields and sub-TLVs are defined in [Section
    2.4](#BINDINGTLV){.xref}.[¶](#section-2.5-5.1.1){.pilcrow}
    :::
:::
:::
:::

::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Router Capabilities](#name-router-capabilities){.section-name .selfRef} {#name-router-capabilities}

This section defines sub-TLVs that are inserted into the IS-IS Router
Capability that is defined in
\[[RFC7981](#RFC7981){.xref}\].[¶](#section-3-1){.pilcrow}

::: {#SRCAPSUBTLV}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [SR-Capabilities Sub-TLV](#name-sr-capabilities-sub-tlv){.section-name .selfRef} {#name-sr-capabilities-sub-tlv}

Segment Routing requires each router to advertise its SR data plane
capability and the range of MPLS label values it uses for Segment
Routing in the case where global SIDs are allocated (i.e., global
indexes). Data plane capabilities and label ranges are advertised using
the newly defined SR-Capabilities sub-TLV.[¶](#section-3.1-1){.pilcrow}

The Router Capability TLV specifies flags that control its
advertisement. The SR-Capabilities sub-TLV [MUST]{.bcp14} be propagated
throughout the level and [MUST NOT]{.bcp14} be advertised across level
boundaries. Therefore, Router Capability TLV distribution flags are set
accordingly, i.e., the S-Flag in the Router Capability TLV
\[[RFC7981](#RFC7981){.xref}\] [MUST]{.bcp14} be
unset.[¶](#section-3.1-2){.pilcrow}

The SR-Capabilities sub-TLV has the following
format:[¶](#section-3.1-3){.pilcrow}

::: {#section-3.1-4 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        |     Length    |    Flags      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                     Range                     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    //                SID/Label Sub-TLV (variable)                 //
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-3.1-4){.pilcrow}
:::

-   ::: {#section-3.1-5.1}

    Type:
    :   2[¶](#section-3.1-5.1.1.2){.pilcrow}

    Length:
    :   Variable[¶](#section-3.1-5.1.1.4){.pilcrow}

    Flags:

    :   1 octet of flags. The following are
        defined:[¶](#section-3.1-5.1.1.6.1){.pilcrow}

        ::: {#section-3.1-5.1.1.6.2 .artwork .art-text .alignLeft}
                0 1 2 3 4 5 6 7 
               +-+-+-+-+-+-+-+-+
               |I|V|           | 
               +-+-+-+-+-+-+-+-+

        [¶](#section-3.1-5.1.1.6.2){.pilcrow}
        :::
    :::

```{=html}
<!-- -->
```
-   ::: {#section-3.1-6.1}
    where:[¶](#section-3.1-6.1.1){.pilcrow}

    -   ::: {#section-3.1-6.1.2.1}

        I-Flag:
        :   MPLS IPv4 Flag. If set, then the router is capable of
            processing SR-MPLS-encapsulated IPv4 packets on all
            interfaces.[¶](#section-3.1-6.1.2.1.1.2){.pilcrow}

        V-Flag:
        :   MPLS IPv6 Flag. If set, then the router is capable of
            processing SR-MPLS-encapsulated IPv6 packets on all
            interfaces.[¶](#section-3.1-6.1.2.1.1.4){.pilcrow}
        :::
    :::

```{=html}
<!-- -->
```
-   ::: {#section-3.1-7.1}
    One or more Segment Routing Global Block (SRGB) Descriptor entries,
    each of which have the following
    format:[¶](#section-3.1-7.1.1){.pilcrow}

    -   ::: {#section-3.1-7.1.2.1}

        Range:
        :   3 octets[¶](#section-3.1-7.1.2.1.1.2){.pilcrow}

        SID/Label sub-TLV:
        :   MPLS label as defined in [Section
            2.3](#SIDLABELSUBTLV){.xref}[¶](#section-3.1-7.1.2.1.1.4){.pilcrow}
        :::
    :::

The SID/Label sub-TLV contains the first value of the SRGB while the
range contains the number of SRGB elements. The range value
[MUST]{.bcp14} be higher than 0.[¶](#section-3.1-8){.pilcrow}

The SR-Capabilities sub-TLV [MAY]{.bcp14} be advertised in an LSP of any
number, but a router [MUST NOT]{.bcp14} advertise more than one
SR-Capabilities sub-TLV. A router receiving multiple SR-Capabilities
sub-TLVs from the same originator [SHOULD]{.bcp14} select the first
advertisement in the lowest-numbered LSP.[¶](#section-3.1-9){.pilcrow}

When multiple SRGB Descriptors are advertised, the entries define an
ordered set of ranges on which a SID index is to be applied. For this
reason, changing the order in which the descriptors are advertised will
have a disruptive effect on forwarding.[¶](#section-3.1-10){.pilcrow}

When a router adds a new SRGB Descriptor to an existing SR-Capabilities
sub-TLV, the new descriptor [SHOULD]{.bcp14} add the newly configured
block at the end of the sub-TLV and [SHOULD NOT]{.bcp14} change the
order of previously advertised blocks. Changing the order of the
advertised descriptors will create label churn in the FIB and black hole
/ misdirect some traffic during the IGP convergence. In particular, if a
range that is not the last is extended, it\'s preferable to add a new
range rather than extending the previously advertised
range.[¶](#section-3.1-11){.pilcrow}

The originating router [MUST]{.bcp14} ensure the order is unchanged
after a graceful restart (using checkpointing, non-volatile storage, or
any other mechanism).[¶](#section-3.1-12){.pilcrow}

The originating router [MUST NOT]{.bcp14} advertise overlapping
ranges.[¶](#section-3.1-13){.pilcrow}

When a router receives multiple overlapping ranges, it [MUST]{.bcp14}
conform to the procedures defined in
\[[RFC8660](#RFC8660){.xref}\].[¶](#section-3.1-14){.pilcrow}

Here follows an example of the advertisement of multiple
ranges:[¶](#section-3.1-15){.pilcrow}

-   ::: {#section-3.1-16.1}
    -   [The originating router advertises the following
        ranges:[¶](#section-3.1-16.1.1.1){.pilcrow}]{#section-3.1-16.1.1.1}
    -   [SR-Cap: range: 100, SID value:
        100[¶](#section-3.1-16.1.1.2){.pilcrow}]{#section-3.1-16.1.1.2}
    -   [SR-Cap: range: 100, SID value:
        1000[¶](#section-3.1-16.1.1.3){.pilcrow}]{#section-3.1-16.1.1.3}
    -   [SR-Cap: range: 100, SID value:
        500[¶](#section-3.1-16.1.1.4){.pilcrow}]{#section-3.1-16.1.1.4}
    :::

```{=html}
<!-- -->
```
-   [The receiving routers concatenate the ranges in the received order
    and build the SRGB as
    follows:[¶](#section-3.1-17.1){.pilcrow}]{#section-3.1-17.1}

::: {#section-3.1-18 .artwork .art-text .alignLeft}
       SRGB = [100, 199]
              [1000, 1099]
              [500, 599]

[¶](#section-3.1-18){.pilcrow}
:::

-   [The indexes span multiple
    ranges:[¶](#section-3.1-19.1){.pilcrow}]{#section-3.1-19.1}

::: {#section-3.1-20 .artwork .art-text .alignLeft}
          index 0   means label 100
          ...
          index 99  means label 199
          index 100 means label 1000 
          index 199 means label 1099
          ...
          index 200 means label 500
          ...

[¶](#section-3.1-20){.pilcrow}
:::
:::
:::

::: {#SRALGOSUBTLV}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [SR-Algorithm Sub-TLV](#name-sr-algorithm-sub-tlv){.section-name .selfRef} {#name-sr-algorithm-sub-tlv}

The router may use various algorithms when calculating reachability to
other nodes or to prefixes attached to these nodes. Examples of these
algorithms are metric-based SPF, various sorts of Constrained SPF, etc.
The SR-Algorithm sub-TLV allows the router to advertise the algorithms
that the router is currently using. Algorithm values are defined in the
\"IGP Algorithm Type\" registry defined in
\[[RFC8665](#RFC8665){.xref}\]. The following values have been
defined:[¶](#section-3.2-1){.pilcrow}

-   ::: {#section-3.2-2.1}

    0:
    :   SPF algorithm based on link metric. This is the well-known
        shortest path algorithm as computed by the IS-IS Decision
        Process. Consistent with the deployed practice for link-state
        protocols, algorithm 0 permits any node to overwrite the SPF
        path with a different path based on local
        policy.[¶](#section-3.2-2.1.1.2){.pilcrow}

    1:
    :   Strict SPF algorithm based on link metric. The algorithm is
        identical to algorithm 0, but algorithm 1 requires that all
        nodes along the path will honor the SPF routing decision. Local
        policy [MUST NOT]{.bcp14} alter the forwarding decision computed
        by algorithm 1 at the node claiming to support algorithm
        1.[¶](#section-3.2-2.1.1.4){.pilcrow}
    :::

The Router Capability TLV specifies flags that control its
advertisement. The SR-Algorithm [MUST]{.bcp14} be propagated throughout
the level and [MUST NOT]{.bcp14} be advertised across level boundaries.
Therefore, Router Capability TLV distribution flags are set accordingly,
i.e., the S-Flag [MUST]{.bcp14} be unset.[¶](#section-3.2-3){.pilcrow}

The SR-Algorithm sub-TLV is optional. It [MUST NOT]{.bcp14} be
advertised more than once at a given level. A router receiving multiple
SR-Algorithm sub-TLVs from the same originator [SHOULD]{.bcp14} select
the first advertisement in the lowest-numbered
LSP.[¶](#section-3.2-4){.pilcrow}

When the originating router does not advertise the SR-Algorithm sub-TLV,
it implies that algorithm 0 is the only algorithm supported by the
routers that support the extensions defined in this
document.[¶](#section-3.2-5){.pilcrow}

When the originating router does advertise the SR-Algorithm sub-TLV,
then algorithm 0 [MUST]{.bcp14} be present while non-zero algorithms
[MAY]{.bcp14} be present.[¶](#section-3.2-6){.pilcrow}

The SR-Algorithm sub-TLV has the following
format:[¶](#section-3.2-7){.pilcrow}

::: {#section-3.2-8 .artwork .art-text .alignLeft}
      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |     Length    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | Algorithm 1   |  Algorithm 2  | Algorithm ... |  Algorithm n  |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-3.2-8){.pilcrow}
:::

where:[¶](#section-3.2-9){.pilcrow}

-   ::: {#section-3.2-10.1}

    Type:
    :   19[¶](#section-3.2-10.1.1.2){.pilcrow}

    Length:
    :   Variable[¶](#section-3.2-10.1.1.4){.pilcrow}

    Algorithm:
    :   1 octet of algorithm[¶](#section-3.2-10.1.1.6){.pilcrow}
    :::
:::
:::

::: {#SRLBSUBTLV}
::: {#section-3.3 .section}
### [3.3.](#section-3.3){.section-number .selfRef} [SR Local Block Sub-TLV](#name-sr-local-block-sub-tlv){.section-name .selfRef} {#name-sr-local-block-sub-tlv}

The SR Local Block (SRLB) sub-TLV contains the range of labels the node
has reserved for Local SIDs. Local SIDs are used, e.g., for Adj-SIDs,
and may also be allocated by components other than the IS-IS protocol.
As an example, an application or a controller may instruct the router to
allocate a specific Local SID. Therefore, in order for such applications
or controllers to know what Local SIDs are available in the router, it
is required that the router advertises its
SRLB.[¶](#section-3.3-1){.pilcrow}

The SRLB sub-TLV is used for this purpose and has following
format:[¶](#section-3.3-2){.pilcrow}

::: {#section-3.3-3 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        |     Length    |    Flags      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                     Range                     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    //                SID/Label Sub-TLV (variable)                 //
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-3.3-3){.pilcrow}
:::

-   ::: {#section-3.3-4.1}

    Type:
    :   22[¶](#section-3.3-4.1.1.2){.pilcrow}

    Length:
    :   Variable[¶](#section-3.3-4.1.1.4){.pilcrow}

    Flags:
    :   1 octet of flags. None are defined at this
        stage.[¶](#section-3.3-4.1.1.6){.pilcrow}
    :::

```{=html}
<!-- -->
```
-   ::: {#section-3.3-5.1}
    One or more SRLB Descriptor entries, each of which have the
    following format:[¶](#section-3.3-5.1.1){.pilcrow}

    -   ::: {#section-3.3-5.1.2.1}

        Range:
        :   3 octets[¶](#section-3.3-5.1.2.1.1.2){.pilcrow}

        SID/Label sub-TLV:
        :   MPLS label as defined in [Section
            2.3](#SIDLABELSUBTLV){.xref}[¶](#section-3.3-5.1.2.1.1.4){.pilcrow}
        :::
    :::

The SID/Label sub-TLV contains the first value of the SRLB while the
range contains the number of SRLB elements. The range value
[MUST]{.bcp14} be higher than 0.[¶](#section-3.3-6){.pilcrow}

The SRLB sub-TLV [MAY]{.bcp14} be advertised in an LSP of any number,
but a router [MUST NOT]{.bcp14} advertise more than one SRLB sub-TLV. A
router receiving multiple SRLB sub-TLVs, from the same originator,
[SHOULD]{.bcp14} select the first advertisement in the lowest-numbered
LSP.[¶](#section-3.3-7){.pilcrow}

The originating router [MUST NOT]{.bcp14} advertise overlapping
ranges.[¶](#section-3.3-8){.pilcrow}

When a router receives multiple overlapping ranges, it [MUST]{.bcp14}
conform to the procedures defined in
\[[RFC8660](#RFC8660){.xref}\].[¶](#section-3.3-9){.pilcrow}

It is important to note that each time a SID from the SRLB is allocated,
it should also be reported to all components (e.g., controller or
applications) in order for these components to have an up-to-date view
of the current SRLB allocation and to avoid collision between allocation
instructions.[¶](#section-3.3-10){.pilcrow}

Within the context of IS-IS, the reporting of Local SIDs is done through
IS-IS sub-TLVs such as the Adj-SID. However, the reporting of allocated
Local SIDs may also be done through other means and protocols that are
outside the scope of this document.[¶](#section-3.3-11){.pilcrow}

A router advertising the SRLB sub-TLV may also have other label ranges,
outside the SRLB, for its local allocation purposes that are NOT
advertised in the SRLB. For example, it is possible that an Adj-SID is
allocated using a local label not part of the
SRLB.[¶](#section-3.3-12){.pilcrow}
:::
:::

::: {#SRMSPREFSUBTLV}
::: {#section-3.4 .section}
### [3.4.](#section-3.4){.section-number .selfRef} [SRMS Preference Sub-TLV](#name-srms-preference-sub-tlv){.section-name .selfRef} {#name-srms-preference-sub-tlv}

The SRMS Preference sub-TLV is used in order to associate a preference
with SRMS advertisements from a particular
source.[¶](#section-3.4-1){.pilcrow}

The SRMS Preference sub-TLV has the following
format:[¶](#section-3.4-2){.pilcrow}

::: {#section-3.4-3 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        |    Length     | Preference    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-3.4-3){.pilcrow}
:::

-   ::: {#section-3.4-4.1}

    Type:
    :   24[¶](#section-3.4-4.1.1.2){.pilcrow}

    Length:
    :   1[¶](#section-3.4-4.1.1.4){.pilcrow}

    Preference:
    :   1 octet and unsigned 8-bit SRMS
        preference.[¶](#section-3.4-4.1.1.6){.pilcrow}
    :::

The SRMS Preference sub-TLV [MAY]{.bcp14} be advertised in an LSP of any
number, but a router [MUST NOT]{.bcp14} advertise more than one SRMS
Preference sub-TLV. A router receiving multiple SRMS Preference
sub-TLVs, from the same originator, [SHOULD]{.bcp14} select the first
advertisement in the lowest-numbered LSP.[¶](#section-3.4-5){.pilcrow}

The use of the SRMS preference during the SID selection process is
described in
\[[RFC8661](#RFC8661){.xref}\].[¶](#section-3.4-6){.pilcrow}
:::
:::
:::

::: {#IANA}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

Per this document, IANA has allocated the following TLVs and
sub-TLVs.[¶](#section-4-1){.pilcrow}

::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [Sub-TLVs for Types 22, 23, 25, 141, 222, and 223](#name-sub-tlvs-for-types-22-23-25){.section-name .selfRef} {#name-sub-tlvs-for-types-22-23-25}

This document makes the following registrations in the \"Sub-TLVs for
TLV 22, 23, 25, 141, 222, and 223\"
registry.[¶](#section-4.1-1){.pilcrow}

::: {#IANA_table_1}
  Type   Description                        22   23   25   141   222   223
  ------ ---------------------------------- ---- ---- ---- ----- ----- -----
  31     Adjacency Segment Identifier       y    y    n    y     y     y
  32     LAN Adjacency Segment Identifier   y    y    n    y     y     y

  : [Table 1](#table-1){.selfRef}
:::
:::

::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [Sub-TLVs for Types 135, 235, 236, and 237](#name-sub-tlvs-for-types-135-235-){.section-name .selfRef} {#name-sub-tlvs-for-types-135-235-}

This document makes the following registrations in the \"Sub-TLVs for
TLV 135, 235, 236, and 237\" registry.[¶](#section-4.2-1){.pilcrow}

::: {#IANA_table_2}
  Type   Description                 135   235   236   237
  ------ --------------------------- ----- ----- ----- -----
  3      Prefix Segment Identifier   y     y     y     y

  : [Table 2](#table-2){.selfRef}
:::
:::

::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [Sub-TLVs for Type 242](#name-sub-tlvs-for-type-242){.section-name .selfRef} {#name-sub-tlvs-for-type-242}

This document makes the following registrations in the \"Sub-TLVs for
TLV 242\" registry.[¶](#section-4.3-1){.pilcrow}

::: {#IANA_table_3}
  Type   Description
  ------ -------------------------------------------------------------
  2      Segment Routing Capability
  19     Segment Routing Algorithm
  22     Segment Routing Local Block (SRLB)
  24     Segment Routing Mapping Server Preference (SRMS Preference)

  : [Table 3](#table-3){.selfRef}
:::
:::

::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [New TLV Codepoint and Sub-TLV Registry](#name-new-tlv-codepoint-and-sub-t){.section-name .selfRef} {#name-new-tlv-codepoint-and-sub-t}

This document registers the following TLV:[¶](#section-4.4-1){.pilcrow}

::: {#IANA_table_4}
  Value   Name                                                IIH   LSP   SNP   Purge
  ------- --------------------------------------------------- ----- ----- ----- -------
  149     Segment Identifier / Label Binding                  n     y     n     n
  150     Multi-Topology Segment Identifier / Label Binding   n     y     n     n

  : [Table 4](#table-4){.selfRef}
:::

This document creates the following sub-TLV
Registry:[¶](#section-4.4-3){.pilcrow}

Name:
:   Sub-TLVs for TLVs 149 and 150[¶](#section-4.4-4.2){.pilcrow}

Registration Procedure:
:   Expert Review
    \[[RFC8126](#RFC8126){.xref}\][¶](#section-4.4-4.4){.pilcrow}

::: {#IANA_table_5}
  Type    Description
  ------- ---------------------------
  0       Reserved
  1       SID/Label
  2       Unassigned
  3       Prefix Segment Identifier
  4-255   Unassigned

  : [Table 5](#table-5){.selfRef}
:::
:::
:::
:::

::: {#Security}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

With the use of the extensions defined in this document, IS-IS carries
information that will be used to program the MPLS data plane
\[[RFC3031](#RFC3031){.xref}\]. In general, the same type of attacks
that can be carried out on the IP/IPv6 control plane can be carried out
on the MPLS control plane, resulting in traffic being misrouted in the
respective data planes. However, the latter may be more difficult to
detect and isolate.[¶](#section-5-1){.pilcrow}

Existing security extensions as described in
\[[RFC5304](#RFC5304){.xref}\] and \[[RFC5310](#RFC5310){.xref}\] apply
to these Segment Routing extensions.[¶](#section-5-2){.pilcrow}
:::
:::

::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[ISO10589\]
:   [ISO]{.refAuthor}, [\"Information technology \-- Telecommunications
    and information exchange between systems \-- Intermediate system to
    Intermediate system intra-domain routeing information exchange
    protocol for use in conjunction with the protocol for providing the
    connectionless-mode network service (ISO 8473)\"]{.refTitle},
    [ISO/IEC 10589:2002, Second Edition]{.seriesInfo}, November 2002.

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.

\[RFC3031\]
:   [Rosen, E.]{.refAuthor}[, Viswanathan, A.]{.refAuthor}[, and R.
    Callon]{.refAuthor}, [\"Multiprotocol Label Switching
    Architecture\"]{.refTitle}, [RFC 3031]{.seriesInfo}, [DOI
    10.17487/RFC3031]{.seriesInfo}, January 2001,
    \<<https://www.rfc-editor.org/info/rfc3031>\>.

\[RFC5120\]
:   [Przygienda, T.]{.refAuthor}[, Shen, N.]{.refAuthor}[, and N.
    Sheth]{.refAuthor}, [\"M-ISIS: Multi Topology (MT) Routing in
    Intermediate System to Intermediate Systems (IS-ISs)\"]{.refTitle},
    [RFC 5120]{.seriesInfo}, [DOI 10.17487/RFC5120]{.seriesInfo},
    February 2008, \<<https://www.rfc-editor.org/info/rfc5120>\>.

\[RFC5304\]
:   [Li, T.]{.refAuthor}[ and R. Atkinson]{.refAuthor}, [\"IS-IS
    Cryptographic Authentication\"]{.refTitle}, [RFC 5304]{.seriesInfo},
    [DOI 10.17487/RFC5304]{.seriesInfo}, October 2008,
    \<<https://www.rfc-editor.org/info/rfc5304>\>.

\[RFC5310\]
:   [Bhatia, M.]{.refAuthor}[, Manral, V.]{.refAuthor}[,
    Li, T.]{.refAuthor}[, Atkinson, R.]{.refAuthor}[,
    White, R.]{.refAuthor}[, and M. Fanto]{.refAuthor}, [\"IS-IS Generic
    Cryptographic Authentication\"]{.refTitle}, [RFC 5310]{.seriesInfo},
    [DOI 10.17487/RFC5310]{.seriesInfo}, February 2009,
    \<<https://www.rfc-editor.org/info/rfc5310>\>.

\[RFC7794\]
:   [Ginsberg, L., Ed.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Xu, X.]{.refAuthor}[, and U.
    Chunduri]{.refAuthor}, [\"IS-IS Prefix Attributes for Extended IPv4
    and IPv6 Reachability\"]{.refTitle}, [RFC 7794]{.seriesInfo}, [DOI
    10.17487/RFC7794]{.seriesInfo}, March 2016,
    \<<https://www.rfc-editor.org/info/rfc7794>\>.

\[RFC7981\]
:   [Ginsberg, L.]{.refAuthor}[, Previdi, S.]{.refAuthor}[, and M.
    Chen]{.refAuthor}, [\"IS-IS Extensions for Advertising Router
    Information\"]{.refTitle}, [RFC 7981]{.seriesInfo}, [DOI
    10.17487/RFC7981]{.seriesInfo}, October 2016,
    \<<https://www.rfc-editor.org/info/rfc7981>\>.

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.

\[RFC8402\]
:   [Filsfils, C., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Ginsberg, L.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing Architecture\"]{.refTitle}, [RFC 8402]{.seriesInfo}, [DOI
    10.17487/RFC8402]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8402>\>.

\[RFC8660\]
:   [Bashandy, A., Ed.]{.refAuthor}[, Filsfils, C., Ed.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing with the MPLS Data Plane\"]{.refTitle}, [RFC
    8660]{.seriesInfo}, [DOI 10.17487/RFC8660]{.seriesInfo}, December
    2019, \<<https://www.rfc-editor.org/info/rfc8660>\>.

\[RFC8661\]
:   [Bashandy, A., Ed.]{.refAuthor}[, Filsfils, C., Ed.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Decraene, B.]{.refAuthor}[, and S.
    Litkowski]{.refAuthor}, [\"Segment Routing MPLS Interworking with
    LDP\"]{.refTitle}, [RFC 8661]{.seriesInfo}, [DOI
    10.17487/RFC8661]{.seriesInfo}, December 2019,
    \<<https://www.rfc-editor.org/info/rfc8661>\>.

\[RFC8665\]
:   [Psenak, P., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Gredler, H.]{.refAuthor}[,
    Shakir, R.]{.refAuthor}[, Henderickx, W.]{.refAuthor}[, and J.
    Tantsura]{.refAuthor}, [\"OSPF Extensions for Segment
    Routing\"]{.refTitle}, [RFC 8665]{.seriesInfo}, [DOI
    10.17487/RFC8665]{.seriesInfo}, December 2019,
    \<<https://www.rfc-editor.org/info/rfc8665>\>.
:::

::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC5305\]
:   [Li, T.]{.refAuthor}[ and H. Smit]{.refAuthor}, [\"IS-IS Extensions
    for Traffic Engineering\"]{.refTitle}, [RFC 5305]{.seriesInfo}, [DOI
    10.17487/RFC5305]{.seriesInfo}, October 2008,
    \<<https://www.rfc-editor.org/info/rfc5305>\>.

\[RFC5308\]
:   [Hopps, C.]{.refAuthor}, [\"Routing IPv6 with IS-IS\"]{.refTitle},
    [RFC 5308]{.seriesInfo}, [DOI 10.17487/RFC5308]{.seriesInfo},
    October 2008, \<<https://www.rfc-editor.org/info/rfc5308>\>.

\[RFC5311\]
:   [McPherson, D., Ed.]{.refAuthor}[, Ginsberg, L.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, and M. Shand]{.refAuthor}, [\"Simplified
    Extension of Link State PDU (LSP) Space for IS-IS\"]{.refTitle},
    [RFC 5311]{.seriesInfo}, [DOI 10.17487/RFC5311]{.seriesInfo},
    February 2009, \<<https://www.rfc-editor.org/info/rfc5311>\>.

\[RFC5316\]
:   [Chen, M.]{.refAuthor}[, Zhang, R.]{.refAuthor}[, and X.
    Duan]{.refAuthor}, [\"ISIS Extensions in Support of Inter-Autonomous
    System (AS) MPLS and GMPLS Traffic Engineering\"]{.refTitle}, [RFC
    5316]{.seriesInfo}, [DOI 10.17487/RFC5316]{.seriesInfo}, December
    2008, \<<https://www.rfc-editor.org/info/rfc5316>\>.

\[RFC7855\]
:   [Previdi, S., Ed.]{.refAuthor}[, Filsfils, C., Ed.]{.refAuthor}[,
    Decraene, B.]{.refAuthor}[, Litkowski, S.]{.refAuthor}[,
    Horneffer, M.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Source
    Packet Routing in Networking (SPRING) Problem Statement and
    Requirements\"]{.refTitle}, [RFC 7855]{.seriesInfo}, [DOI
    10.17487/RFC7855]{.seriesInfo}, May 2016,
    \<<https://www.rfc-editor.org/info/rfc7855>\>.

\[RFC8126\]
:   [Cotton, M.]{.refAuthor}[, Leiba, B.]{.refAuthor}[, and T.
    Narten]{.refAuthor}, [\"Guidelines for Writing an IANA
    Considerations Section in RFCs\"]{.refTitle}, [BCP 26]{.seriesInfo},
    [RFC 8126]{.seriesInfo}, [DOI 10.17487/RFC8126]{.seriesInfo}, June
    2017, \<<https://www.rfc-editor.org/info/rfc8126>\>.
:::
:::

::: {#Acknowledgements}
::: {#section-appendix.a .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

We would like to thank Dave Ward, Dan Frost, Stewart Bryant, Pierre
Francois, and Jesper Skrivers for their contribution to the content of
this document.[¶](#section-appendix.a-1){.pilcrow}
:::
:::

::: {#Contributors}
::: {#section-appendix.b .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

The following people gave a substantial contribution to the content of
this document and should be considered as
coauthors:[¶](#section-appendix.b-1){.pilcrow}

::: {#section-appendix.b-2 .artwork .art-text .alignLeft}
    Stephane Litkowski
    Orange
    France
    Email: stephane.litkowski@orange.com

[¶](#section-appendix.b-2){.pilcrow}
:::

::: {#section-appendix.b-3 .artwork .art-text .alignLeft}
    Jeff Tantsura
    Apstra, Inc.
    Email: jefftant@gmail.com

[¶](#section-appendix.b-3){.pilcrow}
:::

::: {#section-appendix.b-4 .artwork .art-text .alignLeft}
    Peter Psenak
    Cisco Systems Inc.
    United States of America
    Email: ppsenak@cisco.com

[¶](#section-appendix.b-4){.pilcrow}
:::

::: {#section-appendix.b-5 .artwork .art-text .alignLeft}
    Martin Horneffer
    Deutsche Telekom
    Germany
    Email: Martin.Horneffer@telekom.de

[¶](#section-appendix.b-5){.pilcrow}
:::

::: {#section-appendix.b-6 .artwork .art-text .alignLeft}
    Wim Henderickx
    Nokia
    Belgium
    Email: wim.henderickx@nokia.com

[¶](#section-appendix.b-6){.pilcrow}
:::

::: {#section-appendix.b-7 .artwork .art-text .alignLeft}
    Edward Crabbe
    Oracle
    United States of America
    Email: edward.crabbe@oracle.com

[¶](#section-appendix.b-7){.pilcrow}
:::

::: {#section-appendix.b-8 .artwork .art-text .alignLeft}
    Rob Shakir
    Google
    United Kingdom
    Email: robjs@google.com

[¶](#section-appendix.b-8){.pilcrow}
:::

::: {#section-appendix.b-9 .artwork .art-text .alignLeft}
    Igor Milojevic
    Individual
    Serbia
    Email: milojevicigor@gmail.com

[¶](#section-appendix.b-9){.pilcrow}
:::

::: {#section-appendix.b-10 .artwork .art-text .alignLeft}
    Saku Ytti
    TDC
    Finland
    Email: saku@ytti.fi

[¶](#section-appendix.b-10){.pilcrow}
:::
:::
:::

::: {#authors-addresses}
::: {#section-appendix.c .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Stefano Previdi ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[Italy]{.country-name}
:::

::: email
Email: <stefano@previdi.net>
:::

::: {.left dir="auto"}
[Les Ginsberg ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <ginsberg@cisco.com>
:::

::: {.left dir="auto"}
[Clarence Filsfils]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: {.left dir="auto"}
[Brussels]{.locality}
:::

::: {.left dir="auto"}
[Belgium]{.country-name}
:::

::: email
Email: <cfilsfil@cisco.com>
:::

::: {.left dir="auto"}
[Ahmed Bashandy]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Arrcus]{.org}
:::

::: email
Email: <abashandy.ietf@gmail.com>
:::

::: {.left dir="auto"}
[Hannes Gredler]{.fn .nameRole}
:::

::: {.left dir="auto"}
[RtBrick Inc.]{.org}
:::

::: email
Email: <hannes@rtbrick.com>
:::

::: {.left dir="auto"}
[Bruno Decraene]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Orange]{.org}
:::

::: {.left dir="auto"}
[France]{.country-name}
:::

::: email
Email: <bruno.decraene@orange.com>
:::
:::
:::
