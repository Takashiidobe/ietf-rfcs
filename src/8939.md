  RFC 8939        DetNet Data Plane: IP   November 2020
  --------------- ----------------------- ---------------
  Varga, et al.   Standards Track         \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8939](https://www.rfc-editor.org/rfc/rfc8939){.eref}

Category:
:   Standards Track

Published:
:   November 2020

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    B. Varga, [Ed.]{.editor}
    :::

    ::: org
    Ericsson
    :::
    :::

    ::: author
    ::: author-name
    J. Farkas
    :::

    ::: org
    Ericsson
    :::
    :::

    ::: author
    ::: author-name
    L. Berger
    :::

    ::: org
    LabN Consulting, L.L.C.
    :::
    :::

    ::: author
    ::: author-name
    D. Fedyk
    :::

    ::: org
    LabN Consulting, L.L.C.
    :::
    :::

    ::: author
    ::: author-name
    S. Bryant
    :::

    ::: org
    Futurewei Technologies
    :::
    :::
:::

# RFC 8939 {#rfcnum}

# Deterministic Networking (DetNet) Data Plane: IP {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

This document specifies the Deterministic Networking (DetNet) data plane
operation for IP hosts and routers that provide DetNet service to
IP-encapsulated data. No DetNet-specific encapsulation is defined to
support IP flows; instead, the existing IP-layer and higher-layer
protocol header information is used to support flow identification and
DetNet service delivery. This document builds on the DetNet architecture
(RFC 8655) and data plane framework (RFC
8938).[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8939>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2020 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Terminology](#name-terminology){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.xref}.  [Terms Used in This
        Document](#name-terms-used-in-this-document){.xref}[¶](#section-toc.1-1.2.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.2.2.2}
        [2.2](#section-2.2){.xref}.  [Abbreviations](#name-abbreviations){.xref}[¶](#section-toc.1-1.2.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.2.2.3}
        [2.3](#section-2.3){.xref}.  [Requirements
        Language](#name-requirements-language){.xref}[¶](#section-toc.1-1.2.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Overview of the DetNet IP Data
    Plane](#name-overview-of-the-detnet-ip-d){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [DetNet IP Data Plane
    Considerations](#name-detnet-ip-data-plane-consid){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [End-System-Specific
        Considerations](#name-end-system-specific-conside){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [DetNet Domain-Specific
        Considerations](#name-detnet-domain-specific-cons){.xref}[¶](#section-toc.1-1.4.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.xref}.  [Forwarding Sub-Layer
        Considerations](#name-forwarding-sub-layer-consid){.xref}[¶](#section-toc.1-1.4.2.3.1){.pilcrow}

        -   ::: {#section-toc.1-1.4.2.3.2.1}
            [4.3.1](#section-4.3.1){.xref}.  [Class of
            Service](#name-class-of-service){.xref}[¶](#section-toc.1-1.4.2.3.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.4.2.3.2.2}
            [4.3.2](#section-4.3.2){.xref}.  [Quality of
            Service](#name-quality-of-service){.xref}[¶](#section-toc.1-1.4.2.3.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.4.2.3.2.3}
            [4.3.3](#section-4.3.3){.xref}.  [Path
            Selection](#name-path-selection){.xref}[¶](#section-toc.1-1.4.2.3.2.3.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.xref}.  [DetNet Flow
        Aggregation](#name-detnet-flow-aggregation){.xref}[¶](#section-toc.1-1.4.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.5}
        [4.5](#section-4.5){.xref}.  [Bidirectional
        Traffic](#name-bidirectional-traffic){.xref}[¶](#section-toc.1-1.4.2.5.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [DetNet IP Data Plane
    Procedures](#name-detnet-ip-data-plane-proced){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [DetNet IP Flow Identification
        Procedures](#name-detnet-ip-flow-identificati){.xref}[¶](#section-toc.1-1.5.2.1.1){.pilcrow}

        -   ::: {#section-toc.1-1.5.2.1.2.1}
            [5.1.1](#section-5.1.1){.xref}.  [IP Header
            Information](#name-ip-header-information){.xref}[¶](#section-toc.1-1.5.2.1.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.5.2.1.2.2}
            [5.1.2](#section-5.1.2){.xref}.  [Other Protocol Header
            Information](#name-other-protocol-header-infor){.xref}[¶](#section-toc.1-1.5.2.1.2.2.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.5.2.2}
        [5.2](#section-5.2){.xref}.  [Forwarding
        Procedures](#name-forwarding-procedures){.xref}[¶](#section-toc.1-1.5.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.3}
        [5.3](#section-5.3){.xref}.  [DetNet IP Traffic Treatment
        Procedures](#name-detnet-ip-traffic-treatment){.xref}[¶](#section-toc.1-1.5.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [Management and Control Information
    Summary](#name-management-and-control-info){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [References](#name-references){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}

    -   ::: {#section-toc.1-1.9.2.1}
        [9.1](#section-9.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.9.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.9.2.2}
        [9.2](#section-9.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.9.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.10}
    [](#section-appendix.a){.xref}[Acknowledgements](#name-acknowledgements){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.11}
    [](#section-appendix.b){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.12}
    [](#section-appendix.c){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.12.1){.pilcrow}
    :::
:::
:::

::: {#sec_intro}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

Deterministic Networking (DetNet) is a service that can be offered by a
network to DetNet flows. DetNet provides these flows with extremely low
packet loss rates and assured maximum end-to-end delivery latency.
General background and concepts of DetNet can be found in the DetNet
architecture \[[RFC8655](#RFC8655){.xref}\].[¶](#section-1-1){.pilcrow}

This document specifies the DetNet data plane operation for IP hosts and
routers that provide DetNet service to IP-encapsulated data. No
DetNet-specific encapsulation is defined to support IP flows; instead,
the existing IP-layer and higher-layer protocol header information is
used to support flow identification and DetNet service delivery. Common
data plane procedures and control information for all DetNet data planes
can be found in
\[[RFC8938](#RFC8938){.xref}\].[¶](#section-1-2){.pilcrow}

The DetNet architecture models the DetNet-related data plane functions
as two sub-layers: a service sub-layer and a forwarding sub-layer. The
service sub-layer is used to provide DetNet service protection (e.g., by
the Packet Replication Function (PRF) and Packet Elimination Function
(PEF)) and reordering. The forwarding sub-layer is used to provide
congestion protection (low loss, assured latency, and limited
out-of-order delivery). The service sub-layer generally requires
additional header fields to provide its service; for example, see
\[[DetNet-MPLS](#DetNet-MPLS){.xref}\]. Since no DetNet-specific fields
are added to support DetNet IP flows, only the forwarding sub-layer
functions are supported using the DetNet IP defined by this document.
Service protection can be provided on a per-sub-network basis using
technologies such as MPLS \[[DetNet-MPLS](#DetNet-MPLS){.xref}\] and
Ethernet, as specified by the IEEE 802.1 TSN (Time-Sensitive Networking)
task group (referred to in this document simply as \"IEEE 802.1 TSN\").
See
\[[IEEE802.1TSNTG](#IEEE802.1TSNTG){.xref}\].[¶](#section-1-3){.pilcrow}

This document provides an overview of the DetNet IP data plane in
[Section 3](#sec_dt_dp){.xref} and considerations that apply to
providing DetNet services via the DetNet IP data plane in [Section
4](#dn-gen-encap-solution){.xref}. [Section 5](#ip-procs){.xref}
provides the procedures for hosts and routers that support IP-based
DetNet services. [Section 6](#ip-flow-id-info){.xref} summarizes the set
of information that is needed to identify an individual DetNet
flow.[¶](#section-1-4){.pilcrow}
:::
:::

::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [Terms Used in This Document](#name-terms-used-in-this-document){.section-name .selfRef} {#name-terms-used-in-this-document}

This document uses the terminology and concepts established in the
DetNet architecture \[[RFC8655](#RFC8655){.xref}\], and it is assumed
that the reader is familiar with that document and its
terminology.[¶](#section-2.1-1){.pilcrow}
:::

::: {#section-2.2 .section}
### [2.2.](#section-2.2){.section-number .selfRef} [Abbreviations](#name-abbreviations){.section-name .selfRef} {#name-abbreviations}

The following abbreviations are used in this
document:[¶](#section-2.2-1){.pilcrow}

[]{.break}

CoS
:   Class of Service[¶](#section-2.2-2.2){.pilcrow}
:   

DetNet
:   Deterministic Networking[¶](#section-2.2-2.4){.pilcrow}
:   

DN
:   DetNet[¶](#section-2.2-2.6){.pilcrow}
:   

Diffserv
:   Differentiated Services[¶](#section-2.2-2.8){.pilcrow}
:   

DSCP
:   Differentiated Services Code Point[¶](#section-2.2-2.10){.pilcrow}
:   

L2
:   Layer 2[¶](#section-2.2-2.12){.pilcrow}
:   

L3
:   Layer 3[¶](#section-2.2-2.14){.pilcrow}
:   

LSP
:   Label Switched Path[¶](#section-2.2-2.16){.pilcrow}
:   

MPLS
:   Multiprotocol Label Switching[¶](#section-2.2-2.18){.pilcrow}
:   

PEF
:   Packet Elimination Function[¶](#section-2.2-2.20){.pilcrow}
:   

PREOF
:   Packet Replication, Elimination, and Ordering
    Functions[¶](#section-2.2-2.22){.pilcrow}
:   

PRF
:   Packet Replication Function[¶](#section-2.2-2.24){.pilcrow}
:   

QoS
:   Quality of Service[¶](#section-2.2-2.26){.pilcrow}
:   

TSN
:   Time-Sensitive Networking. TSN is a task group of the IEEE 802.1
    Working Group.[¶](#section-2.2-2.28){.pilcrow}
:   
:::

::: {#section-2.3 .section}
### [2.3.](#section-2.3){.section-number .selfRef} [Requirements Language](#name-requirements-language){.section-name .selfRef} {#name-requirements-language}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-2.3-1){.pilcrow}
:::
:::

::: {#sec_dt_dp}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Overview of the DetNet IP Data Plane](#name-overview-of-the-detnet-ip-d){.section-name .selfRef} {#name-overview-of-the-detnet-ip-d}

This document describes how IP is used by DetNet nodes, i.e., hosts and
routers, to identify DetNet flows and provide a DetNet service using an
IP data plane. From a data plane perspective, an end-to-end IP model is
followed. As mentioned above, existing IP-layer and higher-layer
protocol header information is used to support flow identification and
DetNet service delivery. Common data plane procedures and control
information for all DetNet data planes can be found in
\[[RFC8938](#RFC8938){.xref}\].[¶](#section-3-1){.pilcrow}

The DetNet IP data plane primarily uses 6-tuple-based flow
identification, where \"6-tuple\" refers to information carried in
IP-layer and higher-layer protocol headers. The 6-tuple referred to in
this document is the same as that defined in
\[[RFC3290](#RFC3290){.xref}\]. Specifically, the 6-tuple is destination
address, source address, IP protocol, source port, destination port, and
DSCP. General background on the use of IP headers and 5-tuples to
identify flows and support Quality of Service (QoS) can be found in
\[[RFC3670](#RFC3670){.xref}\]. \[[RFC7657](#RFC7657){.xref}\] also
provides useful background on the delivery of Diffserv and tuple-based
flow identification. Note that a 6-tuple is composed of a 5-tuple plus
the addition of a DSCP component.[¶](#section-3-2){.pilcrow}

For some of the protocols, 5-tuples and 6-tuples cannot be used, because
the port information is not available (e.g., ICMP, IPsec, and
Encapsulating Security Payload (ESP)). This is also the case for flow
aggregates. In such cases, using fewer fields is appropriate, such as a
3-tuple (2 IP addresses, IP protocol) or even a 2-tuple (all IP traffic
between two IP addresses).[¶](#section-3-3){.pilcrow}

The DetNet IP data plane also allows for optional matching on the IPv6
Flow Label field, as defined in
\[[RFC8200](#RFC8200){.xref}\].[¶](#section-3-4){.pilcrow}

Non-DetNet and DetNet IP packets have the same protocol header format on
the wire. Generally, the fields used in flow identification are
forwarded unmodified. However, standard modification of the DSCP field
\[[RFC2474](#RFC2474){.xref}\] is not
precluded.[¶](#section-3-5){.pilcrow}

DetNet flow aggregation may be enabled via the use of wildcards, masks,
lists, prefixes, and ranges. IP tunnels may also be used to support flow
aggregation. In these cases, it is expected that DetNet-aware
intermediate nodes will provide DetNet service on the aggregate through
resource allocation and congestion control
mechanisms.[¶](#section-3-6){.pilcrow}

The specific procedures that are required to be implemented by a DetNet
node supporting this document can be found in [Section
5](#ip-procs){.xref}. The DetNet Controller Plane, as defined in
\[[RFC8655](#RFC8655){.xref}\], is responsible for providing each node
with the information needed to identify and handle each DetNet
flow.[¶](#section-3-7){.pilcrow}

[]{#name-a-simple-detnet-enabled-ip-}

::: {#fig_ip_detnet_simple}
::: {#section-3-8.1 .artwork .art-text .alignLeft}
     DetNet IP       Relay                        Relay       DetNet IP
     End System      Node                         Node        End System

    +----------+                                             +----------+
    |   Appl.  |<------------ End-to-End Service ----------->|   Appl.  |
    +----------+  ............                 ...........   +----------+
    | Service  |<-: Service  :-- DetNet flow --: Service  :->| Service  |
    +----------+  +----------+                 +----------+  +----------+
    |Forwarding|  |Forwarding|                 |Forwarding|  |Forwarding|
    +--------.-+  +-.------.-+                 +-.---.----+  +-------.--+
             : Link :       \      ,-----.      /     \   ,-----.   /
             +......+        +----[  Sub- ]----+       +-[  Sub- ]-+
                                  [Network]              [Network]
                                   `-----'                `-----'

             |<--------------------- DetNet IP --------------------->|
:::

[Figure 1](#figure-1){.selfRef}: [A Simple DetNet-Enabled IP
Network](#name-a-simple-detnet-enabled-ip-){.selfRef}
:::

[Figure 1](#fig_ip_detnet_simple){.xref} illustrates a DetNet-enabled IP
network. The DetNet-enabled end systems originate IP-encapsulated
traffic that is identified within the DetNet domain as DetNet flows
based on IP header information. Relay nodes understand the forwarding
requirements of the DetNet flow and ensure that node, interface, and
sub-network resources are allocated to ensure DetNet service
requirements. The dotted line around the Service component of the Relay
Nodes indicates that the transit routers are DetNet service aware but do
not perform any DetNet service sub-layer function, e.g.,
PREOF.[¶](#section-3-9){.pilcrow}

Note: The sub-network can represent a TSN, MPLS network, or other
network technology that can carry DetNet IP
traffic.[¶](#section-3-10.1){.pilcrow}

[]{#name-non-detnet-aware-ip-end-sys}

::: {#fig_non_detnet_ip}
::: {#section-3-11.1 .artwork .art-text .alignLeft}
     IP              Edge                        Edge         IP
     End System      Node                        Node         End System

    +----------+   +.........+                 +.........+   +----------+
    |   Appl.  |<--:Svc Proxy:-- E2E Service---:Svc Proxy:-->|   Appl.  |
    +----------+   +.........+                 +.........+   +----------+
    |    IP    |<--:IP : :Svc:---- IP flow ----:Svc: :IP :-->|    IP    |
    +----------+   +---+ +---+                 +---+ +---+   +----------+
    |Forwarding|   |Fwd| |Fwd|                 |Fwd| |Fwd|   |Forwarding|
    +--------.-+   +-.-+ +-.-+                 +-.-+ +-.-+   +---.------+
             :  Link :      \      ,-----.      /     /  ,-----.  \
             +.......+       +----[  Sub- ]----+     +--[  Sub- ]--+
                                  [network]             [network]
                                   `-----'               `-----'

          |<--- IP --->| |<------ DetNet IP ------>| |<--- IP --->|
:::

[Figure 2](#figure-2){.selfRef}: [Non-DetNet-Aware IP End Systems with
DetNet IP Domain](#name-non-detnet-aware-ip-end-sys){.selfRef}
:::

[Figure 2](#fig_non_detnet_ip){.xref} illustrates a variant of [Figure
1](#fig_ip_detnet_simple){.xref} where the end systems are not DetNet
aware. In this case, edge nodes sit at the boundary of the DetNet domain
and provide DetNet service proxies for the end applications by
initiating and terminating DetNet service for the application\'s IP
flows. The existing header information or an approach such as described
in [Section 4.4](#aggregation){.xref} can be used to support DetNet flow
identification.[¶](#section-3-12){.pilcrow}

Note that Figures [1](#fig_ip_detnet_simple){.xref} and
[2](#fig_non_detnet_ip){.xref} can be collapsed, so IP DetNet end
systems can communicate over a DetNet IP network with IP end
systems.[¶](#section-3-13){.pilcrow}

As non-DetNet and DetNet IP packets have the same protocol header format
on the wire, from a data plane perspective, the only difference is that
there is flow-associated DetNet information on each DetNet node that
defines the flow-related characteristics and required forwarding
behavior. As shown above, edge nodes provide a Service Proxy function
that \"associates\" one or more IP flows with the appropriate DetNet
flow-specific information and ensures that the flow receives the proper
traffic treatment within the domain.[¶](#section-3-14){.pilcrow}

Note: The operation of IEEE 802.1 TSN end systems over DetNet-enabled IP
networks is not described in this document. TSN over MPLS is described
in
\[[DetNet-TSN-over-MPLS](#I-D.ietf-detnet-tsn-vpn-over-mpls){.xref}\].[¶](#section-3-15.1){.pilcrow}
:::
:::

::: {#dn-gen-encap-solution}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [DetNet IP Data Plane Considerations](#name-detnet-ip-data-plane-consid){.section-name .selfRef} {#name-detnet-ip-data-plane-consid}

This section provides considerations related to providing DetNet service
to flows that are identified based on their header
information.[¶](#section-4-1){.pilcrow}

::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [End-System-Specific Considerations](#name-end-system-specific-conside){.section-name .selfRef} {#name-end-system-specific-conside}

Data flows requiring DetNet service are generated and terminated on end
systems. This document deals only with IP end systems. The protocols
used by an IP end system are specific to an application, and end systems
peer with other end systems. DetNet\'s use of 6-tuple IP flow
identification means that DetNet must be aware of not only the format of
the IP header, but also of the next protocol value carried within an IP
packet (see [Section
5.1.1.3](#nxt-proto-field){.xref}).[¶](#section-4.1-1){.pilcrow}

For DetNet-unaware IP end systems, service-level proxy functions are
needed inside the DetNet domain.[¶](#section-4.1-2){.pilcrow}

When IP end systems are DetNet aware, no application-level or
service-level proxy functions are needed inside the DetNet domain. End
systems need to ensure that DetNet service requirements are met when
processing packets associated to a DetNet flow. When sending packets,
this means that packets are appropriately shaped on transmission and
receive appropriate traffic treatment on the connected sub-network; see
Sections [4.3.2](#QoS){.xref} and [4.2](#dn_dom_spec_cons){.xref} for
more details. When receiving packets, this means that there are
appropriate local node resources, e.g., buffers, to receive and process
the packets of that DetNet flow.[¶](#section-4.1-3){.pilcrow}

An important additional consideration for DetNet-aware end systems is
avoiding IP fragmentation. Full 6-tuple flow identification is not
possible on IP fragments, as fragments don\'t include the transport
headers or their port information. As such, it is important that
applications and/or end systems use an IP packet size that will avoid
fragmentation within the network when sending DetNet flows. The maximum
size can be learned via Path MTU Discovery
\[[RFC1191](#RFC1191){.xref}\] \[[RFC8201](#RFC8201){.xref}\] or via the
Controller Plane. Note that Path MTU Discovery relies on ICMP, which may
not follow the same path as an individual DetNet
flow.[¶](#section-4.1-4){.pilcrow}

In order to maximize reuse of existing mechanisms, DetNet-aware
applications and end systems [SHOULD NOT]{.bcp14} mix DetNet and
non-DetNet traffic within a single 5-tuple.[¶](#section-4.1-5){.pilcrow}
:::

::: {#dn_dom_spec_cons}
::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [DetNet Domain-Specific Considerations](#name-detnet-domain-specific-cons){.section-name .selfRef} {#name-detnet-domain-specific-cons}

As a general rule, DetNet IP domains need to be able to forward any
DetNet flow identified by the IP 6-tuple. Doing otherwise would limit
the number of 6-tuple flow ID combinations that could be used by the end
systems. From a practical standpoint, this means that all nodes along
the end-to-end path of DetNet flows need to agree on what fields are
used for flow identification. Possible consequences of not having such
an agreement include some flows interfering with other flows, and the
traffic treatment expected for a service not being
provided.[¶](#section-4.2-1){.pilcrow}

From a connection-type perspective, two scenarios are
identified:[¶](#section-4.2-2){.pilcrow}

1.  [DN attached: the end system is directly connected to an edge node
    or the end system is behind a sub-network. (See ES1 and ES2 in
    [Figure
    3](#fig_es_con_types){.xref}.)[¶](#section-4.2-3.1){.pilcrow}]{#section-4.2-3.1}
2.  [DN integrated: the end system is part of the DetNet domain. (See
    ES3 in [Figure
    3](#fig_es_con_types){.xref}.)[¶](#section-4.2-3.2){.pilcrow}]{#section-4.2-3.2}

L3 (IP) end systems may use any of these connection types. A DetNet
domain allows communication between any end systems using the same
encapsulation format, independent of their connection type and DetNet
capability. DN-attached end systems have no knowledge about the DetNet
domain and its encapsulation format. See [Figure
3](#fig_es_con_types){.xref} for L3 end system connection
examples.[¶](#section-4.2-4){.pilcrow}

[]{#name-connection-types-of-l3-end-}

::: {#fig_es_con_types}
::: {#section-4.2-5.1 .artwork .art-text .alignCenter}
                                       ____+----+
               +----+        _____    /    | ES3|
               | ES1|____   /     \__/     +----+___
               +----+    \ /                        \
                          +                          |
                  ____     \                        _/
    +----+     __/    \     +__  DetNet IP domain  /
    | ES2|____/  L2/L3 |___/   \         __     __/
    +----+    \_______/         \_______/  \___/
:::

[Figure 3](#figure-3){.selfRef}: [Connection Types of L3 End
Systems](#name-connection-types-of-l3-end-){.selfRef}
:::

Within a DetNet domain, the DetNet-enabled IP routers are interconnected
by links and sub-networks to support end-to-end delivery of DetNet
flows. From a DetNet architecture perspective, these routers are DetNet
relays, as they must be DetNet service aware. Such routers identify
DetNet flows based on the IP 6-tuple and ensure that the traffic
treatment required by the DetNet service is provided on both the node
and any attached sub-network.[¶](#section-4.2-6){.pilcrow}

This solution provides DetNet functions end to end, but it does so on a
per-link and per-sub-network basis. Congestion protection, latency
control, and resource allocation (queuing, policing, shaping) are
supported using the underlying link/sub-network-specific mechanisms.
However, service protection (PRF and PEF) is not provided end to end at
the DetNet layer. Instead, service protection can be provided on a
per-link (underlying L2 link) and per-sub-network
basis.[¶](#section-4.2-7){.pilcrow}

The DetNet service flow is mapped to the link/sub-network-specific
resources using an underlying system-specific means. This implies that
each DetNet-aware node on the path looks into the forwarded DetNet
service flow packet and utilizes, for example, a 6-tuple to find out the
required mapping within a node.[¶](#section-4.2-8){.pilcrow}

As noted earlier, service protection must be implemented within each
link/sub-network independently, using the domain-specific mechanisms.
This is due to the lack of unified end-to-end sequencing information
that could be used by the intermediate nodes. Therefore, service
protection (if enabled) cannot be provided end to end, only within
sub-networks. This is shown for a scenario with three sub-networks in
[Figure 4](#fig_pref_in_subnets){.xref}, where each sub-network can
provide service protection between its borders. \"R\" and \"E\" denote
replication and elimination points within the
sub-network.[¶](#section-4.2-9){.pilcrow}

[]{#name-replication-and-elimination}

::: {#fig_pref_in_subnets}
::: {#section-4.2-10.1 .artwork .art-text .alignCenter}
         <-------------------- DetNet IP ------------------------>
                                     ______
                           ____     /      \__
                ____      /     \__/          \___   ______
    +----+   __/    +====+                       +==+      \     +----+
    |src |__/ Sub-N1 )   |                       |  \ Sub-N3\____| dst|
    +----+  \_______/    \      Sub-network 2    |   \______/    +----+
                          \_                    _/
                            \         __     __/
                             \_______/  \___/


              +---+        +---------E--------+      +-----+
    +----+    |   |        |         |        |      |     |      +----+
    |src |----R   E--------R     +---+        E------R     E------+ dst|
    +----+    |   |        |     |            |      |     |      +----+
              +---+        +-----R------------+      +-----+
:::

[Figure 4](#figure-4){.selfRef}: [Replication and Elimination in
Sub-networks for DetNet IP
Networks](#name-replication-and-elimination){.selfRef}
:::

If end-to-end service protection is desired, it can be implemented \--
for example, by the DetNet end systems using Layer 4 (L4) transport
protocols or application protocols. However, these protocols are out of
the scope of this document.[¶](#section-4.2-11){.pilcrow}

Note that not mixing DetNet and non-DetNet traffic within a single
5-tuple, as described above, enables simpler 5-tuple filters to be used
(or reused) at the edges of a DetNet network to prevent
non-congestion-responsive DetNet traffic from escaping the DetNet
domain.[¶](#section-4.2-12){.pilcrow}
:::
:::

::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [Forwarding Sub-Layer Considerations](#name-forwarding-sub-layer-consid){.section-name .selfRef} {#name-forwarding-sub-layer-consid}

::: {#section-4.3.1 .section}
#### [4.3.1.](#section-4.3.1){.section-number .selfRef} [Class of Service](#name-class-of-service){.section-name .selfRef} {#name-class-of-service}

Class of Service (CoS) for DetNet flows carried in IPv4 and IPv6 is
provided using the standard DSCP field \[[RFC2474](#RFC2474){.xref}\]
and related mechanisms.[¶](#section-4.3.1-1){.pilcrow}

One additional consideration for DetNet nodes that support CoS services
is that they must ensure that the CoS service classes do not impact the
congestion protection and latency control mechanisms used to provide
DetNet QoS. This requirement is similar to the requirement for MPLS
Label Switching Routers (LSRs) that CoS LSPs cannot impact the resources
allocated to TE LSPs
\[[RFC3473](#RFC3473){.xref}\].[¶](#section-4.3.1-2){.pilcrow}
:::

::: {#QoS}
::: {#section-4.3.2 .section}
#### [4.3.2.](#section-4.3.2){.section-number .selfRef} [Quality of Service](#name-quality-of-service){.section-name .selfRef} {#name-quality-of-service}

Quality of Service (QoS) for DetNet service flows carried in IP must be
provided locally by the DetNet-aware hosts and routers supporting DetNet
flows. Such support leverages the underlying network layer such as 802.1
TSN. The node-internal traffic control mechanisms used to deliver QoS
for IP-encapsulated DetNet flows are outside the scope of this document.
From an encapsulation perspective, the combination of the 6-tuple (the
typical 5-tuple enhanced with the DSCP) and optionally the flow label
uniquely identifies a DetNet IP flow.[¶](#section-4.3.2-1){.pilcrow}

Packets that are identified as part of a DetNet IP flow but that have
not been the subject of a completed reservation can disrupt the QoS
offered to properly reserved DetNet flows by using resources allocated
to the reserved flows. Therefore, the network nodes of a DetNet network
[MUST]{.bcp14} ensure that no DetNet-allocated resource, e.g., queue or
shaper, is used by such flows. There are multiple methods that may be
used by an implementation to defend service delivery to reserved DetNet
flows, including but not limited to:[¶](#section-4.3.2-2){.pilcrow}

-   [Treating packets associated with an incomplete reservation as
    non-DetNet
    traffic.[¶](#section-4.3.2-3.1){.pilcrow}]{#section-4.3.2-3.1}
-   [Discarding packets associated with an incomplete
    reservation.[¶](#section-4.3.2-3.2){.pilcrow}]{#section-4.3.2-3.2}
-   [Re-marking packets associated with an incomplete reservation.
    Re-marking can be accomplished by changing the value of the DSCP
    field to a value that results in the packet no longer matching any
    other reserved DetNet IP
    flow.[¶](#section-4.3.2-3.3){.pilcrow}]{#section-4.3.2-3.3}
:::
:::

::: {#path}
::: {#section-4.3.3 .section}
#### [4.3.3.](#section-4.3.3){.section-number .selfRef} [Path Selection](#name-path-selection){.section-name .selfRef} {#name-path-selection}

While path selection algorithms and mechanisms are out of the scope of
the DetNet data plane definition, it is important to highlight the
implications of DetNet IP flow identification on path selection and next
hops. As mentioned above, the DetNet IP data plane identifies flows
using 6-tuple header information as well as the optional (flow label)
header field. DetNet generally allows for both flow-specific traffic
treatment and flow-specific next hops.[¶](#section-4.3.3-1){.pilcrow}

In non-DetNet IP forwarding, it is generally assumed that the same
series of next hops, i.e., the same path, will be used for a particular
5-tuple or, in some cases (e.g., \[[RFC5120](#RFC5120){.xref}\]), for a
particular 6-tuple. Using different next hops for different 5-tuples
does not take any special consideration for DetNet-aware
applications.[¶](#section-4.3.3-2){.pilcrow}

Care should be taken when using different next hops for the same
5-tuple. As discussed in \[[RFC7657](#RFC7657){.xref}\], unexpected
behavior can occur when a single 5-tuple application flow experiences
reordering due to being split across multiple next hops. Understanding
of the application and transport protocol impact of using different next
hops for the same 5-tuple is required. Again, this only indirectly
impacts path selection for DetNet flows and this
document.[¶](#section-4.3.3-3){.pilcrow}
:::
:::
:::

::: {#aggregation}
::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [DetNet Flow Aggregation](#name-detnet-flow-aggregation){.section-name .selfRef} {#name-detnet-flow-aggregation}

As described in \[[RFC8938](#RFC8938){.xref}\], the ability to aggregate
individual flows and their associated resource control into a larger
aggregate is an important technique for improving scaling by reducing
the state per hop. DetNet IP data plane aggregation can take place
within a single node, when that node maintains state about both the
aggregated and individual flows. It can also take place between nodes,
when one node maintains state about only flow aggregates while the other
node maintains state on all or a portion of the component flows. In
either case, the management or control function that provisions the
aggregate flows must ensure that adequate resources are allocated and
configured to provide the combined service requirements of the
individual flows. As DetNet is concerned about latency and jitter, more
than just bandwidth needs to be considered.[¶](#section-4.4-1){.pilcrow}

From a single node perspective, the aggregation of IP flows impacts
DetNet IP data plane flow identification and resource allocation. As
discussed above, IP flow identification uses the IP 6-tuple for flow
identification. DetNet IP flows can be aggregated using any of the
6-tuple fields and optionally also by the flow label. The use of
prefixes, wildcards, lists, and value ranges allows a DetNet node to
identify aggregate DetNet flows. From a resource allocation perspective,
DetNet nodes ought to provide service to an aggregate rather than on a
component flow basis.[¶](#section-4.4-2){.pilcrow}

It is the responsibility of the DetNet Controller Plane to properly
provision the use of these aggregation mechanisms. This includes
ensuring that aggregated flows have compatible (e.g., the same or very
similar) QoS and/or CoS characteristics; see [Section
4.3.2](#QoS){.xref}. It also includes ensuring that per-component-flow
service requirements are satisfied by the aggregate; see [Section
5.3](#ip-svc){.xref}.[¶](#section-4.4-3){.pilcrow}

The DetNet Controller Plane [MUST]{.bcp14} ensure that
non-congestion-responsive DetNet traffic is not forwarded outside a
DetNet domain.[¶](#section-4.4-4){.pilcrow}
:::
:::

::: {#section-4.5 .section}
### [4.5.](#section-4.5){.section-number .selfRef} [Bidirectional Traffic](#name-bidirectional-traffic){.section-name .selfRef} {#name-bidirectional-traffic}

While the DetNet IP data plane must support bidirectional DetNet flows,
there are no special bidirectional features within the data plane. The
special case of co-routed bidirectional DetNet flows is solely
represented at the management and control plane levels, without specific
support or knowledge within the DetNet data plane. Fate sharing and
associated or co-routed bidirectional flows can be managed at the
control level.[¶](#section-4.5-1){.pilcrow}

Control and management mechanisms need to support bidirectional flows,
but the specification of such mechanisms is out of the scope of this
document. An example control plane solution for MPLS can be found in
\[[RFC7551](#RFC7551){.xref}\].[¶](#section-4.5-2){.pilcrow}
:::
:::
:::

::: {#ip-procs}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [DetNet IP Data Plane Procedures](#name-detnet-ip-data-plane-proced){.section-name .selfRef} {#name-detnet-ip-data-plane-proced}

This section provides DetNet IP data plane procedures. These procedures
have been divided into the following areas: flow identification,
forwarding, and traffic treatment. Flow identification includes those
procedures related to matching IP-layer and higher-layer protocol header
information to DetNet flow (state) information and service requirements.
Flow identification is also sometimes called \"traffic classification\";
for example, see \[[RFC5777](#RFC5777){.xref}\]. Forwarding includes
those procedures related to next-hop selection and delivery. Traffic
treatment includes those procedures related to providing an identified
flow with the required DetNet service.[¶](#section-5-1){.pilcrow}

DetNet IP data plane establishment and operational procedures also have
requirements on the control and management systems for DetNet flows, and
these are referred to in this section. Specifically, this section
identifies a number of information elements that require support via the
management and control interfaces supported by a DetNet node. The
specific mechanism used for such support is out of the scope of this
document. A summary of the requirements for management- and
control-related information is included. Conformance language is not
used in the summary, since it applies to future mechanisms such as those
that may be provided in YANG models
\[[DetNet-YANG](#I-D.ietf-detnet-yang){.xref}\].[¶](#section-5-2){.pilcrow}

::: {#ip-flow-id}
::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [DetNet IP Flow Identification Procedures](#name-detnet-ip-flow-identificati){.section-name .selfRef} {#name-detnet-ip-flow-identificati}

IP-layer and higher-layer protocol header information is used to
identify DetNet flows. All DetNet implementations that support this
document [MUST]{.bcp14} identify individual DetNet flows based on the
set of information identified in this section. Note that additional
requirements for flow identification, e.g., to support other
higher-layer protocols, may be defined in the
future.[¶](#section-5.1-1){.pilcrow}

The configuration and control information used to identify an individual
DetNet flow [MUST]{.bcp14} be ordered by an implementation.
Implementations [MUST]{.bcp14} support a fixed order when identifying
flows and [MUST]{.bcp14} identify a DetNet flow by the first set of
matching flow information.[¶](#section-5.1-2){.pilcrow}

Implementations of this document [MUST]{.bcp14} support DetNet flow
identification when the implementation is acting as a DetNet end system,
a relay node, or an edge node.[¶](#section-5.1-3){.pilcrow}

::: {#ip-hdr}
::: {#section-5.1.1 .section}
#### [5.1.1.](#section-5.1.1){.section-number .selfRef} [IP Header Information](#name-ip-header-information){.section-name .selfRef} {#name-ip-header-information}

Implementations of this document [MUST]{.bcp14} support DetNet flow
identification based on IP header information. The IPv4 header is
defined in \[[RFC0791](#RFC0791){.xref}\], and the IPv6 is defined in
\[[RFC8200](#RFC8200){.xref}\].[¶](#section-5.1.1-1){.pilcrow}

::: {#section-5.1.1.1 .section}
##### [5.1.1.1.](#section-5.1.1.1){.section-number .selfRef} [Source Address Field](#name-source-address-field){.section-name .selfRef} {#name-source-address-field}

Implementations of this document [MUST]{.bcp14} support DetNet flow
identification based on the Source Address field of an IP packet.
Implementations [SHOULD]{.bcp14} support longest prefix matching for
this field (see \[[RFC1812](#RFC1812){.xref}\] and
\[[RFC7608](#RFC7608){.xref}\]). Note that a prefix length of zero (0)
effectively means that the field is
ignored.[¶](#section-5.1.1.1-1){.pilcrow}
:::

::: {#section-5.1.1.2 .section}
##### [5.1.1.2.](#section-5.1.1.2){.section-number .selfRef} [Destination Address Field](#name-destination-address-field){.section-name .selfRef} {#name-destination-address-field}

Implementations of this document [MUST]{.bcp14} support DetNet flow
identification based on the Destination Address field of an IP packet.
Implementations [SHOULD]{.bcp14} support longest prefix matching for
this field (see \[[RFC1812](#RFC1812){.xref}\] and
\[[RFC7608](#RFC7608){.xref}\]). Note that a prefix length of zero (0)
effectively means that the field is
ignored.[¶](#section-5.1.1.2-1){.pilcrow}

Note: Any IP address value is allowed, including an IP multicast
destination address.[¶](#section-5.1.1.2-2.1){.pilcrow}
:::

::: {#nxt-proto-field}
::: {#section-5.1.1.3 .section}
##### [5.1.1.3.](#section-5.1.1.3){.section-number .selfRef} [IPv4 Protocol and IPv6 Next Header Fields](#name-ipv4-protocol-and-ipv6-next){.section-name .selfRef} {#name-ipv4-protocol-and-ipv6-next}

Implementations of this document [MUST]{.bcp14} support DetNet flow
identification based on the IPv4 Protocol field when processing IPv4
packets and the IPv6 Next Header field when processing IPv6 packets.
This includes the next protocol values defined in [Section
5.1.2](#nxt-proto){.xref} and any other value, including zero.
Implementations [SHOULD]{.bcp14} allow for these fields to be ignored
for a specific DetNet flow.[¶](#section-5.1.1.3-1){.pilcrow}
:::
:::

::: {#section-5.1.1.4 .section}
##### [5.1.1.4.](#section-5.1.1.4){.section-number .selfRef} [IPv4 Type of Service and IPv6 Traffic Class Fields](#name-ipv4-type-of-service-and-ip){.section-name .selfRef} {#name-ipv4-type-of-service-and-ip}

These fields are used to support differentiated services
\[[RFC2474](#RFC2474){.xref}\] \[[RFC2475](#RFC2475){.xref}\].
Implementations of this document [MUST]{.bcp14} support DetNet flow
identification based on the DSCP field in the IPv4 Type of Service field
when processing IPv4 packets and the DSCP field in the IPv6 Traffic
Class field when processing IPv6 packets. Implementations [MUST]{.bcp14}
support list-based matching of DSCP values, where the list is composed
of possible field values that are to be considered when identifying a
specific DetNet flow. Implementations [SHOULD]{.bcp14} allow for this
field to be ignored for a specific DetNet
flow.[¶](#section-5.1.1.4-1){.pilcrow}
:::

::: {#section-5.1.1.5 .section}
##### [5.1.1.5.](#section-5.1.1.5){.section-number .selfRef} [IPv6 Flow Label Field](#name-ipv6-flow-label-field){.section-name .selfRef} {#name-ipv6-flow-label-field}

Implementations of this document [SHOULD]{.bcp14} support identification
of DetNet flows based on the IPv6 Flow Label field. Implementations that
support matching based on this field [MUST]{.bcp14} allow for it to be
ignored for a specific DetNet flow. When this field is used to identify
a specific DetNet flow, implementations [MAY]{.bcp14} exclude the IPv6
Next Header field and next header information as part of DetNet flow
identification.[¶](#section-5.1.1.5-1){.pilcrow}
:::
:::
:::

::: {#nxt-proto}
::: {#section-5.1.2 .section}
#### [5.1.2.](#section-5.1.2){.section-number .selfRef} [Other Protocol Header Information](#name-other-protocol-header-infor){.section-name .selfRef} {#name-other-protocol-header-infor}

Implementations of this document [MUST]{.bcp14} support DetNet flow
identification based on header information identified in this section.
Support for TCP, UDP, ICMP, and IPsec flows is defined. Future documents
are expected to define support for other
protocols.[¶](#section-5.1.2-1){.pilcrow}

::: {#section-5.1.2.1 .section}
##### [5.1.2.1.](#section-5.1.2.1){.section-number .selfRef} [TCP and UDP](#name-tcp-and-udp){.section-name .selfRef} {#name-tcp-and-udp}

DetNet flow identification for TCP \[[RFC0793](#RFC0793){.xref}\] and
UDP \[[RFC0768](#RFC0768){.xref}\] is achieved based on the Source and
Destination Port fields carried in each protocol\'s header. These fields
share a common format and common DetNet flow identification
procedures.[¶](#section-5.1.2.1-1){.pilcrow}

The rules defined in this section only apply when the IPv4 Protocol or
IPv6 Next Header field contains the IANA-defined value for UDP or
TCP.[¶](#section-5.1.2.1-2){.pilcrow}

::: {#section-5.1.2.1.1 .section}
###### [5.1.2.1.1.](#section-5.1.2.1.1){.section-number .selfRef} [Source Port Field](#name-source-port-field){.section-name .selfRef} {#name-source-port-field}

Implementations of this document [MUST]{.bcp14} support DetNet flow
identification based on the Source Port field of a TCP or UDP packet.
Implementations [MUST]{.bcp14} support flow identification based on a
particular value carried in the field, i.e., an exact value.
Implementations [SHOULD]{.bcp14} support range-based port matching.
Implementation [MUST]{.bcp14} also allow for the field to be ignored for
a specific DetNet flow.[¶](#section-5.1.2.1.1-1){.pilcrow}
:::

::: {#section-5.1.2.1.2 .section}
###### [5.1.2.1.2.](#section-5.1.2.1.2){.section-number .selfRef} [Destination Port Field](#name-destination-port-field){.section-name .selfRef} {#name-destination-port-field}

Implementations of this document [MUST]{.bcp14} support DetNet flow
identification based on the Destination Port field of a TCP or UDP
packet. Implementations [MUST]{.bcp14} support flow identification based
on a particular value carried in the field, i.e., an exact value.
Implementations [SHOULD]{.bcp14} support range-based port matching.
Implementation [MUST]{.bcp14} also allow for the field to be ignored for
a specific DetNet flow.[¶](#section-5.1.2.1.2-1){.pilcrow}
:::
:::

::: {#section-5.1.2.2 .section}
##### [5.1.2.2.](#section-5.1.2.2){.section-number .selfRef} [ICMP](#name-icmp){.section-name .selfRef} {#name-icmp}

DetNet flow identification for ICMP \[[RFC0792](#RFC0792){.xref}\] is
achieved based on the protocol number in the IP header. Note that ICMP
type is not included in the flow
definition.[¶](#section-5.1.2.2-1){.pilcrow}
:::

::: {#section-5.1.2.3 .section}
##### [5.1.2.3.](#section-5.1.2.3){.section-number .selfRef} [IPsec AH and ESP](#name-ipsec-ah-and-esp){.section-name .selfRef} {#name-ipsec-ah-and-esp}

IPsec Authentication Header (AH) \[[RFC4302](#RFC4302){.xref}\] and
Encapsulating Security Payload (ESP) \[[RFC4303](#RFC4303){.xref}\]
share a common format for the Security Parameters Index (SPI) field.
Implementations [MUST]{.bcp14} support flow identification based on a
particular value carried in the field, i.e., an exact value.
Implementations [SHOULD]{.bcp14} also allow for the field to be ignored
for a specific DetNet flow.[¶](#section-5.1.2.3-1){.pilcrow}

The rules defined in this section only apply when the IPv4 Protocol or
IPv6 Next Header field contains the IANA-defined value for AH or
ESP.[¶](#section-5.1.2.3-2){.pilcrow}
:::
:::
:::
:::
:::

::: {#ip-fwd}
::: {#section-5.2 .section}
### [5.2.](#section-5.2){.section-number .selfRef} [Forwarding Procedures](#name-forwarding-procedures){.section-name .selfRef} {#name-forwarding-procedures}

General requirements for IP nodes are defined in
\[[RFC1122](#RFC1122){.xref}\], \[[RFC1812](#RFC1812){.xref}\], and
\[[RFC8504](#RFC8504){.xref}\] and are not modified by this document.
The typical next-hop selection process is impacted by DetNet.
Specifically, implementations of this document [SHALL]{.bcp14} use
management and control information to select the one or more outgoing
interfaces and next hops to be used for a packet associated with a
DetNet flow. Specific management and control information will be defined
in future documents, e.g.,
\[[DetNet-YANG](#I-D.ietf-detnet-yang){.xref}\].[¶](#section-5.2-1){.pilcrow}

The use of multiple paths or links, e.g., ECMP, to support a single
DetNet flow is [NOT RECOMMENDED]{.bcp14}. ECMP [MAY]{.bcp14} be used for
non-DetNet flows within a DetNet domain.[¶](#section-5.2-2){.pilcrow}

The above implies that management and control functions will be defined
to support this requirement, e.g., see
\[[DetNet-YANG](#I-D.ietf-detnet-yang){.xref}\].[¶](#section-5.2-3){.pilcrow}
:::
:::

::: {#ip-svc}
::: {#section-5.3 .section}
### [5.3.](#section-5.3){.section-number .selfRef} [DetNet IP Traffic Treatment Procedures](#name-detnet-ip-traffic-treatment){.section-name .selfRef} {#name-detnet-ip-traffic-treatment}

Implementations of this document must ensure that a DetNet flow receives
the traffic treatment that is provisioned for it via configuration or
the Controller Plane, e.g., via
\[[DetNet-YANG](#I-D.ietf-detnet-yang){.xref}\]. General information on
DetNet service can be found in
\[[DetNet-Flow-Info](#I-D.ietf-detnet-flow-information-model){.xref}\].
Typical mechanisms used to provide different treatment to different
flows include the allocation of system resources (such as queues and
buffers) and provisioning of related parameters (such as shaping and
policing). Support can also be provided via an underlying network
technology such as MPLS
\[[DetNet-IP-over-MPLS](#I-D.ietf-detnet-ip-over-mpls){.xref}\] or IEEE
802.1 TSN \[[DetNet-IP-over-TSN](#I-D.ietf-detnet-ip-over-tsn){.xref}\].
Other mechanisms than the ones used in the TSN case are outside the
scope of this document.[¶](#section-5.3-1){.pilcrow}
:::
:::
:::
:::

::: {#ip-flow-id-info}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [Management and Control Information Summary](#name-management-and-control-info){.section-name .selfRef} {#name-management-and-control-info}

The following summarizes the set of information that is needed to
identify individual and aggregated DetNet
flows:[¶](#section-6-1){.pilcrow}

-   [IPv4 and IPv6 Source Address
    field.[¶](#section-6-2.1){.pilcrow}]{#section-6-2.1}

-   [IPv4 and IPv6 source address prefix length, where a zero (0) value
    effectively means that the Source Address field is
    ignored.[¶](#section-6-2.2){.pilcrow}]{#section-6-2.2}

-   [IPv4 and IPv6 Destination Address
    field.[¶](#section-6-2.3){.pilcrow}]{#section-6-2.3}

-   [IPv4 and IPv6 destination address prefix length, where a zero (0)
    value effectively means that the Destination Address field is
    ignored.[¶](#section-6-2.4){.pilcrow}]{#section-6-2.4}

-   [IPv4 Protocol field. A limited set of values is allowed, and the
    ability to ignore this field is
    desirable.[¶](#section-6-2.5){.pilcrow}]{#section-6-2.5}

-   [IPv6 Next Header field. A limited set of values is allowed, and the
    ability to ignore this field is
    desirable.[¶](#section-6-2.6){.pilcrow}]{#section-6-2.6}

-   ::: {#section-6-2.7}
    For the IPv4 Type of Service and IPv6 Traffic Class
    fields:[¶](#section-6-2.7.1){.pilcrow}

    -   [Whether or not the DSCP field is used in flow identification.
        Use of the DSCP field for flow identification is
        optional.[¶](#section-6-2.7.2.1){.pilcrow}]{#section-6-2.7.2.1}
    -   [If the DSCP field is used to identify a flow, then the flow
        identification information (for that flow) includes a list of
        DSCPs used by that
        flow.[¶](#section-6-2.7.2.2){.pilcrow}]{#section-6-2.7.2.2}
    :::

-   [IPv6 Flow Label field. This field can be optionally used for
    matching. When used, this field can be used instead of matching
    against the Next Header
    field.[¶](#section-6-2.8){.pilcrow}]{#section-6-2.8}

-   [TCP and UDP Source Port. Support for both exact and wildcard
    matching is required. Port ranges can optionally be
    used.[¶](#section-6-2.9){.pilcrow}]{#section-6-2.9}

-   [TCP and UDP Destination Port. Support for both exact and wildcard
    matching is required. Port ranges can optionally be
    used.[¶](#section-6-2.10){.pilcrow}]{#section-6-2.10}

-   [IPsec Header SPI field. Exact matching is required. Support for
    wildcard matching is
    recommended.[¶](#section-6-2.11){.pilcrow}]{#section-6-2.11}

-   [For end systems, an optional maximum IP packet size that should be
    used for that outgoing DetNet IP
    flow.[¶](#section-6-2.12){.pilcrow}]{#section-6-2.12}

This information [MUST]{.bcp14} be provisioned per DetNet flow via
configuration, e.g., via the Controller Plane or the management
plane.[¶](#section-6-3){.pilcrow}

An implementation [MUST]{.bcp14} support ordering of the set of
information used to identify an individual DetNet flow. This can, for
example, be used to provide a DetNet service for a specific UDP flow,
with unique Source and Destination Port field values, while providing a
different service for the aggregate of all other flows with that same
UDP Destination Port value.[¶](#section-6-4){.pilcrow}

It is the responsibility of the DetNet Controller Plane to properly
provision both flow identification information and the flow-specific
resources needed to provide the traffic treatment needed to meet each
flow\'s service requirements. This applies for aggregated and individual
flows.[¶](#section-6-5){.pilcrow}
:::
:::

::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

Detailed security considerations for DetNet are cataloged in
\[[DetNet-Security](#DetNet-Security){.xref}\], and more general
security considerations are described in \[[RFC8655](#RFC8655){.xref}\].
This section exclusively considers security considerations that are
specific to the DetNet IP data plane.[¶](#section-7-1){.pilcrow}

Security aspects that are unique to DetNet are those whose aim is to
provide the specific QoS aspects of DetNet, which are primarily to
deliver data flows with extremely low packet loss rates and bounded
end-to-end delivery latency. Achieving such loss rates and bounded
latency may not be possible in the face of a highly capable adversary,
such as the one envisioned by the Internet Threat Model of BCP 72
\[[RFC3552](#RFC3552){.xref}\] that can arbitrarily drop or delay any or
all traffic. In order to present meaningful security considerations, we
consider a somewhat weaker attacker who does not control the physical
links of the DetNet domain but may have the ability to control a network
node within the boundary of the DetNet
domain.[¶](#section-7-2){.pilcrow}

The primary consideration for the DetNet data plane is to maintain
integrity of data and delivery of the associated DetNet service
traversing the DetNet network. Since no DetNet-specific fields are
available in the DetNet IP data plane, the integrity and confidentiality
of application flows can be protected through whatever means are
provided by the underlying technology. For example, encryption may be
used, such as that provided by IPsec \[[RFC4301](#RFC4301){.xref}\] for
IP flows and/or by an underlying sub-network using MACsec
\[[IEEE802.1AE-2018](#IEEE802.1AE-2018){.xref}\] for IP over Ethernet
(Layer 2) flows.[¶](#section-7-3){.pilcrow}

From a data plane perspective, this document does not add or modify any
header information.[¶](#section-7-4){.pilcrow}

At the management and control level, DetNet flows are identified on a
per-flow basis, which may provide Controller Plane attackers with
additional information about the data flows (when compared to Controller
Planes that do not include per-flow identification). This is an inherent
property of DetNet that has security implications that should be
considered when determining if DetNet is a suitable technology for any
given use case.[¶](#section-7-5){.pilcrow}

To provide uninterrupted availability of the DetNet service, provisions
can be made against DoS attacks and delay attacks. To protect against
DoS attacks, excess traffic due to malicious or malfunctioning devices
can be prevented or mitigated \-- for example, through the use of
existing mechanisms such as policing and shaping applied at the input of
a DetNet domain or within an edge IEEE 802.1 TSN domain. To prevent
DetNet packets from being delayed by an entity external to a DetNet
domain, DetNet technology definitions can allow for the mitigation of
man-in-the-middle attacks \-- for example, through the use of
authentication and authorization of devices within the DetNet
domain.[¶](#section-7-6){.pilcrow}
:::

::: {#iana}
::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document has no IANA actions.[¶](#section-8-1){.pilcrow}
:::
:::

::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-9.1 .section}
### [9.1.](#section-9.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC0768\]
:   [Postel, J.]{.refAuthor}, [\"User Datagram Protocol\"]{.refTitle},
    [STD 6]{.seriesInfo}, [RFC 768]{.seriesInfo}, [DOI
    10.17487/RFC0768]{.seriesInfo}, August 1980,
    \<<https://www.rfc-editor.org/info/rfc768>\>.
:   

\[RFC0791\]
:   [Postel, J.]{.refAuthor}, [\"Internet Protocol\"]{.refTitle}, [STD
    5]{.seriesInfo}, [RFC 791]{.seriesInfo}, [DOI
    10.17487/RFC0791]{.seriesInfo}, September 1981,
    \<<https://www.rfc-editor.org/info/rfc791>\>.
:   

\[RFC0792\]
:   [Postel, J.]{.refAuthor}, [\"Internet Control Message
    Protocol\"]{.refTitle}, [STD 5]{.seriesInfo}, [RFC
    792]{.seriesInfo}, [DOI 10.17487/RFC0792]{.seriesInfo}, September
    1981, \<<https://www.rfc-editor.org/info/rfc792>\>.
:   

\[RFC0793\]
:   [Postel, J.]{.refAuthor}, [\"Transmission Control
    Protocol\"]{.refTitle}, [STD 7]{.seriesInfo}, [RFC
    793]{.seriesInfo}, [DOI 10.17487/RFC0793]{.seriesInfo}, September
    1981, \<<https://www.rfc-editor.org/info/rfc793>\>.
:   

\[RFC1812\]
:   [Baker, F., Ed.]{.refAuthor}, [\"Requirements for IP Version 4
    Routers\"]{.refTitle}, [RFC 1812]{.seriesInfo}, [DOI
    10.17487/RFC1812]{.seriesInfo}, June 1995,
    \<<https://www.rfc-editor.org/info/rfc1812>\>.
:   

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC2474\]
:   [Nichols, K.]{.refAuthor}[, Blake, S.]{.refAuthor}[,
    Baker, F.]{.refAuthor}[, and D. Black]{.refAuthor}, [\"Definition of
    the Differentiated Services Field (DS Field) in the IPv4 and IPv6
    Headers\"]{.refTitle}, [RFC 2474]{.seriesInfo}, [DOI
    10.17487/RFC2474]{.seriesInfo}, December 1998,
    \<<https://www.rfc-editor.org/info/rfc2474>\>.
:   

\[RFC4301\]
:   [Kent, S.]{.refAuthor}[ and K. Seo]{.refAuthor}, [\"Security
    Architecture for the Internet Protocol\"]{.refTitle}, [RFC
    4301]{.seriesInfo}, [DOI 10.17487/RFC4301]{.seriesInfo}, December
    2005, \<<https://www.rfc-editor.org/info/rfc4301>\>.
:   

\[RFC4302\]
:   [Kent, S.]{.refAuthor}, [\"IP Authentication Header\"]{.refTitle},
    [RFC 4302]{.seriesInfo}, [DOI 10.17487/RFC4302]{.seriesInfo},
    December 2005, \<<https://www.rfc-editor.org/info/rfc4302>\>.
:   

\[RFC4303\]
:   [Kent, S.]{.refAuthor}, [\"IP Encapsulating Security Payload
    (ESP)\"]{.refTitle}, [RFC 4303]{.seriesInfo}, [DOI
    10.17487/RFC4303]{.seriesInfo}, December 2005,
    \<<https://www.rfc-editor.org/info/rfc4303>\>.
:   

\[RFC7608\]
:   [Boucadair, M.]{.refAuthor}[, Petrescu, A.]{.refAuthor}[, and F.
    Baker]{.refAuthor}, [\"IPv6 Prefix Length Recommendation for
    Forwarding\"]{.refTitle}, [BCP 198]{.seriesInfo}, [RFC
    7608]{.seriesInfo}, [DOI 10.17487/RFC7608]{.seriesInfo}, July 2015,
    \<<https://www.rfc-editor.org/info/rfc7608>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8200\]
:   [Deering, S.]{.refAuthor}[ and R. Hinden]{.refAuthor}, [\"Internet
    Protocol, Version 6 (IPv6) Specification\"]{.refTitle}, [STD
    86]{.seriesInfo}, [RFC 8200]{.seriesInfo}, [DOI
    10.17487/RFC8200]{.seriesInfo}, July 2017,
    \<<https://www.rfc-editor.org/info/rfc8200>\>.
:   

\[RFC8655\]
:   [Finn, N.]{.refAuthor}[, Thubert, P.]{.refAuthor}[,
    Varga, B.]{.refAuthor}[, and J. Farkas]{.refAuthor},
    [\"Deterministic Networking Architecture\"]{.refTitle}, [RFC
    8655]{.seriesInfo}, [DOI 10.17487/RFC8655]{.seriesInfo}, October
    2019, \<<https://www.rfc-editor.org/info/rfc8655>\>.
:   

\[RFC8938\]
:   [Varga, B., Ed.]{.refAuthor}[, Farkas, J.]{.refAuthor}[,
    Berger, L.]{.refAuthor}[, Malis, A.]{.refAuthor}[, and S.
    Bryant]{.refAuthor}, [\"Deterministic Networking (DetNet) Data Plane
    Framework\"]{.refTitle}, [RFC 8938]{.seriesInfo}, [DOI
    10.17487/RFC8938]{.seriesInfo}, November 2020,
    \<<https://www.rfc-editor.org/rfc/rfc8938>\>.
:   
:::

::: {#section-9.2 .section}
### [9.2.](#section-9.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[DetNet-Flow-Info\]
:   [Varga, B.]{.refAuthor}[, Farkas, J.]{.refAuthor}[,
    Cummings, R.]{.refAuthor}[, Jiang, Y.]{.refAuthor}[, and D.
    Fedyk]{.refAuthor}, [\"DetNet Flow Information Model\"]{.refTitle},
    [Work in Progress]{.refContent}, [Internet-Draft,
    draft-ietf-detnet-flow-information-model-11]{.seriesInfo}, 21
    October 2020,
    \<<https://tools.ietf.org/html/draft-ietf-detnet-flow-information-model-11>\>.
:   

\[DetNet-IP-over-MPLS\]
:   [Varga, B., Ed.]{.refAuthor}[, Berger, L.]{.refAuthor}[,
    Fedyk, D.]{.refAuthor}[, Bryant, S.]{.refAuthor}[, and J.
    Korhonen]{.refAuthor}, [\"DetNet Data Plane: IP over
    MPLS\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-detnet-ip-over-mpls-09]{.seriesInfo}, 11
    October 2020,
    \<<https://tools.ietf.org/html/draft-ietf-detnet-ip-over-mpls-09>\>.
:   

\[DetNet-IP-over-TSN\]
:   [Varga, B., Ed.]{.refAuthor}[, Farkas, J.]{.refAuthor}[,
    Malis, A.]{.refAuthor}[, and S. Bryant]{.refAuthor}, [\"DetNet Data
    Plane: IP over IEEE 802.1 Time Sensitive Networking
    (TSN)\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-detnet-ip-over-tsn-04]{.seriesInfo}, 2
    November 2020,
    \<<https://tools.ietf.org/html/draft-ietf-detnet-ip-over-tsn-04>\>.
:   

\[DetNet-MPLS\]
:   [Varga, B., Ed.]{.refAuthor}[, Farkas, J.]{.refAuthor}[,
    Berger, L.]{.refAuthor}[, Malis, A.]{.refAuthor}[,
    Bryant, S.]{.refAuthor}[, and J. Korhonen]{.refAuthor}, [\"DetNet
    Data Plane: MPLS\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-detnet-mpls-13]{.seriesInfo}, 11 October
    2020, \<<https://tools.ietf.org/html/draft-ietf-detnet-mpls-13>\>.
:   

\[DetNet-Security\]
:   [Grossman, E., Ed.]{.refAuthor}[, Mizrahi, T.]{.refAuthor}[, and A.
    Hacker]{.refAuthor}, [\"Deterministic Networking (DetNet) Security
    Considerations\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-detnet-security-12]{.seriesInfo}, 2
    October 2020,
    \<<https://tools.ietf.org/html/draft-ietf-detnet-security-12>\>.
:   

\[DetNet-TSN-over-MPLS\]
:   [Varga, B., Ed.]{.refAuthor}[, Farkas, J.]{.refAuthor}[,
    Malis, A.]{.refAuthor}[, Bryant, S.]{.refAuthor}[, and D.
    Fedyk]{.refAuthor}, [\"DetNet Data Plane: IEEE 802.1 Time Sensitive
    Networking over MPLS\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft,
    draft-ietf-detnet-tsn-vpn-over-mpls-04]{.seriesInfo}, 2 November
    2020,
    \<<https://tools.ietf.org/html/draft-ietf-detnet-tsn-vpn-over-mpls-04>\>.
:   

\[DetNet-YANG\]
:   [Geng, X.]{.refAuthor}[, Chen, M.]{.refAuthor}[,
    Ryoo, Y.]{.refAuthor}[, Fedyk, D.]{.refAuthor}[,
    Rahman, R.]{.refAuthor}[, and Z. Li]{.refAuthor}, [\"Deterministic
    Networking (DetNet) Configuration YANG Model\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-ietf-detnet-yang-09]{.seriesInfo}, 16 November 2020,
    \<<https://tools.ietf.org/html/draft-ietf-detnet-yang-09>\>.
:   

\[IEEE802.1AE-2018\]
:   [IEEE]{.refAuthor}, [\"IEEE Standard for Local and metropolitan area
    networks-Media Access Control (MAC) Security\"]{.refTitle}, [IEEE
    802.1AE-2018]{.seriesInfo}, [DOI
    10.1109/IEEESTD.2018.8585421]{.seriesInfo}, December 2018,
    \<<https://ieeexplore.ieee.org/document/8585421>\>.
:   

\[IEEE802.1TSNTG\]
:   [IEEE]{.refAuthor}, [\"Time-Sensitive Networking (TSN) Task
    Group\"]{.refTitle}, \<<https://1.ieee802.org/tsn/>\>.
:   

\[RFC1122\]
:   [Braden, R., Ed.]{.refAuthor}, [\"Requirements for Internet Hosts -
    Communication Layers\"]{.refTitle}, [STD 3]{.seriesInfo}, [RFC
    1122]{.seriesInfo}, [DOI 10.17487/RFC1122]{.seriesInfo}, October
    1989, \<<https://www.rfc-editor.org/info/rfc1122>\>.
:   

\[RFC1191\]
:   [Mogul, J.]{.refAuthor}[ and S. Deering]{.refAuthor}, [\"Path MTU
    discovery\"]{.refTitle}, [RFC 1191]{.seriesInfo}, [DOI
    10.17487/RFC1191]{.seriesInfo}, November 1990,
    \<<https://www.rfc-editor.org/info/rfc1191>\>.
:   

\[RFC2475\]
:   [Blake, S.]{.refAuthor}[, Black, D.]{.refAuthor}[,
    Carlson, M.]{.refAuthor}[, Davies, E.]{.refAuthor}[,
    Wang, Z.]{.refAuthor}[, and W. Weiss]{.refAuthor}, [\"An
    Architecture for Differentiated Services\"]{.refTitle}, [RFC
    2475]{.seriesInfo}, [DOI 10.17487/RFC2475]{.seriesInfo}, December
    1998, \<<https://www.rfc-editor.org/info/rfc2475>\>.
:   

\[RFC3290\]
:   [Bernet, Y.]{.refAuthor}[, Blake, S.]{.refAuthor}[,
    Grossman, D.]{.refAuthor}[, and A. Smith]{.refAuthor}, [\"An
    Informal Management Model for Diffserv Routers\"]{.refTitle}, [RFC
    3290]{.seriesInfo}, [DOI 10.17487/RFC3290]{.seriesInfo}, May 2002,
    \<<https://www.rfc-editor.org/info/rfc3290>\>.
:   

\[RFC3473\]
:   [Berger, L., Ed.]{.refAuthor}, [\"Generalized Multi-Protocol Label
    Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic
    Engineering (RSVP-TE) Extensions\"]{.refTitle}, [RFC
    3473]{.seriesInfo}, [DOI 10.17487/RFC3473]{.seriesInfo}, January
    2003, \<<https://www.rfc-editor.org/info/rfc3473>\>.
:   

\[RFC3552\]
:   [Rescorla, E.]{.refAuthor}[ and B. Korver]{.refAuthor},
    [\"Guidelines for Writing RFC Text on Security
    Considerations\"]{.refTitle}, [BCP 72]{.seriesInfo}, [RFC
    3552]{.seriesInfo}, [DOI 10.17487/RFC3552]{.seriesInfo}, July 2003,
    \<<https://www.rfc-editor.org/info/rfc3552>\>.
:   

\[RFC3670\]
:   [Moore, B.]{.refAuthor}[, Durham, D.]{.refAuthor}[,
    Strassner, J.]{.refAuthor}[, Westerinen, A.]{.refAuthor}[, and W.
    Weiss]{.refAuthor}, [\"Information Model for Describing Network
    Device QoS Datapath Mechanisms\"]{.refTitle}, [RFC
    3670]{.seriesInfo}, [DOI 10.17487/RFC3670]{.seriesInfo}, January
    2004, \<<https://www.rfc-editor.org/info/rfc3670>\>.
:   

\[RFC5120\]
:   [Przygienda, T.]{.refAuthor}[, Shen, N.]{.refAuthor}[, and N.
    Sheth]{.refAuthor}, [\"M-ISIS: Multi Topology (MT) Routing in
    Intermediate System to Intermediate Systems (IS-ISs)\"]{.refTitle},
    [RFC 5120]{.seriesInfo}, [DOI 10.17487/RFC5120]{.seriesInfo},
    February 2008, \<<https://www.rfc-editor.org/info/rfc5120>\>.
:   

\[RFC5777\]
:   [Korhonen, J.]{.refAuthor}[, Tschofenig, H.]{.refAuthor}[,
    Arumaithurai, M.]{.refAuthor}[, Jones, M., Ed.]{.refAuthor}[, and A.
    Lior]{.refAuthor}, [\"Traffic Classification and Quality of Service
    (QoS) Attributes for Diameter\"]{.refTitle}, [RFC
    5777]{.seriesInfo}, [DOI 10.17487/RFC5777]{.seriesInfo}, February
    2010, \<<https://www.rfc-editor.org/info/rfc5777>\>.
:   

\[RFC7551\]
:   [Zhang, F., Ed.]{.refAuthor}[, Jing, R.]{.refAuthor}[, and R.
    Gandhi, Ed.]{.refAuthor}, [\"RSVP-TE Extensions for Associated
    Bidirectional Label Switched Paths (LSPs)\"]{.refTitle}, [RFC
    7551]{.seriesInfo}, [DOI 10.17487/RFC7551]{.seriesInfo}, May 2015,
    \<<https://www.rfc-editor.org/info/rfc7551>\>.
:   

\[RFC7657\]
:   [Black, D., Ed.]{.refAuthor}[ and P. Jones]{.refAuthor},
    [\"Differentiated Services (Diffserv) and Real-Time
    Communication\"]{.refTitle}, [RFC 7657]{.seriesInfo}, [DOI
    10.17487/RFC7657]{.seriesInfo}, November 2015,
    \<<https://www.rfc-editor.org/info/rfc7657>\>.
:   

\[RFC8201\]
:   [McCann, J.]{.refAuthor}[, Deering, S.]{.refAuthor}[,
    Mogul, J.]{.refAuthor}[, and R. Hinden, Ed.]{.refAuthor}, [\"Path
    MTU Discovery for IP version 6\"]{.refTitle}, [STD 87]{.seriesInfo},
    [RFC 8201]{.seriesInfo}, [DOI 10.17487/RFC8201]{.seriesInfo}, July
    2017, \<<https://www.rfc-editor.org/info/rfc8201>\>.
:   

\[RFC8504\]
:   [Chown, T.]{.refAuthor}[, Loughney, J.]{.refAuthor}[, and T.
    Winters]{.refAuthor}, [\"IPv6 Node Requirements\"]{.refTitle}, [BCP
    220]{.seriesInfo}, [RFC 8504]{.seriesInfo}, [DOI
    10.17487/RFC8504]{.seriesInfo}, January 2019,
    \<<https://www.rfc-editor.org/info/rfc8504>\>.
:   
:::
:::

::: {#acks}
::: {#section-appendix.a .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The authors wish to thank [Pat Thaler]{.contact-name}, [Norman
Finn]{.contact-name}, [Loa Andersson]{.contact-name}, [David
Black]{.contact-name}, [Rodney Cummings]{.contact-name}, [Ethan
Grossman]{.contact-name}, [Tal Mizrahi]{.contact-name}, [David
Mozes]{.contact-name}, [Craig Gunther]{.contact-name}, [George
Swallow]{.contact-name}, [Yuanlong Jiang]{.contact-name}, and [Carlos J.
Bernardos]{.contact-name} for their various contributions to this work.
[David Black]{.contact-name} served as technical advisor to the DetNet
working group during the development of this document and provided many
valuable comments. IESG comments were provided by [Murray
Kucherawy]{.contact-name}, [Roman Danyliw]{.contact-name}, [Alvaro
Retana]{.contact-name}, [Benjamin Kaduk]{.contact-name}, [Rob
Wilton]{.contact-name}, and [Érik
Vyncke]{.contact-name}.[¶](#section-appendix.a-1){.pilcrow}
:::
:::

::: {#contrib}
::: {#section-appendix.b .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

The editor of this document wishes to thank and acknowledge the
following people who contributed substantially to the content of this
document and should be considered
coauthors:[¶](#section-appendix.b-1){.pilcrow}

::: {.left dir="auto"}
[Jouni Korhonen]{.fn .nameRole}
:::

::: email
Email: <jouni.nospam@gmail.com>
:::

::: {.left dir="auto"}
[Andrew G. Malis]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Malis Consulting]{.org}
:::

::: email
Email: <agmalis@gmail.com>
:::
:::
:::

::: {#authors-addresses}
::: {#section-appendix.c .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Balázs Varga ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Budapest]{.locality}
:::

::: {.left dir="auto"}
[Magyar Tudosok krt. 11.]{.street-address}
:::

::: {.left dir="auto"}
[1117]{.postal-code}
:::

::: {.left dir="auto"}
[Hungary]{.country-name}
:::

::: email
Email: <balazs.a.varga@ericsson.com>
:::

::: {.left dir="auto"}
[János Farkas]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Budapest]{.locality}
:::

::: {.left dir="auto"}
[Magyar Tudosok krt. 11.]{.street-address}
:::

::: {.left dir="auto"}
[1117]{.postal-code}
:::

::: {.left dir="auto"}
[Hungary]{.country-name}
:::

::: email
Email: <janos.farkas@ericsson.com>
:::

::: {.left dir="auto"}
[Lou Berger]{.fn .nameRole}
:::

::: {.left dir="auto"}
[LabN Consulting, L.L.C.]{.org}
:::

::: email
Email: <lberger@labn.net>
:::

::: {.left dir="auto"}
[Don Fedyk]{.fn .nameRole}
:::

::: {.left dir="auto"}
[LabN Consulting, L.L.C.]{.org}
:::

::: email
Email: <dfedyk@labn.net>
:::

::: {.left dir="auto"}
[Stewart Bryant]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Futurewei Technologies]{.org}
:::

::: email
Email: <sb@stewartbryant.com>
:::
:::
:::
