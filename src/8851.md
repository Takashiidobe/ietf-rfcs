  RFC 8851   RTP Restrictions   January 2021
  ---------- ------------------ --------------
  Roach      Standards Track    \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8851](https://www.rfc-editor.org/rfc/rfc8851){.eref}

Updates:
:   [4855](https://www.rfc-editor.org/rfc/rfc4855){.eref}

Category:
:   Standards Track

Published:
:   January 2021

ISSN:
:   2070-1721

Author:

:   ::: author
    ::: author-name
    A.B. Roach, [Ed.]{.editor}
    :::

    ::: org
    Mozilla
    :::
    :::
:::

# RFC 8851 {#rfcnum}

# RTP Payload Format Restrictions {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

In this specification, we define a framework for specifying restrictions
on RTP streams in the Session Description Protocol (SDP). This framework
defines a new \"rid\" (\"restriction identifier\") SDP attribute to
unambiguously identify the RTP streams within an RTP session and
restrict the streams\' payload format parameters in a codec-agnostic way
beyond what is provided with the regular payload
types.[¶](#section-abstract-1){.pilcrow}

This specification updates RFC 4855 to give additional guidance on
choice of Format Parameter (fmtp) names and their relation to the
restrictions defined by this document.[¶](#section-abstract-2){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8851>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2021 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Terminology](#name-terminology){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Key Words for
    Requirements](#name-key-words-for-requirements){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [SDP \"a=rid\" Media Level
    Attribute](#name-sdp-arid-media-level-attrib){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [\"a=rid\"
    Restrictions](#name-arid-restrictions){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [SDP Offer/Answer
    Procedures](#name-sdp-offer-answer-procedures){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [Generating the Initial SDP
        Offer](#name-generating-the-initial-sdp-){.xref}[¶](#section-toc.1-1.6.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [Answerer Processing the SDP
        Offer](#name-answerer-processing-the-sdp){.xref}[¶](#section-toc.1-1.6.2.2.1){.pilcrow}

        -   ::: {#section-toc.1-1.6.2.2.2.1}
            [6.2.1](#section-6.2.1){.xref}.  [\"a=rid\"-Unaware
            Answerer](#name-arid-unaware-answerer){.xref}[¶](#section-toc.1-1.6.2.2.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.6.2.2.2.2}
            [6.2.2](#section-6.2.2){.xref}.  [\"a=rid\"-Aware
            Answerer](#name-arid-aware-answerer){.xref}[¶](#section-toc.1-1.6.2.2.2.2.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.6.2.3}
        [6.3](#section-6.3){.xref}.  [Generating the SDP
        Answer](#name-generating-the-sdp-answer){.xref}[¶](#section-toc.1-1.6.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.4}
        [6.4](#section-6.4){.xref}.  [Offerer Processing of the SDP
        Answer](#name-offerer-processing-of-the-s){.xref}[¶](#section-toc.1-1.6.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.5}
        [6.5](#section-6.5){.xref}.  [Modifying the
        Session](#name-modifying-the-session){.xref}[¶](#section-toc.1-1.6.2.5.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [Use with Declarative
    SDP](#name-use-with-declarative-sdp){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Interaction with Other
    Techniques](#name-interaction-with-other-tech){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}

    -   ::: {#section-toc.1-1.8.2.1}
        [8.1](#section-8.1){.xref}.  [Interaction with VP8 Format
        Parameters](#name-interaction-with-vp8-format){.xref}[¶](#section-toc.1-1.8.2.1.1){.pilcrow}

        -   ::: {#section-toc.1-1.8.2.1.2.1}
            [8.1.1](#section-8.1.1){.xref}.  [max-fr - Maximum Frame
            Rate](#name-max-fr-maximum-frame-rate){.xref}[¶](#section-toc.1-1.8.2.1.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.8.2.1.2.2}
            [8.1.2](#section-8.1.2){.xref}.  [max-fs - Maximum Frame
            Size, in VP8
            Macroblocks](#name-max-fs-maximum-frame-size-i){.xref}[¶](#section-toc.1-1.8.2.1.2.2.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.8.2.2}
        [8.2](#section-8.2){.xref}.  [Interaction with H.264 Format
        Parameters](#name-interaction-with-h264-forma){.xref}[¶](#section-toc.1-1.8.2.2.1){.pilcrow}

        -   ::: {#section-toc.1-1.8.2.2.2.1}
            [8.2.1](#section-8.2.1){.xref}.  [profile-level-id and
            max-recv-level - Negotiated
            Subprofile](#name-profile-level-id-and-max-re){.xref}[¶](#section-toc.1-1.8.2.2.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.8.2.2.2.2}
            [8.2.2](#section-8.2.2){.xref}.  [max-br / MaxBR - Maximum
            Video
            Bitrate](#name-max-br-maxbr-maximum-video-){.xref}[¶](#section-toc.1-1.8.2.2.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.8.2.2.2.3}
            [8.2.3](#section-8.2.3){.xref}.  [max-fs / MaxFS - Maximum
            Frame Size, in H.264
            Macroblocks](#name-max-fs-maxfs-maximum-frame-){.xref}[¶](#section-toc.1-1.8.2.2.2.3.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.8.2.2.2.4}
            [8.2.4](#section-8.2.4){.xref}.  [max-mbps / MaxMBPS -
            Maximum Macroblock Processing
            Rate](#name-max-mbps-maxmbps-maximum-ma){.xref}[¶](#section-toc.1-1.8.2.2.2.4.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.8.2.2.2.5}
            [8.2.5](#section-8.2.5){.xref}.  [max-smbps - Maximum
            Decoded Picture
            Buffer](#name-max-smbps-maximum-decoded-p){.xref}[¶](#section-toc.1-1.8.2.2.2.5.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.8.2.3}
        [8.3](#section-8.3){.xref}.  [Redundancy Formats and Payload
        Type
        Restrictions](#name-redundancy-formats-and-payl){.xref}[¶](#section-toc.1-1.8.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [Format Parameters for Future
    Payloads](#name-format-parameters-for-futur){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.10}
    [10](#section-10){.xref}. [Formal
    Grammar](#name-formal-grammar){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.11}
    [11](#section-11){.xref}. [SDP
    Examples](#name-sdp-examples){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}

    -   ::: {#section-toc.1-1.11.2.1}
        [11.1](#section-11.1){.xref}.  [Many Bundled Streams Using Many
        Codecs](#name-many-bundled-streams-using-){.xref}[¶](#section-toc.1-1.11.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.11.2.2}
        [11.2](#section-11.2){.xref}.  [Scalable
        Layers](#name-scalable-layers){.xref}[¶](#section-toc.1-1.11.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.12}
    [12](#section-12){.xref}. [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.12.1){.pilcrow}

    -   ::: {#section-toc.1-1.12.2.1}
        [12.1](#section-12.1){.xref}.  [New SDP Media-Level
        Attribute](#name-new-sdp-media-level-attribu){.xref}[¶](#section-toc.1-1.12.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.12.2.2}
        [12.2](#section-12.2){.xref}.  [Registry for RID-Level
        Parameters](#name-registry-for-rid-level-para){.xref}[¶](#section-toc.1-1.12.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.13}
    [13](#section-13){.xref}. [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.13.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.14}
    [14](#section-14){.xref}. [References](#name-references){.xref}[¶](#section-toc.1-1.14.1){.pilcrow}

    -   ::: {#section-toc.1-1.14.2.1}
        [14.1](#section-14.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.14.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.14.2.2}
        [14.2](#section-14.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.14.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.15}
    [](#section-appendix.a){.xref}[Acknowledgements](#name-acknowledgements){.xref}[¶](#section-toc.1-1.15.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.16}
    [](#section-appendix.b){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.16.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.17}
    [](#section-appendix.c){.xref}[Author\'s
    Address](#name-authors-address){.xref}[¶](#section-toc.1-1.17.1){.pilcrow}
    :::
:::
:::

::: {#terminology}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

The terms \"source RTP stream\", \"endpoint\", \"RTP session\", and
\"RTP stream\" are used as defined in
\[[RFC7656](#RFC7656){.xref}\].[¶](#section-1-1){.pilcrow}

\[[RFC4566](#RFC4566){.xref}\] and \[[RFC3264](#RFC3264){.xref}\]
terminology is also used where appropriate.[¶](#section-1-2){.pilcrow}
:::
:::

::: {#sec-intro}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

The payload type (PT) field in RTP provides a mapping between the RTP
payload format and the associated SDP media description. For a given PT,
the SDP rtpmap and/or fmtp attributes are used to describe the
properties of the media that is carried in the RTP
payload.[¶](#section-2-1){.pilcrow}

Recent advances in standards have given rise to rich multimedia
applications requiring support for either multiple RTP streams within an
RTP session \[[RFC8843](#RFC8843){.xref}\]
\[[RFC8853](#RFC8853){.xref}\] or a large number of codecs. These
demands have unearthed challenges inherent
with:[¶](#section-2-2){.pilcrow}

-   [The restricted RTP PT space in specifying the various payload
    configurations[¶](#section-2-3.1){.pilcrow}]{#section-2-3.1}
-   [The codec-specific constructs for the payload formats in
    SDP[¶](#section-2-3.2){.pilcrow}]{#section-2-3.2}
-   [Missing or underspecified payload format
    parameters[¶](#section-2-3.3){.pilcrow}]{#section-2-3.3}
-   [Overloading of PTs to indicate not just codec configurations, but
    individual streams within an RTP
    session[¶](#section-2-3.4){.pilcrow}]{#section-2-3.4}

To expand on these points: \[[RFC3550](#RFC3550){.xref}\] assigns 7 bits
for the PT in the RTP header. However, the assignment of static mapping
of RTP payload type numbers to payload formats and multiplexing of RTP
with other protocols (such as the RTP Control Protocol (RTCP)) could
result in a limited number of payload type numbers available for
application usage. In scenarios where the number of possible RTP payload
configurations exceeds the available PT space within an RTP session,
there is a need for a way to represent the additional restrictions on
payload configurations and effectively map an RTP stream to its
corresponding restrictions. This issue is exacerbated by the increase in
techniques \-- such as simulcast and layered codecs \-- that introduce
additional streams into RTP sessions.[¶](#section-2-4){.pilcrow}

This specification defines a new SDP framework for restricting source
RTP streams (Section 2.1.10 of \[[RFC7656](#RFC7656){.xref}\]), along
with the SDP attributes to restrict payload formats in a codec-agnostic
way. This framework can be thought of as a complementary extension to
the way the media format parameters are specified in SDP today, via the
\"a=fmtp\" attribute.[¶](#section-2-5){.pilcrow}

The additional restrictions on individual streams are indicated with a
new \"a=rid\" (\"restriction identifier\") SDP attribute. Note that the
restrictions communicated via this attribute only serve to further
restrict the parameters that are established on a PT format. They do not
relax any restrictions imposed by other
mechanisms.[¶](#section-2-6){.pilcrow}

This specification makes use of the RTP Stream Identifier Source
Description (SDES) RTCP item defined in \[[RFC8852](#RFC8852){.xref}\]
to provide correlation between the RTP packets and their format
specification in the SDP.[¶](#section-2-7){.pilcrow}

As described in [Section 6.2.1](#sec-rid_unaware){.xref}, this mechanism
achieves backwards compatibility via the normal SDP processing rules,
which require unknown \"a=\" lines to be ignored. This means that
implementations need to be prepared to handle successful offers and
answers from other implementations that neither indicate nor honor the
restrictions requested by this mechanism.[¶](#section-2-8){.pilcrow}

Further, as described in [Section 6](#sec-sdp_o_a){.xref} and its
subsections, this mechanism achieves extensibility by: (a) having
offerers include all supported restrictions in their offer, and (b)
having answerers ignore \"a=rid\" lines that specify unknown
restrictions.[¶](#section-2-9){.pilcrow}
:::
:::

::: {#key-words-for-requirements}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Key Words for Requirements](#name-key-words-for-requirements){.section-name .selfRef} {#name-key-words-for-requirements}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-3-1){.pilcrow}
:::
:::

::: {#sec-rid_attribute}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [SDP \"a=rid\" Media Level Attribute](#name-sdp-arid-media-level-attrib){.section-name .selfRef} {#name-sdp-arid-media-level-attrib}

This section defines new SDP media-level attribute
\[[RFC4566](#RFC4566){.xref}\], \"a=rid\", used to communicate a set of
restrictions to be applied to an identified RTP stream. Roughly
speaking, this attribute takes the following form (see [Section
10](#sec-abnf){.xref} for a formal
definition):[¶](#section-4-1){.pilcrow}

::: {#section-4-2}
``` {.sourcecode .lang-sdp}
a=rid:<rid-id> <direction> [pt=<fmt-list>;]<restriction>=<value>...
```

[¶](#section-4-2){.pilcrow}
:::

An \"a=rid\" SDP media attribute specifies restrictions defining a
unique RTP payload configuration identified via the \"rid-id\" field.
This value binds the restriction to the RTP stream identified by its RTP
Stream Identifier Source Description (SDES) item
\[[RFC8852](#RFC8852){.xref}\]. Implementations that use the \"a=rid\"
parameter in SDP [MUST]{.bcp14} support the RtpStreamId SDES item
described in \[[RFC8852](#RFC8852){.xref}\]. Such implementations
[MUST]{.bcp14} send that SDES item for all streams in an SDP media
description (\"m=\") that have \"a=rid\" lines remaining after applying
the rules in [Section 6](#sec-sdp_o_a){.xref} and its
subsections.[¶](#section-4-3){.pilcrow}

Implementations that use the \"a=rid\" parameter in SDP and make use of
redundancy RTP streams \[[RFC7656](#RFC7656){.xref}\] \-- e.g., RTP RTX
\[[RFC4588](#RFC4588){.xref}\] or Forward Error Correction (FEC)
\[[RFC5109](#RFC5109){.xref}\] \-- for any of the source RTP streams
that have \"a=rid\" lines remaining after applying the rules in [Section
6](#sec-sdp_o_a){.xref} and its subsections [MUST]{.bcp14} support the
RepairedRtpStreamId SDES item described in
\[[RFC8852](#RFC8852){.xref}\] for those redundancy RTP streams.
RepairedRtpStreamId [MUST]{.bcp14} be used for redundancy RTP streams to
which it can be applied. Use of RepairedRtpStreamId is not applicable
for redundancy formats that directly associate RTP streams through
shared synchronization sources (SSRCs) \-- for example,
\[[RFC8627](#RFC8627){.xref}\] \-- or other cases that
RepairedRtpStreamId cannot support, such as referencing multiple source
streams.[¶](#section-4-4){.pilcrow}

RepairedRtpStreamId is used to provide the binding between the
redundancy RTP stream and its source RTP stream by setting the
RepairedRtpStreamId value for the redundancy RTP stream to the
RtpStreamId value of the source RTP stream. The redundancy RTP stream
[MAY]{.bcp14} (but need not) have an \"a=rid\" line of its own, in which
case the RtpStreamId SDES item value will be different from the
corresponding source RTP stream.[¶](#section-4-5){.pilcrow}

It is important to note that this indirection may result in the
temporary inability to correctly associate source and redundancy data
when the SSRC associated with the RtpStreamId or RepairedRtpStreamId is
dynamically changed during the RTP session. This can be avoided if all
RTP packets, source and repair, include their RtpStreamId or
RepairedRtpStreamId, respectively, after the change. To maximize the
probability of reception and utility of redundancy information after
such a change, all the source packets referenced by the first several
repair packets [SHOULD]{.bcp14} include such information. It is
[RECOMMENDED]{.bcp14} that the number of such packets is large enough to
give a high probability of actual updated association. Section 4.1.1 of
\[[RFC8285](#RFC8285){.xref}\] provides relevant guidance for RTP header
extension transmission considerations. Alternatively, to avoid this
issue, redundancy mechanisms that directly reference its source data may
be used, such as
\[[RFC8627](#RFC8627){.xref}\].[¶](#section-4-6){.pilcrow}

The \"direction\" field identifies the direction of the RTP stream
packets to which the indicated restrictions are applied. It may be
either \"send\" or \"recv\". Note that these restriction directions are
expressed independently of any \"inactive\", \"sendonly\", \"recvonly\",
or \"sendrecv\" attributes associated with the media section. It is, for
example, valid to indicate \"recv\" restrictions on a \"sendonly\"
stream; those restrictions would apply if, at a future point in time,
the stream were changed to \"sendrecv\" or
\"recvonly\".[¶](#section-4-7){.pilcrow}

The optional \"pt=\<fmt-list>\" lists one or more PT values that can be
used in the associated RTP stream. If the \"a=rid\" attribute contains
no \"pt\", then any of the PT values specified in the corresponding
\"m=\" line may be used.[¶](#section-4-8){.pilcrow}

The list of zero or more codec-agnostic restrictions ([Section
5](#sec-rid_level_restrictions){.xref}) describes the restrictions that
the corresponding RTP stream will conform to.[¶](#section-4-9){.pilcrow}

This framework [MAY]{.bcp14} be used in combination with the \"a=fmtp\"
SDP attribute for describing the media format parameters for a given RTP
payload type. In such scenarios, the \"a=rid\" restrictions ([Section
5](#sec-rid_level_restrictions){.xref}) further restrict the equivalent
\"a=fmtp\" attributes.[¶](#section-4-10){.pilcrow}

A given SDP media description [MAY]{.bcp14} have zero or more \"a=rid\"
lines describing various possible RTP payload configurations. A given
\"rid-id\" [MUST NOT]{.bcp14} be repeated in a given media description
(\"m=\" section).[¶](#section-4-11){.pilcrow}

The \"a=rid\" media attribute [MAY]{.bcp14} be used for any RTP-based
media transport. It is not defined for other transports, although other
documents may extend its semantics for such
transports.[¶](#section-4-12){.pilcrow}

Though the restrictions specified by the \"rid\" restrictions follow a
syntax similar to session-level and media-level parameters, they are
defined independently. All \"rid\" restrictions [MUST]{.bcp14} be
registered with IANA, using the registry defined in [Section
12](#sec-iana){.xref}.[¶](#section-4-13){.pilcrow}

[Section 10](#sec-abnf){.xref} gives a formal Augmented Backus-Naur Form
(ABNF) \[[RFC5234](#RFC5234){.xref}\] grammar for the \"rid\" attribute.
The \"a=rid\" media attribute is not dependent on
charset.[¶](#section-4-14){.pilcrow}
:::
:::

::: {#sec-rid_level_restrictions}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [\"a=rid\" Restrictions](#name-arid-restrictions){.section-name .selfRef} {#name-arid-restrictions}

This section defines the \"a=rid\" restrictions that can be used to
restrict the RTP payload encoding format in a codec-agnostic way. Please
also see the preceding section for a description of how the \"pt\"
parameter is used.[¶](#section-5-1){.pilcrow}

The following restrictions are intended to apply to video codecs in a
codec-independent fashion.[¶](#section-5-2){.pilcrow}

-   [**max-width**, for spatial resolution in pixels. In the case that
    stream-orientation signaling is used to modify the intended display
    orientation, this attribute refers to the width of the stream when a
    rotation of zero degrees is
    encoded.[¶](#section-5-3.1){.pilcrow}]{#section-5-3.1}
-   [**max-height**, for spatial resolution in pixels. In the case that
    stream-orientation signaling is used to modify the intended display
    orientation, this attribute refers to the height of the stream when
    a rotation of zero degrees is
    encoded.[¶](#section-5-3.2){.pilcrow}]{#section-5-3.2}
-   [**max-fps**, for frame rate in frames per second. For encoders that
    do not use a fixed frame rate for encoding, this value is used to
    restrict the minimum amount of time between frames: the time between
    any two consecutive frames [SHOULD NOT]{.bcp14} be less than
    1/max-fps seconds.[¶](#section-5-3.3){.pilcrow}]{#section-5-3.3}
-   [**max-fs**, for frame size in pixels per frame. This is the product
    of frame width and frame height, in pixels, for rectangular
    frames.[¶](#section-5-3.4){.pilcrow}]{#section-5-3.4}
-   [**max-br**, for bitrate in bits per second. The restriction applies
    to the media payload only and does not include overhead introduced
    by other layers (e.g., RTP, UDP, IP, or Ethernet). The exact means
    of keeping within this limit are left up to the implementation, and
    instantaneous excursions outside the limit are permissible. For any
    given one-second sliding window, however, the total number of bits
    in the payload portion of RTP [SHOULD NOT]{.bcp14} exceed the value
    specified in
    \"max-br.\"[¶](#section-5-3.5){.pilcrow}]{#section-5-3.5}
-   [**max-pps**, for pixel rate in pixels per second. This value
    [SHOULD]{.bcp14} be handled identically to max-fps, after performing
    the following conversion: max-fps = max-pps / (width \* height). If
    the stream resolution changes, this value is recalculated. Due to
    this recalculation, excursions outside the specified maximum are
    possible near resolution-change
    boundaries.[¶](#section-5-3.6){.pilcrow}]{#section-5-3.6}
-   [**max-bpp**, for maximum number of bits per pixel, calculated as an
    average of all samples of any given coded picture. This is expressed
    as a floating point value, with an allowed range of 0.0001 to 48.0.
    These values [MUST NOT]{.bcp14} be encoded with more than four
    digits to the right of the decimal
    point.[¶](#section-5-3.7){.pilcrow}]{#section-5-3.7}
-   [**depend**, to identify other streams that the stream depends on.
    The value is a comma-separated list of rid-ids. These rid-ids
    identify RTP streams that this stream depends on in order to allow
    for proper interpretation. The mechanism defined in this document
    allows for such dependencies to be expressed only when the streams
    are in the same media
    section.[¶](#section-5-3.8){.pilcrow}]{#section-5-3.8}

All the restrictions are optional and subject to negotiation based on
the SDP offer/answer rules described in [Section
6](#sec-sdp_o_a){.xref}.[¶](#section-5-4){.pilcrow}

This list is intended to be an initial set of restrictions. Future
documents may define additional restrictions; see [Section
12.2](#sec-iana_rid){.xref}. While this document does not define
restrictions for audio codecs or any media types other than video, there
is no reason such restrictions should be precluded from definition and
registration by other documents.[¶](#section-5-5){.pilcrow}

[Section 10](#sec-abnf){.xref} provides formal Augmented Backus-Naur
Form (ABNF) \[[RFC5234](#RFC5234){.xref}\] grammar for each of the
\"a=rid\" restrictions defined in this
section.[¶](#section-5-6){.pilcrow}
:::
:::

::: {#sec-sdp_o_a}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [SDP Offer/Answer Procedures](#name-sdp-offer-answer-procedures){.section-name .selfRef} {#name-sdp-offer-answer-procedures}

This section describes the SDP offer/answer procedures
\[[RFC3264](#RFC3264){.xref}\] when using this
framework.[¶](#section-6-1){.pilcrow}

Note that \"rid-id\" values are only required to be unique within a
media section (\"m=\" line); they do not necessarily need to be unique
within an entire RTP session. In traditional usage, each media section
is sent on its own unique 5-tuple (that is: combination of sending
address, sending port, receiving address, receiving port, and transport
protocol), which provides an unambiguous scope. Similarly, when using
BUNDLE \[[RFC8843](#RFC8843){.xref}\], Media Identification (MID) values
associate RTP streams uniquely to a single media description. When
restriction identifier (RID) is used with the BUNDLE mechanism, streams
will be associated with both MID and RID SDES
items.[¶](#section-6-2){.pilcrow}

::: {#sec-gen_offer}
::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [Generating the Initial SDP Offer](#name-generating-the-initial-sdp-){.section-name .selfRef} {#name-generating-the-initial-sdp-}

For each RTP media description in the offer, the offerer [MAY]{.bcp14}
choose to include one or more \"a=rid\" lines to specify a configuration
profile for the given set of RTP payload
types.[¶](#section-6.1-1){.pilcrow}

In order to construct a given \"a=rid\" line, the offerer must follow
these steps:[¶](#section-6.1-2){.pilcrow}

1.  [It [MUST]{.bcp14} generate a \"rid-id\" that is unique within a
    media description.[¶](#section-6.1-3.1){.pilcrow}]{#section-6.1-3.1}
2.  [It [MUST]{.bcp14} set the direction for the \"rid-id\" to one of
    \"send\" or
    \"recv\".[¶](#section-6.1-3.2){.pilcrow}]{#section-6.1-3.2}
3.  [It [MAY]{.bcp14} include a listing of SDP media formats (usually
    corresponding to RTP payload types) allowed to appear in the RTP
    stream. Any payload type chosen [MUST]{.bcp14} be a valid payload
    type for the media section (that is, it must be listed on the \"m=\"
    line). The order of the listed formats is significant; the
    alternatives are listed from (left) most preferred to (right) least
    preferred. When using RID, this preference overrides the normal
    codec preference as expressed by format type ordering on the \"m=\"
    line, using regular SDP
    rules.[¶](#section-6.1-3.3){.pilcrow}]{#section-6.1-3.3}
4.  [The offerer then chooses zero or more \"a=rid\" restrictions
    ([Section 5](#sec-rid_level_restrictions){.xref}) to be applied to
    the RTP stream and adds them to the \"a=rid\"
    line.[¶](#section-6.1-3.4){.pilcrow}]{#section-6.1-3.4}
5.  [If the offerer wishes the answerer to have the ability to specify a
    restriction but does not wish to set a value itself, it includes the
    name of the restriction in the \"a=rid\" line, but without any
    indicated value.[¶](#section-6.1-3.5){.pilcrow}]{#section-6.1-3.5}

Note: If an \"a=fmtp\" attribute is also used to provide
media-format-specific parameters, then the \"a=rid\" restrictions will
further restrict the equivalent \"a=fmtp\" parameters for the given
payload type for the specified RTP stream.[¶](#section-6.1-4){.pilcrow}

If a given codec would require an \"a=fmtp\" line when used without
\"a=rid\", then the offer [MUST]{.bcp14} include a valid corresponding
\"a=fmtp\" line even when using \"a=rid\".[¶](#section-6.1-5){.pilcrow}
:::
:::

::: {#answerer-processing-the-sdp-offer}
::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [Answerer Processing the SDP Offer](#name-answerer-processing-the-sdp){.section-name .selfRef} {#name-answerer-processing-the-sdp}

::: {#sec-rid_unaware}
::: {#section-6.2.1 .section}
#### [6.2.1.](#section-6.2.1){.section-number .selfRef} [\"a=rid\"-Unaware Answerer](#name-arid-unaware-answerer){.section-name .selfRef} {#name-arid-unaware-answerer}

If the receiver doesn\'t support the framework defined in this
specification, the entire \"a=rid\" line is ignored following the
standard offer/answer rules
\[[RFC3264](#RFC3264){.xref}\].[¶](#section-6.2.1-1){.pilcrow}

[Section 6.1](#sec-gen_offer){.xref} requires the offer to include a
valid \"a=fmtp\" line for any media formats that otherwise require it
(in other words, the \"a=rid\" line cannot be used to replace \"a=fmtp\"
configuration). As a result, ignoring the \"a=rid\" line is always
guaranteed to result in a valid session
description.[¶](#section-6.2.1-2){.pilcrow}
:::
:::

::: {#sec-rid_offer_recv}
::: {#section-6.2.2 .section}
#### [6.2.2.](#section-6.2.2){.section-number .selfRef} [\"a=rid\"-Aware Answerer](#name-arid-aware-answerer){.section-name .selfRef} {#name-arid-aware-answerer}

If the answerer supports the \"a=rid\" attribute, the following
verification steps are executed, in order, for each \"a=rid\" line in a
received offer:[¶](#section-6.2.2-1){.pilcrow}

1.  [The answerer ensures that the \"a=rid\" line is syntactically well
    formed. In the case of a syntax error, the \"a=rid\" line is
    discarded.[¶](#section-6.2.2-2.1){.pilcrow}]{#section-6.2.2-2.1}
2.  [The answerer extracts the rid-id from the \"a=rid\" line and
    verifies its uniqueness within a media section. In the case of a
    duplicate, the entire \"a=rid\" line, and all \"a=rid\" lines with
    rid-ids that duplicate this line, are discarded and [MUST
    NOT]{.bcp14} be included in the SDP
    answer.[¶](#section-6.2.2-2.2){.pilcrow}]{#section-6.2.2-2.2}
3.  [If the \"a=rid\" line contains a \"pt=\", the list of payload types
    is verified against the list of valid payload types for the media
    section (that is, those listed on the \"m=\" line). Any PT missing
    from the \"m=\" line is discarded from the set of values in the
    \"pt=\". If no values are left in the \"pt=\" parameter after this
    processing, then the \"a=rid\" line is
    discarded.[¶](#section-6.2.2-2.3){.pilcrow}]{#section-6.2.2-2.3}
4.  [If the \"direction\" field is \"recv\", the answerer ensures that
    the specified \"a=rid\" restrictions are supported. In the case of
    an unsupported restriction, the \"a=rid\" line is
    discarded.[¶](#section-6.2.2-2.4){.pilcrow}]{#section-6.2.2-2.4}
5.  [If the \"depend\" restriction is included, the answerer
    [MUST]{.bcp14} make sure that the listed rid-ids unambiguously match
    the rid-ids in the media description. Any \"depend\" \"a=rid\" lines
    that do not are
    discarded.[¶](#section-6.2.2-2.5){.pilcrow}]{#section-6.2.2-2.5}
6.  [The answerer verifies that the restrictions are consistent with at
    least one of the codecs to be used with the RTP stream. If the
    \"a=rid\" line contains a \"pt=\", it contains the list of such
    codecs; otherwise, the list of such codecs is taken from the
    associated \"m=\" line. See [Section
    8](#sec-feature_interactions){.xref} for more detail. If the
    \"a=rid\" restrictions are incompatible with the other codec
    properties for all codecs, then the \"a=rid\" line is
    discarded.[¶](#section-6.2.2-2.6){.pilcrow}]{#section-6.2.2-2.6}

Note that the answerer does not need to understand every restriction
present in a \"send\" line: if a stream sender restricts the stream in a
way that the receiver does not understand, this causes no issues with
interoperability.[¶](#section-6.2.2-3){.pilcrow}
:::
:::
:::
:::

::: {#sec-rid_answer_send}
::: {#section-6.3 .section}
### [6.3.](#section-6.3){.section-number .selfRef} [Generating the SDP Answer](#name-generating-the-sdp-answer){.section-name .selfRef} {#name-generating-the-sdp-answer}

Having performed verification of the SDP offer as described in [Section
6.2.2](#sec-rid_offer_recv){.xref}, the answerer shall perform the
following steps to generate the SDP answer.[¶](#section-6.3-1){.pilcrow}

For each \"a=rid\" line that has not been discarded by previous
processing:[¶](#section-6.3-2){.pilcrow}

1.  [The value of the \"direction\" field is reversed: \"send\" is
    changed to \"recv\", and \"recv\" is changed to
    \"send\".[¶](#section-6.3-3.1){.pilcrow}]{#section-6.3-3.1}
2.  [The answerer [MAY]{.bcp14} choose to modify specific \"a=rid\"
    restriction values in the answer SDP. In such a case, the modified
    value [MUST]{.bcp14} be more restrictive than the ones specified in
    the offer. The answer [MUST NOT]{.bcp14} include any restrictions
    that were not present in the
    offer.[¶](#section-6.3-3.2){.pilcrow}]{#section-6.3-3.2}
3.  [The answerer [MUST NOT]{.bcp14} modify the \"rid-id\" present in
    the offer.[¶](#section-6.3-3.3){.pilcrow}]{#section-6.3-3.3}
4.  [If the \"a=rid\" line contains a \"pt=\", the answerer is allowed
    to discard one or more media formats from a given \"a=rid\" line. If
    the answerer chooses to discard all the media formats from an
    \"a=rid\" line, the answerer [MUST]{.bcp14} discard the entire
    \"a=rid\" line. If the offer did not contain a \"pt=\" for a given
    \"a=rid\" line, then the answer [MUST NOT]{.bcp14} contain a \"pt=\"
    in the corresponding
    line.[¶](#section-6.3-3.4){.pilcrow}]{#section-6.3-3.4}
5.  [In cases where the answerer is unable to support the payload
    configuration specified in a given \"a=rid\" line with a direction
    of \"recv\" in the offer, the answerer [MUST]{.bcp14} discard the
    corresponding \"a=rid\" line. This includes situations in which the
    answerer does not understand one or more of the restrictions in an
    \"a=rid\" line with a direction of
    \"recv\".[¶](#section-6.3-3.5){.pilcrow}]{#section-6.3-3.5}

Note: In the case that the answerer uses different PT values to
represent a codec than the offerer did, the \"a=rid\" values in the
answer use the PT values that are present in its
answer.[¶](#section-6.3-4){.pilcrow}
:::
:::

::: {#sec-rid_answer_recv}
::: {#section-6.4 .section}
### [6.4.](#section-6.4){.section-number .selfRef} [Offerer Processing of the SDP Answer](#name-offerer-processing-of-the-s){.section-name .selfRef} {#name-offerer-processing-of-the-s}

The offerer [SHALL]{.bcp14} follow these steps when processing the
answer:[¶](#section-6.4-1){.pilcrow}

1.  [The offerer matches the \"a=rid\" line in the answer to the
    \"a=rid\" line in the offer using the \"rid-id\". If no matching
    line can be located in the offer, the \"a=rid\" line is
    ignored.[¶](#section-6.4-2.1){.pilcrow}]{#section-6.4-2.1}
2.  [If the answer contains any restrictions that were not present in
    the offer, then the offerer [SHALL]{.bcp14} discard the \"a=rid\"
    line.[¶](#section-6.4-2.2){.pilcrow}]{#section-6.4-2.2}
3.  [If the restrictions have been changed between the offer and the
    answer, the offerer [MUST]{.bcp14} ensure that the modifications are
    more restrictive than they were in the original offer and that they
    can be supported; if not, the offerer [SHALL]{.bcp14} discard the
    \"a=rid\" line.[¶](#section-6.4-2.3){.pilcrow}]{#section-6.4-2.3}
4.  [If the \"a=rid\" line in the answer contains a \"pt=\" but the
    offer did not, the offerer [SHALL]{.bcp14} discard the \"a=rid\"
    line.[¶](#section-6.4-2.4){.pilcrow}]{#section-6.4-2.4}
5.  [If the \"a=rid\" line in the answer contains a \"pt=\" and the
    offer did as well, the offerer verifies that the list of payload
    types is a subset of those sent in the corresponding \"a=rid\" line
    in the offer. Note that this matching must be performed semantically
    rather than on literal PT values, as the remote end may not be using
    symmetric PTs. For the purpose of this comparison: for each PT
    listed on the \"a=rid\" line in the answer, the offerer looks up the
    corresponding \"a=rtpmap\" and \"a=fmtp\" lines in the answer. It
    then searches the list of \"pt=\" values indicated in the offer and
    attempts to find one with an equivalent set of \"a=rtpmap\" and
    \"a=fmtp\" lines in the offer. If all PTs in the answer can be
    matched, then the \"pt=\" values pass validation; otherwise, it
    fails. If this validation fails, the offerer [SHALL]{.bcp14} discard
    the \"a=rid\" line. Note that this semantic comparison necessarily
    requires an understanding of the meaning of codec parameters, rather
    than a rote byte-wise comparison of their
    values.[¶](#section-6.4-2.5){.pilcrow}]{#section-6.4-2.5}
6.  [If the \"a=rid\" line contains a \"pt=\", the offerer verifies that
    the attribute values provided in the \"a=rid\" attributes are
    consistent with the corresponding codecs and their other parameters.
    See [Section 8](#sec-feature_interactions){.xref} for more detail.
    If the \"a=rid\" restrictions are incompatible with the other codec
    properties, then the offerer [SHALL]{.bcp14} discard the \"a=rid\"
    line.[¶](#section-6.4-2.6){.pilcrow}]{#section-6.4-2.6}
7.  [The offerer verifies that the restrictions are consistent with at
    least one of the codecs to be used with the RTP stream. If the
    \"a=rid\" line contains a \"pt=\", it contains the list of such
    codecs; otherwise, the list of such codecs is taken from the
    associated \"m=\" line. See [Section
    8](#sec-feature_interactions){.xref} for more detail. If the
    \"a=rid\" restrictions are incompatible with the other codec
    properties for all codecs, then the offerer [SHALL]{.bcp14} discard
    the \"a=rid\"
    line.[¶](#section-6.4-2.7){.pilcrow}]{#section-6.4-2.7}

Any \"a=rid\" line present in the offer that was not matched by step 1
above has been discarded by the answerer and does not form part of the
negotiated restrictions on an RTP stream. The offerer [MAY]{.bcp14}
still apply any restrictions it indicated in an \"a=rid\" line with a
direction field of \"send\", but it is not required to do
so.[¶](#section-6.4-3){.pilcrow}

It is important to note that there are several ways in which an offer
can contain a media section with \"a=rid\" lines, although the
corresponding media section in the response does not. This includes
situations in which the answerer does not support \"a=rid\" at all or
does not support the indicated restrictions. Under such circumstances,
the offerer [MUST]{.bcp14} be prepared to receive a media stream to
which no restrictions have been applied.[¶](#section-6.4-4){.pilcrow}
:::
:::

::: {#modifying-the-session}
::: {#section-6.5 .section}
### [6.5.](#section-6.5){.section-number .selfRef} [Modifying the Session](#name-modifying-the-session){.section-name .selfRef} {#name-modifying-the-session}

Offers and answers inside an existing session follow the rules for
initial session negotiation. Such an offer [MAY]{.bcp14} propose a
change in the number of RIDs in use. To avoid race conditions with
media, any RIDs with proposed changes [SHOULD]{.bcp14} use a new ID
rather than reusing one from the previous offer/answer exchange. RIDs
without proposed changes [SHOULD]{.bcp14} reuse the ID from the previous
exchange.[¶](#section-6.5-1){.pilcrow}
:::
:::
:::
:::

::: {#sec-declarative_sdp}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [Use with Declarative SDP](#name-use-with-declarative-sdp){.section-name .selfRef} {#name-use-with-declarative-sdp}

This document does not define the use of a RID in declarative SDP. If
concrete use cases for RID in declarative SDP use are identified in the
future, we expect that additional specifications will address such
use.[¶](#section-7-1){.pilcrow}
:::
:::

::: {#sec-feature_interactions}
::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Interaction with Other Techniques](#name-interaction-with-other-tech){.section-name .selfRef} {#name-interaction-with-other-tech}

Historically, a number of other approaches have been defined that allow
restricting media streams via SDP. These
include:[¶](#section-8-1){.pilcrow}

-   [Codec-specific configuration set via format parameters (\"a=fmtp\")
    \-- for example, the H.264 \"max-fs\" format parameter
    \[[RFC6184](#RFC6184){.xref}\][¶](#section-8-2.1){.pilcrow}]{#section-8-2.1}
-   [Size restrictions imposed by the \"a=imageattr\" attribute
    \[[RFC6236](#RFC6236){.xref}\][¶](#section-8-2.2){.pilcrow}]{#section-8-2.2}

When the mechanism described in this document is used in conjunction
with these other restricting mechanisms, it is intended to impose
additional restrictions beyond those communicated in other
techniques.[¶](#section-8-3){.pilcrow}

In an offer, this means that \"a=rid\" lines, when combined with other
restrictions on the media stream, are expected to result in a non-empty
intersection. For example, if image attributes are used to indicate that
a PT has a minimum width of 640, then specification of \"max-width=320\"
in an \"a=rid\" line that is then applied to that PT is nonsensical.
According to the rules of [Section 6.2.2](#sec-rid_offer_recv){.xref},
this will result in the corresponding \"a=rid\" line being ignored by
the recipient.[¶](#section-8-4){.pilcrow}

In an answer, the \"a=rid\" lines, when combined with the other
restrictions on the media stream, are also expected to result in a
non-empty intersection. If the implementation generating an answer
wishes to restrict a property of the stream below that which would be
allowed by other parameters (e.g., those specified in \"a=fmtp\" or
\"a=imageattr\"), its only recourse is to discard the \"a=rid\" line
altogether, as described in [Section 6.3](#sec-rid_answer_send){.xref}.
If it instead attempts to restrict the stream beyond what is allowed by
other mechanisms, then the offerer will ignore the corresponding
\"a=rid\" line, as described in [Section
6.4](#sec-rid_answer_recv){.xref}.[¶](#section-8-5){.pilcrow}

The following subsections demonstrate these interactions using commonly
used video codecs. These descriptions are illustrative of the
interaction principles outlined above and are not
normative.[¶](#section-8-6){.pilcrow}

::: {#interaction-with-vp8-format-parameters}
::: {#section-8.1 .section}
### [8.1.](#section-8.1){.section-number .selfRef} [Interaction with VP8 Format Parameters](#name-interaction-with-vp8-format){.section-name .selfRef} {#name-interaction-with-vp8-format}

\[[RFC7741](#RFC7741){.xref}\] defines two format parameters for the VP8
codec. Both correspond to restrictions on receiver capabilities and
never indicate sending restrictions.[¶](#section-8.1-1){.pilcrow}

::: {#max-fr-maximum-framerate}
::: {#section-8.1.1 .section}
#### [8.1.1.](#section-8.1.1){.section-number .selfRef} [max-fr - Maximum Frame Rate](#name-max-fr-maximum-frame-rate){.section-name .selfRef} {#name-max-fr-maximum-frame-rate}

The VP8 \"max-fr\" format parameter corresponds to the \"max-fps\"
restriction defined in this specification. If an RTP sender is
generating a stream using a format defined with this format parameter,
and the sending restrictions defined via \"a=rid\" include a \"max-fps\"
parameter, then the sent stream will conform to the smaller of the two
values.[¶](#section-8.1.1-1){.pilcrow}
:::
:::

::: {#max-fs-maximum-framesize-in-vp8-macroblocks}
::: {#section-8.1.2 .section}
#### [8.1.2.](#section-8.1.2){.section-number .selfRef} [max-fs - Maximum Frame Size, in VP8 Macroblocks](#name-max-fs-maximum-frame-size-i){.section-name .selfRef} {#name-max-fs-maximum-frame-size-i}

The VP8 \"max-fs\" format parameter corresponds to the \"max-fs\"
restriction defined in this document, by way of a conversion factor of
the number of pixels per macroblock (typically 256). If an RTP sender is
generating a stream using a format defined with this format parameter,
and the sending restrictions defined via \"a=rid\" include a \"max-fs\"
parameter, then the sent stream will conform to the smaller of the two
values; that is, the number of pixels per frame will not
exceed:[¶](#section-8.1.2-1){.pilcrow}

::: {#section-8.1.2-2}
``` sourcecode
  min(rid_max_fs, fmtp_max_fs * macroblock_size)
```

[¶](#section-8.1.2-2){.pilcrow}
:::

This fmtp parameter also has bearing on the max-height and max-width
parameters. [Section
6.1](https://www.rfc-editor.org/rfc/rfc7741#section-6.1){.relref} of
\[[RFC7741](#RFC7741){.xref}\] requires that the width and height of the
frame in macroblocks be less than int(sqrt(fmtp_max_fs \* 8)).
Accordingly, the maximum width of a transmitted stream will be limited
to:[¶](#section-8.1.2-3){.pilcrow}

::: {#section-8.1.2-4}
``` sourcecode
  min(rid_max_width, int(sqrt(fmtp_max_fs * 8)) * macroblock_width)
```

[¶](#section-8.1.2-4){.pilcrow}
:::

Similarly, the stream\'s height will be limited
to:[¶](#section-8.1.2-5){.pilcrow}

::: {#section-8.1.2-6}
``` sourcecode
  min(rid_max_height, int(sqrt(fmtp_max_fs * 8)) * macroblock_height)
```

[¶](#section-8.1.2-6){.pilcrow}
:::
:::
:::
:::
:::

::: {#interaction-with-h264-format-parameters}
::: {#section-8.2 .section}
### [8.2.](#section-8.2){.section-number .selfRef} [Interaction with H.264 Format Parameters](#name-interaction-with-h264-forma){.section-name .selfRef} {#name-interaction-with-h264-forma}

\[[RFC6184](#RFC6184){.xref}\] defines format parameters for the H.264
video codec. The majority of these parameters do not correspond to
codec-independent restrictions:[¶](#section-8.2-1){.pilcrow}

-   [deint-buf-cap[¶](#section-8.2-2.1){.pilcrow}]{#section-8.2-2.1}
-   [in-band-parameter-sets[¶](#section-8.2-2.2){.pilcrow}]{#section-8.2-2.2}
-   [level-asymmetry-allowed[¶](#section-8.2-2.3){.pilcrow}]{#section-8.2-2.3}
-   [max-rcmd-nalu-size[¶](#section-8.2-2.4){.pilcrow}]{#section-8.2-2.4}
-   [max-cpb[¶](#section-8.2-2.5){.pilcrow}]{#section-8.2-2.5}
-   [max-dpb[¶](#section-8.2-2.6){.pilcrow}]{#section-8.2-2.6}
-   [packetization-mode[¶](#section-8.2-2.7){.pilcrow}]{#section-8.2-2.7}
-   [redundant-pic-cap[¶](#section-8.2-2.8){.pilcrow}]{#section-8.2-2.8}
-   [sar-supported[¶](#section-8.2-2.9){.pilcrow}]{#section-8.2-2.9}
-   [sar-understood[¶](#section-8.2-2.10){.pilcrow}]{#section-8.2-2.10}
-   [sprop-deint-buf-req[¶](#section-8.2-2.11){.pilcrow}]{#section-8.2-2.11}
-   [sprop-init-buf-time[¶](#section-8.2-2.12){.pilcrow}]{#section-8.2-2.12}
-   [sprop-interleaving-depth[¶](#section-8.2-2.13){.pilcrow}]{#section-8.2-2.13}
-   [sprop-level-parameter-sets[¶](#section-8.2-2.14){.pilcrow}]{#section-8.2-2.14}
-   [sprop-max-don-diff[¶](#section-8.2-2.15){.pilcrow}]{#section-8.2-2.15}
-   [sprop-parameter-sets[¶](#section-8.2-2.16){.pilcrow}]{#section-8.2-2.16}
-   [use-level-src-parameter-sets[¶](#section-8.2-2.17){.pilcrow}]{#section-8.2-2.17}

Note that the max-cpb and max-dpb format parameters for H.264 correspond
to restrictions on the stream, but they are specific to the way the
H.264 codec operates, and do not have codec-independent
equivalents.[¶](#section-8.2-3){.pilcrow}

The \[[RFC6184](#RFC6184){.xref}\] codec format parameters covered in
the following sections correspond to restrictions on receiver
capabilities and never indicate sending
restrictions.[¶](#section-8.2-4){.pilcrow}

::: {#profile-level-id-and-max-recv-level-negotiated-sub-profile}
::: {#section-8.2.1 .section}
#### [8.2.1.](#section-8.2.1){.section-number .selfRef} [profile-level-id and max-recv-level - Negotiated Subprofile](#name-profile-level-id-and-max-re){.section-name .selfRef} {#name-profile-level-id-and-max-re}

These parameters include a \"level\" indicator, which acts as an index
into Table A-1 of \[[H264](#H264){.xref}\]. This table contains a number
of parameters, several of which correspond to the restrictions defined
in this document. \[[RFC6184](#RFC6184){.xref}\] also defines format
parameters for the H.264 codec that may increase the maximum values
indicated by the negotiated level. The following sections describe the
interaction between these parameters and the restrictions defined by
this document. In all cases, the H.264 parameters being discussed are
the maximum of those indicated by \[[H264](#H264){.xref}\] Table A-1 and
those indicated in the corresponding \"a=fmtp\"
line.[¶](#section-8.2.1-1){.pilcrow}
:::
:::

::: {#max-br-maxbr-maximum-video-bitrate}
::: {#section-8.2.2 .section}
#### [8.2.2.](#section-8.2.2){.section-number .selfRef} [max-br / MaxBR - Maximum Video Bitrate](#name-max-br-maxbr-maximum-video-){.section-name .selfRef} {#name-max-br-maxbr-maximum-video-}

The H.264 \"MaxBR\" parameter (and its equivalent \"max-br\" format
parameter) corresponds to the \"max-bps\" restriction defined in this
specification, by way of a conversion factor of 1000 or 1200; see
\[[RFC6184](#RFC6184){.xref}\] for details regarding which factor gets
used under differing circumstances.[¶](#section-8.2.2-1){.pilcrow}

If an RTP sender is generating a stream using a format defined with this
format parameter, and the sending restrictions defined via \"a=rid\"
include a \"max-fps\" parameter, then the sent stream will conform to
the smaller of the two values \-- that
is:[¶](#section-8.2.2-2){.pilcrow}

::: {#section-8.2.2-3}
``` sourcecode
  min(rid_max_br, h264_MaxBR * conversion_factor)
```

[¶](#section-8.2.2-3){.pilcrow}
:::
:::
:::

::: {#max-fs-maxfs-maximum-framesize-in-h264-macroblocks}
::: {#section-8.2.3 .section}
#### [8.2.3.](#section-8.2.3){.section-number .selfRef} [max-fs / MaxFS - Maximum Frame Size, in H.264 Macroblocks](#name-max-fs-maxfs-maximum-frame-){.section-name .selfRef} {#name-max-fs-maxfs-maximum-frame-}

The H.264 \"MaxFs\" parameter (and its equivalent \"max-fs\" format
parameter) corresponds roughly to the \"max-fs\" restriction defined in
this document, by way of a conversion factor of 256 (the number of
pixels per macroblock).[¶](#section-8.2.3-1){.pilcrow}

If an RTP sender is generating a stream using a format defined with this
format parameter, and the sending restrictions defined via \"a=rid\"
include a \"max-fs\" parameter, then the sent stream will conform to the
smaller of the two values \-- that is:[¶](#section-8.2.3-2){.pilcrow}

::: {#section-8.2.3-3}
``` sourcecode
  min(rid_max_fs, h264_MaxFs * 256)
```

[¶](#section-8.2.3-3){.pilcrow}
:::
:::
:::

::: {#sec-h264_max_mbps}
::: {#section-8.2.4 .section}
#### [8.2.4.](#section-8.2.4){.section-number .selfRef} [max-mbps / MaxMBPS - Maximum Macroblock Processing Rate](#name-max-mbps-maxmbps-maximum-ma){.section-name .selfRef} {#name-max-mbps-maxmbps-maximum-ma}

The H.264 \"MaxMBPS\" parameter (and its equivalent \"max-mbps\" format
parameter) corresponds roughly to the \"max-pps\" restriction defined in
this document, by way of a conversion factor of 256 (the number of
pixels per macroblock).[¶](#section-8.2.4-1){.pilcrow}

If an RTP sender is generating a stream using a format defined with this
format parameter, and the sending restrictions defined via \"a=rid\"
include a \"max-pps\" parameter, then the sent stream will conform to
the smaller of the two values \-- that
is:[¶](#section-8.2.4-2){.pilcrow}

::: {#section-8.2.4-3}
``` sourcecode
  min(rid_max_pps, h264_MaxMBPS * 256)
```

[¶](#section-8.2.4-3){.pilcrow}
:::
:::
:::

::: {#max-smbps-maximum-decoded-picture-buffer}
::: {#section-8.2.5 .section}
#### [8.2.5.](#section-8.2.5){.section-number .selfRef} [max-smbps - Maximum Decoded Picture Buffer](#name-max-smbps-maximum-decoded-p){.section-name .selfRef} {#name-max-smbps-maximum-decoded-p}

The H.264 \"max-smbps\" format parameter operates the same way as the
\"max-mbps\" format parameter, under the hypothetical assumption that
all macroblocks are static macroblocks. It is handled by applying the
conversion factor described in Section 8.1 of
\[[RFC6184](#RFC6184){.xref}\], and the result of this conversion is
applied as described in [Section
8.2.4](#sec-h264_max_mbps){.xref}.[¶](#section-8.2.5-1){.pilcrow}
:::
:::
:::
:::

::: {#redundancy-formats-and-payload-type-restrictions}
::: {#section-8.3 .section}
### [8.3.](#section-8.3){.section-number .selfRef} [Redundancy Formats and Payload Type Restrictions](#name-redundancy-formats-and-payl){.section-name .selfRef} {#name-redundancy-formats-and-payl}

[Section 4](#sec-rid_attribute){.xref} specifies that redundancy formats
using redundancy RTP streams bind the redundancy RTP stream to the
source RTP stream with either the RepairedRtpStreamId SDES item or other
mechanisms. However, there exist redundancy RTP payload formats that
result in the redundancy being included in the source RTP stream. An
example of this is \"RTP Payload for Redundant Audio Data\"
\[[RFC2198](#RFC2198){.xref}\], which encapsulates one source stream
with one or more redundancy streams in the same RTP payload. Formats
defining the source and redundancy encodings as regular RTP payload
types require some consideration for how the \"a=rid\" restrictions are
defined. The \"a=rid\" line \"pt=\" parameter can be used to indicate
whether the redundancy RTP payload type and/or the individual source RTP
payload type(s) are part of the
restriction.[¶](#section-8.3-1){.pilcrow}

Example (SDP excerpt):[¶](#section-8.3-2){.pilcrow}

::: {#section-8.3-3}
``` {.sourcecode .lang-sdp}
   m=audio 49200 RTP/AVP 97 98 99 100 101 102
   a=mid:foo
   a=rtpmap:97 G711/8000
   a=rtpmap:98 LPC/8000
   a=rtpmap:99 OPUS/48000/1
   a=rtpmap:100 RED/8000/1
   a=rtpmap:101 CN/8000
   a=rtpmap:102 telephone-event/8000
   a=fmtp:99 useinbandfec=1; usedtx=0
   a=fmtp:100 97/98
   a=fmtp:102 0-15
   a=ptime:20
   a=maxptime:40
   a=rid:5 send pt=99,102;max-br=64000
   a=rid:6 send pt=100,97,101,102
```

[¶](#section-8.3-3){.pilcrow}
:::

The RID with ID=6 restricts the payload types for this RID to 100 (the
redundancy format), 97 (G.711), 101 (Comfort Noise), and 102 (dual-tone
multi-frequency (DTMF) tones). This means that RID 6 can either contain
the Redundant Audio Data (RED) format, encapsulating encodings of the
source media stream using payload type 97 and 98, 97 without RED
encapsulation, Comfort noise, or DTMF tones. Payload type 98 is not
included in the RID, and can thus not be sent except as redundancy
information in RED encapsulation. If 97 were to be excluded from the pt
parameter, it would instead mean that payload types 97 and 98 are only
allowed via RED encapsulation.[¶](#section-8.3-4){.pilcrow}
:::
:::
:::
:::

::: {#format-parameters-for-future-payloads}
::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [Format Parameters for Future Payloads](#name-format-parameters-for-futur){.section-name .selfRef} {#name-format-parameters-for-futur}

Registrations of future RTP payload format specifications that define
media types that have parameters matching the RID restrictions specified
in this memo [SHOULD]{.bcp14} name those parameters in a manner that
matches the names of those RID restrictions and [SHOULD]{.bcp14}
explicitly state what media-type parameters are restricted by what RID
restrictions.[¶](#section-9-1){.pilcrow}
:::
:::

::: {#sec-abnf}
::: {#section-10 .section}
## [10.](#section-10){.section-number .selfRef} [Formal Grammar](#name-formal-grammar){.section-name .selfRef} {#name-formal-grammar}

This section gives a formal Augmented Backus-Naur Form (ABNF)
\[[RFC5234](#RFC5234){.xref}\] grammar, with the case-sensitive
extensions described in \[[RFC7405](#RFC7405){.xref}\], for each of the
new media and \"a=rid\" attributes defined in this
document.[¶](#section-10-1){.pilcrow}

::: {#section-10-2}
``` {.sourcecode .lang-abnf}
rid-syntax        = %s"a=rid:" rid-id SP rid-dir
                    [ rid-pt-param-list / rid-param-list ]

rid-id            = 1*(alpha-numeric / "-" / "_")

alpha-numeric     = < as defined in [RFC4566] >

rid-dir           = %s"send" / %s"recv"

rid-pt-param-list = SP rid-fmt-list *(";" rid-param)

rid-param-list    = SP rid-param *(";" rid-param)

rid-fmt-list      = %s"pt=" fmt *( "," fmt )

fmt               = < as defined in [RFC4566] >

rid-param         = rid-width-param
                    / rid-height-param
                    / rid-fps-param
                    / rid-fs-param
                    / rid-br-param
                    / rid-pps-param
                    / rid-bpp-param
                    / rid-depend-param
                    / rid-param-other

rid-width-param   = %s"max-width" [ "=" int-param-val ]

rid-height-param  = %s"max-height" [ "=" int-param-val ]

rid-fps-param     = %s"max-fps" [ "=" int-param-val ]

rid-fs-param      = %s"max-fs" [ "=" int-param-val ]

rid-br-param      = %s"max-br" [ "=" int-param-val ]

rid-pps-param     = %s"max-pps" [ "=" int-param-val ]

rid-bpp-param     = %s"max-bpp" [ "=" float-param-val ]

rid-depend-param  = %s"depend=" rid-list

rid-param-other   = 1*(alpha-numeric / "-") [ "=" param-val ]

rid-list          = rid-id *( "," rid-id )

int-param-val     = 1*DIGIT

float-param-val   = 1*DIGIT "." 1*DIGIT

param-val         = *(%x20-3A / %x3C-7E)
                    ; Any printable character except semicolon
```

[¶](#section-10-2){.pilcrow}
:::
:::
:::

::: {#sdp-examples}
::: {#section-11 .section}
## [11.](#section-11){.section-number .selfRef} [SDP Examples](#name-sdp-examples){.section-name .selfRef} {#name-sdp-examples}

Note: See \[[RFC8853](#RFC8853){.xref}\] for examples of RID used in
simulcast scenarios.[¶](#section-11-1){.pilcrow}

::: {#many-bundled-streams-using-many-codecs}
::: {#section-11.1 .section}
### [11.1.](#section-11.1){.section-number .selfRef} [Many Bundled Streams Using Many Codecs](#name-many-bundled-streams-using-){.section-name .selfRef} {#name-many-bundled-streams-using-}

In this scenario, the offerer supports the Opus, G.722, G.711, and DTMF
audio codecs and VP8, VP9, H.264 (CBP/CHP, mode 0/1), H.264-SVC
(SCBP/SCHP), and H.265 (MP/M10P) for video. An 8-way video call (to a
mixer) is supported (send 1 and receive 7 video streams) by offering 7
video media sections (1 sendrecv at max resolution and 6 recvonly at
smaller resolutions), all bundled on the same port, using 3 different
resolutions. The resolutions include:[¶](#section-11.1-1){.pilcrow}

-   [1 receive stream of 720p resolution is offered for the active
    speaker.[¶](#section-11.1-2.1){.pilcrow}]{#section-11.1-2.1}
-   [2 receive streams of 360p resolution are offered for the prior 2
    active speakers.[¶](#section-11.1-2.2){.pilcrow}]{#section-11.1-2.2}
-   [4 receive streams of 180p resolution are offered for others in the
    call.[¶](#section-11.1-2.3){.pilcrow}]{#section-11.1-2.3}

NOTE: The SDP given below skips a few lines to keep the example short
and focused, as indicated by either the \"\...\" or the comments
inserted.[¶](#section-11.1-3){.pilcrow}

The offer for this scenario is shown
below.[¶](#section-11.1-4){.pilcrow}

::: {#section-11.1-5}
``` {.sourcecode .lang-sdp}
...
m=audio 10000 RTP/SAVPF 96 9 8 0 123
a=rtpmap:96 OPUS/48000
a=rtpmap:9 G722/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:0 PCMU/8000
a=rtpmap:123 telephone-event/8000
a=mid:a1
...
m=video 10000 RTP/SAVPF 98 99 100 101 102 103 104 105 106 107
a=extmap 1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtpmap:98 VP8/90000
a=fmtp:98 max-fs=3600; max-fr=30
a=rtpmap:99 VP9/90000
a=fmtp:99 max-fs=3600; max-fr=30
a=rtpmap:100 H264/90000
a=fmtp:100 profile-level-id=42401f; packetization-mode=0
a=rtpmap:101 H264/90000
a=fmtp:101 profile-level-id=42401f; packetization-mode=1
a=rtpmap:102 H264/90000
a=fmtp:102 profile-level-id=640c1f; packetization-mode=0
a=rtpmap:103 H264/90000
a=fmtp:103 profile-level-id=640c1f; packetization-mode=1
a=rtpmap:104 H264-SVC/90000
a=fmtp:104 profile-level-id=530c1f
a=rtpmap:105 H264-SVC/90000
a=fmtp:105 profile-level-id=560c1f
a=rtpmap:106 H265/90000
a=fmtp:106 profile-id=1; level-id=93
a=rtpmap:107 H265/90000
a=fmtp:107 profile-id=2; level-id=93
a=sendrecv
a=mid:v1 (max resolution)
a=rid:1 send max-width=1280;max-height=720;max-fps=30
a=rid:2 recv max-width=1280;max-height=720;max-fps=30
...
m=video 10000 RTP/SAVPF 98 99 100 101 102 103 104 105 106 107
a=extmap 1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
...same rtpmap/fmtp as above...
a=recvonly
a=mid:v2 (medium resolution)
a=rid:3 recv max-width=640;max-height=360;max-fps=15
...
m=video 10000 RTP/SAVPF 98 99 100 101 102 103 104 105 106 107
a=extmap 1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
...same rtpmap/fmtp as above...
a=recvonly
a=mid:v3 (medium resolution)
a=rid:3 recv max-width=640;max-height=360;max-fps=15
...
m=video 10000 RTP/SAVPF 98 99 100 101 102 103 104 105 106 107
a=extmap 1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
...same rtpmap/fmtp as above...
a=recvonly
a=mid:v4 (small resolution)
a=rid:4 recv max-width=320;max-height=180;max-fps=15
...
m=video 10000 RTP/SAVPF 98 99 100 101 102 103 104 105 106 107
a=extmap 1 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
...same rtpmap/fmtp as above...
...same rid:4 as above for mid:v5,v6,v7 (small resolution)...
...
```

[¶](#section-11.1-5){.pilcrow}
:::
:::
:::

::: {#scalable-layers}
::: {#section-11.2 .section}
### [11.2.](#section-11.2){.section-number .selfRef} [Scalable Layers](#name-scalable-layers){.section-name .selfRef} {#name-scalable-layers}

Adding scalable layers to a session within a multiparty conference gives
a selective forwarding unit (SFU) further flexibility to selectively
forward packets from a source that best match the bandwidth and
capabilities of diverse receivers. Scalable encodings have dependencies
between layers, unlike independent simulcast streams. RIDs can be used
to express these dependencies using the \"depend\" restriction. In the
example below, the highest resolution is offered to be sent as 2
scalable temporal layers (using Multiple RTP Streams on a Single Media
Transport (MRST)). See \[[RFC8853](#RFC8853){.xref}\] for additional
detail about simulcast usage.[¶](#section-11.2-1){.pilcrow}

::: {#section-11.2-2}
``` {.sourcecode .lang-sdp}
Offer:
...
m=audio ...same as previous example ...
...
m=video ...same as previous example ...
...same rtpmap/fmtp as previous example ...
a=sendrecv
a=mid:v1 (max resolution)
a=rid:0 send max-width=1280;max-height=720;max-fps=15
a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0
a=rid:2 recv max-width=1280;max-height=720;max-fps=30
a=rid:5 send max-width=640;max-height=360;max-fps=15
a=rid:6 send max-width=320;max-height=180;max-fps=15
a=simulcast: send rid=0;1;5;6 recv rid=2
...
...same m=video sections as previous example for mid:v2-v7...
...
```

[¶](#section-11.2-2){.pilcrow}
:::
:::
:::
:::
:::

::: {#sec-iana}
::: {#section-12 .section}
## [12.](#section-12){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This specification updates \[[RFC4855](#RFC4855){.xref}\] to give
additional guidance on choice of Format Parameter (fmtp) names and their
relation to RID restrictions.[¶](#section-12-1){.pilcrow}

::: {#new-sdp-media-level-attribute}
::: {#section-12.1 .section}
### [12.1.](#section-12.1){.section-number .selfRef} [New SDP Media-Level Attribute](#name-new-sdp-media-level-attribu){.section-name .selfRef} {#name-new-sdp-media-level-attribu}

This document defines \"rid\" as an SDP media-level attribute. This
attribute has been registered by IANA under \"Session Description
Protocol (SDP) Parameters\" under \"att-field (media level
only)\".[¶](#section-12.1-1){.pilcrow}

The \"rid\" attribute is used to identify the properties of an RTP
stream within an RTP session. Its format is defined in [Section
10](#sec-abnf){.xref}.[¶](#section-12.1-2){.pilcrow}

The formal registration information for this attribute
follows.[¶](#section-12.1-3){.pilcrow}

[]{.break}

Contact name, email address, and telephone number
:   IETF MMUSIC Working Group\
    mmusic\@ietf.org\
    +1 510 492 4080[¶](#section-12.1-4.2){.pilcrow}
:   

Attribute name (as it will appear in SDP)
:   rid[¶](#section-12.1-4.4){.pilcrow}
:   

Long-form attribute name in English
:   Restriction Identifier[¶](#section-12.1-4.6){.pilcrow}
:   

Type of attribute (session level, media level, or both)
:   Media Level[¶](#section-12.1-4.8){.pilcrow}
:   

Whether the attribute value is subject to the charset attribute
:   The attribute is not dependent on
    charset.[¶](#section-12.1-4.10){.pilcrow}
:   

A one-paragraph explanation of the purpose of the attribute
:   The \"rid\" SDP attribute is used to unambiguously identify the RTP
    streams within an RTP session and restrict the streams\' payload
    format parameters in a codec-agnostic way beyond what is provided
    with the regular payload types.[¶](#section-12.1-4.12){.pilcrow}
:   

A specification of appropriate attribute values for this attribute
:   Valid values are defined by the ABNF in RFC
    8851[¶](#section-12.1-4.14){.pilcrow}
:   

Multiplexing (Mux) Category
:   SPECIAL[¶](#section-12.1-4.16){.pilcrow}
:   
:::
:::

::: {#sec-iana_rid}
::: {#section-12.2 .section}
### [12.2.](#section-12.2){.section-number .selfRef} [Registry for RID-Level Parameters](#name-registry-for-rid-level-para){.section-name .selfRef} {#name-registry-for-rid-level-para}

This specification creates a new IANA registry named \"RID Attribute
Parameters\" within the SDP parameters registry. The \"a=rid\"
restrictions [MUST]{.bcp14} be registered with IANA and documented under
the same rules as for SDP session-level and media-level attributes as
specified in
\[[RFC4566](#RFC4566){.xref}\].[¶](#section-12.2-1){.pilcrow}

Parameters for \"a=rid\" lines that modify the nature of encoded media
[MUST]{.bcp14} be of the form that the result of applying the
modification to the stream results in a stream that still complies with
the other parameters that affect the media. In other words, restrictions
always have to restrict the definition to be a subset of what is
otherwise allowable, and never expand it.[¶](#section-12.2-2){.pilcrow}

New restriction registrations are accepted according to the
\"Specification Required\" policy of \[[RFC8126](#RFC8126){.xref}\]. The
registration [MUST]{.bcp14} contain the RID parameter name and a
reference to the corresponding specification. The specification itself
must contain the following information (not all of which appears in the
registry):[¶](#section-12.2-3){.pilcrow}

-   [restriction name (as it will appear in
    SDP)[¶](#section-12.2-4.1){.pilcrow}]{#section-12.2-4.1}
-   [an explanation of the purpose of the
    restriction[¶](#section-12.2-4.2){.pilcrow}]{#section-12.2-4.2}
-   [a specification of appropriate attribute values for this
    restriction[¶](#section-12.2-4.3){.pilcrow}]{#section-12.2-4.3}
-   [an ABNF definition of the
    restriction[¶](#section-12.2-4.4){.pilcrow}]{#section-12.2-4.4}

The initial set of \"a=rid\" restriction names, with definitions in
[Section 5](#sec-rid_level_restrictions){.xref} of this document, is
given below:[¶](#section-12.2-5){.pilcrow}

[]{#name-arid-restriction-names}

::: {#RID-params}
  RID Parameter Name   Reference
  -------------------- -----------
  pt                   RFC 8851
  max-width            RFC 8851
  max-height           RFC 8851
  max-fps              RFC 8851
  max-fs               RFC 8851
  max-br               RFC 8851
  max-pps              RFC 8851
  max-bpp              RFC 8851
  depend               RFC 8851

  : [Table 1](#table-1){.selfRef}: [\"a=rid\" restriction
  names](#name-arid-restriction-names){.selfRef}
:::

It is conceivable that a future document will want to define RID-level
restrictions that contain string values. These extensions need to take
care to conform to the ABNF defined for rid-param-other. In particular,
this means that such extensions will need to define escaping mechanisms
if they want to allow semicolons, unprintable characters, or byte values
greater than 127 in the string.[¶](#section-12.2-7){.pilcrow}
:::
:::
:::
:::

::: {#security-considerations}
::: {#section-13 .section}
## [13.](#section-13){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

As with most SDP parameters, a failure to provide integrity protection
over the \"a=rid\" attributes gives attackers a way to modify the
session in potentially unwanted ways. This could result in an
implementation sending greater amounts of data than a recipient wishes
to receive. In general, however, since the \"a=rid\" attribute can only
restrict a stream to be a subset of what is otherwise allowable,
modification of the value cannot result in a stream that is of higher
bandwidth than would be sent to an implementation that does not support
this mechanism.[¶](#section-13-1){.pilcrow}

The actual identifiers used for RIDs are expected to be opaque. As such,
they are not expected to contain information that would be sensitive,
were it observed by third parties.[¶](#section-13-2){.pilcrow}
:::
:::

::: {#section-14 .section}
## [14.](#section-14){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-14.1 .section}
### [14.1.](#section-14.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC3264\]
:   [Rosenberg, J.]{.refAuthor}[ and H. Schulzrinne]{.refAuthor}, [\"An
    Offer/Answer Model with Session Description Protocol
    (SDP)\"]{.refTitle}, [RFC 3264]{.seriesInfo}, [DOI
    10.17487/RFC3264]{.seriesInfo}, June 2002,
    \<<https://www.rfc-editor.org/info/rfc3264>\>.
:   

\[RFC3550\]
:   [Schulzrinne, H.]{.refAuthor}[, Casner, S.]{.refAuthor}[,
    Frederick, R.]{.refAuthor}[, and V. Jacobson]{.refAuthor}, [\"RTP: A
    Transport Protocol for Real-Time Applications\"]{.refTitle}, [STD
    64]{.seriesInfo}, [RFC 3550]{.seriesInfo}, [DOI
    10.17487/RFC3550]{.seriesInfo}, July 2003,
    \<<https://www.rfc-editor.org/info/rfc3550>\>.
:   

\[RFC4566\]
:   [Handley, M.]{.refAuthor}[, Jacobson, V.]{.refAuthor}[, and C.
    Perkins]{.refAuthor}, [\"SDP: Session Description
    Protocol\"]{.refTitle}, [RFC 4566]{.seriesInfo}, [DOI
    10.17487/RFC4566]{.seriesInfo}, July 2006,
    \<<https://www.rfc-editor.org/info/rfc4566>\>.
:   

\[RFC4855\]
:   [Casner, S.]{.refAuthor}, [\"Media Type Registration of RTP Payload
    Formats\"]{.refTitle}, [RFC 4855]{.seriesInfo}, [DOI
    10.17487/RFC4855]{.seriesInfo}, February 2007,
    \<<https://www.rfc-editor.org/info/rfc4855>\>.
:   

\[RFC5234\]
:   [Crocker, D., Ed.]{.refAuthor}[ and P. Overell]{.refAuthor},
    [\"Augmented BNF for Syntax Specifications: ABNF\"]{.refTitle}, [STD
    68]{.seriesInfo}, [RFC 5234]{.seriesInfo}, [DOI
    10.17487/RFC5234]{.seriesInfo}, January 2008,
    \<<https://www.rfc-editor.org/info/rfc5234>\>.
:   

\[RFC7405\]
:   [Kyzivat, P.]{.refAuthor}, [\"Case-Sensitive String Support in
    ABNF\"]{.refTitle}, [RFC 7405]{.seriesInfo}, [DOI
    10.17487/RFC7405]{.seriesInfo}, December 2014,
    \<<https://www.rfc-editor.org/info/rfc7405>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8852\]
:   [Roach, A.B.]{.refAuthor}[, Nandakumar, S.]{.refAuthor}[, and P.
    Thatcher]{.refAuthor}, [\"RTP Stream Identifier Source Description
    (SDES)\"]{.refTitle}, [RFC 8852]{.seriesInfo}, [DOI
    10.17487/RFC8852]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8852>\>.
:   
:::

::: {#section-14.2 .section}
### [14.2.](#section-14.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[H264\]
:   [International Telecommunication Union]{.refAuthor}, [\"Advanced
    video coding for generic audiovisual services\"]{.refTitle}, [ITU-T
    Recommendation H.264]{.seriesInfo}, June 2019,
    \<<https://www.itu.int/rec/T-REC-H.264>\>.
:   

\[RFC2198\]
:   [Perkins, C.]{.refAuthor}[, Kouvelas, I.]{.refAuthor}[,
    Hodson, O.]{.refAuthor}[, Hardman, V.]{.refAuthor}[,
    Handley, M.]{.refAuthor}[, Bolot, J.C.]{.refAuthor}[,
    Vega-Garcia, A.]{.refAuthor}[, and S. Fosse-Parisis]{.refAuthor},
    [\"RTP Payload for Redundant Audio Data\"]{.refTitle}, [RFC
    2198]{.seriesInfo}, [DOI 10.17487/RFC2198]{.seriesInfo}, September
    1997, \<<https://www.rfc-editor.org/info/rfc2198>\>.
:   

\[RFC4588\]
:   [Rey, J.]{.refAuthor}[, Leon, D.]{.refAuthor}[,
    Miyazaki, A.]{.refAuthor}[, Varsa, V.]{.refAuthor}[, and R.
    Hakenberg]{.refAuthor}, [\"RTP Retransmission Payload
    Format\"]{.refTitle}, [RFC 4588]{.seriesInfo}, [DOI
    10.17487/RFC4588]{.seriesInfo}, July 2006,
    \<<https://www.rfc-editor.org/info/rfc4588>\>.
:   

\[RFC5109\]
:   [Li, A., Ed.]{.refAuthor}, [\"RTP Payload Format for Generic Forward
    Error Correction\"]{.refTitle}, [RFC 5109]{.seriesInfo}, [DOI
    10.17487/RFC5109]{.seriesInfo}, December 2007,
    \<<https://www.rfc-editor.org/info/rfc5109>\>.
:   

\[RFC6184\]
:   [Wang, Y.-K.]{.refAuthor}[, Even, R.]{.refAuthor}[,
    Kristensen, T.]{.refAuthor}[, and R. Jesup]{.refAuthor}, [\"RTP
    Payload Format for H.264 Video\"]{.refTitle}, [RFC
    6184]{.seriesInfo}, [DOI 10.17487/RFC6184]{.seriesInfo}, May 2011,
    \<<https://www.rfc-editor.org/info/rfc6184>\>.
:   

\[RFC6236\]
:   [Johansson, I.]{.refAuthor}[ and K. Jung]{.refAuthor},
    [\"Negotiation of Generic Image Attributes in the Session
    Description Protocol (SDP)\"]{.refTitle}, [RFC 6236]{.seriesInfo},
    [DOI 10.17487/RFC6236]{.seriesInfo}, May 2011,
    \<<https://www.rfc-editor.org/info/rfc6236>\>.
:   

\[RFC7656\]
:   [Lennox, J.]{.refAuthor}[, Gross, K.]{.refAuthor}[,
    Nandakumar, S.]{.refAuthor}[, Salgueiro, G.]{.refAuthor}[, and B.
    Burman, Ed.]{.refAuthor}, [\"A Taxonomy of Semantics and Mechanisms
    for Real-Time Transport Protocol (RTP) Sources\"]{.refTitle}, [RFC
    7656]{.seriesInfo}, [DOI 10.17487/RFC7656]{.seriesInfo}, November
    2015, \<<https://www.rfc-editor.org/info/rfc7656>\>.
:   

\[RFC7741\]
:   [Westin, P.]{.refAuthor}[, Lundin, H.]{.refAuthor}[,
    Glover, M.]{.refAuthor}[, Uberti, J.]{.refAuthor}[, and F.
    Galligan]{.refAuthor}, [\"RTP Payload Format for VP8
    Video\"]{.refTitle}, [RFC 7741]{.seriesInfo}, [DOI
    10.17487/RFC7741]{.seriesInfo}, March 2016,
    \<<https://www.rfc-editor.org/info/rfc7741>\>.
:   

\[RFC8126\]
:   [Cotton, M.]{.refAuthor}[, Leiba, B.]{.refAuthor}[, and T.
    Narten]{.refAuthor}, [\"Guidelines for Writing an IANA
    Considerations Section in RFCs\"]{.refTitle}, [BCP 26]{.seriesInfo},
    [RFC 8126]{.seriesInfo}, [DOI 10.17487/RFC8126]{.seriesInfo}, June
    2017, \<<https://www.rfc-editor.org/info/rfc8126>\>.
:   

\[RFC8285\]
:   [Singer, D.]{.refAuthor}[, Desineni, H.]{.refAuthor}[, and R. Even,
    Ed.]{.refAuthor}, [\"A General Mechanism for RTP Header
    Extensions\"]{.refTitle}, [RFC 8285]{.seriesInfo}, [DOI
    10.17487/RFC8285]{.seriesInfo}, October 2017,
    \<<https://www.rfc-editor.org/info/rfc8285>\>.
:   

\[RFC8627\]
:   [Zanaty, M.]{.refAuthor}[, Singh, V.]{.refAuthor}[,
    Begen, A.]{.refAuthor}[, and G. Mandyam]{.refAuthor}, [\"RTP Payload
    Format for Flexible Forward Error Correction (FEC)\"]{.refTitle},
    [RFC 8627]{.seriesInfo}, [DOI 10.17487/RFC8627]{.seriesInfo}, July
    2019, \<<https://www.rfc-editor.org/info/rfc8627>\>.
:   

\[RFC8843\]
:   [Holmberg, C.]{.refAuthor}[, Alvestrand, H.]{.refAuthor}[, and C.
    Jennings]{.refAuthor}, [\"Negotiating Media Multiplexing Using the
    Session Description Protocol (SDP)\"]{.refTitle}, [RFC
    8843]{.seriesInfo}, [DOI 10.17487/RFC8843]{.seriesInfo}, January
    2021, \<<https://www.rfc-editor.org/info/rfc8843>\>.
:   

\[RFC8853\]
:   [Burman, B.]{.refAuthor}[, Westerlund, M.]{.refAuthor}[,
    Nandakumar, S.]{.refAuthor}[, and M. Zanaty]{.refAuthor}, [\"Using
    Simulcast in Session Description Protocol (SDP) and RTP
    Sessions\"]{.refTitle}, [RFC 8853]{.seriesInfo}, [DOI
    10.17487/RFC8853]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8853>\>.
:   
:::
:::

::: {#acknowledgements}
::: {#section-appendix.a .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

Many thanks to [Cullen Jennings]{.contact-name}, [Magnus
Westerlund]{.contact-name}, and [Paul Kyzivat]{.contact-name} for
reviewing. Thanks to [Colin Perkins]{.contact-name} for input on future
payload type handling.[¶](#section-appendix.a-1){.pilcrow}
:::
:::

::: {#contributors}
::: {#section-appendix.b .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

The following individuals have contributed significant text to this
document.[¶](#section-appendix.b-1){.pilcrow}

::: {.left dir="auto"}
[Peter Thatcher]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Google]{.org}
:::

::: email
Email: <pthatcher@google.com>
:::

::: {.left dir="auto"}
[Mo Zanaty]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems]{.org}
:::

::: email
Email: <mzanaty@cisco.com>
:::

::: {.left dir="auto"}
[Suhas Nandakumar]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems]{.org}
:::

::: email
Email: <snandaku@cisco.com>
:::

::: {.left dir="auto"}
[Bo Burman]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: email
Email: <bo.burman@ericsson.com>
:::

::: {.left dir="auto"}
[Byron Campen]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Mozilla]{.org}
:::

::: email
Email: <bcampen@mozilla.com>
:::
:::
:::

::: {#authors-addresses}
::: {#section-appendix.c .section}
## [Author\'s Address](#name-authors-address){.section-name .selfRef} {#name-authors-address}

::: {.left dir="auto"}
[Adam Roach ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Mozilla]{.org}
:::

::: email
Email: <adam@nostrum.com>
:::
:::
:::
