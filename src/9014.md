  RFC 9014          Interconnect for EVPN-Overlays   May 2021
  ----------------- -------------------------------- ----------
  Rabadan, et al.   Standards Track                  \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [9014](https://www.rfc-editor.org/rfc/rfc9014){.eref}

Category:
:   Standards Track

Published:
:   May 2021

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    J. Rabadan, [Ed.]{.editor}
    :::

    ::: org
    Nokia
    :::
    :::

    ::: author
    ::: author-name
    S. Sathappan
    :::

    ::: org
    Nokia
    :::
    :::

    ::: author
    ::: author-name
    W. Henderickx
    :::

    ::: org
    Nokia
    :::
    :::

    ::: author
    ::: author-name
    A. Sajassi
    :::

    ::: org
    Cisco
    :::
    :::

    ::: author
    ::: author-name
    J. Drake
    :::

    ::: org
    Juniper
    :::
    :::
:::

# RFC 9014 {#rfcnum}

# Interconnect Solution for Ethernet VPN (EVPN) Overlay Networks {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

This document describes how Network Virtualization Overlays (NVOs) can
be connected to a Wide Area Network (WAN) in order to extend the Layer 2
connectivity required for some tenants. The solution analyzes the
interaction between NVO networks running Ethernet Virtual Private
Networks (EVPNs) and other Layer 2 VPN (L2VPN) technologies used in the
WAN, such as Virtual Private LAN Services (VPLSs), VPLS extensions for
Provider Backbone Bridging (PBB-VPLS), EVPN, or PBB-EVPN. It also
describes how the existing technical specifications apply to the
interconnection and extends the EVPN procedures needed in some cases. In
particular, this document describes how EVPN routes are processed on
Gateways (GWs) that interconnect EVPN-Overlay and EVPN-MPLS networks, as
well as the Interconnect Ethernet Segment (I-ES), to provide
multihoming. This document also describes the use of the Unknown MAC
Route (UMR) to avoid issues of a Media Access Control (MAC) scale on
Data Center Network Virtualization Edge (NVE)
devices.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc9014>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2021 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Conventions and
    Terminology](#name-conventions-and-terminology){.xref}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Decoupled Interconnect Solution for
    EVPN-Overlay Networks](#name-decoupled-interconnect-solu){.xref}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [Interconnect
        Requirements](#name-interconnect-requirements){.xref}
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [VLAN-Based
        Handoff](#name-vlan-based-handoff){.xref}
        :::

    -   ::: {#section-toc.1-1.3.2.3}
        [3.3](#section-3.3){.xref}.  [PW-Based
        Handoff](#name-pw-based-handoff){.xref}
        :::

    -   ::: {#section-toc.1-1.3.2.4}
        [3.4](#section-3.4){.xref}.  [Multihoming Solution on the
        GWs](#name-multihoming-solution-on-the){.xref}
        :::

    -   ::: {#section-toc.1-1.3.2.5}
        [3.5](#section-3.5){.xref}.  [Gateway
        Optimizations](#name-gateway-optimizations){.xref}

        -   ::: {#section-toc.1-1.3.2.5.2.1}
            [3.5.1](#section-3.5.1){.xref}.  [MAC Address Advertisement
            Control](#name-mac-address-advertisement-c){.xref}
            :::

        -   ::: {#section-toc.1-1.3.2.5.2.2}
            [3.5.2](#section-3.5.2){.xref}.  [ARP/ND Flooding
            Control](#name-arp-nd-flooding-control){.xref}
            :::

        -   ::: {#section-toc.1-1.3.2.5.2.3}
            [3.5.3](#section-3.5.3){.xref}.  [Handling Failures between
            GW and WAN Edge
            Routers](#name-handling-failures-between-g){.xref}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Integrated Interconnect Solution for
    EVPN-Overlay Networks](#name-integrated-interconnect-sol){.xref}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [Interconnect
        Requirements](#name-interconnect-requirements-2){.xref}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [VPLS Interconnect for EVPN-Overlay
        Networks](#name-vpls-interconnect-for-evpn-){.xref}

        -   ::: {#section-toc.1-1.4.2.2.2.1}
            [4.2.1](#section-4.2.1){.xref}.  [Control/Data Plane Setup
            Procedures on the
            GWs](#name-control-data-plane-setup-pr){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.2.2.2}
            [4.2.2](#section-4.2.2){.xref}.  [Multihoming Procedures on
            the GWs](#name-multihoming-procedures-on-t){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.xref}.  [PBB-VPLS Interconnect for
        EVPN-Overlay Networks](#name-pbb-vpls-interconnect-for-e){.xref}

        -   ::: {#section-toc.1-1.4.2.3.2.1}
            [4.3.1](#section-4.3.1){.xref}.  [Control/Data Plane Setup
            Procedures on the
            GWs](#name-control-data-plane-setup-pro){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.3.2.2}
            [4.3.2](#section-4.3.2){.xref}.  [Multihoming Procedures on
            the GWs](#name-multihoming-procedures-on-th){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.xref}.  [EVPN-MPLS Interconnect for
        EVPN-Overlay Networks](#name-evpn-mpls-interconnect-for-){.xref}

        -   ::: {#section-toc.1-1.4.2.4.2.1}
            [4.4.1](#section-4.4.1){.xref}.  [Control plane Setup
            Procedures on the
            GWs](#name-control-plane-setup-procedu){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.4.2.2}
            [4.4.2](#section-4.4.2){.xref}.  [Data Plane Setup
            Procedures on the
            GWs](#name-data-plane-setup-procedures){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.4.2.3}
            [4.4.3](#section-4.4.3){.xref}.  [Multihoming Procedure
            Extensions on the
            GWs](#name-multihoming-procedure-exten){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.4.2.4}
            [4.4.4](#section-4.4.4){.xref}.  [Impact on MAC Mobility
            Procedures](#name-impact-on-mac-mobility-proc){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.4.2.5}
            [4.4.5](#section-4.4.5){.xref}.  [Gateway
            Optimizations](#name-gateway-optimizations-2){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.4.2.6}
            [4.4.6](#section-4.4.6){.xref}.  [Benefits of the EVPN-MPLS
            Interconnect
            Solution](#name-benefits-of-the-evpn-mpls-i){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.5}
        [4.5](#section-4.5){.xref}.  [PBB-EVPN Interconnect for
        EVPN-Overlay Networks](#name-pbb-evpn-interconnect-for-e){.xref}

        -   ::: {#section-toc.1-1.4.2.5.2.1}
            [4.5.1](#section-4.5.1){.xref}.  [Control/Data Plane Setup
            Procedures on the
            GWs](#name-control-data-plane-setup-proc){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.5.2.2}
            [4.5.2](#section-4.5.2){.xref}.  [Multihoming Procedures on
            the GWs](#name-multihoming-procedures-on-the){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.5.2.3}
            [4.5.3](#section-4.5.3){.xref}.  [Impact on MAC Mobility
            Procedures](#name-impact-on-mac-mobility-proce){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.5.2.4}
            [4.5.4](#section-4.5.4){.xref}.  [Gateway
            Optimizations](#name-gateway-optimizations-3){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.6}
        [4.6](#section-4.6){.xref}.  [EVPN-VXLAN Interconnect for
        EVPN-Overlay Networks](#name-evpn-vxlan-interconnect-for){.xref}

        -   ::: {#section-toc.1-1.4.2.6.2.1}
            [4.6.1](#section-4.6.1){.xref}.  [Globally Unique VNIs in
            the Interconnect
            Network](#name-globally-unique-vnis-in-the){.xref}
            :::

        -   ::: {#section-toc.1-1.4.2.6.2.2}
            [4.6.2](#section-4.6.2){.xref}.  [Downstream-Assigned VNIs
            in the Interconnect
            Network](#name-downstream-assigned-vnis-in){.xref}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [References](#name-references){.xref}

    -   ::: {#section-toc.1-1.7.2.1}
        [7.1](#section-7.1){.xref}.  [Normative
        References](#name-normative-references){.xref}
        :::

    -   ::: {#section-toc.1-1.7.2.2}
        [7.2](#section-7.2){.xref}.  [Informative
        References](#name-informative-references){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.8}
    [](#section-appendix.a){.xref}[Acknowledgments](#name-acknowledgments){.xref}
    :::

-   ::: {#section-toc.1-1.9}
    [](#section-appendix.b){.xref}[Contributors](#name-contributors){.xref}
    :::

-   ::: {#section-toc.1-1.10}
    [](#section-appendix.c){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}
    :::
:::
:::

::: {#sect-2}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

\[[RFC8365](#RFC8365){.xref}\] discusses the use of Ethernet Virtual
Private Networks (EVPNs) \[[RFC7432](#RFC7432){.xref}\] as the control
plane for Network Virtualization Overlays (NVOs), where VXLAN
\[[RFC7348](#RFC7348){.xref}\], NVGRE \[[RFC7637](#RFC7637){.xref}\], or
MPLS over GRE \[[RFC4023](#RFC4023){.xref}\] can be used as possible
data plane encapsulation options.[¶](#section-1-1){.pilcrow}

While this model provides a scalable and efficient multitenant solution
within the Data Center, it might not be easily extended to the Wide Area
Network (WAN) in some cases, due to the requirements and existing
deployed technologies. For instance, a Service Provider might have an
already deployed Virtual Private LAN Service (VPLS)
\[[RFC4761](#RFC4761){.xref}\] \[[RFC4762](#RFC4762){.xref}\], VPLS
extensions for Provider Backbone Bridging (PBB-VPLS)
\[[RFC7041](#RFC7041){.xref}\], EVPN \[[RFC7432](#RFC7432){.xref}\], or
PBB-EVPN \[[RFC7623](#RFC7623){.xref}\] network that has to be used to
interconnect Data Centers and WAN VPN users. A Gateway (GW) function is
required in these cases. In fact, \[[RFC8365](#RFC8365){.xref}\]
discusses two main Data Center Interconnect (DCI) solution groups: \"DCI
using GWs\" and \"DCI using ASBRs\". This document specifies the
solutions that correspond to the \"DCI using GWs\"
group.[¶](#section-1-2){.pilcrow}

It is assumed that the NVO GW and the WAN Edge functions can be
decoupled into two separate systems or integrated into the same system.
The former option will be referred to as \"decoupled interconnect
solution\" throughout the document, whereas the latter one will be
referred to as \"integrated interconnect
solution\".[¶](#section-1-3){.pilcrow}

The specified procedures are local to the redundant GWs connecting a DC
to the WAN. The document does not preclude any combination across
different DCs for the same tenant. For instance, a \"Decoupled\"
solution can be used in GW1 and GW2 (for DC1), and an \"Integrated\"
solution can be used in GW3 and GW4 (for
DC2).[¶](#section-1-4){.pilcrow}

While the Gateways and WAN Provider Edges (PEs) use existing
specifications in some cases, the document also defines extensions that
are specific to DCI. In particular, those extensions
are:[¶](#section-1-5){.pilcrow}

-   [The Interconnect Ethernet Segment (I-ES), an Ethernet Segment that
    can be associated to a set of pseudowires (PWs) or other tunnels.
    The I-ES defined in this document is not associated with a set of
    Ethernet links, as per \[[RFC7432](#RFC7432){.xref}\], but rather
    with a set of virtual tunnels (e.g., a set of PWs). This set of
    virtual tunnels is referred to as vES
    \[[VIRTUAL-ES](#I-D.ietf-bess-evpn-virtual-eth-segment){.xref}\].[¶](#section-1-6.1){.pilcrow}]{#section-1-6.1}
-   [The use of the Unknown MAC Route (UMR) in a DCI
    scenario.[¶](#section-1-6.2){.pilcrow}]{#section-1-6.2}
-   [The processing of EVPN routes on Gateways with MAC-VRFs connecting
    EVPN-Overlay and EVPN-MPLS networks, or EVPN-Overlay and
    EVPN-Overlay networks.[¶](#section-1-6.3){.pilcrow}]{#section-1-6.3}
:::
:::

::: {#sect-1}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Conventions and Terminology](#name-conventions-and-terminology){.section-name .selfRef} {#name-conventions-and-terminology}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-2-1){.pilcrow}

[]{.break}

AC:
:   Attachment Circuit[¶](#section-2-2.2){.pilcrow}
:   

ARP:
:   Address Resolution Protocol[¶](#section-2-2.4){.pilcrow}
:   

BUM:
:   Broadcast, Unknown Unicast and Multicast
    (traffic)[¶](#section-2-2.6){.pilcrow}
:   

CE:
:   Customer Equipment[¶](#section-2-2.8){.pilcrow}
:   

CFM:
:   Connectivity Fault Management[¶](#section-2-2.10){.pilcrow}
:   

DC:
:   Data Center[¶](#section-2-2.12){.pilcrow}
:   

DCI:
:   Data Center Interconnect[¶](#section-2-2.14){.pilcrow}
:   

DF:
:   Designated Forwarder[¶](#section-2-2.16){.pilcrow}
:   

EVI:
:   EVPN Instance[¶](#section-2-2.18){.pilcrow}
:   

EVPN:
:   Ethernet Virtual Private Network, as in
    \[[RFC7432](#RFC7432){.xref}\][¶](#section-2-2.20){.pilcrow}
:   

EVPN Tunnel binding:
:   refers to a tunnel to a remote PE/NVE for a given EVI. Ethernet
    packets in these bindings are encapsulated with the Overlay or MPLS
    encapsulation and the EVPN label at the bottom of the
    stack.[¶](#section-2-2.22){.pilcrow}
:   

ES:
:   Ethernet Segment[¶](#section-2-2.24){.pilcrow}
:   

ESI:
:   Ethernet Segment Identifier[¶](#section-2-2.26){.pilcrow}
:   

GW:
:   Gateway or Data Center Gateway[¶](#section-2-2.28){.pilcrow}
:   

I-ES and I-ESI:
:   Interconnect Ethernet Segment and Interconnect Ethernet Segment
    Identifier. An I-ES is defined on the GWs for multihoming to/from
    the WAN.[¶](#section-2-2.30){.pilcrow}
:   

MAC
:   Media Access Control[¶](#section-2-2.32){.pilcrow}
:   

MAC-VRF:
:   refers to an EVI instance in a particular
    node[¶](#section-2-2.34){.pilcrow}
:   

MP2P and LSM tunnels:
:   refer to multipoint-to-point and label switched multicast
    tunnels[¶](#section-2-2.36){.pilcrow}
:   

ND:
:   Neighbor Discovery[¶](#section-2-2.38){.pilcrow}
:   

NDF:
:   Non-Designated Forwarder[¶](#section-2-2.40){.pilcrow}
:   

NVE:
:   Network Virtualization Edge[¶](#section-2-2.42){.pilcrow}
:   

NVGRE:
:   Network Virtualization using Generic Routing
    Encapsulation[¶](#section-2-2.44){.pilcrow}
:   

NVO:
:   Network Virtualization Overlay[¶](#section-2-2.46){.pilcrow}
:   

OAM:
:   Operations, Administration, and
    Maintenance[¶](#section-2-2.48){.pilcrow}
:   

PBB:
:   Provider Backbone Bridging[¶](#section-2-2.50){.pilcrow}
:   

PE:
:   Provider Edge[¶](#section-2-2.52){.pilcrow}
:   

PW:
:   Pseudowire[¶](#section-2-2.54){.pilcrow}
:   

RD:
:   Route Distinguisher[¶](#section-2-2.56){.pilcrow}
:   

RR:
:   Route Reflector[¶](#section-2-2.58){.pilcrow}
:   

RT:
:   Route Target[¶](#section-2-2.60){.pilcrow}
:   

S/C-TAG:
:   refers to a combination of Service Tag and Customer Tag in a 802.1Q
    frame[¶](#section-2-2.62){.pilcrow}
:   

TOR:
:   Top-Of-Rack[¶](#section-2-2.64){.pilcrow}
:   

UMR:
:   Unknown MAC Route[¶](#section-2-2.66){.pilcrow}
:   

vES:
:   virtual Ethernet Segment[¶](#section-2-2.68){.pilcrow}
:   

VNI/VSID:
:   refers to VXLAN/NVGRE virtual
    identifiers[¶](#section-2-2.70){.pilcrow}
:   

VPLS:
:   Virtual Private LAN Service[¶](#section-2-2.72){.pilcrow}
:   

VSI:
:   Virtual Switch Instance or VPLS instance in a particular
    PE[¶](#section-2-2.74){.pilcrow}
:   

VXLAN:
:   Virtual eXtensible LAN[¶](#section-2-2.76){.pilcrow}
:   
:::
:::

::: {#sect-3}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Decoupled Interconnect Solution for EVPN-Overlay Networks](#name-decoupled-interconnect-solu){.section-name .selfRef} {#name-decoupled-interconnect-solu}

This section describes the interconnect solution when the GW and WAN
Edge functions are implemented in different systems. [Figure
1](#fig-1){.xref} depicts the reference model described in this section.
Note that, although not shown in [Figure 1](#fig-1){.xref}, GWs may have
local Attachment Circuits (ACs).[¶](#section-3-1){.pilcrow}

[]{#name-decoupled-interconnect-mode}

::: {#fig-1}
::: {#section-3-2.1 .artwork .art-text .alignLeft}
                                    +--+
                                    |CE|
                                    +--+
                                      |
                                   +----+
                              +----| PE |----+
            +---------+       |    +----+    |       +---------+
    +----+  |        +---+  +----+        +----+  +---+        |  +----+
    |NVE1|--|        |   |  |WAN |        |WAN |  |   |        |--|NVE3|
    +----+  |        |GW1|--|Edge|        |Edge|--|GW3|        |  +----+
            |        +---+  +----+        +----+  +---+        |
            |  NVO-1   |      |     WAN      |      |   NVO-2  |
            |        +---+  +----+        +----+  +---+        |
            |        |   |  |WAN |        |WAN |  |   |        |
    +----+  |        |GW2|--|Edge|        |Edge|--|GW4|        |  +----+
    |NVE2|--|        +---+  +----+        +----+  +---+        |--|NVE4|
    +----+  +---------+       |              |       +---------+  +----+
                              +--------------+

    |<-EVPN-Overlay-->|<-VLAN->|<-WAN L2VPN->|<--PW-->|<--EVPN-Overlay->|
                       handoff               handoff
:::

[Figure 1](#figure-1){.selfRef}: [Decoupled Interconnect
Model](#name-decoupled-interconnect-mode){.selfRef}
:::

The following section describes the interconnect requirements for this
model.[¶](#section-3-3){.pilcrow}

::: {#sect-3.1}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [Interconnect Requirements](#name-interconnect-requirements){.section-name .selfRef} {#name-interconnect-requirements}

The decoupled interconnect architecture is intended to be deployed in
networks where the EVPN-Overlay and WAN providers are different entities
and a clear demarcation is needed. This solution solves the following
requirements:[¶](#section-3.1-1){.pilcrow}

-   [A simple connectivity handoff between the EVPN-Overlay network
    provider and the WAN provider so that QoS and security enforcement
    are easily
    accomplished.[¶](#section-3.1-2.1){.pilcrow}]{#section-3.1-2.1}

-   [Independence of the L2VPN technology deployed in the
    WAN.[¶](#section-3.1-2.2){.pilcrow}]{#section-3.1-2.2}

-   [Multihoming between GW and WAN Edge routers, including per-service
    load balancing. Per-flow load balancing is not a strong requirement,
    since a deterministic path per service is usually required for an
    easy QoS and security
    enforcement.[¶](#section-3.1-2.3){.pilcrow}]{#section-3.1-2.3}

-   [Support of Ethernet OAM and Connectivity Fault Management (CFM)
    \[[IEEE.802.1AG](#IEEE.802.1AG){.xref}\]
    \[[Y.1731](#Y.1731){.xref}\] functions between the GW and the WAN
    Edge router to detect individual AC
    failures.[¶](#section-3.1-2.4){.pilcrow}]{#section-3.1-2.4}

-   ::: {#section-3.1-2.5}
    Support for the following optimizations at the
    GW:[¶](#section-3.1-2.5.1){.pilcrow}

    -   [Flooding reduction of unknown unicast traffic sourced from the
        DC Network Virtualization Edge (NVE)
        devices.[¶](#section-3.1-2.5.2.1){.pilcrow}]{#section-3.1-2.5.2.1}
    -   [Control of the WAN MAC addresses advertised to the
        DC.[¶](#section-3.1-2.5.2.2){.pilcrow}]{#section-3.1-2.5.2.2}
    -   [Address Resolution Protocol (ARP) and Neighbor Discovery (ND)
        flooding control for the requests coming from the
        WAN.[¶](#section-3.1-2.5.2.3){.pilcrow}]{#section-3.1-2.5.2.3}
    :::
:::
:::

::: {#sect-3.2}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [VLAN-Based Handoff](#name-vlan-based-handoff){.section-name .selfRef} {#name-vlan-based-handoff}

In this option, the handoff between the GWs and the WAN Edge routers is
based on VLANs \[[IEEE.802.1Q](#IEEE.802.1Q){.xref}\]. This is
illustrated in [Figure 1](#fig-1){.xref} (between the GWs in NVO-1 and
the WAN Edge routers). Each MAC-VRF in the GW is connected to a
different VSI/MAC-VRF instance in the WAN Edge router by using a
different C-TAG VLAN ID or a different combination of S/C-TAG VLAN IDs
that matches at both sides.[¶](#section-3.2-1){.pilcrow}

This option provides the best possible demarcation between the DC and
WAN providers, and it does not require control plane interaction between
both providers. The disadvantage of this model is the provisioning
overhead, since the service has to be mapped to a C-TAG or S/C-TAG VLAN
ID combination at both GW and WAN Edge
routers.[¶](#section-3.2-2){.pilcrow}

In this model, the GW acts as a regular Network Virtualization Edge
(NVE) towards the DC. Its control plane, data plane procedures, and
interactions are described in
\[[RFC8365](#RFC8365){.xref}\].[¶](#section-3.2-3){.pilcrow}

The WAN Edge router acts as a (PBB-)VPLS or (PBB-)EVPN PE with
Attachment Circuits (ACs) to the GWs. Its functions are described in
\[[RFC4761](#RFC4761){.xref}\], \[[RFC4762](#RFC4762){.xref}\],
\[[RFC6074](#RFC6074){.xref}\], \[[RFC7432](#RFC7432){.xref}\], and
\[[RFC7623](#RFC7623){.xref}\].[¶](#section-3.2-4){.pilcrow}
:::
:::

::: {#sect-3.3}
::: {#section-3.3 .section}
### [3.3.](#section-3.3){.section-number .selfRef} [PW-Based Handoff](#name-pw-based-handoff){.section-name .selfRef} {#name-pw-based-handoff}

If MPLS between the GW and the WAN Edge router is an option, a PW-based
interconnect solution can be deployed. In this option, the handoff
between both routers is based on FEC128-based PWs
\[[RFC4762](#RFC4762){.xref}\] or FEC129-based PWs (for a greater level
of network automation) \[[RFC6074](#RFC6074){.xref}\]. Note that this
model still provides a clear demarcation between DC and WAN (since there
is a single PW between each MAC-VRF and peer VSI), and security/QoS
policies may be applied on a per-PW basis. This model provides better
scalability than a C-TAG-based handoff and less provisioning overhead
than a combined C/S-TAG handoff. The PW-based handoff interconnect is
illustrated in [Figure 1](#fig-1){.xref} (between the NVO-2 GWs and the
WAN Edge routers).[¶](#section-3.3-1){.pilcrow}

In this model, besides the usual MPLS procedures between GW and WAN Edge
router \[[RFC3031](#RFC3031){.xref}\], the GW [MUST]{.bcp14} support an
interworking function in each MAC-VRF that requires extension to the
WAN:[¶](#section-3.3-2){.pilcrow}

-   [If a FEC128-based PW is used between the MAC-VRF (GW) and the VSI
    (WAN Edge), the corresponding Virtual Connection Identifier (VCID)
    [MUST]{.bcp14} be provisioned on the MAC-VRF and match the VCID used
    in the peer VSI at the WAN Edge
    router.[¶](#section-3.3-3.1){.pilcrow}]{#section-3.3-3.1}
-   [If BGP Auto-discovery \[[RFC6074](#RFC6074){.xref}\] and
    FEC129-based PWs are used between the GW MAC-VRF and the WAN Edge
    VSI, the provisioning of the VPLS-ID [MUST]{.bcp14} be supported on
    the MAC-VRF and [MUST]{.bcp14} match the VPLS-ID used in the WAN
    Edge VSI.[¶](#section-3.3-3.2){.pilcrow}]{#section-3.3-3.2}

If a PW-based handoff is used, the GW\'s AC (or point of attachment to
the EVPN instance) uses a combination of a PW label and VLAN IDs. PWs
are treated as service interfaces, defined in
\[[RFC7432](#RFC7432){.xref}\].[¶](#section-3.3-4){.pilcrow}
:::
:::

::: {#sect-3.4}
::: {#section-3.4 .section}
### [3.4.](#section-3.4){.section-number .selfRef} [Multihoming Solution on the GWs](#name-multihoming-solution-on-the){.section-name .selfRef} {#name-multihoming-solution-on-the}

EVPN single-active multihoming \-- i.e., per-service load-balancing
multihoming \-- is required in this type of
interconnect.[¶](#section-3.4-1){.pilcrow}

The GWs will be provisioned with a unique ES for each WAN interconnect,
and the handoff attachment circuits or PWs between the GW and the WAN
Edge router will be assigned an ESI for each such ES. The ESI will be
administratively configured on the GWs according to the procedures in
\[[RFC7432](#RFC7432){.xref}\]. This I-ES will be referred to as
\"I-ES\" hereafter, and its identifier will be referred to as \"I-ESI\".
Different ESI types are described in \[[RFC7432](#RFC7432){.xref}\]. The
use of Type 0 for the I-ESI is [RECOMMENDED]{.bcp14} in this
document.[¶](#section-3.4-2){.pilcrow}

The solution (on the GWs) [MUST]{.bcp14} follow the single-active
multihoming procedures as described in \[[RFC8365](#RFC8365){.xref}\]
for the provisioned I-ESI \-- i.e., Ethernet A-D routes per ES and per
EVI will be advertised to the DC NVEs for the multihoming functions, and
ES routes will be advertised so that ES discovery and Designated
Forwarder (DF) procedures can be followed. The MAC addresses learned (in
the data plane) on the handoff links will be advertised with the I-ESI
encoded in the ESI field.[¶](#section-3.4-3){.pilcrow}
:::
:::

::: {#sect-3.5}
::: {#section-3.5 .section}
### [3.5.](#section-3.5){.section-number .selfRef} [Gateway Optimizations](#name-gateway-optimizations){.section-name .selfRef} {#name-gateway-optimizations}

The following GW features are optional and optimize the control plane
and data plane in the DC.[¶](#section-3.5-1){.pilcrow}

::: {#sect-3.5.1}
::: {#section-3.5.1 .section}
#### [3.5.1.](#section-3.5.1){.section-number .selfRef} [MAC Address Advertisement Control](#name-mac-address-advertisement-c){.section-name .selfRef} {#name-mac-address-advertisement-c}

The use of EVPN in NVO networks brings a significant number of benefits,
as described in \[[RFC8365](#RFC8365){.xref}\]. However, if multiple DCs
are interconnected into a single EVI, each DC will have to import all of
the MAC addresses from each of the other
DCs.[¶](#section-3.5.1-1){.pilcrow}

Even if optimized BGP techniques like RT constraint
\[[RFC4684](#RFC4684){.xref}\] are used, the number of MAC addresses to
advertise or withdraw (in case of failure) by the GWs of a given DC
could overwhelm the NVEs within that DC, particularly when the NVEs
reside in the hypervisors.[¶](#section-3.5.1-2){.pilcrow}

The solution specified in this document uses the Unknown MAC Route (UMR)
that is advertised into a given DC by each of the DC\'s GWs. This route
is defined in \[[RFC7543](#RFC7543){.xref}\] and is a regular EVPN
MAC/IP Advertisement route in which the MAC Address Length is set to 48,
the MAC address is set to 0, and the ESI field is set to the DC GW\'s
I-ESI.[¶](#section-3.5.1-3){.pilcrow}

An NVE within that DC that understands and processes the UMR will send
unknown unicast frames to one of the DC\'s GWs, which will then forward
that packet to the correct egress PE. Note that, because the ESI is set
to the DC GW\'s I-ESI, all-active multihoming can be applied to unknown
unicast MAC addresses. An NVE that does not understand the Unknown MAC
Route will handle unknown unicast as described in
\[[RFC7432](#RFC7432){.xref}\].[¶](#section-3.5.1-4){.pilcrow}

This document proposes that local policy determine whether MAC addresses
and/or the UMR are advertised into a given DC. As an example, when all
the DC MAC addresses are learned in the control/management plane, it may
be appropriate to advertise only the UMR. Advertising all the DC MAC
addresses in the control/management plane is usually the case when the
NVEs reside in hypervisors. Refer to \[[RFC8365](#RFC8365){.xref}\],
[Section
7](https://www.rfc-editor.org/rfc/rfc8365#section-7){.relref}.[¶](#section-3.5.1-5){.pilcrow}

It is worth noting that the UMR usage in \[[RFC7543](#RFC7543){.xref}\]
and the UMR usage in this document are different. In the former, a
Virtual Spoke (V-spoke) does not necessarily learn all the MAC addresses
pertaining to hosts in other V-spokes of the same network. The
communication between two V-spokes is done through the Default MAC
Gateway (DMG) until the V-spokes learn each other\'s MAC addresses. In
this document, two leaf switches in the same DC are recommended for
V-spokes to learn each other\'s MAC addresses for the same EVI. The
leaf-to-leaf communication is always direct and does not go through the
GW.[¶](#section-3.5.1-6){.pilcrow}
:::
:::

::: {#sect-3.5.2}
::: {#section-3.5.2 .section}
#### [3.5.2.](#section-3.5.2){.section-number .selfRef} [ARP/ND Flooding Control](#name-arp-nd-flooding-control){.section-name .selfRef} {#name-arp-nd-flooding-control}

Another optimization mechanism, naturally provided by EVPN in the GWs,
is the Proxy ARP/ND function. The GWs should build a Proxy ARP/ND cache
table, as per \[[RFC7432](#RFC7432){.xref}\]. When the active GW
receives an ARP/ND request/solicitation coming from the WAN, the GW does
a Proxy ARP/ND table lookup and replies as long as the information is
available in its table.[¶](#section-3.5.2-1){.pilcrow}

This mechanism is especially recommended on the GWs, since it protects
the DC network from external ARP/ND-flooding
storms.[¶](#section-3.5.2-2){.pilcrow}
:::
:::

::: {#sect-3.5.3}
::: {#section-3.5.3 .section}
#### [3.5.3.](#section-3.5.3){.section-number .selfRef} [Handling Failures between GW and WAN Edge Routers](#name-handling-failures-between-g){.section-name .selfRef} {#name-handling-failures-between-g}

Link/PE failures are handled on the GWs as specified in
\[[RFC7432](#RFC7432){.xref}\]. The GW detecting the failure will
withdraw the EVPN routes, as per
\[[RFC7432](#RFC7432){.xref}\].[¶](#section-3.5.3-1){.pilcrow}

Individual AC/PW failures may be detected by OAM mechanisms. For
instance:[¶](#section-3.5.3-2){.pilcrow}

-   [If the interconnect solution is based on a VLAN handoff,
    Ethernet-CFM \[[IEEE.802.1AG](#IEEE.802.1AG){.xref}\]
    \[[Y.1731](#Y.1731){.xref}\] may be used to detect individual AC
    failures on both the GW and WAN Edge router. An individual AC
    failure will trigger the withdrawal of the corresponding A-D per EVI
    route as well as the MACs learned on that
    AC.[¶](#section-3.5.3-3.1){.pilcrow}]{#section-3.5.3-3.1}
-   [If the interconnect solution is based on a PW handoff, the Label
    Distribution Protocol (LDP) PW Status bits TLV
    \[[RFC6870](#RFC6870){.xref}\] may be used to detect individual PW
    failures on both the GW and WAN Edge
    router.[¶](#section-3.5.3-3.2){.pilcrow}]{#section-3.5.3-3.2}
:::
:::
:::
:::
:::
:::

::: {#sect-4}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Integrated Interconnect Solution for EVPN-Overlay Networks](#name-integrated-interconnect-sol){.section-name .selfRef} {#name-integrated-interconnect-sol}

When the DC and the WAN are operated by the same administrative entity,
the Service Provider can decide to integrate the GW and WAN Edge PE
functions in the same router for obvious reasons to save as relates to
Capital Expenditure (CAPEX) and Operating Expenses (OPEX). This is
illustrated in [Figure 2](#fig-2){.xref}. Note that this model does not
provide an explicit demarcation link between DC and WAN anymore.
Although not shown in [Figure 2](#fig-2){.xref}, note that the GWs may
have local ACs.[¶](#section-4-1){.pilcrow}

[]{#name-integrated-interconnect-mod}

::: {#fig-2}
::: {#section-4-2.1 .artwork .art-text .alignLeft}
                              +--+
                              |CE|
                              +--+
                                |
                             +----+
                        +----| PE |----+
            +---------+ |    +----+    | +---------+
    +----+  |        +---+            +---+        |  +----+
    |NVE1|--|        |   |            |   |        |--|NVE3|
    +----+  |        |GW1|            |GW3|        |  +----+
            |        +---+            +---+        |
            |  NVO-1   |       WAN      |   NVO-2  |
            |        +---+            +---+        |
            |        |   |            |   |        |
    +----+  |        |GW2|            |GW4|        |  +----+
    |NVE2|--|        +---+            +---+        |--|NVE4|
    +----+  +---------+ |              | +---------+  +----+
                        +--------------+

    |<--EVPN-Overlay--->|<-----VPLS--->|<---EVPN-Overlay-->|
                        |<--PBB-VPLS-->|
      Interconnect  ->  |<-EVPN-MPLS-->|
       options          |<--EVPN-Ovl-->|*
                        |<--PBB-EVPN-->|

    * EVPN-Ovl stands for EVPN-Overlay (and it's an interconnect option).
:::

[Figure 2](#figure-2){.selfRef}: [Integrated Interconnect
Model](#name-integrated-interconnect-mod){.selfRef}
:::

::: {#sect-4.1}
::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [Interconnect Requirements](#name-interconnect-requirements-2){.section-name .selfRef} {#name-interconnect-requirements-2}

The integrated interconnect solution meets the following
requirements:[¶](#section-4.1-1){.pilcrow}

-   [Control plane and data plane interworking between the EVPN-Overlay
    network and the L2VPN technology supported in the WAN, irrespective
    of the technology choice \-- i.e., (PBB‑)VPLS or (PBB-)EVPN, as
    depicted in [Figure
    2](#fig-2){.xref}.[¶](#section-4.1-2.1){.pilcrow}]{#section-4.1-2.1}
-   [Multihoming, including single-active multihoming with per-service
    load balancing or all-active multihoming \-- i.e., per-flow
    load-balancing \-- as long as the technology deployed in the WAN
    supports it.[¶](#section-4.1-2.2){.pilcrow}]{#section-4.1-2.2}
-   [Support for end-to-end MAC Mobility, Static MAC protection and
    other procedures (e.g., proxy-arp) described in
    \[[RFC7432](#RFC7432){.xref}\] as long as EVPN-MPLS is the
    technology of choice in the
    WAN.[¶](#section-4.1-2.3){.pilcrow}]{#section-4.1-2.3}
-   [Independent inclusive multicast trees in the WAN and in the DC.
    That is, the inclusive multicast tree type defined in the WAN does
    not need to be the same as in the
    DC.[¶](#section-4.1-2.4){.pilcrow}]{#section-4.1-2.4}
:::
:::

::: {#sect-4.2}
::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [VPLS Interconnect for EVPN-Overlay Networks](#name-vpls-interconnect-for-evpn-){.section-name .selfRef} {#name-vpls-interconnect-for-evpn-}

::: {#sect-4.2.1}
::: {#section-4.2.1 .section}
#### [4.2.1.](#section-4.2.1){.section-number .selfRef} [Control/Data Plane Setup Procedures on the GWs](#name-control-data-plane-setup-pr){.section-name .selfRef} {#name-control-data-plane-setup-pr}

Regular MPLS tunnels and Targeted LDP (tLDP) / BGP sessions will be set
up to the WAN PEs and RRs as per \[[RFC4761](#RFC4761){.xref}\],
\[[RFC4762](#RFC4762){.xref}\], and \[[RFC6074](#RFC6074){.xref}\], and
overlay tunnels and EVPN will be set up as per
\[[RFC8365](#RFC8365){.xref}\]. Note that different route targets for
the DC and the WAN are normally required (unless
\[[RFC4762](#RFC4762){.xref}\] is used in the WAN, in which case no WAN
route target is needed). A single type-1 RD per service may be
used.[¶](#section-4.2.1-1){.pilcrow}

In order to support multihoming, the GWs will be provisioned with an
I-ESI (see [Section 3.4](#sect-3.4){.xref}), which will be unique for
each interconnection. In this case, the I-ES will represent the group of
PWs to the WAN PEs and GWs. All the \[[RFC7432](#RFC7432){.xref}\]
procedures are still followed for the I-ES \-- e.g., any MAC address
learned from the WAN will be advertised to the DC with the I-ESI in the
ESI field.[¶](#section-4.2.1-2){.pilcrow}

A MAC-VRF per EVI will be created in each GW. The MAC-VRF will have two
different types of tunnel bindings instantiated in two different
split-horizon groups:[¶](#section-4.2.1-3){.pilcrow}

-   [VPLS PWs will be instantiated in the WAN split-horizon
    group.[¶](#section-4.2.1-4.1){.pilcrow}]{#section-4.2.1-4.1}
-   [Overlay tunnel bindings (e.g., VXLAN, NVGRE) will be instantiated
    in the DC split-horizon
    group.[¶](#section-4.2.1-4.2){.pilcrow}]{#section-4.2.1-4.2}

Attachment circuits are also supported on the same MAC-VRF (although not
shown in [Figure 2](#fig-2){.xref}), but they will not be part of any of
the above split-horizon groups.[¶](#section-4.2.1-5){.pilcrow}

Traffic received in a given split-horizon group will never be forwarded
to a member of the same split-horizon
group.[¶](#section-4.2.1-6){.pilcrow}

As far as BUM flooding is concerned, a flooding list will be composed of
the sublist created by the inclusive multicast routes and the sublist
created for VPLS in the WAN. BUM frames received from a local Attachment
Circuit (AC) will be forwarded to the flooding list. BUM frames received
from the DC or the WAN will be forwarded to the flooding list, observing
the split-horizon group rule described
above.[¶](#section-4.2.1-7){.pilcrow}

Note that the GWs are not allowed to have an EVPN binding and a PW to
the same far end within the same MAC-VRF, so that loops and packet
duplication are avoided. In case a GW can successfully establish both an
EVPN binding and a PW to the same far-end PE, the EVPN binding will
prevail, and the PW will be brought down
operationally.[¶](#section-4.2.1-8){.pilcrow}

The optimization procedures described in [Section 3.5](#sect-3.5){.xref}
can also be applied to this model.[¶](#section-4.2.1-9){.pilcrow}
:::
:::

::: {#sect-4.2.2}
::: {#section-4.2.2 .section}
#### [4.2.2.](#section-4.2.2){.section-number .selfRef} [Multihoming Procedures on the GWs](#name-multihoming-procedures-on-t){.section-name .selfRef} {#name-multihoming-procedures-on-t}

This model supports single-active multihoming on the GWs. All-active
multihoming is not supported by VPLS; therefore, it cannot be used on
the GWs.[¶](#section-4.2.2-1){.pilcrow}

In this case, for a given EVI, all the PWs in the WAN split-horizon
group are assigned to I-ES. All the single-active multihoming procedures
as described by \[[RFC8365](#RFC8365){.xref}\] will be followed for the
I-ES.[¶](#section-4.2.2-2){.pilcrow}

The non-DF GW for the I-ES will block the transmission and reception of
all the PWs in the WAN split-horizon group for BUM and unicast
traffic.[¶](#section-4.2.2-3){.pilcrow}
:::
:::
:::
:::

::: {#sect-4.3}
::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [PBB-VPLS Interconnect for EVPN-Overlay Networks](#name-pbb-vpls-interconnect-for-e){.section-name .selfRef} {#name-pbb-vpls-interconnect-for-e}

::: {#sect-4.3.1}
::: {#section-4.3.1 .section}
#### [4.3.1.](#section-4.3.1){.section-number .selfRef} [Control/Data Plane Setup Procedures on the GWs](#name-control-data-plane-setup-pro){.section-name .selfRef} {#name-control-data-plane-setup-pro}

In this case, there is no impact on the procedures described in
\[[RFC7041](#RFC7041){.xref}\] for the B-component. However, the
I-component instances become EVI instances with EVPN-Overlay bindings
and potentially local attachment circuits. A number of MAC-VRF instances
can be multiplexed into the same B-component instance. This option
provides significant savings in terms of PWs to be maintained in the
WAN.[¶](#section-4.3.1-1){.pilcrow}

The I-ESI concept described in [Section 4.2.1](#sect-4.2.1){.xref} will
also be used for the PBB-VPLS-based
interconnect.[¶](#section-4.3.1-2){.pilcrow}

B-component PWs and I-component EVPN-Overlay bindings established to the
same far end will be compared. The following rules will be
observed:[¶](#section-4.3.1-3){.pilcrow}

-   [Attempts to set up a PW between the two GWs within the B-component
    context will never be
    blocked.[¶](#section-4.3.1-4.1){.pilcrow}]{#section-4.3.1-4.1}
-   [If a PW exists between two GWs for the B-component and an attempt
    is made to set up an EVPN binding on an I-component linked to that
    B-component, the EVPN binding will be kept down operationally. Note
    that the BGP EVPN routes will still be valid but not
    used.[¶](#section-4.3.1-4.2){.pilcrow}]{#section-4.3.1-4.2}
-   [The EVPN binding will only be up and used as long as there is no PW
    to the same far end in the corresponding B-component. The EVPN
    bindings in the I-components will be brought down before the PW in
    the B-component is brought
    up.[¶](#section-4.3.1-4.3){.pilcrow}]{#section-4.3.1-4.3}

The optimization procedures described in [Section 3.5](#sect-3.5){.xref}
can also be applied to this interconnect
option.[¶](#section-4.3.1-5){.pilcrow}
:::
:::

::: {#sect-4.3.2}
::: {#section-4.3.2 .section}
#### [4.3.2.](#section-4.3.2){.section-number .selfRef} [Multihoming Procedures on the GWs](#name-multihoming-procedures-on-th){.section-name .selfRef} {#name-multihoming-procedures-on-th}

This model supports single-active multihoming on the GWs. All-active
multihoming is not supported by this
scenario.[¶](#section-4.3.2-1){.pilcrow}

The single-active multihoming procedures as described by
\[[RFC8365](#RFC8365){.xref}\] will be followed for the I-ES for each
EVI instance connected to the B-component. Note that in this case, for a
given EVI, all the EVPN bindings in the I-component are assigned to the
I-ES. The non-DF GW for the I-ES will block the transmission and
reception of all the I-component EVPN bindings for BUM and unicast
traffic. When learning MACs from the WAN, the non-DF [MUST NOT]{.bcp14}
advertise EVPN MAC/IP routes for those
MACs.[¶](#section-4.3.2-2){.pilcrow}
:::
:::
:::
:::

::: {#sect-4.4}
::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [EVPN-MPLS Interconnect for EVPN-Overlay Networks](#name-evpn-mpls-interconnect-for-){.section-name .selfRef} {#name-evpn-mpls-interconnect-for-}

If EVPN for MPLS tunnels (referred to as \"EVPN-MPLS\" hereafter) are
supported in the WAN, an end-to-end EVPN solution can be deployed. The
following sections describe the proposed solution as well as its impact
on the procedures from
\[[RFC7432](#RFC7432){.xref}\].[¶](#section-4.4-1){.pilcrow}

::: {#sect-4.4.1}
::: {#section-4.4.1 .section}
#### [4.4.1.](#section-4.4.1){.section-number .selfRef} [Control plane Setup Procedures on the GWs](#name-control-plane-setup-procedu){.section-name .selfRef} {#name-control-plane-setup-procedu}

The GWs [MUST]{.bcp14} establish separate BGP sessions for
sending/receiving EVPN routes to/from the DC and to/from the WAN.
Normally, each GW will set up one BGP EVPN session to the DC RR (or two
BGP EVPN sessions if there are redundant DC RRs) and one session to the
WAN RR (or two sessions if there are redundant WAN
RRs).[¶](#section-4.4.1-1){.pilcrow}

In order to facilitate separate BGP processes for DC and WAN, EVPN
routes sent to the WAN [SHOULD]{.bcp14} carry a different Route
Distinguisher (RD) than the EVPN routes sent to the DC. In addition,
although reusing the same value is possible, different route targets are
expected to be handled for the same EVI in the WAN and the DC. Note that
the EVPN service routes sent to the DC RRs will normally include a
\[[RFC9012](#RFC9012){.xref}\] BGP encapsulation extended community with
a different tunnel type than the one sent to the WAN
RRs.[¶](#section-4.4.1-2){.pilcrow}

As in the other discussed options, an I-ES and its assigned I-ESI will
be configured on the GWs for multihoming. This I-ES represents the WAN
EVPN-MPLS PEs to the DC but also the DC EVPN-Overlay NVEs to the WAN.
Optionally, different I-ESI values are configured for representing the
WAN and the DC. If different EVPN-Overlay networks are connected to the
same group of GWs, each EVPN-Overlay network [MUST]{.bcp14} get assigned
a different I-ESI.[¶](#section-4.4.1-3){.pilcrow}

Received EVPN routes will never be reflected on the GWs but instead will
be consumed and re‑advertised (if
needed):[¶](#section-4.4.1-4){.pilcrow}

-   [Ethernet A-D routes, ES routes, and Inclusive Multicast routes are
    consumed by the GWs and processed locally for the corresponding
    \[[RFC7432](#RFC7432){.xref}\]
    procedures.[¶](#section-4.4.1-5.1){.pilcrow}]{#section-4.4.1-5.1}

-   ::: {#section-4.4.1-5.2}
    MAC/IP advertisement routes will be received and imported, and if
    they become active in the MAC-VRF, the information will be
    re-advertised as new routes with the following
    fields:[¶](#section-4.4.1-5.2.1){.pilcrow}

    -   [The RD will be the GW\'s RD for the
        MAC-VRF.[¶](#section-4.4.1-5.2.2.1){.pilcrow}]{#section-4.4.1-5.2.2.1}
    -   [The ESI will be set to the
        I-ESI.[¶](#section-4.4.1-5.2.2.2){.pilcrow}]{#section-4.4.1-5.2.2.2}
    -   [The Ethernet-tag value will be kept from the received NLRI the
        received
        NLRI.[¶](#section-4.4.1-5.2.2.3){.pilcrow}]{#section-4.4.1-5.2.2.3}
    -   [The MAC length, MAC address, IP Length, and IP address values
        will be kept from the received
        NLRI.[¶](#section-4.4.1-5.2.2.4){.pilcrow}]{#section-4.4.1-5.2.2.4}
    -   [The MPLS label will be a local 20-bit value (when sent to the
        WAN) or a DC-global 24-bit value (when sent to the DC for
        encapsulations using a
        VNI).[¶](#section-4.4.1-5.2.2.5){.pilcrow}]{#section-4.4.1-5.2.2.5}
    -   [The appropriate Route Targets (RTs) and
        \[[RFC9012](#RFC9012){.xref}\] BGP encapsulation extended
        community will be used according to
        \[[RFC8365](#RFC8365){.xref}\].[¶](#section-4.4.1-5.2.2.6){.pilcrow}]{#section-4.4.1-5.2.2.6}
    :::

The GWs will also generate the following local EVPN routes that will be
sent to the DC and WAN, with their corresponding RTs and
\[[RFC9012](#RFC9012){.xref}\] BGP encapsulation extended community
values:[¶](#section-4.4.1-6){.pilcrow}

-   [ES route(s) for the
    I-ESI(s).[¶](#section-4.4.1-7.1){.pilcrow}]{#section-4.4.1-7.1}
-   [Ethernet A-D routes per ES and EVI for the I-ESI(s). The A-D
    per-EVI routes sent to the WAN and the DC will have consistent
    Ethernet-Tag
    values.[¶](#section-4.4.1-7.2){.pilcrow}]{#section-4.4.1-7.2}
-   [Inclusive Multicast routes with independent tunnel-type value for
    the WAN and DC. For example, a P2MP Label Switched Path (LSP) may be
    used in the WAN, whereas ingress replication may be used in the DC.
    The routes sent to the WAN and the DC will have a consistent
    Ethernet-Tag.[¶](#section-4.4.1-7.3){.pilcrow}]{#section-4.4.1-7.3}
-   [MAC/IP advertisement routes for MAC addresses learned in local
    attachment circuits. Note that these routes will not include the
    I-ESI value in the ESI field. These routes will include a zero ESI
    or a non-zero ESI for local multihomed Ethernet Segments (ES). The
    routes sent to the WAN and the DC will have a consistent
    Ethernet-Tag.[¶](#section-4.4.1-7.4){.pilcrow}]{#section-4.4.1-7.4}

Assuming GW1 and GW2 are peer GWs of the same DC, each GW will generate
two sets of the above local service routes: set-DC will be sent to the
DC RRs and will include an A-D per EVI, Inclusive Multicast, and MAC/IP
routes for the DC encapsulation and RT. Set-WAN will be sent to the WAN
RRs and will include the same routes but using the WAN RT and
encapsulation. GW1 and GW2 will receive each other\'s set-DC and
set-WAN. This is the expected behavior on GW1 and GW2 for locally
generated routes:[¶](#section-4.4.1-8){.pilcrow}

-   [Inclusive multicast routes: When setting up the flooding lists for
    a given MAC-VRF, each GW will include its DC peer GW only in the
    EVPN-MPLS flooding list (by default) and not the EVPN-Overlay
    flooding list. That is, GW2 will import two Inclusive Multicast
    routes from GW1 (from set-DC and set-WAN) but will only consider one
    of the two, giving the set-WAN route higher priority. An
    administrative option [MAY]{.bcp14} change this preference so that
    the set-DC route is selected
    first.[¶](#section-4.4.1-9.1){.pilcrow}]{#section-4.4.1-9.1}
-   [MAC/IP advertisement routes for local attachment circuits: As
    above, the GW will select only one, giving the route from the
    set-WAN a higher priority. As with the Inclusive multicast routes,
    an administrative option [MAY]{.bcp14} change this
    priority.[¶](#section-4.4.1-9.2){.pilcrow}]{#section-4.4.1-9.2}
:::
:::

::: {#sect-4.4.2}
::: {#section-4.4.2 .section}
#### [4.4.2.](#section-4.4.2){.section-number .selfRef} [Data Plane Setup Procedures on the GWs](#name-data-plane-setup-procedures){.section-name .selfRef} {#name-data-plane-setup-procedures}

The procedure explained at the end of the previous section will make
sure there are no loops or packet duplication between the GWs of the
same EVPN-Overlay network (for frames generated from local ACs), since
only one EVPN binding per EVI (or per Ethernet Tag in the case of
VLAN-aware bundle services) will be set up in the data plane between the
two nodes. That binding will by default be added to the EVPN-MPLS
flooding list.[¶](#section-4.4.2-1){.pilcrow}

As for the rest of the EVPN tunnel bindings, they will be added to one
of the two flooding lists that each GW sets up for the same
MAC-VRF:[¶](#section-4.4.2-2){.pilcrow}

-   [EVPN-Overlay flooding list (composed of bindings to the remote NVEs
    or multicast tunnel to the
    NVEs).[¶](#section-4.4.2-3.1){.pilcrow}]{#section-4.4.2-3.1}
-   [EVPN-MPLS flooding list (composed of MP2P or LSM tunnel to the
    remote PEs).[¶](#section-4.4.2-3.2){.pilcrow}]{#section-4.4.2-3.2}

Each flooding list will be part of a separate split-horizon group: the
WAN split-horizon group or the DC split-horizon group. Traffic generated
from a local AC can be flooded to both split-horizon groups. Traffic
from a binding of a split-horizon group can be flooded to the other
split-horizon group and local ACs, but never to a member of its own
split-horizon group.[¶](#section-4.4.2-4){.pilcrow}

When either GW1 or GW2 receives a BUM frame on an MPLS tunnel, including
an ESI label at the bottom of the stack, they will perform an ESI label
lookup and split-horizon filtering as per
\[[RFC7432](#RFC7432){.xref}\], in case the ESI label identifies a local
ESI (I-ESI or any other nonzero ESI).[¶](#section-4.4.2-5){.pilcrow}
:::
:::

::: {#sect-4.4.3}
::: {#section-4.4.3 .section}
#### [4.4.3.](#section-4.4.3){.section-number .selfRef} [Multihoming Procedure Extensions on the GWs](#name-multihoming-procedure-exten){.section-name .selfRef} {#name-multihoming-procedure-exten}

This model supports single-active as well as all-active
multihoming.[¶](#section-4.4.3-1){.pilcrow}

All the \[[RFC7432](#RFC7432){.xref}\] multihoming procedures for the DF
election on I-ES(s), as well as the backup-path (single-active) and
aliasing (all-active) procedures, will be followed on the GWs. Remote
PEs in the EVPN-MPLS network will follow regular
\[[RFC7432](#RFC7432){.xref}\] aliasing or backup-path procedures for
MAC/IP routes received from the GWs for the same I-ESI. So will NVEs in
the EVPN-Overlay network for MAC/IP routes received with the same
I-ESI.[¶](#section-4.4.3-2){.pilcrow}

As far as the forwarding plane is concerned, by default, the
EVPN-Overlay network will have an analogous behavior to the access ACs
in \[[RFC7432](#RFC7432){.xref}\] multihomed Ethernet
Segments.[¶](#section-4.4.3-3){.pilcrow}

The forwarding behavior on the GWs is described
below:[¶](#section-4.4.3-4){.pilcrow}

-   ::: {#section-4.4.3-5.1}
    Single-active multihoming; assuming a WAN split-horizon group
    (comprised of EVPN-MPLS bindings), a DC split-horizon group
    (comprised of EVPN-Overlay bindings), and local ACs on the
    GWs:[¶](#section-4.4.3-5.1.1){.pilcrow}

    -   [Forwarding behavior on the non-DF: The non-DF [MUST]{.bcp14}
        block ingress and egress forwarding on the EVPN-Overlay bindings
        associated to the I-ES. The EVPN-MPLS network is considered to
        be the core network, and the EVPN-MPLS bindings to the remote
        PEs and GWs will be
        active.[¶](#section-4.4.3-5.1.2.1){.pilcrow}]{#section-4.4.3-5.1.2.1}
    -   [Forwarding behavior on the DF: The DF [MUST NOT]{.bcp14}
        forward BUM or unicast traffic received from a given
        split-horizon group to a member of its own split-horizon group.
        Forwarding to other split-horizon groups and local ACs is
        allowed (as long as the ACs are not part of an ES for which the
        node is non-DF). As per \[[RFC7432](#RFC7432){.xref}\] and for
        split-horizon purposes, when receiving BUM traffic on the
        EVPN-Overlay bindings associated to an I-ES, the DF GW
        [SHOULD]{.bcp14} add the I-ESI label when forwarding to the peer
        GW over
        EVPN-MPLS.[¶](#section-4.4.3-5.1.2.2){.pilcrow}]{#section-4.4.3-5.1.2.2}
    -   [When receiving EVPN MAC/IP routes from the WAN, the non-DF
        [MUST NOT]{.bcp14} reoriginate the EVPN routes and advertise
        them to the DC peers. In the same way, EVPN MAC/IP routes
        received from the DC [MUST NOT]{.bcp14} be advertised to the WAN
        peers. This is consistent with \[[RFC7432](#RFC7432){.xref}\]
        and allows the remote PE/NVEs to know who the primary GW is,
        based on the reception of the MAC/IP
        routes.[¶](#section-4.4.3-5.1.2.3){.pilcrow}]{#section-4.4.3-5.1.2.3}
    :::

```{=html}
<!-- -->
```
-   ::: {#section-4.4.3-6.1}
    All-active multihoming; assuming a WAN split-horizon group
    (comprised of EVPN-MPLS bindings), a DC split-horizon group
    (comprised of EVPN-Overlay bindings), and local ACs on the
    GWs:[¶](#section-4.4.3-6.1.1){.pilcrow}

    -   [Forwarding behavior on the non-DF: The non-DF follows the same
        behavior as the non-DF in the single-active case, but only for
        BUM traffic. Unicast traffic received from a split-horizon group
        [MUST NOT]{.bcp14} be forwarded to a member of its own
        split-horizon group but can be forwarded normally to the other
        split-horizon groups and local ACs. If a known unicast packet is
        identified as a \"flooded\" packet, the procedures for BUM
        traffic [MUST]{.bcp14} be
        followed.[¶](#section-4.4.3-6.1.2.1){.pilcrow}]{#section-4.4.3-6.1.2.1}
    -   [Forwarding behavior on the DF: The DF follows the same behavior
        as the DF in the single-active case, but only for BUM traffic.
        Unicast traffic received from a split-horizon group [MUST
        NOT]{.bcp14} be forwarded to a member of its own split-horizon
        group but can be forwarded normally to the other split-horizon
        group and local ACs. If a known unicast packet is identified as
        a \"flooded\" packet, the procedures for BUM traffic
        [MUST]{.bcp14} be followed. As per
        \[[RFC7432](#RFC7432){.xref}\] and for split-horizon purposes,
        when receiving BUM traffic on the EVPN-Overlay bindings
        associated to an I-ES, the DF GW [MUST]{.bcp14} add the I-ESI
        label when forwarding to the peer GW over
        EVPN-MPLS.[¶](#section-4.4.3-6.1.2.2){.pilcrow}]{#section-4.4.3-6.1.2.2}
    -   [Contrary to the single-active multihoming case, both DF and
        non-DF reoriginate and advertise MAC/IP routes received from the
        WAN/DC peers, adding the corresponding I-ESI so that the remote
        PE/NVEs can perform regular aliasing, as per
        \[[RFC7432](#RFC7432){.xref}\].[¶](#section-4.4.3-6.1.2.3){.pilcrow}]{#section-4.4.3-6.1.2.3}
    :::

The example in [Figure 3](#fig-3){.xref} illustrates the forwarding of
BUM traffic originated from an NVE on a pair of all-active multihoming
GWs.[¶](#section-4.4.3-7){.pilcrow}

[]{#name-multihoming-bum-forwarding}

::: {#fig-3}
::: {#section-4.4.3-8.1 .artwork .art-text .alignLeft}
         |<--EVPN-Overlay--->|<--EVPN-MPLS-->|

                 +---------+ +--------------+
          +----+ BUM       +---+             |
          |NVE1+----+----> |   +-+-----+     |
          +----+  | |   DF |GW1| |     |     |
                  | |      +-+-+ |     |    ++--+
                  | |        |   |     +--> |PE1|
                  | +--->X +-+-+ |          ++--+
                  |     NDF|   | |           |
          +----+  |        |GW2<-+           |
          |NVE2+--+        +-+-+             |
          +----+  +--------+ |  +------------+
                             v
                           +--+
                           |CE|
                           +--+
:::

[Figure 3](#figure-3){.selfRef}: [Multihoming BUM
Forwarding](#name-multihoming-bum-forwarding){.selfRef}
:::

GW2 is the non-DF for the I-ES and blocks the BUM forwarding. GW1 is the
DF and forwards the traffic to PE1 and GW2. Packets sent to GW2 will
include the ESI label for the I-ES. Based on the ESI label, GW2
identifies the packets as I-ES-generated packets and will only forward
them to local ACs (CE in the example) and not back to the EVPN-Overlay
network.[¶](#section-4.4.3-9){.pilcrow}
:::
:::

::: {#sect-4.4.4}
::: {#section-4.4.4 .section}
#### [4.4.4.](#section-4.4.4){.section-number .selfRef} [Impact on MAC Mobility Procedures](#name-impact-on-mac-mobility-proc){.section-name .selfRef} {#name-impact-on-mac-mobility-proc}

MAC Mobility procedures described in \[[RFC7432](#RFC7432){.xref}\] are
not modified by this document.[¶](#section-4.4.4-1){.pilcrow}

Note that an intra-DC MAC move still leaves the MAC attached to the same
I-ES, so under the rules of \[[RFC7432](#RFC7432){.xref}\], this is not
considered a MAC Mobility event. Only when the MAC moves from the WAN
domain to the DC domain (or from one DC to another) will the MAC be
learned from a different ES, and the MAC Mobility procedures will kick
in.[¶](#section-4.4.4-2){.pilcrow}

The sticky-bit indication in the MAC Mobility extended community
[MUST]{.bcp14} be propagated between
domains.[¶](#section-4.4.4-3){.pilcrow}
:::
:::

::: {#sect-4.4.5}
::: {#section-4.4.5 .section}
#### [4.4.5.](#section-4.4.5){.section-number .selfRef} [Gateway Optimizations](#name-gateway-optimizations-2){.section-name .selfRef} {#name-gateway-optimizations-2}

All the Gateway optimizations described in [Section
3.5](#sect-3.5){.xref} [MAY]{.bcp14} be applied to the GWs when the
interconnect is based on EVPN-MPLS.[¶](#section-4.4.5-1){.pilcrow}

In particular, the use of the Unknown MAC Route, as described in
[Section 3.5.1](#sect-3.5.1){.xref}, solves some transient
packet-duplication issues in cases of all-active multihoming, as
explained below.[¶](#section-4.4.5-2){.pilcrow}

Consider the diagram in [Figure 2](#fig-2){.xref} for EVPN-MPLS
interconnect and all-active multihoming, and the following
sequence:[¶](#section-4.4.5-3){.pilcrow}

[]{.break}

\(a\)
:   MAC Address M1 is advertised from NVE3 in
    EVI-1.[¶](#section-4.4.5-4.1){.pilcrow}
:   

\(b\)
:   GW3 and GW4 learn M1 for EVI-1 and re-advertise M1 to the WAN with
    I-ESI-2 in the ESI field.[¶](#section-4.4.5-4.2){.pilcrow}
:   

\(c\)
:   GW1 and GW2 learn M1 and install GW3/GW4 as next hops following the
    EVPN aliasing procedures.[¶](#section-4.4.5-4.3){.pilcrow}
:   

\(d\)
:   Before NVE1 learns M1, a packet arrives at NVE1 with destination M1.
    If the Unknown MAC Route had not been advertised into the DC, NVE1
    would have flooded the packet throughout the DC, in particular to
    both GW1 and GW2. If the same VNI/VSID is used for both known
    unicast and BUM traffic, as is typically the case, there is no
    indication in the packet that it is a BUM packet, and both GW1 and
    GW2 would have forwarded it, creating packet duplication. However,
    because the Unknown MAC Route had been advertised into the DC, NVE1
    will unicast the packet to either GW1 or
    GW2.[¶](#section-4.4.5-4.4){.pilcrow}
:   

\(e\)
:   Since both GW1 and GW2 know M1, the GW receiving the packet will
    forward it to either GW3 or GW4.[¶](#section-4.4.5-4.5){.pilcrow}
:   
:::
:::

::: {#sect-4.4.6}
::: {#section-4.4.6 .section}
#### [4.4.6.](#section-4.4.6){.section-number .selfRef} [Benefits of the EVPN-MPLS Interconnect Solution](#name-benefits-of-the-evpn-mpls-i){.section-name .selfRef} {#name-benefits-of-the-evpn-mpls-i}

The \"DCI using ASBRs\" solution described in
\[[RFC8365](#RFC8365){.xref}\] and the GW solution with EVPN-MPLS
interconnect may be seen as similar, since they both retain the EVPN
attributes between Data Centers and throughout the WAN. However, the
EVPN-MPLS interconnect solution on the GWs has significant benefits
compared to the \"DCI using ASBRs\"
solution:[¶](#section-4.4.6-1){.pilcrow}

-   [As in any of the described GW models, this solution supports the
    connectivity of local attachment circuits on the GWs. This is not
    possible in a \"DCI using ASBRs\"
    solution.[¶](#section-4.4.6-2.1){.pilcrow}]{#section-4.4.6-2.1}
-   [Different data plane encapsulations can be supported in the DC and
    the WAN, while a uniform encapsulation is needed in the \"DCI using
    ASBRs\"
    solution.[¶](#section-4.4.6-2.2){.pilcrow}]{#section-4.4.6-2.2}
-   [Optimized multicast solution, with independent inclusive multicast
    trees in DC and
    WAN.[¶](#section-4.4.6-2.3){.pilcrow}]{#section-4.4.6-2.3}
-   [MPLS label aggregation: For the case where MPLS labels are signaled
    from the NVEs for MAC/IP advertisement routes, this solution
    provides label aggregation. A remote PE [MAY]{.bcp14} receive a
    single label per GW MAC-VRF, as opposed to a label per NVE/MAC-VRF
    connected to the GW MAC-VRF. For instance, in [Figure
    2](#fig-2){.xref}, PE would receive only one label for all the
    routes advertised for a given MAC-VRF from GW1, as opposed to a
    label per
    NVE/MAC-VRF.[¶](#section-4.4.6-2.4){.pilcrow}]{#section-4.4.6-2.4}
-   [The GW will not propagate MAC Mobility for the MACs moving within
    a DC. Mobility intra-DC is solved by all the NVEs in the DC. The MAC
    Mobility procedures on the GWs are only required in case of mobility
    across DCs.[¶](#section-4.4.6-2.5){.pilcrow}]{#section-4.4.6-2.5}
-   [Proxy-ARP/ND function on the DC GWs can be leveraged to reduce
    ARP/ND flooding in the DC or/and the
    WAN.[¶](#section-4.4.6-2.6){.pilcrow}]{#section-4.4.6-2.6}
:::
:::
:::
:::

::: {#sect-4.5}
::: {#section-4.5 .section}
### [4.5.](#section-4.5){.section-number .selfRef} [PBB-EVPN Interconnect for EVPN-Overlay Networks](#name-pbb-evpn-interconnect-for-e){.section-name .selfRef} {#name-pbb-evpn-interconnect-for-e}

PBB-EVPN \[[RFC7623](#RFC7623){.xref}\] is yet another interconnect
option. It requires the use of GWs where I-components and associated
B-components are part of EVI instances.[¶](#section-4.5-1){.pilcrow}

::: {#sect-4.5.1}
::: {#section-4.5.1 .section}
#### [4.5.1.](#section-4.5.1){.section-number .selfRef} [Control/Data Plane Setup Procedures on the GWs](#name-control-data-plane-setup-proc){.section-name .selfRef} {#name-control-data-plane-setup-proc}

EVPN will run independently in both components, the I-component MAC-VRF
and B-component MAC-VRF. Compared to \[[RFC7623](#RFC7623){.xref}\], the
DC customer MACs (C-MACs) are no longer learned in the data plane on the
GW but in the control plane through EVPN running on the I-component.
Remote C-MACs coming from remote PEs are still learned in the data
plane. B-MACs in the B‑component will be assigned and advertised
following the procedures described in
\[[RFC7623](#RFC7623){.xref}\].[¶](#section-4.5.1-1){.pilcrow}

An I-ES will be configured on the GWs for multihoming, but its I-ESI
will only be used in the EVPN control plane for the I-component EVI. No
unreserved ESIs will be used in the control plane of the B-component
EVI, as per \[[RFC7623](#RFC7623){.xref}\]. That is, the I-ES will be
represented to the WAN PBB-EVPN PEs using shared or dedicated
B-MACs.[¶](#section-4.5.1-2){.pilcrow}

The rest of the control plane procedures will follow
\[[RFC7432](#RFC7432){.xref}\] for the I-component EVI and
\[[RFC7623](#RFC7623){.xref}\] for the B-component
EVI.[¶](#section-4.5.1-3){.pilcrow}

From the data plane perspective, the I-component and B-component EVPN
bindings established to the same far end will be compared, and the
I-component EVPN-Overlay binding will be kept down following the rules
described in [Section
4.3.1](#sect-4.3.1){.xref}.[¶](#section-4.5.1-4){.pilcrow}
:::
:::

::: {#sect-4.5.2}
::: {#section-4.5.2 .section}
#### [4.5.2.](#section-4.5.2){.section-number .selfRef} [Multihoming Procedures on the GWs](#name-multihoming-procedures-on-the){.section-name .selfRef} {#name-multihoming-procedures-on-the}

This model supports single-active as well as all-active
multihoming.[¶](#section-4.5.2-1){.pilcrow}

The forwarding behavior of the DF and non-DF will be changed based on
the description outlined in [Section 4.4.3](#sect-4.4.3){.xref},
substituting the WAN split-horizon group for the B-component, and using
\[[RFC7623](#RFC7623){.xref}\] procedures for the traffic sent or
received on the B-component.[¶](#section-4.5.2-2){.pilcrow}
:::
:::

::: {#sect-4.5.3}
::: {#section-4.5.3 .section}
#### [4.5.3.](#section-4.5.3){.section-number .selfRef} [Impact on MAC Mobility Procedures](#name-impact-on-mac-mobility-proce){.section-name .selfRef} {#name-impact-on-mac-mobility-proce}

C-MACs learned from the B-component will be advertised in EVPN within
the I-component EVI scope. If the C-MAC was previously known in the
I-component database, EVPN would advertise the C-MAC with a higher
sequence number, as per \[[RFC7432](#RFC7432){.xref}\]. From the
perspective of Mobility and the related procedures described in
\[[RFC7432](#RFC7432){.xref}\], the C-MACs learned from the B-component
are considered local.[¶](#section-4.5.3-1){.pilcrow}
:::
:::

::: {#sect-4.5.4}
::: {#section-4.5.4 .section}
#### [4.5.4.](#section-4.5.4){.section-number .selfRef} [Gateway Optimizations](#name-gateway-optimizations-3){.section-name .selfRef} {#name-gateway-optimizations-3}

All the considerations explained in [Section 4.4.5](#sect-4.4.5){.xref}
are applicable to the PBB-EVPN interconnect
option.[¶](#section-4.5.4-1){.pilcrow}
:::
:::
:::
:::

::: {#sect-4.6}
::: {#section-4.6 .section}
### [4.6.](#section-4.6){.section-number .selfRef} [EVPN-VXLAN Interconnect for EVPN-Overlay Networks](#name-evpn-vxlan-interconnect-for){.section-name .selfRef} {#name-evpn-vxlan-interconnect-for}

If EVPN for Overlay tunnels is supported in the WAN, and a GW function
is required, an end-to-end EVPN solution can be deployed. While multiple
Overlay tunnel combinations at the WAN and the DC are possible
(MPLSoGRE, NVGRE, etc.), VXLAN is described here, given its popularity
in the industry. This section focuses on the specific case of EVPN for
VXLAN (EVPN-VXLAN hereafter) and the impact on the
\[[RFC7432](#RFC7432){.xref}\] procedures.[¶](#section-4.6-1){.pilcrow}

The procedures described in [Section 4.4](#sect-4.4){.xref} apply to
this section, too, only substituting EVPN-MPLS for EVPN-VXLAN control
plane specifics and using \[[RFC8365](#RFC8365){.xref}\] \"Local Bias\"
procedures instead of [Section 4.4.3](#sect-4.4.3){.xref}. Since there
are no ESI labels in VXLAN, GWs need to rely on \"Local Bias\" to apply
split horizon on packets generated from the I-ES and sent to the peer
GW.[¶](#section-4.6-2){.pilcrow}

This use case assumes that NVEs need to use the VNIs or VSIDs as
globally unique identifiers within a Data Center, and a Gateway needs to
be employed at the edge of the Data-Center network to translate the VNI
or VSID when crossing the network boundaries. This GW function provides
VNI and tunnel-IP-address translation. The use case in which local
downstream-assigned VNIs or VSIDs can be used (like MPLS labels) is
described by
\[[RFC8365](#RFC8365){.xref}\].[¶](#section-4.6-3){.pilcrow}

While VNIs are globally significant within each DC, there are two
possibilities in the interconnect network:[¶](#section-4.6-4){.pilcrow}

1.  [Globally unique VNIs in the interconnect network. In this case, the
    GWs and PEs in the interconnect network will agree on a common VNI
    for a given EVI. The RT to be used in the interconnect network can
    be autoderived from the agreed-upon interconnect VNI. The VNI used
    inside each DC [MAY]{.bcp14} be the same as the interconnect
    VNI.[¶](#section-4.6-5.1){.pilcrow}]{#section-4.6-5.1}
2.  [Downstream-assigned VNIs in the interconnect network. In this case,
    the GWs and PEs [MUST]{.bcp14} use the proper RTs to import/export
    the EVPN routes. Note that even if the VNI is downstream assigned in
    the interconnect network, and unlike option (a), it only identifies
    the \<Ethernet Tag, GW> pair and not the \<Ethernet Tag, egress PE>
    pair. The VNI used inside each DC [MAY]{.bcp14} be the same as the
    interconnect VNI. GWs [SHOULD]{.bcp14} support multiple VNI spaces
    per EVI (one per interconnect network they are connected
    to).[¶](#section-4.6-5.2){.pilcrow}]{#section-4.6-5.2}

In both options, NVEs inside a DC only have to be aware of a single VNI
space, and only GWs will handle the complexity of managing multiple VNI
spaces. In addition to VNI translation above, the GWs will provide
translation of the tunnel source IP for the packets generated from the
NVEs, using their own IP address. GWs will use that IP address as the
BGP next hop in all the EVPN updates to the interconnect
network.[¶](#section-4.6-6){.pilcrow}

The following sections provide more details about these two
options.[¶](#section-4.6-7){.pilcrow}

::: {#sect-4.6.1}
::: {#section-4.6.1 .section}
#### [4.6.1.](#section-4.6.1){.section-number .selfRef} [Globally Unique VNIs in the Interconnect Network](#name-globally-unique-vnis-in-the){.section-name .selfRef} {#name-globally-unique-vnis-in-the}

Considering [Figure 2](#fig-2){.xref}, if a host H1 in NVO-1 needs to
communicate with a host H2 in NVO-2, and assuming that different VNIs
are used in each DC for the same EVI (e.g., VNI-10 in NVO-1 and VNI-20
in NVO-2), then the VNIs [MUST]{.bcp14} be translated to a common
interconnect VNI (e.g., VNI-100) on the GWs. Each GW is provisioned with
a VNI translation mapping so that it can translate the VNI in the
control plane when sending BGP EVPN route updates to the interconnect
network. In other words, GW1 and GW2 [MUST]{.bcp14} be configured to map
VNI-10 to VNI-100 in the BGP update messages for H1\'s MAC route. This
mapping is also used to translate the VNI in the data plane in both
directions: that is, VNI-10 to VNI-100 when the packet is received from
NVO-1 and the reverse mapping from VNI-100 to VNI-10 when the packet is
received from the remote NVO-2 network and needs to be forwarded to
NVO-1.[¶](#section-4.6.1-1){.pilcrow}

The procedures described in [Section 4.4](#sect-4.4){.xref} will be
followed, considering that the VNIs advertised/received by the GWs will
be translated accordingly.[¶](#section-4.6.1-2){.pilcrow}
:::
:::

::: {#sect-4.6.2}
::: {#section-4.6.2 .section}
#### [4.6.2.](#section-4.6.2){.section-number .selfRef} [Downstream-Assigned VNIs in the Interconnect Network](#name-downstream-assigned-vnis-in){.section-name .selfRef} {#name-downstream-assigned-vnis-in}

In this case, if a host H1 in NVO-1 needs to communicate with a host H2
in NVO-2, and assuming that different VNIs are used in each DC for the
same EVI, e.g., VNI-10 in NVO-1 and VNI-20 in NVO-2, then the VNIs
[MUST]{.bcp14} be translated as in [Section 4.6.1](#sect-4.6.1){.xref}.
However, in this case, there is no need to translate to a common
interconnect VNI on the GWs. Each GW can translate the VNI received in
an EVPN update to a locally assigned VNI advertised to the interconnect
network. Each GW can use a different interconnect VNI; hence, this VNI
does not need to be agreed upon on all the GWs and PEs of the
interconnect network.[¶](#section-4.6.2-1){.pilcrow}

The procedures described in [Section 4.4](#sect-4.4){.xref} will be
followed, taking into account the considerations above for the VNI
translation.[¶](#section-4.6.2-2){.pilcrow}
:::
:::
:::
:::
:::
:::

::: {#sect-5}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

This document applies existing specifications to a number of
interconnect models. The security considerations included in those
documents, such as \[[RFC7432](#RFC7432){.xref}\],
\[[RFC8365](#RFC8365){.xref}\], \[[RFC7623](#RFC7623){.xref}\],
\[[RFC4761](#RFC4761){.xref}\], and \[[RFC4762](#RFC4762){.xref}\] apply
to this document whenever those technologies are
used.[¶](#section-5-1){.pilcrow}

As discussed, \[[RFC8365](#RFC8365){.xref}\] discusses two main DCI
solution groups: \"DCI using GWs\" and \"DCI using ASBRs\". This
document specifies the solutions that correspond to the \"DCI using
GWs\" group. It is important to note that the use of GWs provides a
superior level of security on a per-tenant basis, compared to the use of
ASBRs. This is due to the fact that GWs need to perform a MAC lookup on
the frames being received from the WAN, and they apply security
procedures, such as filtering of undesired frames, filtering of frames
with a source MAC that matches a protected MAC in the DC, or application
of MAC-duplication procedures defined in \[[RFC7432](#RFC7432){.xref}\].
On ASBRs, though, traffic is forwarded based on a label or VNI swap, and
there is usually no visibility of the encapsulated frames, which can
carry malicious traffic.[¶](#section-5-2){.pilcrow}

In addition, the GW optimizations specified in this document provide
additional protection of the DC tenant systems. For instance, the
MAC-address advertisement control and Unknown MAC Route defined in
[Section 3.5.1](#sect-3.5.1){.xref} protect the DC NVEs from being
overwhelmed with an excessive number of MAC/IP routes being learned on
the GWs from the WAN. The ARP/ND flooding control described in [Section
3.5.2](#sect-3.5.2){.xref} can reduce/suppress broadcast storms being
injected from the WAN.[¶](#section-5-3){.pilcrow}

Finally, the reader should be aware of the potential security
implications of designing a DCI with the decoupled interconnect solution
([Section 3](#sect-3){.xref}) or the integrated interconnect solution
([Section 4](#sect-4){.xref}). In the decoupled interconnect solution,
the DC is typically easier to protect from the WAN, since each GW has a
single logical link to one WAN PE, whereas in the Integrated solution,
the GW has logical links to all the WAN PEs that are attached to the
tenant. In either model, proper control plane and data plane policies
should be put in place in the GWs in order to protect the DC from
potential attacks coming from the WAN.[¶](#section-5-4){.pilcrow}
:::
:::

::: {#sect-6}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document has no IANA actions.[¶](#section-6-1){.pilcrow}
:::
:::

::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-7.1 .section}
### [7.1.](#section-7.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC4761\]
:   [Kompella, K., Ed.]{.refAuthor} and [Y. Rekhter, Ed.]{.refAuthor},
    [\"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery
    and Signaling\"]{.refTitle}, [RFC 4761]{.seriesInfo}, [DOI
    10.17487/RFC4761]{.seriesInfo}, January 2007,
    \<<https://www.rfc-editor.org/info/rfc4761>\>.
:   

\[RFC4762\]
:   [Lasserre, M., Ed.]{.refAuthor} and [V. Kompella, Ed.]{.refAuthor},
    [\"Virtual Private LAN Service (VPLS) Using Label Distribution
    Protocol (LDP) Signaling\"]{.refTitle}, [RFC 4762]{.seriesInfo},
    [DOI 10.17487/RFC4762]{.seriesInfo}, January 2007,
    \<<https://www.rfc-editor.org/info/rfc4762>\>.
:   

\[RFC6074\]
:   [Rosen, E.]{.refAuthor}, [Davie, B.]{.refAuthor},
    [Radoaca, V.]{.refAuthor}, and [W. Luo]{.refAuthor},
    [\"Provisioning, Auto-Discovery, and Signaling in Layer 2 Virtual
    Private Networks (L2VPNs)\"]{.refTitle}, [RFC 6074]{.seriesInfo},
    [DOI 10.17487/RFC6074]{.seriesInfo}, January 2011,
    \<<https://www.rfc-editor.org/info/rfc6074>\>.
:   

\[RFC7041\]
:   [Balus, F., Ed.]{.refAuthor}, [Sajassi, A., Ed.]{.refAuthor}, and
    [N. Bitar, Ed.]{.refAuthor}, [\"Extensions to the Virtual Private
    LAN Service (VPLS) Provider Edge (PE) Model for Provider Backbone
    Bridging\"]{.refTitle}, [RFC 7041]{.seriesInfo}, [DOI
    10.17487/RFC7041]{.seriesInfo}, November 2013,
    \<<https://www.rfc-editor.org/info/rfc7041>\>.
:   

\[RFC7432\]
:   [Sajassi, A., Ed.]{.refAuthor}, [Aggarwal, R.]{.refAuthor},
    [Bitar, N.]{.refAuthor}, [Isaac, A.]{.refAuthor},
    [Uttaro, J.]{.refAuthor}, [Drake, J.]{.refAuthor}, and [W.
    Henderickx]{.refAuthor}, [\"BGP MPLS-Based Ethernet
    VPN\"]{.refTitle}, [RFC 7432]{.seriesInfo}, [DOI
    10.17487/RFC7432]{.seriesInfo}, February 2015,
    \<<https://www.rfc-editor.org/info/rfc7432>\>.
:   

\[RFC7543\]
:   [Jeng, H.]{.refAuthor}, [Jalil, L.]{.refAuthor},
    [Bonica, R.]{.refAuthor}, [Patel, K.]{.refAuthor}, and [L.
    Yong]{.refAuthor}, [\"Covering Prefixes Outbound Route Filter for
    BGP-4\"]{.refTitle}, [RFC 7543]{.seriesInfo}, [DOI
    10.17487/RFC7543]{.seriesInfo}, May 2015,
    \<<https://www.rfc-editor.org/info/rfc7543>\>.
:   

\[RFC7623\]
:   [Sajassi, A., Ed.]{.refAuthor}, [Salam, S.]{.refAuthor},
    [Bitar, N.]{.refAuthor}, [Isaac, A.]{.refAuthor}, and [W.
    Henderickx]{.refAuthor}, [\"Provider Backbone Bridging Combined with
    Ethernet VPN (PBB-EVPN)\"]{.refTitle}, [RFC 7623]{.seriesInfo}, [DOI
    10.17487/RFC7623]{.seriesInfo}, September 2015,
    \<<https://www.rfc-editor.org/info/rfc7623>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8365\]
:   [Sajassi, A., Ed.]{.refAuthor}, [Drake, J., Ed.]{.refAuthor},
    [Bitar, N.]{.refAuthor}, [Shekhar, R.]{.refAuthor},
    [Uttaro, J.]{.refAuthor}, and [W. Henderickx]{.refAuthor}, [\"A
    Network Virtualization Overlay Solution Using Ethernet VPN
    (EVPN)\"]{.refTitle}, [RFC 8365]{.seriesInfo}, [DOI
    10.17487/RFC8365]{.seriesInfo}, March 2018,
    \<<https://www.rfc-editor.org/info/rfc8365>\>.
:   

\[RFC9012\]
:   [Patel, K.]{.refAuthor}, [Van de Velde, G.]{.refAuthor},
    [Sangli, S.]{.refAuthor}, and [J. Scudder]{.refAuthor}, [\"The BGP
    Tunnel Encapsulation Attribute\"]{.refTitle}, [RFC
    9012]{.seriesInfo}, [DOI 10.17487/RFC9012]{.seriesInfo}, April 2021,
    \<<https://www.rfc-editor.org/info/rfc9012>\>.
:   
:::

::: {#section-7.2 .section}
### [7.2.](#section-7.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[IEEE.802.1AG\]
:   [IEEE]{.refAuthor}, [\"IEEE Standard for Local and Metropolitan Area
    Networks Virtual Bridged Local Area Networks Amendment 5:
    Connectivity Fault Management\"]{.refTitle}, [IEEE standard
    802.1ag-2007]{.seriesInfo}, January 2008.
:   

\[IEEE.802.1Q\]
:   [IEEE]{.refAuthor}, [\"IEEE Standard for Local and metropolitan area
    networks\--Bridges and Bridged Networks\"]{.refTitle}, [IEEE
    standard 802.1Q-2014]{.seriesInfo}, [DOI
    10.1109/IEEESTD.2014.6991462]{.seriesInfo}, December 2014,
    \<<https://doi.org/10.1109/IEEESTD.2014.6991462>\>.
:   

\[RFC3031\]
:   [Rosen, E.]{.refAuthor}, [Viswanathan, A.]{.refAuthor}, and [R.
    Callon]{.refAuthor}, [\"Multiprotocol Label Switching
    Architecture\"]{.refTitle}, [RFC 3031]{.seriesInfo}, [DOI
    10.17487/RFC3031]{.seriesInfo}, January 2001,
    \<<https://www.rfc-editor.org/info/rfc3031>\>.
:   

\[RFC4023\]
:   [Worster, T.]{.refAuthor}, [Rekhter, Y.]{.refAuthor}, and [E. Rosen,
    Ed.]{.refAuthor}, [\"Encapsulating MPLS in IP or Generic Routing
    Encapsulation (GRE)\"]{.refTitle}, [RFC 4023]{.seriesInfo}, [DOI
    10.17487/RFC4023]{.seriesInfo}, March 2005,
    \<<https://www.rfc-editor.org/info/rfc4023>\>.
:   

\[RFC4684\]
:   [Marques, P.]{.refAuthor}, [Bonica, R.]{.refAuthor},
    [Fang, L.]{.refAuthor}, [Martini, L.]{.refAuthor},
    [Raszuk, R.]{.refAuthor}, [Patel, K.]{.refAuthor}, and [J.
    Guichard]{.refAuthor}, [\"Constrained Route Distribution for Border
    Gateway Protocol/MultiProtocol Label Switching (BGP/MPLS) Internet
    Protocol (IP) Virtual Private Networks (VPNs)\"]{.refTitle}, [RFC
    4684]{.seriesInfo}, [DOI 10.17487/RFC4684]{.seriesInfo}, November
    2006, \<<https://www.rfc-editor.org/info/rfc4684>\>.
:   

\[RFC6870\]
:   [Muley, P., Ed.]{.refAuthor} and [M. Aissaoui, Ed.]{.refAuthor},
    [\"Pseudowire Preferential Forwarding Status Bit\"]{.refTitle}, [RFC
    6870]{.seriesInfo}, [DOI 10.17487/RFC6870]{.seriesInfo}, February
    2013, \<<https://www.rfc-editor.org/info/rfc6870>\>.
:   

\[RFC7348\]
:   [Mahalingam, M.]{.refAuthor}, [Dutt, D.]{.refAuthor},
    [Duda, K.]{.refAuthor}, [Agarwal, P.]{.refAuthor},
    [Kreeger, L.]{.refAuthor}, [Sridhar, T.]{.refAuthor},
    [Bursell, M.]{.refAuthor}, and [C. Wright]{.refAuthor}, [\"Virtual
    eXtensible Local Area Network (VXLAN): A Framework for Overlaying
    Virtualized Layer 2 Networks over Layer 3 Networks\"]{.refTitle},
    [RFC 7348]{.seriesInfo}, [DOI 10.17487/RFC7348]{.seriesInfo}, August
    2014, \<<https://www.rfc-editor.org/info/rfc7348>\>.
:   

\[RFC7637\]
:   [Garg, P., Ed.]{.refAuthor} and [Y. Wang, Ed.]{.refAuthor},
    [\"NVGRE: Network Virtualization Using Generic Routing
    Encapsulation\"]{.refTitle}, [RFC 7637]{.seriesInfo}, [DOI
    10.17487/RFC7637]{.seriesInfo}, September 2015,
    \<<https://www.rfc-editor.org/info/rfc7637>\>.
:   

\[VIRTUAL-ES\]
:   [Sajassi, A.]{.refAuthor}, [Brissette, P.]{.refAuthor},
    [Schell, R.]{.refAuthor}, [Drake, J. E.]{.refAuthor}, and [J.
    Rabadan]{.refAuthor}, [\"EVPN Virtual Ethernet
    Segment\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft,
    draft-ietf-bess-evpn-virtual-eth-segment-06]{.seriesInfo}, 9 March
    2020,
    \<<https://tools.ietf.org/html/draft-ietf-bess-evpn-virtual-eth-segment-06>\>.
:   

\[Y.1731\]
:   [ITU-T]{.refAuthor}, [\"OAM functions and mechanisms for Ethernet
    based networks\"]{.refTitle}, [ITU-T Recommendation
    Y.1731]{.seriesInfo}, August 2019.
:   
:::
:::

::: {#sect-8}
::: {#section-appendix.a .section}
## [Acknowledgments](#name-acknowledgments){.section-name .selfRef} {#name-acknowledgments}

The authors would like to thank [Neil Hart]{.contact-name}, [Vinod
Prabhu]{.contact-name}, and [Kiran Nagaraj]{.contact-name} for their
valuable comments and feedback. We would also like to thank [Martin
Vigoureux]{.contact-name} and [Alvaro Retana]{.contact-name} for their
detailed reviews and comments.[¶](#section-appendix.a-1){.pilcrow}
:::
:::

::: {#sect-9}
::: {#section-appendix.b .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

In addition to the authors listed on the front page, the following
coauthors have also contributed to this
document:[¶](#section-appendix.b-1){.pilcrow}

::: {.left dir="auto"}
[Ravi Shekhar]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Juniper Networks]{.org}
:::

::: {.left dir="auto"}
[Anil Lohiya]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Juniper Networks]{.org}
:::

::: {.left dir="auto"}
[Wen Lin]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Juniper Networks]{.org}
:::

::: {.left dir="auto"}
[Florin Balus]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco]{.org}
:::

::: {.left dir="auto"}
[Patrice Brissette]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco]{.org}
:::

::: {.left dir="auto"}
[Senad Palislamovic]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Nokia]{.org}
:::

::: {.left dir="auto"}
[Dennis Cai]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Alibaba]{.org}
:::
:::
:::

::: {#authors-addresses}
::: {#section-appendix.c .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Jorge Rabadan ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Nokia]{.org}
:::

::: {.left dir="auto"}
[777 E. Middlefield Road]{.street-address}
:::

::: {.left dir="auto"}
[Mountain View]{.locality}, [CA]{.region} [94043]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <jorge.rabadan@nokia.com>
:::

::: {.left dir="auto"}
[Senthil Sathappan]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Nokia]{.org}
:::

::: email
Email: <senthil.sathappan@nokia.com>
:::

::: {.left dir="auto"}
[Wim Henderickx]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Nokia]{.org}
:::

::: email
Email: <wim.henderickx@nokia.com>
:::

::: {.left dir="auto"}
[Ali Sajassi]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco]{.org}
:::

::: email
Email: <sajassi@cisco.com>
:::

::: {.left dir="auto"}
[John Drake]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Juniper]{.org}
:::

::: email
Email: <jdrake@juniper.net>
:::
:::
:::
