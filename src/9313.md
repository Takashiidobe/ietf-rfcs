  RFC 9313         Pros and Cons of IPv4aaS Technologies   October 2022
  ---------------- --------------------------------------- --------------
  Lencse, et al.   Informational                           \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [9313](https://www.rfc-editor.org/rfc/rfc9313){.eref}

Category:
:   Informational

Published:
:   October 2022

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    G. Lencse
    :::

    ::: org
    BUTE
    :::
    :::

    ::: author
    ::: author-name
    J. Palet Martinez
    :::

    ::: org
    The IPv6 Company
    :::
    :::

    ::: author
    ::: author-name
    L. Howard
    :::

    ::: org
    Retevia
    :::
    :::

    ::: author
    ::: author-name
    R. Patterson
    :::

    ::: org
    Sky UK
    :::
    :::

    ::: author
    ::: author-name
    I. Farrer
    :::

    ::: org
    Deutsche Telekom AG
    :::
    :::
:::

# RFC 9313 {#rfcnum}

# Pros and Cons of IPv6 Transition Technologies for IPv4-as-a-Service (IPv4aaS) {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

Several IPv6 transition technologies have been developed to provide
customers with IPv4-as-a-Service (IPv4aaS) for ISPs with an IPv6-only
access and/or core network. These technologies have their advantages and
disadvantages. Depending on existing topology, skills, strategy, and
other preferences, one of these technologies may be the most appropriate
solution for a network operator.[¶](#section-abstract-1){.pilcrow}

This document examines the five most prominent IPv4aaS technologies and
considers a number of different aspects to provide network operators
with an easy-to-use reference to assist in selecting the technology that
best suits their needs.[¶](#section-abstract-2){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This document is not an Internet Standards Track specification; it is
published for informational
purposes.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Not all documents approved
by the IESG are candidates for any level of Internet Standard; see
Section 2 of RFC 7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc9313>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2022 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Revised BSD License text as described in Section 4.e of the Trust Legal
Provisions and are provided without warranty as described in the Revised
BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.auto .internal
    .xref}.  [Introduction](#name-introduction){.internal .xref}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.auto .internal .xref}.  [Overview of the
    Technologies](#name-overview-of-the-technologie){.internal .xref}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.auto .internal
        .xref}.  [464XLAT](#name-464xlat){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.2.2.2}
        [2.2](#section-2.2){.auto .internal .xref}.  [Dual-Stack
        Lite](#name-dual-stack-lite){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.2.2.3}
        [2.3](#section-2.3){.auto .internal .xref}.  [Lightweight
        4over6](#name-lightweight-4over6){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.2.2.4}
        [2.4](#section-2.4){.auto .internal
        .xref}.  [MAP-E](#name-map-e){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.2.2.5}
        [2.5](#section-2.5){.auto .internal
        .xref}.  [MAP-T](#name-map-t){.internal .xref}
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.auto .internal .xref}.  [High-Level Architectures
    and Their Consequences](#name-high-level-architectures-an){.internal
    .xref}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.auto .internal .xref}.  [Service Provider
        Network Traversal](#name-service-provider-network-tr){.internal
        .xref}
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.auto .internal .xref}.  [Network Address
        Translation among the Different IPv4aaS
        Technologies](#name-network-address-translation){.internal
        .xref}
        :::

    -   ::: {#section-toc.1-1.3.2.3}
        [3.3](#section-3.3){.auto .internal .xref}.  [IPv4 Address
        Sharing](#name-ipv4-address-sharing){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.3.2.4}
        [3.4](#section-3.4){.auto .internal .xref}.  [IPv4 Pool Size
        Considerations](#name-ipv4-pool-size-consideratio){.internal
        .xref}
        :::

    -   ::: {#section-toc.1-1.3.2.5}
        [3.5](#section-3.5){.auto .internal .xref}.  [CE Provisioning
        Considerations](#name-ce-provisioning-considerati){.internal
        .xref}
        :::

    -   ::: {#section-toc.1-1.3.2.6}
        [3.6](#section-3.6){.auto .internal .xref}.  [Support for
        Multicast](#name-support-for-multicast){.internal .xref}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.auto .internal .xref}.  [Detailed
    Analysis](#name-detailed-analysis){.internal .xref}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.auto .internal .xref}.  [Architectural
        Differences](#name-architectural-differences){.internal .xref}

        -   ::: {#section-toc.1-1.4.2.1.2.1}
            [4.1.1](#section-4.1.1){.auto .internal .xref}.  [Basic
            Comparison](#name-basic-comparison){.internal .xref}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.auto .internal .xref}.  [Trade-Off between
        Port Number Efficiency and Stateless
        Operation](#name-trade-off-between-port-numb){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.auto .internal .xref}.  [Support for Public
        Server Operation](#name-support-for-public-server-o){.internal
        .xref}
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.auto .internal .xref}.  [Support and
        Implementations](#name-support-and-implementations){.internal
        .xref}

        -   ::: {#section-toc.1-1.4.2.4.2.1}
            [4.4.1](#section-4.4.1){.auto .internal .xref}.  [Vendor
            Support](#name-vendor-support){.internal .xref}
            :::

        -   ::: {#section-toc.1-1.4.2.4.2.2}
            [4.4.2](#section-4.4.2){.auto .internal .xref}.  [Support in
            Cellular and Broadband
            Networks](#name-support-in-cellular-and-bro){.internal
            .xref}
            :::

        -   ::: {#section-toc.1-1.4.2.4.2.3}
            [4.4.3](#section-4.4.3){.auto .internal
            .xref}.  [Implementation Code
            Sizes](#name-implementation-code-sizes){.internal .xref}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.5}
        [4.5](#section-4.5){.auto .internal .xref}.  [Typical Deployment
        and Traffic Volume
        Considerations](#name-typical-deployment-and-traf){.internal
        .xref}

        -   ::: {#section-toc.1-1.4.2.5.2.1}
            [4.5.1](#section-4.5.1){.auto .internal .xref}.  [Deployment
            Possibilities](#name-deployment-possibilities){.internal
            .xref}
            :::

        -   ::: {#section-toc.1-1.4.2.5.2.2}
            [4.5.2](#section-4.5.2){.auto .internal .xref}.  [Cellular
            Networks with
            464XLAT](#name-cellular-networks-with-464x){.internal .xref}
            :::

        -   ::: {#section-toc.1-1.4.2.5.2.3}
            [4.5.3](#section-4.5.3){.auto .internal .xref}.  [Wireline
            Networks with
            464XLAT](#name-wireline-networks-with-464x){.internal .xref}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.6}
        [4.6](#section-4.6){.auto .internal .xref}.  [Load
        Sharing](#name-load-sharing){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.4.2.7}
        [4.7](#section-4.7){.auto .internal
        .xref}.  [Logging](#name-logging){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.4.2.8}
        [4.8](#section-4.8){.auto .internal .xref}.  [Optimization for
        IPv4-Only Devices and
        Applications](#name-optimization-for-ipv4-only-){.internal
        .xref}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.auto .internal .xref}.  [Performance
    Comparison](#name-performance-comparison){.internal .xref}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.auto .internal .xref}.  [IANA
    Considerations](#name-iana-considerations){.internal .xref}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.auto .internal .xref}.  [Security
    Considerations](#name-security-considerations){.internal .xref}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.auto .internal
    .xref}.  [References](#name-references){.internal .xref}

    -   ::: {#section-toc.1-1.8.2.1}
        [8.1](#section-8.1){.auto .internal .xref}.  [Normative
        References](#name-normative-references){.internal .xref}
        :::

    -   ::: {#section-toc.1-1.8.2.2}
        [8.2](#section-8.2){.auto .internal .xref}.  [Informative
        References](#name-informative-references){.internal .xref}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [](#appendix-A){.auto .internal
    .xref}[Acknowledgements](#name-acknowledgements){.internal .xref}
    :::

-   ::: {#section-toc.1-1.10}
    [](#appendix-B){.auto .internal .xref}[Authors\'
    Addresses](#name-authors-addresses){.internal .xref}
    :::
:::
:::

::: {#intro}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

As the deployment of IPv6 continues to be prevalent, it becomes clearer
that network operators will move to building single-stack IPv6 core and
access networks to simplify network planning and operations. However,
providing customers with IPv4 services continues to be a requirement for
the foreseeable future. To meet this need, the IETF has standardized a
number of different IPv4aaS technologies for this (see
\[[LEN2019](#LEN2019){.cite .xref}\]) based on differing requirements
and deployment scenarios.[¶](#section-1-1){.pilcrow}

The number of technologies that have been developed makes it
time-consuming for a network operator to identify the most appropriate
mechanism for their specific deployment. This document provides a
comparative analysis of the most commonly used mechanisms to assist
operators with this problem.[¶](#section-1-2){.pilcrow}

Five different IPv4aaS solutions are
considered:[¶](#section-1-3){.pilcrow}

1.  [464XLAT \[[RFC6877](#RFC6877){.cite
    .xref}\][¶](#section-1-4.1){.pilcrow}]{#section-1-4.1}
2.  [Dual-Stack Lite \[[RFC6333](#RFC6333){.cite
    .xref}\][¶](#section-1-4.2){.pilcrow}]{#section-1-4.2}
3.  [Lightweight 4over6 (lw4o6) \[[RFC7596](#RFC7596){.cite
    .xref}\][¶](#section-1-4.3){.pilcrow}]{#section-1-4.3}
4.  [Mapping of Address and Port with Encapsulation (MAP-E)
    \[[RFC7597](#RFC7597){.cite
    .xref}\][¶](#section-1-4.4){.pilcrow}]{#section-1-4.4}
5.  [Mapping of Address and Port using Translation (MAP-T)
    \[[RFC7599](#RFC7599){.cite
    .xref}\][¶](#section-1-4.5){.pilcrow}]{#section-1-4.5}

We note that \[[RFC6180](#RFC6180){.cite .xref}\] gives guidelines for
using IPv6 transition mechanisms during IPv6 deployment; that document
addresses a much broader topic, whereas this document focuses on a small
part of it.[¶](#section-1-5){.pilcrow}
:::
:::

::: {#overview}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Overview of the Technologies](#name-overview-of-the-technologie){.section-name .selfRef} {#name-overview-of-the-technologie}

The following sections introduce the different technologies analyzed in
this document and describe some of their most important
characteristics.[¶](#section-2-1){.pilcrow}

::: {#xlat_ov}
::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [464XLAT](#name-464xlat){.section-name .selfRef} {#name-464xlat}

464XLAT may use double translation (stateless NAT46 + stateful NAT64) or
single translation (stateful NAT64) depending on different factors, such
as the use of DNS by the applications and the availability of a DNS64
function (in the host or service provider
network).[¶](#section-2.1-1){.pilcrow}

The customer-side translator (CLAT) is located in the customer\'s
device, and it performs stateless NAT46 translation
\[[RFC7915](#RFC7915){.cite .xref}\] (more precisely, a stateless
IP/ICMP translation from IPv4 to IPv6). IPv4-embedded IPv6 addresses
\[[RFC6052](#RFC6052){.cite .xref}\] are used for both source and
destination addresses. Commonly, a /96 prefix (either the 64:ff9b::/96
Well-Known Prefix (WKP) or a Network-Specific Prefix) is used as the
IPv6 destination for the IPv4-embedded client
traffic.[¶](#section-2.1-2){.pilcrow}

In deployments where NAT64 load balancing (see [Section
4.2](https://www.rfc-editor.org/rfc/rfc7269#section-4.2){.relref} of
\[[RFC7269](#RFC7269){.cite .xref}\]) is enabled, multiple WKPs
\[[RFC8215](#RFC8215){.cite .xref}\] may be
used.[¶](#section-2.1-3){.pilcrow}

In the operator\'s network, the provider-side translator (PLAT) performs
stateful NAT64 \[[RFC6146](#RFC6146){.cite .xref}\] to translate the
traffic. The destination IPv4 address is extracted from the
IPv4-embedded IPv6 packet destination address, and the source address is
from a pool of public IPv4 addresses.[¶](#section-2.1-4){.pilcrow}

Alternatively, when a dedicated /64 is not available for translation,
the CLAT device uses a stateful NAT44 translation before the stateless
NAT46 translation.[¶](#section-2.1-5){.pilcrow}

In general, keeping state in devices close to the end-user network
(i.e., at the CE (Customer Edge) router) is not perceived to be as
problematic as keeping state in the operator\'s
network.[¶](#section-2.1-6){.pilcrow}

In typical deployments, 464XLAT is used together with DNS64
\[[RFC6147](#RFC6147){.cite .xref}\]; see [Section
3.1.2](https://www.rfc-editor.org/rfc/rfc8683#section-3.1.2){.relref} of
\[[RFC8683](#RFC8683){.cite .xref}\]. When an IPv6-only client or
application communicates with an IPv4-only server, the DNS64 server
returns the IPv4-embedded IPv6 address of the IPv4-only server. In this
case, the IPv6-only client sends out IPv6 packets, the CLAT functions as
an IPv6 router, and the PLAT performs a stateful NAT64 for these
packets. There is a single translation.[¶](#section-2.1-7){.pilcrow}

Similarly, when an IPv4-only client or application communicates with an
IPv4-only server, the CLAT will statelessly translate to IPv6 so it can
traverse the ISP network up to the PLAT (NAT64), which in turn will
translate to IPv4.[¶](#section-2.1-8){.pilcrow}

Alternatively, one can say that DNS64 + stateful NAT64 is used to carry
the traffic of the IPv6-only client and the IPv4-only server, and the
CLAT is used only for the IPv4 traffic from applications or devices that
use literal IPv4 addresses or non-IPv6-compliant
APIs.[¶](#section-2.1-9){.pilcrow}

[]{#name-overview-of-the-464xlat-arc}

::: {#xlatarch}
::: {#section-2.1-10.1 .alignLeft .art-text .artwork}
              Private +----------+ Translated  +----------+     _______
      +------+  IPv4  |   CLAT   |    4-6-4    |   PLAT   |    ( IPv4  )
      | IPv4 |------->| Stateless|------------>| Stateful +--( Internet )
      |Device|<-------|   NAT46  |<------------|   NAT64  |   (________)
      +------+        +----------+      ^      +----------+
                                        |
                                  Operator IPv6
                                    Network
:::

[Figure 1](#figure-1){.selfRef}: [Overview of the 464XLAT
Architecture](#name-overview-of-the-464xlat-arc){.selfRef}
:::

Note: In mobile networks, the CLAT is commonly implemented in the user
equipment (UE) or smartphone; please refer to Figure 2 in
\[[RFC6877](#RFC6877){.cite .xref}\].[¶](#section-2.1-11){.pilcrow}

Some NAT64 vendors support direct communication (that is, without
translation) between two CLATs by means of hairpinning through the
NAT64.[¶](#section-2.1-12){.pilcrow}
:::
:::

::: {#dslite_ov}
::: {#section-2.2 .section}
### [2.2.](#section-2.2){.section-number .selfRef} [Dual-Stack Lite](#name-dual-stack-lite){.section-name .selfRef} {#name-dual-stack-lite}

Dual-Stack Lite (DS-Lite) \[[RFC6333](#RFC6333){.cite .xref}\] was the
first of the considered transition mechanisms to be developed. DS-Lite
uses a Basic Bridging BroadBand (B4) function in the customer\'s CE
router that encapsulates IPv4 in IPv6 traffic and sends it over the IPv6
native service provider network to an Address Family Transition Router
(AFTR). The AFTR performs encapsulation/decapsulation of the 4in6
\[[RFC2473](#RFC2473){.cite .xref}\] traffic and translates the IPv4
source address in the inner IPv4 packet to a public IPv4 source address
using a stateful NAPT44 \[[RFC2663](#RFC2663){.cite .xref}\]
function.[¶](#section-2.2-1){.pilcrow}

[]{#name-overview-of-the-ds-lite-arc}

::: {#dslitearch}
::: {#section-2.2-2.1 .alignLeft .art-text .artwork}
                                             +-------------+
            Private +----------+ IPv4-in-IPv6|Stateful AFTR|
    +------+  IPv4  |    B4    |    Tunnel   |------+------+     _______
    | IPv4 |------->| Encap./  |------------>|Encap.|      |    ( IPv4  )
    |Device|<-------|  Decap.  |<------------|  /   | NAPT +--( Internet )
    +------+        +----------+      ^      |Decap.|  44  |   (________)
                                      |      +------+------+
                                Operator IPv6
                                  Network
:::

[Figure 2](#figure-2){.selfRef}: [Overview of the DS-Lite
Architecture](#name-overview-of-the-ds-lite-arc){.selfRef}
:::

Some AFTR vendors support direct communication between two B4s by means
of hairpinning through the AFTR.[¶](#section-2.2-3){.pilcrow}
:::
:::

::: {#lw4o6_ov}
::: {#section-2.3 .section}
### [2.3.](#section-2.3){.section-number .selfRef} [Lightweight 4over6](#name-lightweight-4over6){.section-name .selfRef} {#name-lightweight-4over6}

Lightweight 4over6 (lw4o6) is a variant of DS-Lite. The main difference
is that the stateful NAPT44 function is relocated from the centralized
AFTR to the customer\'s B4 element (called an \"lwB4\"). The AFTR
(called an \"lwAFTR\") function therefore only performs A+P (Address
plus Port) routing \[[RFC6346](#RFC6346){.cite .xref}\] and 4in6
encapsulation/decapsulation.[¶](#section-2.3-1){.pilcrow}

Routing to the correct client and IPv4 address sharing are achieved
using the A+P model \[[RFC6346](#RFC6346){.cite .xref}\] of provisioning
each lwB4 with a unique tuple of IPv4 address and a unique range of
transport-layer ports. The client uses these for
NAPT44.[¶](#section-2.3-2){.pilcrow}

The lwAFTR implements a binding table, which has a per-client entry
linking the customer\'s source IPv4 address and an allocated range of
transport-layer ports to their IPv6 tunnel endpoint address. The binding
table allows egress traffic from customers to be validated (to prevent
spoofing) and ingress traffic to be correctly encapsulated and
forwarded. As there needs to be a per-client entry, an lwAFTR
implementation needs to be optimized for performing a per-packet lookup
on the binding table.[¶](#section-2.3-3){.pilcrow}

Direct communication (that is, without translation) between two lwB4s is
performed by hairpinning traffic through the
lwAFTR.[¶](#section-2.3-4){.pilcrow}

[]{#name-overview-of-the-lw4o6-archi}

::: {#lw4o6arch}
::: {#section-2.3-5.1 .alignLeft .art-text .artwork}
                    +-------------+             +----------+
            Private |    lwB4     | IPv4-in-IPv6| Stateless|
    +------+  IPv4  |------+------|    Tunnel   |  lwAFTR  |     _______
    | IPv4 |------->|      |Encap.|------------>|(encap/A+P|    ( IPv4  )
    |Device|<-------| NAPT |  /   |<------------|bind. tab +--( Internet )
    +------+        |  44  |Decap.|      ^      | routing) |   (________)
                    +------+------+      |      +----------+
                                  Operator IPv6
                                      Network
:::

[Figure 3](#figure-3){.selfRef}: [Overview of the lw4o6
Architecture](#name-overview-of-the-lw4o6-archi){.selfRef}
:::
:::
:::

::: {#map_e_ov}
::: {#section-2.4 .section}
### [2.4.](#section-2.4){.section-number .selfRef} [MAP-E](#name-map-e){.section-name .selfRef} {#name-map-e}

Like 464XLAT ([Section 2.1](#xlat_ov){.auto .internal .xref}), MAP-E and
MAP-T use IPv4-embedded IPv6 addresses \[[RFC6052](#RFC6052){.cite
.xref}\] to represent IPv4 hosts outside the MAP
domain.[¶](#section-2.4-1){.pilcrow}

MAP-E and MAP-T use a stateless algorithm to embed portions of the
customer\'s allocated IPv4 address (or part of an address with A+P
routing) into the IPv6 prefix delegated to the client. This allows for
large numbers of clients to be provisioned using a single MAP rule
(called a \"MAP domain\"). The algorithm also allows direct IPv4
peer-to-peer communication between hosts provisioned with common MAP
rules.[¶](#section-2.4-2){.pilcrow}

The CE router typically performs stateful NAPT44
\[[RFC2663](#RFC2663){.cite .xref}\] to translate the private IPv4
source addresses and source ports into an address and port range defined
by applying the MAP rule to the delegated IPv6 prefix. The client
address/port allocation size is a configuration parameter. The CE router
then encapsulates the IPv4 packet in an IPv6 packet
\[[RFC2473](#RFC2473){.cite .xref}\] and sends it directly to another
host in the MAP domain (for peer-to-peer) or to a Border Router (BR) if
the IPv4 destination is not covered in one of the CE\'s MAP
rules.[¶](#section-2.4-3){.pilcrow}

The MAP BR is provisioned with the set of MAP rules for the MAP domains
it serves. These rules determine how the MAP BR is to decapsulate
traffic that it receives from the client, validate the source IPv4
address and transport-layer ports assigned, and calculate the
destination IPv6 address for ingress IPv4
traffic.[¶](#section-2.4-4){.pilcrow}

[]{#name-overview-of-the-map-e-archi}

::: {#map-e-arch}
::: {#section-2.4-5.1 .alignLeft .art-text .artwork}
                    +-------------+             +----------+
            Private |   MAP CE    | IPv4-in-IPv6| Stateless|
    +------+  IPv4  |------+------|    tunnel   |  MAP BR  |     _______
    | IPv4 |------->|      |Encap.|------------>|(encap/A+P|    ( IPv4  )
    |Device|<-------| NAPT |  /   |<------------|algorithm +--( Internet )
    +------+        |  44  |Decap.|      ^      | routing) |   (________)
                    +------+------+      |      +----------+
                                  Operator IPv6
                                      Network
:::

[Figure 4](#figure-4){.selfRef}: [Overview of the MAP-E
Architecture](#name-overview-of-the-map-e-archi){.selfRef}
:::

Some BR vendors support direct communication between two MAP CEs by
means of hairpinning through the BR.[¶](#section-2.4-6){.pilcrow}
:::
:::

::: {#map_t_ov}
::: {#section-2.5 .section}
### [2.5.](#section-2.5){.section-number .selfRef} [MAP-T](#name-map-t){.section-name .selfRef} {#name-map-t}

MAP-T uses the same mapping algorithm as MAP-E. The major difference is
that double stateless translation (NAT46 in the CE and NAT64 in the BR)
is used to traverse the ISP\'s IPv6 single-stack network. MAP-T can also
be compared to 464XLAT when there is a double
translation.[¶](#section-2.5-1){.pilcrow}

A MAP CE router typically performs stateful NAPT44 to translate traffic
to a public IPv4 address and port range calculated by applying the
provisioned Basic MAP Rule (BMR), which is a set of inputs to the
algorithm, to the delegated IPv6 prefix. The CE then performs stateless
translation from IPv4 to IPv6 \[[RFC7915](#RFC7915){.cite .xref}\]. The
MAP BR is provisioned with the same BMR as the client, enabling the
received IPv6 traffic to be translated (using stateless NAT64) back to
the public IPv4 source address used by the
client.[¶](#section-2.5-2){.pilcrow}

Using translation instead of encapsulation also allows IPv4-only nodes
to correspond directly with IPv6 nodes in the MAP-T domain that have
IPv4-embedded IPv6 addresses.[¶](#section-2.5-3){.pilcrow}

[]{#name-overview-of-the-map-t-archi}

::: {#map-t-arch}
::: {#section-2.5-4.1 .alignLeft .art-text .artwork}
                    +-------------+             +----------+
            Private |   MAP CE    |  Translated | Stateless|
    +------+  IPv4  |------+------|    4-6-4    |  MAP BR  |     _______
    | IPv4 |------->|      |State-|------------>|(NAT64/A+P|    ( IPv4  )
    |Device|<-------| NAPT | less |<------------|algorithm +--( Internet )
    +------+        |  44  |NAT46 |      ^      | routing) |   (________)
                    +------+------+      |      +----------+
                                  Operator IPv6
                                      Network
:::

[Figure 5](#figure-5){.selfRef}: [Overview of the MAP-T
Architecture](#name-overview-of-the-map-t-archi){.selfRef}
:::

Some BR vendors support direct communication between two MAP CEs by
means of hairpinning through the BR.[¶](#section-2.5-5){.pilcrow}
:::
:::
:::
:::

::: {#hl_arch}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [High-Level Architectures and Their Consequences](#name-high-level-architectures-an){.section-name .selfRef} {#name-high-level-architectures-an}

::: {#sp_net_trav}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [Service Provider Network Traversal](#name-service-provider-network-tr){.section-name .selfRef} {#name-service-provider-network-tr}

For the data plane, there are two approaches for traversing the IPv6
provider network:[¶](#section-3.1-1){.pilcrow}

-   [4-6-4 translation[¶](#section-3.1-2.1){.pilcrow}]{#section-3.1-2.1}
-   [4in6
    encapsulation[¶](#section-3.1-2.2){.pilcrow}]{#section-3.1-2.2}

[]{#name-available-traversal-mechani}

::: {#net_trav_table}
                       464XLAT   DS-Lite   lw4o6   MAP-E   MAP-T
  -------------------- --------- --------- ------- ------- -------
  4-6-4 translation    X                                   X
  4in6 encapsulation             X         X       X       

  : [Table 1](#table-1){.selfRef}: [Available Traversal
  Mechanisms](#name-available-traversal-mechani){.selfRef}
:::

In the scope of this document, all of the encapsulation-based mechanisms
use IP-in-IP tunneling \[[RFC2473](#RFC2473){.cite .xref}\]. This is a
stateless tunneling mechanism that does not require any additional
overhead.[¶](#section-3.1-4){.pilcrow}

It should be noted that both of these approaches result in an increase
in the size of the packet that needs to be transported across the
operator\'s network when compared to native IPv4. 4-6-4 translation adds
a 20-byte overhead (the 20-byte IPv4 header is replaced with a 40-byte
IPv6 header). Encapsulation has a 40-byte overhead (an IPv6 header is
prepended to the IPv4 header).[¶](#section-3.1-5){.pilcrow}

The increase in packet size can become a significant problem if there is
a link with a smaller MTU in the traffic path. This may result in the
need for traffic to be fragmented at the ingress point to the IPv6 only
domain (i.e., the NAT46 or 4in6 encapsulation endpoint). It may also
result in the need to implement buffering and fragment reassembly in the
PLAT/AFTR/lwAFTR/BR node.[¶](#section-3.1-6){.pilcrow}

The advice given in [Section
8.3.1](https://www.rfc-editor.org/rfc/rfc7597#section-8.3.1){.relref} of
\[[RFC7597](#RFC7597){.cite .xref}\] is applicable to all of these
mechanisms: It is strongly recommended that the MTU in the IPv6-only
domain be well managed (it should have sufficiently large MTU to support
tunneling and/or translation) and that the IPv6 MTU on the CE WAN-side
interface be set so that no fragmentation occurs within the boundary of
the IPv6-only domain.[¶](#section-3.1-7){.pilcrow}
:::
:::

::: {#nat}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [Network Address Translation among the Different IPv4aaS Technologies](#name-network-address-translation){.section-name .selfRef} {#name-network-address-translation}

For the high-level solution of IPv6 service provider network traversal,
MAP-T uses double stateless translation. The first translation is from
IPv4 to IPv6 (NAT46) at the CE, and the second translation is from IPv6
to IPv4 (NAT64) at the service provider
network.[¶](#section-3.2-1){.pilcrow}

464XLAT may use double translation (stateless NAT46 + stateful NAT64) or
single translation (stateful NAT64) depending on different factors, such
as the use of DNS by the applications and the availability of a DNS64
function (in the host or in the service provider network). For
deployment guidelines, please refer to \[[RFC8683](#RFC8683){.cite
.xref}\].[¶](#section-3.2-2){.pilcrow}

The first step for the double translation mechanisms is a stateless NAT
from IPv4 to IPv6 implemented as SIIT (Stateless IP/ICMP Translation
Algorithm) \[[RFC7915](#RFC7915){.cite .xref}\], which does not
translate IPv4 header options and/or multicast IP/ICMP packets. With
encapsulation-based technologies, the header is transported intact, and
multicast can also be carried.[¶](#section-3.2-3){.pilcrow}

Single and double translation results in native IPv6 traffic with a
transport-layer next header. The fields in these headers can be used for
functions such as hashing across equal-cost multipaths or Access Control
List (ACL) filtering. Encapsulation technologies, in contrast, may
hinder hashing algorithms or other functions relying on header
inspection.[¶](#section-3.2-4){.pilcrow}

Solutions using double translation can only carry port-aware IP
protocols (e.g., TCP and UDP) and ICMP when they are used with IPv4
address sharing (please refer to [Section 4.3](#pub_serv){.auto
.internal .xref} for more details). Encapsulation-based solutions can
also carry any other protocols over IP.[¶](#section-3.2-5){.pilcrow}

An in-depth analysis of stateful NAT64 can be found in
\[[RFC6889](#RFC6889){.cite .xref}\].[¶](#section-3.2-6){.pilcrow}

As stateful NAT interferes with the port numbers,
\[[NAT-SUPP](#I-D.ietf-tsvwg-natsupp){.cite .xref}\] explains how NATs
can handle SCTP (Stream Control Transmission
Protocol).[¶](#section-3.2-7){.pilcrow}
:::
:::

::: {#ipv4_sharing}
::: {#section-3.3 .section}
### [3.3.](#section-3.3){.section-number .selfRef} [IPv4 Address Sharing](#name-ipv4-address-sharing){.section-name .selfRef} {#name-ipv4-address-sharing}

As public IPv4 address exhaustion is a common motivation for deploying
IPv6, transition technologies need to provide a solution that allows
public IPv4 address sharing.[¶](#section-3.3-1){.pilcrow}

In order to fulfill this requirement, a stateful NAPT function is a
necessary function in all of the mechanisms. The major differentiator is
where in the architecture this function is
located.[¶](#section-3.3-2){.pilcrow}

The solutions compared by this document fall into two
categories:[¶](#section-3.3-3){.pilcrow}

-   [Approaches based on Carrier-Grade NAT (CGN) (DS-Lite,
    464XLAT)[¶](#section-3.3-4.1){.pilcrow}]{#section-3.3-4.1}
-   [Approaches based on A+P (lw4o6, MAP-E,
    MAP-T)[¶](#section-3.3-4.2){.pilcrow}]{#section-3.3-4.2}

In the CGN-based model, a device such as a CGN/AFTR or NAT64 performs
the NAPT44 function and maintains per-session state for all of the
active client\'s traffic. The customer\'s device does not require
per-session state for NAPT.[¶](#section-3.3-5){.pilcrow}

In the A+P-based model, a device (usually a CE) performs stateful NAPT44
and maintains per-session state only for co-located devices, e.g., in
the customer\'s home network. Here, the centralized network function
(lwAFTR or BR) only needs to perform stateless
encapsulation/decapsulation or NAT64.[¶](#section-3.3-6){.pilcrow}

Issues related to IPv4 address-sharing mechanisms are described in
\[[RFC6269](#RFC6269){.cite .xref}\] and should also be
considered.[¶](#section-3.3-7){.pilcrow}

The address-sharing efficiency of the five technologies is significantly
different and is discussed in [Section 4.2](#port_num_eff){.auto
.internal .xref}.[¶](#section-3.3-8){.pilcrow}

Lw4o6, MAP-E, and MAP-T can also be configured without IPv4 address
sharing; see the details in [Section 4.3](#pub_serv){.auto .internal
.xref}. However, in that case, there is no advantage in terms of public
IPv4 address saving. In the case of 464XLAT, one-to-one mapping can also
be achieved through EAMT (Explicit Address Mapping Table)
\[[RFC7757](#RFC7757){.cite .xref}\].[¶](#section-3.3-9){.pilcrow}

Conversely, both MAP-E and MAP-T may be configured to provide more than
one public IPv4 address (i.e., an address with an IPv4 prefix shorter
than a /32) to customers.[¶](#section-3.3-10){.pilcrow}

Dynamic DNS issues in address-sharing contexts and their possible
solutions using PCP (Port Control Protocol) are discussed in detail in
\[[RFC7393](#RFC7393){.cite .xref}\].[¶](#section-3.3-11){.pilcrow}
:::
:::

::: {#ipv4_pool}
::: {#section-3.4 .section}
### [3.4.](#section-3.4){.section-number .selfRef} [IPv4 Pool Size Considerations](#name-ipv4-pool-size-consideratio){.section-name .selfRef} {#name-ipv4-pool-size-consideratio}

In this section, we do some simple calculations regarding port numbers.
However, technical limitations are not the only point to consider for
port sharing; there are also local regulations and best current
practices.[¶](#section-3.4-1){.pilcrow}

Note: By \"port numbers\", we mean TCP/UDP port numbers or ICMP
identifiers.[¶](#section-3.4-2){.pilcrow}

In most networks, it is possible to use existing data about flows to
Content Delivery Networks (CDNs), caches, or other well-known
IPv6-enabled destinations to calculate the percentage of traffic that
would turn into IPv6 if IPv6 is enabled on that network or on part of
it.[¶](#section-3.4-3){.pilcrow}

Knowing that, it is possible to calculate the IPv4 pool size required
for a given number of subscribers, depending on the IPv4aaS technology
being used.[¶](#section-3.4-4){.pilcrow}

According to \[[MIY2010](#MIY2010){.cite .xref}\], each user device
(computer, tablet, smartphone) behind a NAT could simultaneously use up
to 300 ports. (Table 1 of \[[MIY2010](#MIY2010){.cite .xref}\] lists the
port number usage of various applications. According to
\[[REP2014](#REP2014){.cite .xref}\], the downloading of some web pages
may consume up to 200 port numbers.) If the extended NAPT algorithm is
used, which includes the full 5-tuple into the connection tracking
table, then the port numbers are reused when the destinations are
different. Therefore, we need to consider the number of \"port-hungry\"
applications that are accessing the same destination simultaneously. We
estimate that in the case of a residential subscriber, there will be
typically no more than four port-hungry applications communicating with
the same destination simultaneously, which is a total of 1,200
ports.[¶](#section-3.4-5){.pilcrow}

For example, if 80% of the traffic is expected towards IPv6
destinations, only 20% will actually be using IPv4 ports. Thus, in our
example, 240 ports are required for each
subscriber.[¶](#section-3.4-6){.pilcrow}

From the 65,535 ports available per IPv4 address, we could even consider
reserving 1,024 ports for customers that need EAMT entries for incoming
connections to System ports (0-1023, also called \"well-known ports\")
\[[RFC7605](#RFC7605){.cite .xref}\]. This means that 64,511 ports are
actually available for each IPv4 address.[¶](#section-3.4-7){.pilcrow}

According to this, a /22 (1.024 public IPv4 addresses) will be
sufficient for over 275,000 subscribers
(1,024x64,511/240=275,246.93).[¶](#section-3.4-8){.pilcrow}

Similarly, a /18 (16,384 public IPv4 addresses) will be sufficient for
over 4,403,940 subscribers, and so on.[¶](#section-3.4-9){.pilcrow}

This is a conservative approach, which is valid in the case of 464XLAT
because ports are assigned dynamically by the NAT64. Therefore, it is
not necessary to consider if one user is actually using more or fewer
ports; average values work well.[¶](#section-3.4-10){.pilcrow}

As the deployment of IPv6 progresses, the use of NAT64, and therefore of
public IPv4 addresses, decreases (more IPv6 ports, fewer IPv4 ports).
Thus, either more subscribers can be accommodated with the same number
of IPv4 addresses or some of those addressed can be retired from the
NAT64.[¶](#section-3.4-11){.pilcrow}

For comparison, if dual-stack is being used, any given number of users
will require the same number of public IPv4 addresses. For instance, a
/14 will provide 262,144 IPv4 public addresses for 262,144 subscribers,
versus 275,000 subscribers being served with only a
/22.[¶](#section-3.4-12){.pilcrow}

In the other IPv4aaS technologies, this calculation will only match if
the assignment of ports per subscriber can be done dynamically, which is
not always the case (depending on the vendor
implementation).[¶](#section-3.4-13){.pilcrow}

When dynamic assignment of addresses is not possible, an alternative
approximation for the other IPv4aaS technologies must ensure a
sufficient number of ports per subscriber. That means 1,200 ports, and
typically, it comes to 2,000 ports in many deployments. In that case,
assuming 80% is IPv6 traffic (as above), only 30 subscribers will be
allowed per each IPv4 address; thus, the closer approximation to 275,000
subscribers per our example with 464XLAT (with a /22) will be using a
/19, which serves 245,760 subscribers (a /19 has 8,192 addresses and 30
subscribers with 2,000 ports each per
address).[¶](#section-3.4-14){.pilcrow}

If the CGN (in case of DS-Lite) or the CE (in case of lw4o6, MAP-E, and
MAP-T) make use of a 5-tuple for tracking the NAT connections, the
number of ports required per subscriber can be limited as low as four
ports per subscriber. However, the practical limit depends on the
desired limit for parallel connections that any single host behind the
NAT can have to the same address and port in Internet. Note that it is
becoming more common that applications use AJAX (Asynchronous JavaScript
and XML) and similar mechanisms, so taking that extreme limit is
probably not a safe choice.[¶](#section-3.4-15){.pilcrow}

This feature of extremely reduced number of ports could also be used in
case the CLAT-enabled CE with 464XLAT makes use of tracking the 5-tuple
NAT connections and could also be further extended if the NAT64 also
uses the 5-tuple.[¶](#section-3.4-16){.pilcrow}

Please also refer to \[[RFC6888](#RFC6888){.cite .xref}\] for in-depth
information about the requirements for sizing CGN
gateways.[¶](#section-3.4-17){.pilcrow}
:::
:::

::: {#ce_prov}
::: {#section-3.5 .section}
### [3.5.](#section-3.5){.section-number .selfRef} [CE Provisioning Considerations](#name-ce-provisioning-considerati){.section-name .selfRef} {#name-ce-provisioning-considerati}

All of the technologies require some provisioning of customer devices.
The table below shows which methods currently have extensions for
provisioning the different mechanisms.[¶](#section-3.5-1){.pilcrow}

[]{#name-available-provisioning-mech}

::: {#prov_mech_table}
  Provisioning Method                             464XLAT                                DS-Lite                                lw4o6                                  MAP-E                                  MAP-T
  ----------------------------------------------- -------------------------------------- -------------------------------------- -------------------------------------- -------------------------------------- --------------------------------------
  DHCPv6 \[[RFC8415](#RFC8415){.cite .xref}\]                                            X                                      X                                      X                                      X
  RADIUS \[[RFC8658](#RFC8658){.cite .xref}\]                                            \[[RFC6519](#RFC6519){.cite .xref}\]   X                                      X                                      X
  TR-069 \[[TR-069](#TR-069){.cite .xref}\]       \*                                     X                                      \*                                     X                                      X
  DNS64 \[[RFC7050](#RFC7050){.cite .xref}\]      X                                                                                                                                                           
  YANG \[[RFC7950](#RFC7950){.cite .xref}\]       \[[RFC8512](#RFC8512){.cite .xref}\]   \[[RFC8513](#RFC8513){.cite .xref}\]   \[[RFC8676](#RFC8676){.cite .xref}\]   \[[RFC8676](#RFC8676){.cite .xref}\]   \[[RFC8676](#RFC8676){.cite .xref}\]
  DHCP 4o6 \[[RFC7341](#RFC7341){.cite .xref}\]                                                                                 X                                      X                                      

  : [Table 2](#table-2){.selfRef}: [Available Provisioning
  Mechanisms](#name-available-provisioning-mech){.selfRef}
:::

[]{.break}

\*:
:   Work started at Broadband Forum
    (2021)[¶](#section-3.5-3.2){.pilcrow}
:   

X:
:   Supported by the provisioning method[¶](#section-3.5-3.4){.pilcrow}
:   
:::
:::

::: {#multicast}
::: {#section-3.6 .section}
### [3.6.](#section-3.6){.section-number .selfRef} [Support for Multicast](#name-support-for-multicast){.section-name .selfRef} {#name-support-for-multicast}

The solutions covered in this document are all intended for unicast
traffic. \[[RFC8114](#RFC8114){.cite .xref}\] describes a method for
carrying encapsulated IPv4 multicast traffic over an IPv6 multicast
network. This could be deployed in parallel to any of the operator\'s
chosen IPv4aaS mechanism.[¶](#section-3.6-1){.pilcrow}
:::
:::
:::
:::

::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Detailed Analysis](#name-detailed-analysis){.section-name .selfRef} {#name-detailed-analysis}

::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [Architectural Differences](#name-architectural-differences){.section-name .selfRef} {#name-architectural-differences}

::: {#section-4.1.1 .section}
#### [4.1.1.](#section-4.1.1){.section-number .selfRef} [Basic Comparison](#name-basic-comparison){.section-name .selfRef} {#name-basic-comparison}

The five IPv4aaS technologies can be classified based on two
aspects:[¶](#section-4.1.1-1){.pilcrow}

-   [Technology used for service provider network traversal. It can be
    single/double translation or
    encapsulation.[¶](#section-4.1.1-2.1){.pilcrow}]{#section-4.1.1-2.1}
-   [Presence or absence of per-flow state in the operator
    network.[¶](#section-4.1.1-2.2){.pilcrow}]{#section-4.1.1-2.2}

[]{#name-basic-comparison-among-the-}

::: {#data_plane_table}
                                                       464XLAT   DS-Lite   lw4o6   MAP-E   MAP-T
  ---------------------------------------------------- --------- --------- ------- ------- -------
  Translation (T) or Encapsulation (E)                 T         E         E       E       T
  Presence (+) of Per-Flow State in Operator Network   \+        \+                        

  : [Table 3](#table-3){.selfRef}: [Basic Comparison among the Analyzed
  Technologies](#name-basic-comparison-among-the-){.selfRef}
:::
:::
:::

::: {#port_num_eff}
::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [Trade-Off between Port Number Efficiency and Stateless Operation](#name-trade-off-between-port-numb){.section-name .selfRef} {#name-trade-off-between-port-numb}

464XLAT and DS-Lite use stateful NAPT at the PLAT and AFTR devices,
respectively. This may cause scalability issues for the number of
clients or volume of traffic, but it does not impose a limitation on the
number of ports per user, as they can be allocated dynamically on-demand
and the allocation policy can be centrally managed and
adjusted.[¶](#section-4.2-1){.pilcrow}

A+P-based mechanisms (lw4o6, MAP-E, and MAP-T) avoid using NAPT in the
service provider network. However, this means that the number of ports
provided to each user (and hence the effective IPv4 address-sharing
ratio) must be pre-provisioned to the
client.[¶](#section-4.2-2){.pilcrow}

Changing the allocated port ranges with A+P-based technologies requires
more planning and is likely to involve reprovisioning both hosts and
operator-side equipment. It should be noted that due to the per-customer
binding table entry used by lw4o6, a single customer can be
reprovisioned (e.g., if they request a full IPv4 address) without
needing to change parameters for a number of customers as in a MAP
domain.[¶](#section-4.2-3){.pilcrow}

It is also worth noting that there is a direct relationship between the
efficiency of public port allocations for customers and the
corresponding logging overhead that may be necessary to meet
data-retention requirements. This is considered in [Section
4.7](#logging){.auto .internal .xref}.[¶](#section-4.2-4){.pilcrow}

Determining the optimal number of ports for a fixed port set is not an
easy task and may also be impacted by local regulatory law (and in the
Belgian case, it is not a law but more a memorandum of understanding or
best current practice), which may define a maximum number of users per
IP address and consequently a minimum number of ports per
user.[¶](#section-4.2-5){.pilcrow}

On the one hand, the \"lack of ports\" situation may cause serious
problems in the operation of certain applications. For example, Miyakawa
has demonstrated the consequences of the session number limitation due
to port number shortage in the example of Google Maps
\[[MIY2010](#MIY2010){.cite .xref}\]. When the limit was 15, several
blocks of the map were missing, and the map was unusable. This study
also provided several examples for the session numbers of different
applications (the highest one was Apple\'s iTunes at 230-270
ports).[¶](#section-4.2-6){.pilcrow}

The port number consumption of different applications is highly varying.
In the case of web browsing, it depends on several factors, including
the choice of the web page, the web browser, and sometimes the operating
system \[[REP2014](#REP2014){.cite .xref}\]. For example, under certain
conditions, 120-160 ports were used (URL: sohu.com, browser: Firefox
under Ubuntu Linux), and in some other cases, only 3-12 ports were used
(URL: twitter.com, browser: Iceweasel under Debian
Linux).[¶](#section-4.2-7){.pilcrow}

There may be several users behind a CE router, especially in the
broadband case (e.g., Internet is used by different members of a family
simultaneously), so sufficient ports must be allocated to avoid
impacting user experience.[¶](#section-4.2-8){.pilcrow}

In general, assigning too few source port numbers to an end user may
result in unexpected and hard-to-debug consequences; therefore, if the
number of ports per end user is fixed, then we recommend assigning a
conservatively large number of ports. For example, the developers of
Jool used 2048 ports per user in their example for MAP-T
\[[JOOL-MAPT](#JOOL-MAPT){.cite .xref}\].[¶](#section-4.2-9){.pilcrow}

However, assigning too many ports per CE router will result in waste of
public IPv4 addresses, which are scarce and expensive resources.
Clearly, this is a big advantage in the case of 464XLAT where they are
dynamically managed so that the number of IPv4 addresses for the sharing
pool is smaller while the availability of ports per user doesn\'t need
to be pre-defined and is not a limitation.[¶](#section-4.2-10){.pilcrow}

There is a direct trade-off between the optimization of client port
allocations and the associated logging overhead. [Section
4.7](#logging){.auto .internal .xref} discusses this in more
depth.[¶](#section-4.2-11){.pilcrow}

We note that common NAT44 implementations utilizing Netfilter at the CE
router multiplex active sessions using a 3-tuple (source address,
destination address, and destination port). This means that external
source ports can be reused for unique internal source and destination
addresses and port sessions. It is also noted that Netfilter cannot
currently make use of multiple source port ranges (i.e., several blocks
of ports distributed across the total port space as is common in MAP
deployments). This may influence the design when using stateless
technologies.[¶](#section-4.2-12){.pilcrow}

Stateful technologies, 464XLAT, DS-Lite, and NAT444 can therefore be
much more efficient in terms of port allocation and thus public IP
address saving. The price is the stateful operation in the service
provider network, which allegedly does not scale up well. It should be
noted that, in many cases, all those factors may depend on how it is
actually implemented.[¶](#section-4.2-13){.pilcrow}

Measurements have been started to examine the scalability of a few
stateful solutions in two areas:[¶](#section-4.2-14){.pilcrow}

-   [How their performance scales up with the number of CPU
    cores[¶](#section-4.2-15.1){.pilcrow}]{#section-4.2-15.1}
-   [To what extent their performance degrades with the number of
    concurrent
    connections[¶](#section-4.2-15.2){.pilcrow}]{#section-4.2-15.2}

The details of the measurements and their results are available from
\[[IPv4aaS-SCALE-TECH](#I-D.lencse-v6ops-transition-scalability){.cite
.xref}\].[¶](#section-4.2-16){.pilcrow}

We note that some CGN-type solutions can allocate ports dynamically \"on
the fly\". Depending on configuration, this can result in the same
customer being allocated ports from different source addresses. This can
cause operational issues for protocols and applications that expect
multiple flows to be sourced from the same address (e.g., ECMP hashing,
STUN, gaming, and content delivery networks). However, it should be
noted that this is the same problem when a network has a NAT44 with
multiple public IPv4 addresses, or even when applications in a
dual-stack case, behave wrongly if Happy Eyeballs is flapping the flow
address between IPv4 and IPv6.[¶](#section-4.2-17){.pilcrow}

The consequences of IPv4 address sharing \[[RFC6269](#RFC6269){.cite
.xref}\] may impact all five technologies. However, when ports are
allocated statically, more customers may get ports from the same public
IPv4 address, which may result in negative consequences with higher
probability. For example, many applications and service providers (Sony
PlayStation Network, OpenDNS, etc.) can permanently block IPv4 ranges if
they detect that they are used for address
sharing.[¶](#section-4.2-18){.pilcrow}

Both cases are, again,
implementation-dependent.[¶](#section-4.2-19){.pilcrow}

We note that although it is not of typical use, one can do
deterministic, stateful NAT and reserve a fixed set of ports for each
customer as well.[¶](#section-4.2-20){.pilcrow}
:::
:::

::: {#pub_serv}
::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [Support for Public Server Operation](#name-support-for-public-server-o){.section-name .selfRef} {#name-support-for-public-server-o}

Mechanisms that rely on operator-side per-flow state do not, by
themselves, offer a way for customers to present services on publicly
accessible transport-layer ports.[¶](#section-4.3-1){.pilcrow}

The Port Control Protocol (PCP) \[[RFC6887](#RFC6887){.cite .xref}\]
provides a mechanism for a client to request an external public port
from a CGN device. For server operation, it is required with
464XLAT/NAT64, and it is supported in some DS-Lite AFTR
implementations.[¶](#section-4.3-2){.pilcrow}

A+P-based mechanisms distribute a public IPv4 address and restricted
range of transport-layer ports to the client. In this case, it is
possible for the user to configure their device to offer a publicly
accessible server on one of their allocated ports. It should be noted
that operators commonly do not assign the well-known ports to users
(unless they are allocating a full IPv4 address), so the user will need
to run the service on an allocated port or configure port
translation.[¶](#section-4.3-3){.pilcrow}

Lw4o6, MAP-E, and MAP-T may be configured to allocated clients with a
full IPv4 address, allowing exclusive use of all ports and
non-port-based transport-layer protocols. Thus, they may also be used to
support server/services operation on their default ports. However, when
public IPv4 addresses are assigned to the CE router without address
sharing, there is obviously no advantage in terms of IPv4 public
addresses saving.[¶](#section-4.3-4){.pilcrow}

It is also possible to configure specific ports mapping in 464XLAT/NAT64
using EAMT \[[RFC7757](#RFC7757){.cite .xref}\], which means that only
those ports are \"lost\" from the pool of addresses, so there is a
higher maximization of the total usage of IPv4 port
resources.[¶](#section-4.3-5){.pilcrow}
:::
:::

::: {#supp_imp}
::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [Support and Implementations](#name-support-and-implementations){.section-name .selfRef} {#name-support-and-implementations}

::: {#section-4.4.1 .section}
#### [4.4.1.](#section-4.4.1){.section-number .selfRef} [Vendor Support](#name-vendor-support){.section-name .selfRef} {#name-vendor-support}

In general, router vendors support AFTR, MAP-E BR, MAP-T BR, and NAT64.
Vendors of load balancers and firewalls usually support NAT64 as well
while not all of them have support for the other
protocols.[¶](#section-4.4.1-1){.pilcrow}

A 464XLAT client (CLAT) is implemented in Windows 10, Linux (including
Android), Windows Mobile, Chrome OS, and iOS, but it is not available in
macOS 12.3.1.[¶](#section-4.4.1-2){.pilcrow}

The remaining four solutions are commonly deployed as functions in the
CE device only; however, the vendors\' support is poor in general
(except for DS-Lite).[¶](#section-4.4.1-3){.pilcrow}

OpenWRT is a Linux-based open-source OS designed for CE devices. It
offers a number of different \'opkg\' packages as part of the
distribution:[¶](#section-4.4.1-4){.pilcrow}

-   [\'464xlat\' enables support for 464XLAT CLAT
    functionality.[¶](#section-4.4.1-5.1){.pilcrow}]{#section-4.4.1-5.1}
-   [\'ds-lite\' enables support for DSLite B4
    functionality.[¶](#section-4.4.1-5.2){.pilcrow}]{#section-4.4.1-5.2}
-   [\'map\' enables support for MAP-E and lw4o6 CE
    functionality.[¶](#section-4.4.1-5.3){.pilcrow}]{#section-4.4.1-5.3}
-   [\'map-t\' enables support for MAP-T CE
    functionality.[¶](#section-4.4.1-5.4){.pilcrow}]{#section-4.4.1-5.4}

At the time of publication, some free open-source implementations exist
for the operator-side functionality:[¶](#section-4.4.1-6){.pilcrow}

-   [Jool \[[JOOL](#JOOL){.cite .xref}\] (CLAT, NAT64, EAMT, MAP-T CE,
    MAP-T BR)[¶](#section-4.4.1-7.1){.pilcrow}]{#section-4.4.1-7.1}
-   [VPP/fd.io \[[VPP](#VPP){.cite .xref}\] (MAP-BR, lwAFTR, CGN, CLAT,
    NAT64)[¶](#section-4.4.1-7.2){.pilcrow}]{#section-4.4.1-7.2}
-   [Snabb \[[SNABB](#SNABB){.cite .xref}\]
    (lwAFTR)[¶](#section-4.4.1-7.3){.pilcrow}]{#section-4.4.1-7.3}
-   [AFTR \[[AFTR](#AFTR){.cite .xref}\] (DSLite
    AFTR)[¶](#section-4.4.1-7.4){.pilcrow}]{#section-4.4.1-7.4}
:::

::: {#cell_broad_supp}
::: {#section-4.4.2 .section}
#### [4.4.2.](#section-4.4.2){.section-number .selfRef} [Support in Cellular and Broadband Networks](#name-support-in-cellular-and-bro){.section-name .selfRef} {#name-support-in-cellular-and-bro}

Several cellular networks use 464XLAT, whereas there are no deployments
of the four other technologies in cellular networks, as they are neither
standardized nor implemented in UE
devices.[¶](#section-4.4.2-1){.pilcrow}

In broadband networks, there are some deployments of 464XLAT, MAP-E, and
MAP-T. Lw4o6 and DS-Lite have more deployments, with DS-Lite being the
most common, but deployments of lw4o6 have been rapidly increasing in
the last few years.[¶](#section-4.4.2-2){.pilcrow}

Please refer to Tables 2 and 3 of \[[LEN2019](#LEN2019){.cite .xref}\]
for a limited set of deployment
information.[¶](#section-4.4.2-3){.pilcrow}
:::
:::

::: {#code_size}
::: {#section-4.4.3 .section}
#### [4.4.3.](#section-4.4.3){.section-number .selfRef} [Implementation Code Sizes](#name-implementation-code-sizes){.section-name .selfRef} {#name-implementation-code-sizes}

As a hint to the relative complexity of the mechanisms, the code sizes
reported from the OpenWRT implementations of each technology are 17 kB,
35 kB, 15 kB, 35 kB, and 48 kB for 464XLAT, lw4o6, DS-Lite, MAP-E, and
MAP-T, respectively (see
\<<https://openwrt.org/packages/start>\>).[¶](#section-4.4.3-1){.pilcrow}

We note that the support for all five technologies requires a much
smaller code size than the total sum of the above quantities, because
they contain a lot of common functions (e.g., data plane is shared among
several of them).[¶](#section-4.4.3-2){.pilcrow}
:::
:::
:::
:::

::: {#section-4.5 .section}
### [4.5.](#section-4.5){.section-number .selfRef} [Typical Deployment and Traffic Volume Considerations](#name-typical-deployment-and-traf){.section-name .selfRef} {#name-typical-deployment-and-traf}

::: {#section-4.5.1 .section}
#### [4.5.1.](#section-4.5.1){.section-number .selfRef} [Deployment Possibilities](#name-deployment-possibilities){.section-name .selfRef} {#name-deployment-possibilities}

Theoretically, all five IPv4aaS technologies could be used together with
DNS64 + stateful NAT64, as is done in 464XLAT. In this case, the CE
router would treat the traffic between an IPv6-only client and IPv4-only
server as normal IPv6 traffic, and the stateful NAT64 gateway would do a
single translation, thus offloading this kind of traffic from the
IPv4aaS technology. The cost of this solution would be the need to also
deploy DNS64 + stateful NAT64.[¶](#section-4.5.1-1){.pilcrow}

However, this has not been implemented in clients or actual deployments,
so only 464XLAT always uses this optimization, and the other four
solutions do not use it at all.[¶](#section-4.5.1-2){.pilcrow}
:::

::: {#section-4.5.2 .section}
#### [4.5.2.](#section-4.5.2){.section-number .selfRef} [Cellular Networks with 464XLAT](#name-cellular-networks-with-464x){.section-name .selfRef} {#name-cellular-networks-with-464x}

Figures from existing deployments (through the end of 2018) show the
typical traffic volumes in an IPv6-only cellular network when 464XLAT
technology is used together with DNS64:[¶](#section-4.5.2-1){.pilcrow}

-   [75% of traffic is IPv6 end-to-end (no
    translation).[¶](#section-4.5.2-2.1){.pilcrow}]{#section-4.5.2-2.1}
-   [24% of traffic uses DNS64 + NAT64 (one
    translation).[¶](#section-4.5.2-2.2){.pilcrow}]{#section-4.5.2-2.2}
-   [Less than 1% of traffic uses the CLAT in addition to NAT64 (two
    translations), due to an IPv4 socket and/or IPv4
    literal.[¶](#section-4.5.2-2.3){.pilcrow}]{#section-4.5.2-2.3}

Without using DNS64, 25% of the traffic would undergo double
translation.[¶](#section-4.5.2-3){.pilcrow}
:::

::: {#section-4.5.3 .section}
#### [4.5.3.](#section-4.5.3){.section-number .selfRef} [Wireline Networks with 464XLAT](#name-wireline-networks-with-464x){.section-name .selfRef} {#name-wireline-networks-with-464x}

Figures from several existing deployments (through the end of 2020),
mainly with residential customers, show the ranges of typical traffic
volumes in an IPv6-only network, when 464XLAT is used with
DNS64:[¶](#section-4.5.3-1){.pilcrow}

-   [65%-85% of traffic is IPv6 end-to-end (no
    translation).[¶](#section-4.5.3-2.1){.pilcrow}]{#section-4.5.3-2.1}
-   [14%-34% of traffic uses DNS64 + NAT64 (one
    translation).[¶](#section-4.5.3-2.2){.pilcrow}]{#section-4.5.3-2.2}
-   [Less than 1-2% of traffic uses the CLAT in addition to NAT64 (two
    translations), due to an IPv4 socket and/or IPv4
    literal.[¶](#section-4.5.3-2.3){.pilcrow}]{#section-4.5.3-2.3}

Without using DNS64, 16%-35% of the traffic would undergo double
translation.[¶](#section-4.5.3-3){.pilcrow}

This data is consistent with non-public information of actual
deployments, which can be easily explained. When a wireline ISP has
mainly residential customers, content providers and CDNs that are
already IPv6 enabled (Google/YouTube, Netflix, Facebook, Akamai, etc.)
typically account for 65-85% of the traffic in the network. Thus, when
the subscribers are IPv6 enabled, about the same percentage of traffic
will become IPv6.[¶](#section-4.5.3-4){.pilcrow}
:::
:::

::: {#section-4.6 .section}
### [4.6.](#section-4.6){.section-number .selfRef} [Load Sharing](#name-load-sharing){.section-name .selfRef} {#name-load-sharing}

If multiple network-side devices are needed as PLAT/AFTR/BR for
capacity, then there is a need for a load-sharing mechanism. ECMP
(Equal-Cost Multipath) load sharing can be used for all technologies;
however, stateful technologies will be impacted by changes in network
topology or device failure.[¶](#section-4.6-1){.pilcrow}

Technologies utilizing DNS64 can also distribute load across PLAT/AFTR
devices, evenly or unevenly, by using different prefixes. Different
network-specific prefixes can be distributed for subscribers in
appropriately sized segments (like split-horizon DNS, also called \"DNS
views\").[¶](#section-4.6-2){.pilcrow}

Stateless technologies, due to the lack of per-flow state, can make use
of anycast routing for load sharing and resiliency across network
devices, both ingress and egress; flows can take asymmetric paths
through the network, i.e., in through one lwAFTR/BR and out via
another.[¶](#section-4.6-3){.pilcrow}

Mechanisms with centralized NAPT44 state have a number of challenges
specifically related to scaling and resilience. As the total amount of
client traffic exceeds the capacity of a single CGN instance, additional
nodes are required to handle the load. Each CGN maintains a stateful
table of active client sessions, and this table may need to be
synchronized between CGN instances. This is necessary for two
reasons:[¶](#section-4.6-4){.pilcrow}

-   [To prevent all active customer sessions from being dropped in the
    event of a CGN node
    failure.[¶](#section-4.6-5.1){.pilcrow}]{#section-4.6-5.1}
-   [To ensure a matching state table entry for an active session in the
    event of asymmetric routing through different egress and ingress CGN
    nodes.[¶](#section-4.6-5.2){.pilcrow}]{#section-4.6-5.2}
:::

::: {#logging}
::: {#section-4.7 .section}
### [4.7.](#section-4.7){.section-number .selfRef} [Logging](#name-logging){.section-name .selfRef} {#name-logging}

In the case of 464XLAT and DS-Lite, the user of any given public IPv4
address and port combination will vary over time; therefore, logging is
necessary to meet data-retention laws. Each entry in the PLAT/AFTR
generates a logging entry. As discussed in [Section
4.2](#port_num_eff){.auto .internal .xref}, a client may open hundreds
of sessions during common tasks such as web browsing, each of which
needs to be logged so the overall logging burden on the network operator
is significant. In some countries, this level of logging is required to
comply with data-retention legislation.[¶](#section-4.7-1){.pilcrow}

One common optimization available to reduce the logging overhead is the
allocation of a block of ports to a client for the duration of their
session. This means that a logging entry only needs to be made when the
client\'s port block is released, which dramatically reduces the logging
overhead. This comes as the cost of less efficient public address
sharing as clients need to be allocated a port block of a fixed size
regardless of the actual number of ports that they are
using.[¶](#section-4.7-2){.pilcrow}

Stateless technologies that pre-allocate the IPv4 addresses and ports
only require that copies of the active MAP rules (for MAP-E and MAP-T)
or binding table (for lw4o6) are retained along with timestamp
information of when they have been active. Support tools (e.g., those
used to serve data-retention requests) may need to be updated to be
aware of the mechanism in use (e.g., implementing the MAP algorithm so
that IPv4 information can be linked to the IPv6 prefix delegated to a
client). Stateless technologies do not have a centralized stateful
element that customer traffic needs to pass through, so if
data-retention laws mandate per-session logging, there is no simple way
of meeting this requirement with a stateless technology alone. Thus, a
centralized NAPT44 model may be the only way to meet this
requirement.[¶](#section-4.7-3){.pilcrow}

Deterministic CGN \[[RFC7422](#RFC7422){.cite .xref}\] was proposed as a
solution to reduce the resource consumption of
logging.[¶](#section-4.7-4){.pilcrow}

Please also refer to [Section
4](https://www.rfc-editor.org/rfc/rfc6888#section-4){.relref} of
\[[RFC6888](#RFC6888){.cite .xref}\] for more information about
requirements for logging CGN gateways.[¶](#section-4.7-5){.pilcrow}
:::
:::

::: {#optimization}
::: {#section-4.8 .section}
### [4.8.](#section-4.8){.section-number .selfRef} [Optimization for IPv4-Only Devices and Applications](#name-optimization-for-ipv4-only-){.section-name .selfRef} {#name-optimization-for-ipv4-only-}

When IPv4-only devices or applications are behind a CE connected with
IPv6-only and IPv4aaS, the IPv4-only traffic flows will necessarily be
encapsulated/decapsulated (in the case of DS-Lite, lw4o6, and MAP-E) and
will reach the IPv4 address of the destination, even if that service
supports dual-stack. This means that the traffic flow will cross through
the AFTR, lwAFTR, or BR, depending on the specific transition mechanism
being used.[¶](#section-4.8-1){.pilcrow}

Even if those services are directly connected to the operator network
(e.g., CDNs and caches) or located internally (such as VoIP, etc.), it
is not possible to avoid that overhead.[¶](#section-4.8-2){.pilcrow}

However, in the case of those mechanisms that use a NAT46 function, in
the CE (464XLAT and MAP-T), it is possible to take advantage of
optimization functionalities, such as the ones described in
\[[OP-464XLAT/MAP-T](#I-D.ietf-v6ops-464xlat-optimization){.cite
.xref}\].[¶](#section-4.8-3){.pilcrow}

Because the NAT46 has already translated the IPv4-only flow to IPv6 and
the services are dual-stack, using these optimizations allows the
services to be reached without the need to translate the flow back to
IPv4.[¶](#section-4.8-4){.pilcrow}
:::
:::
:::

::: {#performance}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Performance Comparison](#name-performance-comparison){.section-name .selfRef} {#name-performance-comparison}

We plan to compare the performances of the most prominent free software
implementations of the five IPv6 transition technologies using the
methodology described in \"Benchmarking Methodology for IPv6 Transition
Technologies\" \[[RFC8219](#RFC8219){.cite
.xref}\].[¶](#section-5-1){.pilcrow}

The dual Device Under Test (DUT) setup of \[[RFC8219](#RFC8219){.cite
.xref}\] makes it possible to use the existing measurement devices
compliant with \"Benchmarking Methodology for Network Interconnect
Devices\" \[[RFC2544](#RFC2544){.cite .xref}\]; however, this solution
has two kinds of limitations:[¶](#section-5-2){.pilcrow}

-   [Dual DUT setup has the drawback that the performances of the CE and
    the ISP-side device (e.g., the CLAT and PLAT of 464XLAT) are
    measured together. In order to measure the performance of only one
    of them, we need to ensure that the desired one is the
    bottleneck.[¶](#section-5-3.1){.pilcrow}]{#section-5-3.1}
-   [Measurement procedures for Packet Delay Variation (PDV) and
    Inter-Packet Delay Variation (IPDV) measurements are missing from
    the legacy devices, and the old measurement procedure for latency
    has been redefined in \[[RFC8219](#RFC8219){.cite
    .xref}\].[¶](#section-5-3.2){.pilcrow}]{#section-5-3.2}

The single DUT setup of \[[RFC8219](#RFC8219){.cite .xref}\] makes it
possible to benchmark the selected device separately, but either special
Tester is required or some trick is needed if we want to use legacy
Testers. An example for the latter is our stateless NAT64 measurements
testing Throughput and Frame Loss Rate using a legacy commercial Tester
\[[LEN2020a](#LEN2020a){.cite .xref}\] that is compliant with
\[[RFC5180](#RFC5180){.cite .xref}\].[¶](#section-5-4){.pilcrow}

Siitperf, a DPDK-based software Tester that is compliant with
\[[RFC8219](#RFC8219){.cite .xref}\] and used for benchmarking stateless
NAT64 gateways, has been developed recently. Siitperf is available from
GitHub \[[SIITPERF](#SIITPERF){.cite .xref}\] as free software and is
documented in \[[LEN2021](#LEN2021){.cite .xref}\]. Originally, it
literally followed the test frame format of \[[RFC2544](#RFC2544){.cite
.xref}\], including \"hard-wired\" source and destination port numbers,
and then it was complemented with the pseudorandom port feature required
by \[[RFC4814](#RFC4814){.cite .xref}\]. The new version is documented
in \[[LEN2020b](#LEN2020b){.cite .xref}\].[¶](#section-5-5){.pilcrow}

Further DPDK-based software Testers that are compliant with
\[[RFC8219](#RFC8219){.cite .xref}\] are being developed at the Budapest
University of Technology and Economics as student projects. They are
planned to be released as free software, too.[¶](#section-5-6){.pilcrow}

Information about the benchmarking tools, measurements, and results will
be made available in
\[[IPv4aaS-BENCHMARK-TECH](#I-D.lencse-v6ops-transition-benchmarking){.cite
.xref}\].[¶](#section-5-7){.pilcrow}
:::
:::

::: {#IANA}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document has no IANA actions.[¶](#section-6-1){.pilcrow}
:::
:::

::: {#Security}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

As discussed in [Section 4.7](#logging){.auto .internal .xref}, the
different technologies have varying logging capabilities and
limitations. Care should be taken when storing, transmitting, and
providing access to log entries that may be considered personally
identifiable information. However, it should be noted that those issues
are not specific to the IPv4aaS IPv6 transition technologies but apply
to logging functionalities in general.[¶](#section-7-1){.pilcrow}

For all five technologies, the CE device typically contains a DNS proxy.
However, the user may change DNS settings. If this happens and lw4o6,
MAP-E, and MAP-T are used with a significantly restricted port set
(which is required for efficient public IPv4 address sharing), the
entropy of the source ports is significantly lowered (e.g., from 16 bits
to 10 bits when 1024 port numbers are assigned to each subscriber), and
these technologies are thus theoretically less resilient against cache
poisoning (see \[[RFC5452](#RFC5452){.cite .xref}\]). However, an
efficient cache poisoning attack requires that the subscriber operates
its own caching DNS server and the attack is performed in the service
provider network. Thus, we consider the chance of the successful
exploitation of this vulnerability to be low.[¶](#section-7-2){.pilcrow}

IPv4aaS technologies based on encapsulation have no DNSSEC implications.
However, those based on translation may have implications as discussed
in [Section
4.1](https://www.rfc-editor.org/rfc/rfc8683#section-4.1){.relref} of
\[[RFC8683](#RFC8683){.cite .xref}\].[¶](#section-7-3){.pilcrow}

An in-depth security analysis of all five IPv6 transition technologies
and their most prominent free software implementations according to the
methodology defined in \[[LEN2018](#LEN2018){.cite .xref}\] is
planned.[¶](#section-7-4){.pilcrow}

As the first step, an initial security analysis of 464XLAT was done in
\[[AZZ2021](#AZZ2021){.cite .xref}\].[¶](#section-7-5){.pilcrow}

The implementers of any of the five IPv4aaS solutions should consult the
Security Considerations of the respective RFCs documenting
them.[¶](#section-7-6){.pilcrow}
:::
:::

::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-8.1 .section}
### [8.1.](#section-8.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2473\]
:   [Conta, A.]{.refAuthor} and [S. Deering]{.refAuthor}, [\"Generic
    Packet Tunneling in IPv6 Specification\"]{.refTitle}, [RFC
    2473]{.seriesInfo}, [DOI 10.17487/RFC2473]{.seriesInfo}, December
    1998, \<<https://www.rfc-editor.org/info/rfc2473>\>.
:   

\[RFC2544\]
:   [Bradner, S.]{.refAuthor} and [J. McQuaid]{.refAuthor},
    [\"Benchmarking Methodology for Network Interconnect
    Devices\"]{.refTitle}, [RFC 2544]{.seriesInfo}, [DOI
    10.17487/RFC2544]{.seriesInfo}, March 1999,
    \<<https://www.rfc-editor.org/info/rfc2544>\>.
:   

\[RFC2663\]
:   [Srisuresh, P.]{.refAuthor} and [M. Holdrege]{.refAuthor}, [\"IP
    Network Address Translator (NAT) Terminology and
    Considerations\"]{.refTitle}, [RFC 2663]{.seriesInfo}, [DOI
    10.17487/RFC2663]{.seriesInfo}, August 1999,
    \<<https://www.rfc-editor.org/info/rfc2663>\>.
:   

\[RFC4814\]
:   [Newman, D.]{.refAuthor} and [T. Player]{.refAuthor}, [\"Hash and
    Stuffing: Overlooked Factors in Network Device
    Benchmarking\"]{.refTitle}, [RFC 4814]{.seriesInfo}, [DOI
    10.17487/RFC4814]{.seriesInfo}, March 2007,
    \<<https://www.rfc-editor.org/info/rfc4814>\>.
:   

\[RFC5180\]
:   [Popoviciu, C.]{.refAuthor}, [Hamza, A.]{.refAuthor}, [Van de
    Velde, G.]{.refAuthor}, and [D. Dugatkin]{.refAuthor}, [\"IPv6
    Benchmarking Methodology for Network Interconnect
    Devices\"]{.refTitle}, [RFC 5180]{.seriesInfo}, [DOI
    10.17487/RFC5180]{.seriesInfo}, May 2008,
    \<<https://www.rfc-editor.org/info/rfc5180>\>.
:   

\[RFC5452\]
:   [Hubert, A.]{.refAuthor} and [R. van Mook]{.refAuthor}, [\"Measures
    for Making DNS More Resilient against Forged Answers\"]{.refTitle},
    [RFC 5452]{.seriesInfo}, [DOI 10.17487/RFC5452]{.seriesInfo},
    January 2009, \<<https://www.rfc-editor.org/info/rfc5452>\>.
:   

\[RFC6052\]
:   [Bao, C.]{.refAuthor}, [Huitema, C.]{.refAuthor},
    [Bagnulo, M.]{.refAuthor}, [Boucadair, M.]{.refAuthor}, and [X.
    Li]{.refAuthor}, [\"IPv6 Addressing of IPv4/IPv6
    Translators\"]{.refTitle}, [RFC 6052]{.seriesInfo}, [DOI
    10.17487/RFC6052]{.seriesInfo}, October 2010,
    \<<https://www.rfc-editor.org/info/rfc6052>\>.
:   

\[RFC6146\]
:   [Bagnulo, M.]{.refAuthor}, [Matthews, P.]{.refAuthor}, and [I. van
    Beijnum]{.refAuthor}, [\"Stateful NAT64: Network Address and
    Protocol Translation from IPv6 Clients to IPv4
    Servers\"]{.refTitle}, [RFC 6146]{.seriesInfo}, [DOI
    10.17487/RFC6146]{.seriesInfo}, April 2011,
    \<<https://www.rfc-editor.org/info/rfc6146>\>.
:   

\[RFC6147\]
:   [Bagnulo, M.]{.refAuthor}, [Sullivan, A.]{.refAuthor},
    [Matthews, P.]{.refAuthor}, and [I. van Beijnum]{.refAuthor},
    [\"DNS64: DNS Extensions for Network Address Translation from IPv6
    Clients to IPv4 Servers\"]{.refTitle}, [RFC 6147]{.seriesInfo}, [DOI
    10.17487/RFC6147]{.seriesInfo}, April 2011,
    \<<https://www.rfc-editor.org/info/rfc6147>\>.
:   

\[RFC6180\]
:   [Arkko, J.]{.refAuthor} and [F. Baker]{.refAuthor}, [\"Guidelines
    for Using IPv6 Transition Mechanisms during IPv6
    Deployment\"]{.refTitle}, [RFC 6180]{.seriesInfo}, [DOI
    10.17487/RFC6180]{.seriesInfo}, May 2011,
    \<<https://www.rfc-editor.org/info/rfc6180>\>.
:   

\[RFC6269\]
:   [Ford, M., Ed.]{.refAuthor}, [Boucadair, M.]{.refAuthor},
    [Durand, A.]{.refAuthor}, [Levis, P.]{.refAuthor}, and [P.
    Roberts]{.refAuthor}, [\"Issues with IP Address
    Sharing\"]{.refTitle}, [RFC 6269]{.seriesInfo}, [DOI
    10.17487/RFC6269]{.seriesInfo}, June 2011,
    \<<https://www.rfc-editor.org/info/rfc6269>\>.
:   

\[RFC6333\]
:   [Durand, A.]{.refAuthor}, [Droms, R.]{.refAuthor},
    [Woodyatt, J.]{.refAuthor}, and [Y. Lee]{.refAuthor}, [\"Dual-Stack
    Lite Broadband Deployments Following IPv4 Exhaustion\"]{.refTitle},
    [RFC 6333]{.seriesInfo}, [DOI 10.17487/RFC6333]{.seriesInfo}, August
    2011, \<<https://www.rfc-editor.org/info/rfc6333>\>.
:   

\[RFC6346\]
:   [Bush, R., Ed.]{.refAuthor}, [\"The Address plus Port (A+P) Approach
    to the IPv4 Address Shortage\"]{.refTitle}, [RFC 6346]{.seriesInfo},
    [DOI 10.17487/RFC6346]{.seriesInfo}, August 2011,
    \<<https://www.rfc-editor.org/info/rfc6346>\>.
:   

\[RFC6519\]
:   [Maglione, R.]{.refAuthor} and [A. Durand]{.refAuthor}, [\"RADIUS
    Extensions for Dual-Stack Lite\"]{.refTitle}, [RFC
    6519]{.seriesInfo}, [DOI 10.17487/RFC6519]{.seriesInfo}, February
    2012, \<<https://www.rfc-editor.org/info/rfc6519>\>.
:   

\[RFC6877\]
:   [Mawatari, M.]{.refAuthor}, [Kawashima, M.]{.refAuthor}, and [C.
    Byrne]{.refAuthor}, [\"464XLAT: Combination of Stateful and
    Stateless Translation\"]{.refTitle}, [RFC 6877]{.seriesInfo}, [DOI
    10.17487/RFC6877]{.seriesInfo}, April 2013,
    \<<https://www.rfc-editor.org/info/rfc6877>\>.
:   

\[RFC6887\]
:   [Wing, D., Ed.]{.refAuthor}, [Cheshire, S.]{.refAuthor},
    [Boucadair, M.]{.refAuthor}, [Penno, R.]{.refAuthor}, and [P.
    Selkirk]{.refAuthor}, [\"Port Control Protocol (PCP)\"]{.refTitle},
    [RFC 6887]{.seriesInfo}, [DOI 10.17487/RFC6887]{.seriesInfo}, April
    2013, \<<https://www.rfc-editor.org/info/rfc6887>\>.
:   

\[RFC6888\]
:   [Perreault, S., Ed.]{.refAuthor}, [Yamagata, I.]{.refAuthor},
    [Miyakawa, S.]{.refAuthor}, [Nakagawa, A.]{.refAuthor}, and [H.
    Ashida]{.refAuthor}, [\"Common Requirements for Carrier-Grade NATs
    (CGNs)\"]{.refTitle}, [BCP 127]{.seriesInfo}, [RFC
    6888]{.seriesInfo}, [DOI 10.17487/RFC6888]{.seriesInfo}, April 2013,
    \<<https://www.rfc-editor.org/info/rfc6888>\>.
:   

\[RFC6889\]
:   [Penno, R.]{.refAuthor}, [Saxena, T.]{.refAuthor},
    [Boucadair, M.]{.refAuthor}, and [S. Sivakumar]{.refAuthor},
    [\"Analysis of Stateful 64 Translation\"]{.refTitle}, [RFC
    6889]{.seriesInfo}, [DOI 10.17487/RFC6889]{.seriesInfo}, April 2013,
    \<<https://www.rfc-editor.org/info/rfc6889>\>.
:   

\[RFC7050\]
:   [Savolainen, T.]{.refAuthor}, [Korhonen, J.]{.refAuthor}, and [D.
    Wing]{.refAuthor}, [\"Discovery of the IPv6 Prefix Used for IPv6
    Address Synthesis\"]{.refTitle}, [RFC 7050]{.seriesInfo}, [DOI
    10.17487/RFC7050]{.seriesInfo}, November 2013,
    \<<https://www.rfc-editor.org/info/rfc7050>\>.
:   

\[RFC7269\]
:   [Chen, G.]{.refAuthor}, [Cao, Z.]{.refAuthor},
    [Xie, C.]{.refAuthor}, and [D. Binet]{.refAuthor}, [\"NAT64
    Deployment Options and Experience\"]{.refTitle}, [RFC
    7269]{.seriesInfo}, [DOI 10.17487/RFC7269]{.seriesInfo}, June 2014,
    \<<https://www.rfc-editor.org/info/rfc7269>\>.
:   

\[RFC7341\]
:   [Sun, Q.]{.refAuthor}, [Cui, Y.]{.refAuthor},
    [Siodelski, M.]{.refAuthor}, [Krishnan, S.]{.refAuthor}, and [I.
    Farrer]{.refAuthor}, [\"DHCPv4-over-DHCPv6 (DHCP 4o6)
    Transport\"]{.refTitle}, [RFC 7341]{.seriesInfo}, [DOI
    10.17487/RFC7341]{.seriesInfo}, August 2014,
    \<<https://www.rfc-editor.org/info/rfc7341>\>.
:   

\[RFC7393\]
:   [Deng, X.]{.refAuthor}, [Boucadair, M.]{.refAuthor},
    [Zhao, Q.]{.refAuthor}, [Huang, J.]{.refAuthor}, and [C.
    Zhou]{.refAuthor}, [\"Using the Port Control Protocol (PCP) to
    Update Dynamic DNS\"]{.refTitle}, [RFC 7393]{.seriesInfo}, [DOI
    10.17487/RFC7393]{.seriesInfo}, November 2014,
    \<<https://www.rfc-editor.org/info/rfc7393>\>.
:   

\[RFC7422\]
:   [Donley, C.]{.refAuthor}, [Grundemann, C.]{.refAuthor},
    [Sarawat, V.]{.refAuthor}, [Sundaresan, K.]{.refAuthor}, and [O.
    Vautrin]{.refAuthor}, [\"Deterministic Address Mapping to Reduce
    Logging in Carrier-Grade NAT Deployments\"]{.refTitle}, [RFC
    7422]{.seriesInfo}, [DOI 10.17487/RFC7422]{.seriesInfo}, December
    2014, \<<https://www.rfc-editor.org/info/rfc7422>\>.
:   

\[RFC7596\]
:   [Cui, Y.]{.refAuthor}, [Sun, Q.]{.refAuthor},
    [Boucadair, M.]{.refAuthor}, [Tsou, T.]{.refAuthor},
    [Lee, Y.]{.refAuthor}, and [I. Farrer]{.refAuthor}, [\"Lightweight
    4over6: An Extension to the Dual-Stack Lite
    Architecture\"]{.refTitle}, [RFC 7596]{.seriesInfo}, [DOI
    10.17487/RFC7596]{.seriesInfo}, July 2015,
    \<<https://www.rfc-editor.org/info/rfc7596>\>.
:   

\[RFC7597\]
:   [Troan, O., Ed.]{.refAuthor}, [Dec, W.]{.refAuthor},
    [Li, X.]{.refAuthor}, [Bao, C.]{.refAuthor},
    [Matsushima, S.]{.refAuthor}, [Murakami, T.]{.refAuthor}, and [T.
    Taylor, Ed.]{.refAuthor}, [\"Mapping of Address and Port with
    Encapsulation (MAP-E)\"]{.refTitle}, [RFC 7597]{.seriesInfo}, [DOI
    10.17487/RFC7597]{.seriesInfo}, July 2015,
    \<<https://www.rfc-editor.org/info/rfc7597>\>.
:   

\[RFC7599\]
:   [Li, X.]{.refAuthor}, [Bao, C.]{.refAuthor}, [Dec, W.,
    Ed.]{.refAuthor}, [Troan, O.]{.refAuthor},
    [Matsushima, S.]{.refAuthor}, and [T. Murakami]{.refAuthor},
    [\"Mapping of Address and Port using Translation
    (MAP-T)\"]{.refTitle}, [RFC 7599]{.seriesInfo}, [DOI
    10.17487/RFC7599]{.seriesInfo}, July 2015,
    \<<https://www.rfc-editor.org/info/rfc7599>\>.
:   

\[RFC7605\]
:   [Touch, J.]{.refAuthor}, [\"Recommendations on Using Assigned
    Transport Port Numbers\"]{.refTitle}, [BCP 165]{.seriesInfo}, [RFC
    7605]{.seriesInfo}, [DOI 10.17487/RFC7605]{.seriesInfo}, August
    2015, \<<https://www.rfc-editor.org/info/rfc7605>\>.
:   

\[RFC7757\]
:   [Anderson, T.]{.refAuthor} and [A. Leiva Popper]{.refAuthor},
    [\"Explicit Address Mappings for Stateless IP/ICMP
    Translation\"]{.refTitle}, [RFC 7757]{.seriesInfo}, [DOI
    10.17487/RFC7757]{.seriesInfo}, February 2016,
    \<<https://www.rfc-editor.org/info/rfc7757>\>.
:   

\[RFC7915\]
:   [Bao, C.]{.refAuthor}, [Li, X.]{.refAuthor},
    [Baker, F.]{.refAuthor}, [Anderson, T.]{.refAuthor}, and [F.
    Gont]{.refAuthor}, [\"IP/ICMP Translation Algorithm\"]{.refTitle},
    [RFC 7915]{.seriesInfo}, [DOI 10.17487/RFC7915]{.seriesInfo}, June
    2016, \<<https://www.rfc-editor.org/info/rfc7915>\>.
:   

\[RFC7950\]
:   [Bjorklund, M., Ed.]{.refAuthor}, [\"The YANG 1.1 Data Modeling
    Language\"]{.refTitle}, [RFC 7950]{.seriesInfo}, [DOI
    10.17487/RFC7950]{.seriesInfo}, August 2016,
    \<<https://www.rfc-editor.org/info/rfc7950>\>.
:   

\[RFC8114\]
:   [Boucadair, M.]{.refAuthor}, [Qin, C.]{.refAuthor},
    [Jacquenet, C.]{.refAuthor}, [Lee, Y.]{.refAuthor}, and [Q.
    Wang]{.refAuthor}, [\"Delivery of IPv4 Multicast Services to IPv4
    Clients over an IPv6 Multicast Network\"]{.refTitle}, [RFC
    8114]{.seriesInfo}, [DOI 10.17487/RFC8114]{.seriesInfo}, March 2017,
    \<<https://www.rfc-editor.org/info/rfc8114>\>.
:   

\[RFC8215\]
:   [Anderson, T.]{.refAuthor}, [\"Local-Use IPv4/IPv6 Translation
    Prefix\"]{.refTitle}, [RFC 8215]{.seriesInfo}, [DOI
    10.17487/RFC8215]{.seriesInfo}, August 2017,
    \<<https://www.rfc-editor.org/info/rfc8215>\>.
:   

\[RFC8219\]
:   [Georgescu, M.]{.refAuthor}, [Pislaru, L.]{.refAuthor}, and [G.
    Lencse]{.refAuthor}, [\"Benchmarking Methodology for IPv6 Transition
    Technologies\"]{.refTitle}, [RFC 8219]{.seriesInfo}, [DOI
    10.17487/RFC8219]{.seriesInfo}, August 2017,
    \<<https://www.rfc-editor.org/info/rfc8219>\>.
:   

\[RFC8415\]
:   [Mrugalski, T.]{.refAuthor}, [Siodelski, M.]{.refAuthor},
    [Volz, B.]{.refAuthor}, [Yourtchenko, A.]{.refAuthor},
    [Richardson, M.]{.refAuthor}, [Jiang, S.]{.refAuthor},
    [Lemon, T.]{.refAuthor}, and [T. Winters]{.refAuthor}, [\"Dynamic
    Host Configuration Protocol for IPv6 (DHCPv6)\"]{.refTitle}, [RFC
    8415]{.seriesInfo}, [DOI 10.17487/RFC8415]{.seriesInfo}, November
    2018, \<<https://www.rfc-editor.org/info/rfc8415>\>.
:   

\[RFC8512\]
:   [Boucadair, M., Ed.]{.refAuthor}, [Sivakumar, S.]{.refAuthor},
    [Jacquenet, C.]{.refAuthor}, [Vinapamula, S.]{.refAuthor}, and [Q.
    Wu]{.refAuthor}, [\"A YANG Module for Network Address Translation
    (NAT) and Network Prefix Translation (NPT)\"]{.refTitle}, [RFC
    8512]{.seriesInfo}, [DOI 10.17487/RFC8512]{.seriesInfo}, January
    2019, \<<https://www.rfc-editor.org/info/rfc8512>\>.
:   

\[RFC8513\]
:   [Boucadair, M.]{.refAuthor}, [Jacquenet, C.]{.refAuthor}, and [S.
    Sivakumar]{.refAuthor}, [\"A YANG Data Model for Dual-Stack Lite
    (DS-Lite)\"]{.refTitle}, [RFC 8513]{.seriesInfo}, [DOI
    10.17487/RFC8513]{.seriesInfo}, January 2019,
    \<<https://www.rfc-editor.org/info/rfc8513>\>.
:   

\[RFC8658\]
:   [Jiang, S., Ed.]{.refAuthor}, [Fu, Y., Ed.]{.refAuthor},
    [Xie, C.]{.refAuthor}, [Li, T.]{.refAuthor}, and [M. Boucadair,
    Ed.]{.refAuthor}, [\"RADIUS Attributes for Softwire Mechanisms Based
    on Address plus Port (A+P)\"]{.refTitle}, [RFC 8658]{.seriesInfo},
    [DOI 10.17487/RFC8658]{.seriesInfo}, November 2019,
    \<<https://www.rfc-editor.org/info/rfc8658>\>.
:   

\[RFC8676\]
:   [Farrer, I., Ed.]{.refAuthor} and [M. Boucadair, Ed.]{.refAuthor},
    [\"YANG Modules for IPv4-in-IPv6 Address plus Port (A+P)
    Softwires\"]{.refTitle}, [RFC 8676]{.seriesInfo}, [DOI
    10.17487/RFC8676]{.seriesInfo}, November 2019,
    \<<https://www.rfc-editor.org/info/rfc8676>\>.
:   

\[RFC8683\]
:   [Palet Martinez, J.]{.refAuthor}, [\"Additional Deployment
    Guidelines for NAT64/464XLAT in Operator and Enterprise
    Networks\"]{.refTitle}, [RFC 8683]{.seriesInfo}, [DOI
    10.17487/RFC8683]{.seriesInfo}, November 2019,
    \<<https://www.rfc-editor.org/info/rfc8683>\>.
:   
:::

::: {#section-8.2 .section}
### [8.2.](#section-8.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[AFTR\]
:   [ISC]{.refAuthor}, [\"ISC Implementation of AFTR\"]{.refTitle},
    \<<https://downloads.isc.org/isc/aftr/>\>.
:   

\[AZZ2021\]
:   [Al-Azzawi, A.]{.refAuthor} and [G. Lencse]{.refAuthor},
    [\"Identification of the Possible Security Issues of the 464XLAT
    IPv6 Transition Technology\"]{.refTitle}, [Infocommunications
    Journal, Vol. 13, No. 4, pp. 10-18]{.refContent}, [DOI
    10.36244/ICJ.2021.4.2]{.seriesInfo}, December 2021,
    \<<https://www.infocommunications.hu/2021_4_2>\>.
:   

\[IPv4aaS-BENCHMARK-TECH\]
:   [Lencse, G.]{.refAuthor}, [\"Performance Analysis of IPv6 Transition
    Technologies for IPv4aaS\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-lencse-v6ops-transition-benchmarking-01]{.seriesInfo}, 2 May
    2022,
    \<<https://datatracker.ietf.org/doc/html/draft-lencse-v6ops-transition-benchmarking-01>\>.
:   

\[IPv4aaS-SCALE-TECH\]
:   [Lencse, G.]{.refAuthor}, [\"Scalability of IPv6 Transition
    Technologies for IPv4aaS\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-lencse-v6ops-transition-scalability-03]{.seriesInfo}, 30 June
    2022,
    \<<https://datatracker.ietf.org/doc/html/draft-lencse-v6ops-transition-scalability-03>\>.
:   

\[JOOL\]
:   [\"Jool: SIIT & NAT64\"]{.refTitle}, \<<http://www.jool.mx>\>.
:   

\[JOOL-MAPT\]
:   [\"MAP-T Run\"]{.refTitle},
    \<<https://www.jool.mx/en/run-mapt.html>\>.
:   

\[LEN2018\]
:   [Lencse, G.]{.refAuthor} and [Y. Kadobayashi]{.refAuthor},
    [\"Methodology for the identification of potential security issues
    of different IPv6 transition technologies: Threat analysis of DNS64
    and stateful NAT64\"]{.refTitle}, [Computers & Security, Vol. 77,
    No. 1, pp. 397-411]{.refContent}, [DOI
    10.1016/j.cose.2018.04.012]{.seriesInfo}, August 2018,
    \<<http://www.hit.bme.hu/~lencse/publications/ECS-2018-Methodology-revised.pdf>\>.
:   

\[LEN2019\]
:   [Lencse, G.]{.refAuthor} and [Y. Kadobayashi]{.refAuthor},
    [\"Comprehensive Survey of IPv6 Transition Technologies: A
    Subjective Classification for Security Analysis\"]{.refTitle},
    [IEICE Transactions on Communications, Vol. E102-B, No. 10, pp.
    2021-2035]{.refContent}, [DOI
    10.1587/transcom.2018EBR0002]{.seriesInfo}, October 2019,
    \<<http://www.hit.bme.hu/~lencse/publications/e102-b_10_2021.pdf>\>.
:   

\[LEN2020a\]
:   [Lencse, G.]{.refAuthor}, [\"Benchmarking stateless NAT64
    implementations with a standard tester\"]{.refTitle},
    [Telecommunication Systems, Vol. 75, pp. 245-257]{.refContent}, [DOI
    10.1007/s11235-020-00681-x]{.seriesInfo}, June 2020,
    \<<https://link.springer.com/article/10.1007/s11235-020-00681-x>\>.
:   

\[LEN2020b\]
:   [Lencse, G.]{.refAuthor}, [\"Adding RFC 4814 Random Port Feature to
    Siitperf: Design, Implementation and Performance
    Estimation\"]{.refTitle}, [International Journal of Advances in
    Telecommunications, Electrotechnics, Signals and Systems, Vol. 9,
    No. 3, pp. 18-26]{.refContent}, [DOI
    10.11601/ijates.v9i3.291]{.seriesInfo}, 2020,
    \<<https://ijates.org/index.php/ijates/article/view/291>\>.
:   

\[LEN2021\]
:   [Lencse, G.]{.refAuthor}, [\"Design and Implementation of a Software
    Tester for Benchmarking Stateless NAT64 Gateways\"]{.refTitle},
    [IEICE Transactions on Communications, Vol. E104.B, Issue 2, pp.
    128-140]{.refContent}, [DOI
    10.1587/transcom.2019EBN0010]{.seriesInfo}, 2021,
    \<<https://doi.org/10.1587/transcom.2019EBN0010>\>.
:   

\[MIY2010\]
:   [Miyakawa, S.]{.refAuthor}, [\"IPv4 to IPv6 Transformation
    Schemes\"]{.refTitle}, [IEICE Transactions on Communications, Vol.
    E93-B, Issue 5, pp. 1078-1084]{.refContent}, [DOI
    10.1587/transcom.E93.B.1078]{.seriesInfo}, 2010,
    \<<https://www.jstage.jst.go.jp/article/transcom/E93.B/5/E93.B_5_1078/_article>\>.
:   

\[NAT-SUPP\]
:   [Stewart, R. R.]{.refAuthor}, [Tüxen, M.]{.refAuthor}, and [I.
    Ruengeler]{.refAuthor}, [\"Stream Control Transmission Protocol
    (SCTP) Network Address Translation Support\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-ietf-tsvwg-natsupp-23]{.seriesInfo}, 25 October 2021,
    \<<https://datatracker.ietf.org/doc/html/draft-ietf-tsvwg-natsupp-23>\>.
:   

\[OP-464XLAT/MAP-T\]
:   [Palet Martinez, J.]{.refAuthor} and [A. D\'Egidio]{.refAuthor},
    [\"464XLAT/MAT-T Optimization\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-ietf-v6ops-464xlat-optimization-03]{.seriesInfo}, 28 July
    2020,
    \<<https://datatracker.ietf.org/doc/html/draft-ietf-v6ops-464xlat-optimization-03>\>.
:   

\[REP2014\]
:   [Répás, S.]{.refAuthor}, [Hajas, T.]{.refAuthor}, and [G.
    Lencse]{.refAuthor}, [\"Port Number Consumption of the NAT64 IPv6
    Transition Technology\"]{.refTitle}, [37th International Conference
    on Telecommunications and Signal Processing]{.refContent}, [DOI
    10.1109/TSP.2015.7296411]{.seriesInfo}, 2014,
    \<<http://www.hit.bme.hu/~lencse/publications/TSP-2014-PC.pdf>\>.
:   

\[SIITPERF\]
:   [\"Siitperf: an RFC 8219 compliant SIIT (stateless NAT64)
    tester\"]{.refTitle}, [commit bdce0f]{.refContent}, February 2021,
    \<<https://github.com/lencsegabor/siitperf>\>.
:   

\[SNABB\]
:   [\"Snabb implementation of lwAFTR\"]{.refTitle}, [commit
    1ef72ce]{.refContent}, January 2022,
    \<<https://github.com/Igalia/snabb>\>.
:   

\[TR-069\]
:   [Broadband Forum]{.refAuthor}, [\"CPE WAN Management
    Protocol\"]{.refTitle}, [Technical Report TR-069]{.seriesInfo}, June
    2020,
    \<<https://www.broadband-forum.org/technical/download/TR-069.pdf>\>.
:   

\[VPP\]
:   [\"VPP\"]{.refTitle}, July 2022,
    \<<https://wiki.fd.io/index.php?title=VPP&oldid=11809>\>.
:   
:::
:::

::: {#Acknowledgements}
::: {#appendix-A .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The authors would like to thank [Ole Troan]{.contact-name}, [Warren
Kumari]{.contact-name}, [Dan Romascanu]{.contact-name}, [Brian
Trammell]{.contact-name}, [Joseph Salowey]{.contact-name}, [Roman
Danyliw]{.contact-name}, [Erik Kline]{.contact-name}, [Lars
Eggert]{.contact-name}, [Zaheduzzaman Sarker]{.contact-name}, [Robert
Wilton]{.contact-name}, [Éric Vyncke]{.contact-name} and [Martin
Duke]{.contact-name} for their review of this document and acknowledge
the inputs of [Mark Andrews]{.contact-name}, [Edwin
Cordeiro]{.contact-name}, [Fred Baker]{.contact-name}, [Alexandre
Petrescu]{.contact-name}, [Cameron Byrne]{.contact-name}, [Tore
Anderson]{.contact-name}, [Mikael Abrahamsson]{.contact-name}, [Gert
Doering]{.contact-name}, [Satoru Matsushima]{.contact-name}, [Yutianpeng
(Tim)]{.contact-name}, [Mohamed Boucadair]{.contact-name}, [Nick
Hilliard]{.contact-name}, [Joel Jaeggli]{.contact-name}, [Kristian
McColm]{.contact-name}, [Tom Petch]{.contact-name}, [Yannis
Nikolopoulos]{.contact-name}, [Havard Eidnes]{.contact-name}, [Yann-Ju
Chu]{.contact-name}, [Barbara Stark]{.contact-name}, [Vasilenko
Eduard]{.contact-name}, [Chongfeng Xie]{.contact-name}, [Henri Alves de
Godoy]{.contact-name}, [Magnus Westerlund]{.contact-name}, [Michael
Tüxen]{.contact-name}, [Philipp S. Tiesel]{.contact-name}, [Brian E.
Carpenter]{.contact-name}, and [Joe
Touch]{.contact-name}.[¶](#appendix-A-1){.pilcrow}
:::
:::

::: {#authors-addresses}
::: {#appendix-B .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Gábor Lencse]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Budapest University of Technology and Economics]{.org}
:::

::: {.left dir="auto"}
[Budapest]{.locality}
:::

::: {.left dir="auto"}
[Magyar tudósok körútja 2]{.street-address}
:::

::: {.left dir="auto"}
[H-1117]{.postal-code}
:::

::: {.left dir="auto"}
[Hungary]{.country-name}
:::

::: email
Email: <lencse@hit.bme.hu>
:::

::: url
URI: <http://www.hit.bme.hu/~lencse/index_en.htm>
:::

::: {.left dir="auto"}
[Jordi Palet Martinez]{.fn .nameRole}
:::

::: {.left dir="auto"}
[The IPv6 Company]{.org}
:::

::: {.left dir="auto"}
[Molino de la Navata, 75]{.street-address}
:::

::: {.left dir="auto"}
[28420]{.postal-code} [La Navata - Galapagar]{.locality}
[Madrid]{.region}
:::

::: {.left dir="auto"}
[Spain]{.country-name}
:::

::: email
Email: <jordi.palet@theipv6company.com>
:::

::: url
URI: <http://www.theipv6company.com/>
:::

::: {.left dir="auto"}
[Lee Howard]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Retevia]{.org}
:::

::: {.left dir="auto"}
[9940 Main St., Suite 200]{.street-address}
:::

::: {.left dir="auto"}
[Fairfax]{.locality}, [Virginia]{.region} [22031]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <lee@asgard.org>
:::

::: {.left dir="auto"}
[Richard Patterson]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Sky UK]{.org}
:::

::: {.left dir="auto"}
[1 Brick Lane]{.street-address}
:::

::: {.left dir="auto"}
[London]{.locality}
:::

::: {.left dir="auto"}
[EQ 6PU]{.postal-code}
:::

::: {.left dir="auto"}
[United Kingdom]{.country-name}
:::

::: email
Email: <richard.patterson@sky.uk>
:::

::: {.left dir="auto"}
[Ian Farrer]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Deutsche Telekom AG]{.org}
:::

::: {.left dir="auto"}
[Landgrabenweg 151]{.street-address}
:::

::: {.left dir="auto"}
[53227]{.postal-code} [Bonn]{.locality}
:::

::: {.left dir="auto"}
[Germany]{.country-name}
:::

::: email
Email: <ian.farrer@telekom.de>
:::
:::
:::
