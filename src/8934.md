  RFC 8934       PCEP Extensions for LSP Scheduling   October 2020
  -------------- ------------------------------------ --------------
  Chen, et al.   Standards Track                      \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8934](https://www.rfc-editor.org/rfc/rfc8934){.eref}

Category:
:   Standards Track

Published:
:   October 2020

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    H. Chen, [Ed.]{.editor}
    :::

    ::: org
    Futurewei
    :::
    :::

    ::: author
    ::: author-name
    Y. Zhuang, [Ed.]{.editor}
    :::

    ::: org
    Huawei
    :::
    :::

    ::: author
    ::: author-name
    Q. Wu
    :::

    ::: org
    Huawei
    :::
    :::

    ::: author
    ::: author-name
    D. Ceccarelli
    :::

    ::: org
    Ericsson
    :::
    :::
:::

# RFC 8934 {#rfcnum}

# PCE Communication Protocol (PCEP) Extensions for Label Switched Path (LSP) Scheduling with Stateful PCE {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

This document defines a set of extensions to the stateful PCE
Communication Protocol (PCEP) to enable Label Switched Path (LSP) path
computation, activation, setup, and deletion based on scheduled time
intervals for the LSP and the actual network resource usage in a
centralized network environment, as stated in RFC
8413.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8934>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2020 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Conventions Used in This
    Document](#name-conventions-used-in-this-do){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.xref}.  [Terminology](#name-terminology){.xref}[¶](#section-toc.1-1.2.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Motivation and
    Objectives](#name-motivation-and-objectives){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Procedures and
    Mechanisms](#name-procedures-and-mechanisms){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [LSP Scheduling
        Overview](#name-lsp-scheduling-overview){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [Support of LSP
        Scheduling](#name-support-of-lsp-scheduling){.xref}[¶](#section-toc.1-1.4.2.2.1){.pilcrow}

        -   ::: {#section-toc.1-1.4.2.2.2.1}
            [4.2.1](#section-4.2.1){.xref}.  [LSP
            Scheduling](#name-lsp-scheduling){.xref}[¶](#section-toc.1-1.4.2.2.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.4.2.2.2.2}
            [4.2.2](#section-4.2.2){.xref}.  [Periodical LSP
            Scheduling](#name-periodical-lsp-scheduling){.xref}[¶](#section-toc.1-1.4.2.2.2.2.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.xref}.  [Scheduled LSP
        Creation](#name-scheduled-lsp-creation){.xref}[¶](#section-toc.1-1.4.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.xref}.  [Scheduled LSP
        Modifications](#name-scheduled-lsp-modifications){.xref}[¶](#section-toc.1-1.4.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.5}
        [4.5](#section-4.5){.xref}.  [Scheduled LSP Activation and
        Deletion](#name-scheduled-lsp-activation-an){.xref}[¶](#section-toc.1-1.4.2.5.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [PCEP Objects and
    TLVs](#name-pcep-objects-and-tlvs){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [Stateful PCE Capability
        TLV](#name-stateful-pce-capability-tlv){.xref}[¶](#section-toc.1-1.5.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.2}
        [5.2](#section-5.2){.xref}.  [LSP
        Object](#name-lsp-object){.xref}[¶](#section-toc.1-1.5.2.2.1){.pilcrow}

        -   ::: {#section-toc.1-1.5.2.2.2.1}
            [5.2.1](#section-5.2.1){.xref}.  [SCHED-LSP-ATTRIBUTE
            TLV](#name-sched-lsp-attribute-tlv){.xref}[¶](#section-toc.1-1.5.2.2.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.5.2.2.2.2}
            [5.2.2](#section-5.2.2){.xref}.  [SCHED-PD-LSP-ATTRIBUTE
            TLV](#name-sched-pd-lsp-attribute-tlv){.xref}[¶](#section-toc.1-1.5.2.2.2.2.1){.pilcrow}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [The PCEP
    Messages](#name-the-pcep-messages){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [The PCRpt
        Message](#name-the-pcrpt-message){.xref}[¶](#section-toc.1-1.6.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [The PCUpd
        Message](#name-the-pcupd-message){.xref}[¶](#section-toc.1-1.6.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.3}
        [6.3](#section-6.3){.xref}.  [The PCInitiate
        Message](#name-the-pcinitiate-message){.xref}[¶](#section-toc.1-1.6.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.4}
        [6.4](#section-6.4){.xref}.  [The PCReq
        message](#name-the-pcreq-message){.xref}[¶](#section-toc.1-1.6.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.5}
        [6.5](#section-6.5){.xref}.  [The PCRep
        Message](#name-the-pcrep-message){.xref}[¶](#section-toc.1-1.6.2.5.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.6}
        [6.6](#section-6.6){.xref}.  [The PCErr
        Message](#name-the-pcerr-message){.xref}[¶](#section-toc.1-1.6.2.6.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Manageability
    Consideration](#name-manageability-consideration){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}

    -   ::: {#section-toc.1-1.8.2.1}
        [8.1](#section-8.1){.xref}.  [Control of Function and
        Policy](#name-control-of-function-and-pol){.xref}[¶](#section-toc.1-1.8.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.8.2.2}
        [8.2](#section-8.2){.xref}.  [Information and Data
        Models](#name-information-and-data-models){.xref}[¶](#section-toc.1-1.8.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.8.2.3}
        [8.3](#section-8.3){.xref}.  [Liveness Detection and
        Monitoring](#name-liveness-detection-and-moni){.xref}[¶](#section-toc.1-1.8.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.8.2.4}
        [8.4](#section-8.4){.xref}.  [Verify Correct
        Operations](#name-verify-correct-operations){.xref}[¶](#section-toc.1-1.8.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.8.2.5}
        [8.5](#section-8.5){.xref}.  [Requirements on Other
        Protocols](#name-requirements-on-other-proto){.xref}[¶](#section-toc.1-1.8.2.5.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.8.2.6}
        [8.6](#section-8.6){.xref}.  [Impact on Network
        Operations](#name-impact-on-network-operation){.xref}[¶](#section-toc.1-1.8.2.6.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}

    -   ::: {#section-toc.1-1.9.2.1}
        [9.1](#section-9.1){.xref}.  [PCEP TLV Type
        Indicators](#name-pcep-tlv-type-indicators){.xref}[¶](#section-toc.1-1.9.2.1.1){.pilcrow}

        -   ::: {#section-toc.1-1.9.2.1.2.1}
            [9.1.1](#section-9.1.1){.xref}.  [SCHED-PD-LSP-ATTRIBUTE TLV
            Opt
            Field](#name-sched-pd-lsp-attribute-tlv-){.xref}[¶](#section-toc.1-1.9.2.1.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.9.2.1.2.2}
            [9.1.2](#section-9.1.2){.xref}.  [Schedule TLVs Flag
            Field](#name-schedule-tlvs-flag-field){.xref}[¶](#section-toc.1-1.9.2.1.2.2.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.9.2.2}
        [9.2](#section-9.2){.xref}.  [STATEFUL-PCE-CAPABILITY TLV Flag
        Field](#name-stateful-pce-capability-tlv-){.xref}[¶](#section-toc.1-1.9.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.9.2.3}
        [9.3](#section-9.3){.xref}.  [PCEP-ERROR Object Error Types and
        Values](#name-pcep-error-object-error-typ){.xref}[¶](#section-toc.1-1.9.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.10}
    [10](#section-10){.xref}. [References](#name-references){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}

    -   ::: {#section-toc.1-1.10.2.1}
        [10.1](#section-10.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.10.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.10.2.2}
        [10.2](#section-10.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.10.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.11}
    [](#section-appendix.a){.xref}[Acknowledgments](#name-acknowledgments){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.12}
    [](#section-appendix.b){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.12.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.13}
    [](#section-appendix.c){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.13.1){.pilcrow}
    :::
:::
:::

::: {#intro}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

The PCE Communication Protocol (PCEP) defined in
\[[RFC5440](#RFC5440){.xref}\] is used between a Path Computation
Element (PCE) and a Path Computation Client (PCC) (or other PCE) to
enable path computation of Multiprotocol Label Switching (MPLS) Traffic
Engineering Label Switched Paths (TE LSPs).[¶](#section-1-1){.pilcrow}

\[[RFC8231](#RFC8231){.xref}\] describes a set of extensions to PCEP to
provide stateful control. A stateful PCE has access to not only the
information carried by the network\'s Interior Gateway Protocol (IGP)
but also the set of active paths and their reserved resources for its
computations. The additional state allows the PCE to compute constrained
paths while considering individual LSPs and their
interactions.[¶](#section-1-2){.pilcrow}

Traditionally, the usage and allocation of network resources, especially
bandwidth, can be supported by a Network Management System (NMS)
operation such as path pre-establishment. However, this does not provide
efficient usage of network resources. The established paths reserve the
resources forever, so they cannot be used by other services even when
they are not used for transporting any service.
\[[RFC8413](#RFC8413){.xref}\] then provides a framework that describes
and discusses the problem and defines an appropriate architecture for
the scheduled reservation of TE resources.[¶](#section-1-3){.pilcrow}

The scheduled reservation of TE resources allows network operators to
reserve resources in advance according to the agreements with their
customers and allows them to transmit data about scheduling, such as a
specified start time and duration (for example, for a scheduled bulk
data replication between data centers). It enables the activation of
bandwidth usage at the time the service is really being used while
letting other services use the bandwidth when it is not being used by
this service. The requirement of scheduled LSP provisioning is mentioned
in \[[RFC8231](#RFC8231){.xref}\] and \[[RFC7399](#RFC7399){.xref}\].
Also, for deterministic networks \[[RFC8655](#RFC8655){.xref}\], the
scheduled LSP or temporal LSP can provide better network resource usage
for guaranteed links. This idea can also be applied in segment routing
\[[RFC8402](#RFC8402){.xref}\] to schedule the network resources over
the whole network in a centralized manner.[¶](#section-1-4){.pilcrow}

With this in mind, this document defines a set of needed extensions to
PCEP used for stateful PCEs so as to enable LSP scheduling for path
computation and LSP setup/deletion based on the actual network resource
usage duration of a traffic service. A scheduled LSP is characterized by
a start time and a duration. When the end of the LSP life is reached, it
is deleted to free up the resources for other LSPs (scheduled or
not).[¶](#section-1-5){.pilcrow}
:::
:::

::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Conventions Used in This Document](#name-conventions-used-in-this-do){.section-name .selfRef} {#name-conventions-used-in-this-do}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-2-1){.pilcrow}

::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

The following terminology is reused from existing PCE
documents.[¶](#section-2.1-1){.pilcrow}

-   [Active Stateful PCE
    \[[RFC8051](#RFC8051){.xref}\][¶](#section-2.1-2.1){.pilcrow}]{#section-2.1-2.1}
-   [Delegation
    \[[RFC8051](#RFC8051){.xref}\][¶](#section-2.1-2.2){.pilcrow}]{#section-2.1-2.2}
-   [PCE-initiated LSP
    \[[RFC8281](#RFC8281){.xref}\][¶](#section-2.1-2.3){.pilcrow}]{#section-2.1-2.3}
-   [PCC
    \[[RFC5440](#RFC5440){.xref}\][¶](#section-2.1-2.4){.pilcrow}]{#section-2.1-2.4}
-   [PCE
    \[[RFC5440](#RFC5440){.xref}\][¶](#section-2.1-2.5){.pilcrow}]{#section-2.1-2.5}
-   [TE LSP
    \[[RFC5440](#RFC5440){.xref}\][¶](#section-2.1-2.6){.pilcrow}]{#section-2.1-2.6}
-   [TED (Traffic Engineering Database)
    \[[RFC5440](#RFC5440){.xref}\][¶](#section-2.1-2.7){.pilcrow}]{#section-2.1-2.7}
-   [LSP-DB (LSP State Database)
    \[[RFC8051](#RFC8051){.xref}\][¶](#section-2.1-2.8){.pilcrow}]{#section-2.1-2.8}

In addition, this document defines the following
terminologies.[¶](#section-2.1-3){.pilcrow}

[]{.break}

Scheduled TE LSP (or Scheduled LSP for short):
:   An LSP with scheduling attributes that carries traffic flow demand
    at a start time and lasts for a certain duration (or from a start
    time to an end time, where the end time is the start time plus the
    duration). A scheduled LSP is also called a \"temporal LSP\". The
    PCE operates path computation per LSP availability for the required
    time and duration.[¶](#section-2.1-4.2){.pilcrow}
:   

Scheduled LSP-DB (SLSP-DB):
:   A database of scheduled LSPs.[¶](#section-2.1-4.4){.pilcrow}
:   

Scheduled TED:
:   Traffic engineering database with the awareness of scheduled
    resources for TE. This database is generated by the PCE from the
    information in the TED and scheduled LSP-DB; it allows knowing, at
    any time, the expected amount of available resources (discounting
    the possibility of failures in the
    future).[¶](#section-2.1-4.6){.pilcrow}
:   

Start time (Start-Time):
:   This value indicates when the scheduled LSP is used and the
    corresponding LSP must be set up and active. At other times (i.e.,
    before the start time or after the start time plus duration), the
    LSP can be inactive to include the possibility of the resources
    being used by other services.[¶](#section-2.1-4.8){.pilcrow}
:   

Duration:
:   This value indicates the length of time that the LSP carries a
    traffic flow and the corresponding LSP must be set up and active. At
    the end of the duration, the LSP is torn down and removed from the
    database.[¶](#section-2.1-4.10){.pilcrow}
:   
:::
:::

::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Motivation and Objectives](#name-motivation-and-objectives){.section-name .selfRef} {#name-motivation-and-objectives}

A stateful PCE \[[RFC8231](#RFC8231){.xref}\] can support better
efficiency by using LSP scheduling described in the use case of
\[[RFC8051](#RFC8051){.xref}\]. This requires the PCE to maintain the
scheduled LSPs and their associated resource usage (e.g., bandwidth for
packet-switched network) as well as have the ability to trigger
signaling for the LSP setup/tear-down at the correct
time.[¶](#section-3-1){.pilcrow}

Note that existing configuration tools can be used for LSP scheduling,
but as highlighted in [Section
3.1.3](https://www.rfc-editor.org/rfc/rfc8231#section-3.1.3){.relref} of
\[[RFC8231](#RFC8231){.xref}\] as well as discussions in
\[[RFC8413](#RFC8413){.xref}\], doing this as a part of PCEP in a
centralized manner has obvious advantages.[¶](#section-3-2){.pilcrow}

This document provides a set of extensions to PCEP to enable LSP
scheduling for LSP creation/deletion under the stateful control of a PCE
and according to traffic service requests from customers, so as to
improve the usage of network resources.[¶](#section-3-3){.pilcrow}
:::

::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Procedures and Mechanisms](#name-procedures-and-mechanisms){.section-name .selfRef} {#name-procedures-and-mechanisms}

::: {#LSPSchedulingOverview}
::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [LSP Scheduling Overview](#name-lsp-scheduling-overview){.section-name .selfRef} {#name-lsp-scheduling-overview}

LSP scheduling allows PCEs and PCCs to provide scheduled LSP for
customers\' traffic services at its actual usage time, so as to improve
the network resource utilization
efficiency.[¶](#section-4.1-1){.pilcrow}

For stateful PCE supporting LSP scheduling, there are two types of LSP
databases used in this document. One is the LSP-DB defined in PCEP
\[[RFC8231](#RFC8231){.xref}\], while the other is the scheduled LSP
database (SLSP-DB). The SLSP-DB records scheduled LSPs and is used in
conjunction with the TED and LSP-DB. Note that the two types of LSP
databases can be implemented in one physical database or two different
databases. This is an implementation matter, and this document does not
state any preference.[¶](#section-4.1-2){.pilcrow}

Furthermore, a scheduled TED can be generated from the scheduled LSP-DB,
LSP-DB, and TED to indicate the network links and nodes with resource
availability information for now and the future. The scheduled TED
[MUST]{.bcp14} be maintained by all PCEs within the network
environment.[¶](#section-4.1-3){.pilcrow}

In the case of implementing PCC-initiated scheduled LSPs, when
delegating a scheduled LSP, a PCC [MUST]{.bcp14} include that LSP\'s
scheduling parameters (see [Section
5.2.1](#SCHED-LSP-ATTRIBUTE){.xref}), including the start time and
duration, using a Path Computation State Report (PCRpt) message. Since
the LSP is not yet signaled, at the time of delegation, the LSP would be
in down state. Upon receiving the delegation of the scheduled LSP, a
stateful PCE [MUST]{.bcp14} check whether the parameters are valid. If
they are valid, it [SHALL]{.bcp14} check the scheduled TED for the
network resource availability on network nodes, compute a path for the
LSP with the scheduling information, and update to the PCC as per the
active stateful PCE techniques
\[[RFC8231](#RFC8231){.xref}\].[¶](#section-4.1-4){.pilcrow}

Note that the active stateful PCE can update to the PCC with the path
for the scheduled LSP at any time. However, the PCC should not signal
the LSP over the path after receiving these messages since the path is
not active yet; the PCC signals the LSP at the start
time.[¶](#section-4.1-5){.pilcrow}

In the case of multiple PCEs within a single domain, the PCE would need
to synchronize their scheduling information with other PCEs within the
domain. This could be achieved by proprietary database-synchronization
techniques or via a possible PCEP extension (see
\[[PCE-STATE-SYNC](#I-D.litkowski-pce-state-sync){.xref}\]). The
technique used to synchronize an SLSP-DB is out of scope for this
document. When the scheduling information is out of synchronization
among some PCEs, some scheduled LSPs may not be set up
successfully.[¶](#section-4.1-6){.pilcrow}

The scheduled LSP can also be initiated by a PCE itself. In the case of
implementing a PCE-initiated scheduled LSP, the stateful PCE
[SHALL]{.bcp14} check the network resource availability for the traffic,
compute a path for the scheduled LSP, and initiate a scheduled LSP at
the PCC and synchronize the scheduled LSP to other PCEs. Note that the
PCC could be notified immediately or at the start time of the scheduled
LSP, based on the local policy. In the former case, the
SCHED-LSP-ATTRIBUTE TLV (see [Section
5.2.1](#SCHED-LSP-ATTRIBUTE){.xref}) [MUST]{.bcp14} be included in the
message, whereas for the latter, the SCHED-LSP-ATTRIBUTE TLV [SHOULD
NOT]{.bcp14} be included. Either way, the synchronization to other PCEs
[MUST]{.bcp14} be done when the scheduled LSP is
created.[¶](#section-4.1-7){.pilcrow}

In both modes, for activation of scheduled LSPs, the PCC [MUST]{.bcp14}
initiate the setup of the scheduled LSP at the start time. Similarly, on
the scheduled usage expiry, the PCC [MUST]{.bcp14} initiate the removal
of the LSP based on the flag set in the SCHED-LSP-ATTRIBUTE
TLV.[¶](#section-4.1-8){.pilcrow}
:::
:::

::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [Support of LSP Scheduling](#name-support-of-lsp-scheduling){.section-name .selfRef} {#name-support-of-lsp-scheduling}

::: {#section-4.2.1 .section}
#### [4.2.1.](#section-4.2.1){.section-number .selfRef} [LSP Scheduling](#name-lsp-scheduling){.section-name .selfRef} {#name-lsp-scheduling}

For a scheduled LSP, a user configures it with an arbitrary scheduling
period from time Ta to time Tb, which may be represented as \[Ta,
Tb\].[¶](#section-4.2.1-1){.pilcrow}

When an LSP is configured with arbitrary scheduling period \[Ta, Tb\], a
path satisfying the constraints for the LSP in the scheduling period is
computed, and the LSP along the path is set up to carry traffic from
time Ta to time Tb.[¶](#section-4.2.1-2){.pilcrow}
:::

::: {#section-4.2.2 .section}
#### [4.2.2.](#section-4.2.2){.section-number .selfRef} [Periodical LSP Scheduling](#name-periodical-lsp-scheduling){.section-name .selfRef} {#name-periodical-lsp-scheduling}

In addition to LSP scheduling at an arbitrary time period, there is also
periodical LSP scheduling.[¶](#section-4.2.2-1){.pilcrow}

Periodical LSP scheduling means an LSP has multiple time intervals and
the LSP is set up to carry traffic in every time interval. It has a
scheduling period such as \[Ta, Tb\], a number of repeats such as 10
(repeats 10 times), and a repeat cycle/time interval such as a week
(repeats every week). The scheduling interval \"\[Ta, Tb\] repeats n
times with repeat cycle C\" represents n+1 scheduling intervals as
follows:[¶](#section-4.2.2-2){.pilcrow}

\[Ta, Tb\], \[Ta+C, Tb+C\], \[Ta+2C, Tb+2C\], \..., \[Ta+nC,
Tb+nC\][¶](#section-4.2.2-3){.pilcrow}

When an LSP is configured with a scheduling interval such as \"\[Ta,
Tb\] repeats 10 times with a repeat cycle of a week\" (representing 11
scheduling intervals), a path satisfying the constraints for the LSP in
every interval represented by the periodical scheduling interval is
computed once. Note that the path computed for one recurrence may be
different from the path for another recurrence. And then the LSP along
the path is set up to carry traffic in each of the scheduling intervals.
If there is no path satisfying the constraints for some of the
intervals, the LSP [MUST NOT]{.bcp14} be set up at all. It
[MUST]{.bcp14} generate a PCEP Error (PCErr) with Error-Type = 29 (Path
computation failure) and Error-value = 5 (Constraints could not be met
for some intervals).[¶](#section-4.2.2-4){.pilcrow}

::: {#section-4.2.2.1 .section}
##### [4.2.2.1.](#section-4.2.2.1){.section-number .selfRef} [Elastic Time LSP Scheduling](#name-elastic-time-lsp-scheduling){.section-name .selfRef} {#name-elastic-time-lsp-scheduling}

In addition to the basic LSP scheduling at an arbitrary time period,
another option is elastic time intervals, which is represented as within
-P and Q, where P and Q are amounts of time such as 300 seconds. P is
called the elastic range lower bound, and Q is called the elastic range
upper bound.[¶](#section-4.2.2.1-1){.pilcrow}

For a simple time interval such as \[Ta, Tb\] with an elastic range,
elastic time interval \"\[Ta, Tb\] within -P and Q\" means a time period
from (Ta+X) to (Tb+X), where -P \<= X \<= Q. Note that both Ta and Tb
are shifted by the same X. This elastic time interval is suitable for
the case where a user wants to have a scheduled LSP up to carry the
traffic in time interval \[Ta, Tb\] and has some flexibility on shifting
the time interval a little bit, such as up to P seconds earlier/left or
some time such as up to Q seconds
later/right.[¶](#section-4.2.2.1-2){.pilcrow}

When an LSP is configured with elastic time interval \"\[Ta, Tb\] within
-P and Q\", a path is computed such that the path satisfies the
constraints for the LSP in the time period from (Ta+Xv) to (Tb+Xv), and
an optimization is performed on Xv from -P to Q. The optimization makes
\[Ta+Xv, Tb+Xv\] the time interval closest to time interval \[Ta, Tb\]
within the elastic range. The LSP along the path is set up to carry
traffic in the time period from (Ta+Xv) to
(Tb+Xv).[¶](#section-4.2.2.1-3){.pilcrow}

Similarly, for a recurrent time interval with an elastic range, elastic
time interval \"\[Ta, Tb\] repeats n times with repeat cycle C within -P
and Q\" represents n+1 simple elastic time intervals as
follows:[¶](#section-4.2.2.1-4){.pilcrow}

\[Ta+X0, Tb+X0\], \[Ta+C+X1, Tb+C+X1\], \..., \[Ta+nC+Xn, Tb+nC+Xn\],
where -P \<= Xi \<= Q, i = 0, 1, 2, \...,
n.[¶](#section-4.2.2.1-5){.pilcrow}

If a user wants to keep the same repeat cycle between any two adjacent
time intervals, elastic time interval \"\[Ta, Tb\] repeats n times with
repeat cycle C within -P and Q SYNC\" may be used, which represents n+1
simple elastic time intervals as
follows:[¶](#section-4.2.2.1-6){.pilcrow}

\[Ta+X, Tb+X\], \[Ta+C+X, Tb+C+X\], \..., \[Ta+nC+X, Tb+nC+X\], where -P
\<= X \<= Q.[¶](#section-4.2.2.1-7){.pilcrow}
:::

::: {#section-4.2.2.2 .section}
##### [4.2.2.2.](#section-4.2.2.2){.section-number .selfRef} [Grace Periods](#name-grace-periods){.section-name .selfRef} {#name-grace-periods}

Besides the stated time scheduling, a user may want to have some grace
periods (short for \"graceful time periods\") for each or some of the
time intervals for the LSP. Two grace periods may be configured for a
time interval. One is the grace period before the time interval, called
\"Grace-Before\", which extends the lifetime of the LSP by an amount of
time (such as 30 seconds) before the time interval. The other grace
period is after the time interval and is called \"Grace-After\"; it
extends the lifetime of the LSP by an amount of time (such as 60
seconds) after the time interval. Note that no network resources such as
link bandwidth will be reserved for the LSP during the grace
periods.[¶](#section-4.2.2.2-1){.pilcrow}

When an LSP is configured with a simple time interval such as \[Ta, Tb\]
with grace periods such as Grace-Before GrB and Grace-After GrA, a path
is computed such that the path satisfies the constraints for the LSP in
the time period from Ta to Tb. The LSP along the path is set up to carry
traffic in the time period from (Ta-GrB) to (Tb+GrA). During grace
periods from (Ta-GrB) to Ta and from Tb to (Tb+GrA), the LSP is up to
carry traffic in best effort.[¶](#section-4.2.2.2-2){.pilcrow}
:::
:::
:::

::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [Scheduled LSP Creation](#name-scheduled-lsp-creation){.section-name .selfRef} {#name-scheduled-lsp-creation}

In order to realize PCC-initiated scheduled LSPs in a centralized
network environment, a PCC [MUST]{.bcp14} separate the setup of an LSP
into two steps. The first step is to request/delegate and get an LSP but
not signal it over the network. The second step is to signal the
scheduled LSP over the Label Switching Routers (LSRs) at its start
time.[¶](#section-4.3-1){.pilcrow}

For PCC-initiated scheduled LSPs, a PCC [MUST]{.bcp14} delegate the
scheduled LSP by sending a PCRpt message by including its demanded
resources with the scheduling information to a stateful PCE. Note that
the PCC [MAY]{.bcp14} use Path Computation Request (PCReq) and Path
Computation Reply (PCRep) messages with scheduling information before
delegating.[¶](#section-4.3-2){.pilcrow}

Upon receiving the delegation via PCRpt message, the stateful PCE
[MUST]{.bcp14} compute a path for the scheduled LSP per its start time
and duration based on the network resource availability stored in the
scheduled TED (see [Section
4.1](#LSPSchedulingOverview){.xref}).[¶](#section-4.3-3){.pilcrow}

The stateful PCE will send a Path Computation Update Request (PCUpd)
message with the scheduled path information and the scheduled resource
information for the scheduled LSP to the PCC. The stateful PCE
[MUST]{.bcp14} update its local scheduled LSP-DB and scheduled TED with
the scheduled LSP and would need to synchronize the scheduling
information with other PCEs in the domain.[¶](#section-4.3-4){.pilcrow}

For a PCE-initiated scheduled LSP, the stateful PCE [MUST]{.bcp14}
automatically compute a path for the scheduled LSP per requests from
network management systems, based on the network resource availability
in the scheduled TED, and send an LSP Initiate Request (PCInitiate)
message with the path information to the PCC. Based on the local policy,
the PCInitiate message could be sent immediately to ask the PCC to
create a scheduled LSP (as per this document), or the PCInitiate message
could be sent at the start time to the PCC to create a normal LSP (as
per \[[RFC8281](#RFC8281){.xref}\]).[¶](#section-4.3-5){.pilcrow}

For both PCC-initiated and PCE-initiated Scheduled
LSPs:[¶](#section-4.3-6){.pilcrow}

-   [The stateful PCE [MUST]{.bcp14} update its local scheduled LSP-DB
    and scheduled TED with the scheduled
    LSP.[¶](#section-4.3-7.1){.pilcrow}]{#section-4.3-7.1}
-   [Upon receiving the PCUpd message or PCInitiate message for the
    scheduled LSP from PCEs with a found path, the PCC determines that
    it is a scheduled path for the LSP by the SCHED-LSP-ATTRIBUTE TLV
    (see [Section 5.2.1](#SCHED-LSP-ATTRIBUTE){.xref}) or
    SCHED-PD-LSP-ATTRIBUTE TLV (see [Section
    5.2.2](#SCHED-PD-LSP-ATTRIBUTE){.xref}) in the message and does not
    trigger signaling for the LSP setup on LSRs
    immediately.[¶](#section-4.3-7.2){.pilcrow}]{#section-4.3-7.2}
-   [The stateful PCE [MUST]{.bcp14} update the scheduled LSP parameters
    on any network events using the PCUpd message to the PCC. These
    changes are also synchronized to other
    PCEs.[¶](#section-4.3-7.3){.pilcrow}]{#section-4.3-7.3}
-   [When it is time for the LSP to be set up (i.e., at the start time),
    based on the value of the C flag for the scheduled TLV, either the
    PCC [MUST]{.bcp14} trigger the LSP to be signaled or the delegated
    PCE [MUST]{.bcp14} send a PCUpd message to the head-end LSR
    providing the updated path to be signaled (with the A flag set to
    indicate LSP
    activation).[¶](#section-4.3-7.4){.pilcrow}]{#section-4.3-7.4}
:::

::: {#lsp-modify}
::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [Scheduled LSP Modifications](#name-scheduled-lsp-modifications){.section-name .selfRef} {#name-scheduled-lsp-modifications}

After a scheduled LSP is configured, a user may change its parameters,
including the requested time and the bandwidth. For a periodic-scheduled
LSP, its unused recurrences can be modified or canceled. For a scheduled
LSP that is currently active, its duration (the lifetime) can be
reduced.[¶](#section-4.4-1){.pilcrow}

In the PCC-initiated case, the PCC [MUST]{.bcp14} send the PCE a PCRpt
message for the scheduled LSP with updated parameters, as well as
scheduled information included in the SCHED-LSP-ATTRIBUTE TLV (see
[Section 5.2.1](#SCHED-LSP-ATTRIBUTE){.xref}) or SCHED-PD-LSP-ATTRIBUTE
TLV (see [Section 5.2.2](#SCHED-PD-LSP-ATTRIBUTE){.xref}) carried in the
LSP object. The PCE [SHOULD]{.bcp14} take the updated resources and
schedule into consideration, and update the new path for the scheduled
LSP to the PCC, and synchronize to other PCEs in the network. If the
path cannot be set based on new requirements, the previous LSP will not
be impacted, and this [MUST]{.bcp14} be conveyed by the use of an empty
Explicit Route Object (ERO) in the PCEP
messages.[¶](#section-4.4-2){.pilcrow}

In the PCE-initiated case, the stateful PCE would recompute the path
based on updated parameters and scheduled information. If it has already
conveyed this information to the PCC by sending a PCInitiate message, it
[SHOULD]{.bcp14} update the path and other scheduling and resource
information by sending a PCUpd message.[¶](#section-4.4-3){.pilcrow}
:::
:::

::: {#section-4.5 .section}
### [4.5.](#section-4.5){.section-number .selfRef} [Scheduled LSP Activation and Deletion](#name-scheduled-lsp-activation-an){.section-name .selfRef} {#name-scheduled-lsp-activation-an}

In the PCC-initiated case, when it is time for the LSP to be set up
(i.e., at the start time), based on the value of the C flag for the
scheduled TLV, either the PCC [MUST]{.bcp14} trigger the LSP to be
signaled, or the delegated PCE [MUST]{.bcp14} send a PCUpd message to
the head-end LSR providing the updated path to be signaled (with the A
flag set to indicate LSP activation). The PCC [MUST]{.bcp14} report the
status of the active LSP as per the procedures in
\[[RFC8231](#RFC8231){.xref}\], and at this time, the LSP [MUST]{.bcp14}
be considered part of the LSP-DB. The A flag [MUST]{.bcp14} be set in
the scheduled TLV to indicate that the LSP is active now. After the
scheduled duration expires, based on the C flag, the PCC [MUST]{.bcp14}
trigger the LSP deletion on itself, or the delegated PCE [MUST]{.bcp14}
send a PCUpd message to the PCC to delete the LSP as per the procedures
in \[[RFC8231](#RFC8231){.xref}\].[¶](#section-4.5-1){.pilcrow}

In the PCE-initiated case, based on the local policy, if the scheduled
LSP is already conveyed to the PCC at the time of creation, the handling
of LSP activation and deletion is handled in the same way as the
PCC-initiated case, as per the setting of the C flag. Otherwise, the PCE
[MUST]{.bcp14} send the PCInitiate message to the PCC at the start time
to create a normal LSP without the scheduled TLV and remove the LSP
after the duration expires, as per
\[[RFC8281](#RFC8281){.xref}\].[¶](#section-4.5-2){.pilcrow}
:::
:::

::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [PCEP Objects and TLVs](#name-pcep-objects-and-tlvs){.section-name .selfRef} {#name-pcep-objects-and-tlvs}

::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [Stateful PCE Capability TLV](#name-stateful-pce-capability-tlv){.section-name .selfRef} {#name-stateful-pce-capability-tlv}

A PCC and a PCE indicate their ability to support LSP scheduling during
their PCEP session establishment phase. For an environment with multiple
PCEs, the PCEs [SHOULD]{.bcp14} also establish a PCEP session and
indicate its ability to support LSP scheduling among PCEP peers. The
OPEN object in the Open message contains the STATEFUL-PCE-CAPABILITY
TLV. Note that the STATEFUL-PCE-CAPABILITY TLV is defined in
\[[RFC8231](#RFC8231){.xref}\] and updated in
\[[RFC8281](#RFC8281){.xref}\] and \[[RFC8232](#RFC8232){.xref}\]. In
this document, we define a new flag bit B (LSP-SCHEDULING-CAPABILITY) in
the Flags field of the STATEFUL-PCE-CAPABILITY TLV to indicate the
support of LSP scheduling. We also define another flag bit PD
(PD-LSP-CAPABILITY) to indicate the support of LSP periodical
scheduling.[¶](#section-5.1-1){.pilcrow}

[]{.break}

B (LSP-SCHEDULING-CAPABILITY) - 1 bit (Bit Position 22):
:   If set to 1 by a PCC, the B flag indicates that the PCC allows LSP
    scheduling; if set to 1 by a PCE, the B flag indicates that the PCE
    is capable of LSP scheduling. The B bit [MUST]{.bcp14} be set by
    both PCEP peers in order to support LSP scheduling for path
    computation.[¶](#section-5.1-2.2){.pilcrow}
:   

PD (PD-LSP-CAPABILITY) - 1 bit (Bit Position - 21):
:   If set to 1 by a PCC, the PD flag indicates that the PCC allows LSP
    scheduling periodically; if set to 1 by a PCE, the PD flag indicates
    that the PCE is capable of periodical LSP scheduling. Both the PD
    bit and the B bit [MUST]{.bcp14} be set to 1 by both PCEP peers in
    order to support periodical LSP scheduling for path computation. If
    the PD bit or B bit is 0, then the periodical LSP scheduling
    capability [MUST]{.bcp14} be ignored.[¶](#section-5.1-2.4){.pilcrow}
:   
:::

::: {#section-5.2 .section}
### [5.2.](#section-5.2){.section-number .selfRef} [LSP Object](#name-lsp-object){.section-name .selfRef} {#name-lsp-object}

The LSP object is defined in \[[RFC8231](#RFC8231){.xref}\]. This
document adds an optional SCHED-LSP-ATTRIBUTE TLV for normal LSP
scheduling and an optional SCHED-PD-LSP-ATTRIBUTE TLV for periodical LSP
scheduling. The LSP object for a scheduled LSP [MUST NOT]{.bcp14}
include these two TLVs. Only one scheduling, either normal or
periodical, is allowed for a scheduled LSP.[¶](#section-5.2-1){.pilcrow}

The presence of the SCHED-LSP-ATTRIBUTE TLV in the LSP object indicates
that this LSP is normal scheduling while the SCHED-PD-LSP-ATTRIBUTE TLV
indicates that this scheduled LSP is periodical. The SCHED-LSP-ATTRIBUTE
TLV [MUST]{.bcp14} be present in the LSP object for each
normal-scheduled LSP carried in the PCEP messages. The
SCHED-PD-LSP-ATTRIBUTE TLV [MUST]{.bcp14} be used in the LSP object for
each periodic-scheduled LSP carried in the PCEP
messages.[¶](#section-5.2-2){.pilcrow}

Only one SCHED-LSP-ATTRIBUTE TLV [SHOULD]{.bcp14} be present in the LSP
object. If more than one SCHED-LSP-ATTRIBUTE TLV is found, the first
instance is processed and others ignored. The SCHED-PD-LSP-ATTRIBUTE TLV
is the same as the SCHED-LSP-ATTRIBUTE TLV with regard to its presence
in the LSP object.[¶](#section-5.2-3){.pilcrow}

::: {#SCHED-LSP-ATTRIBUTE}
::: {#section-5.2.1 .section}
#### [5.2.1.](#section-5.2.1){.section-number .selfRef} [SCHED-LSP-ATTRIBUTE TLV](#name-sched-lsp-attribute-tlv){.section-name .selfRef} {#name-sched-lsp-attribute-tlv}

The SCHED-LSP-ATTRIBUTE TLV [MAY]{.bcp14} be included as an optional TLV
within the LSP object for LSP scheduling for the requesting traffic
service.[¶](#section-5.2.1-1){.pilcrow}

This TLV [MUST NOT]{.bcp14} be included unless both PCEP peers have set
the B (LSP-SCHEDULING-CAPABILITY) bit in the STATEFUL-PCE-CAPABILITY TLV
carried in the Open message to one. If the TLV is received by a peer
when both peers didn\'t set the B bit to one, the peer [MUST]{.bcp14}
generate a PCEP Error (PCErr) with a PCEP-ERROR object having Error-Type
= 19 (Invalid Operation) and Error-value = 15 (Attempted LSP scheduling
while the scheduling capability was not
advertised).[¶](#section-5.2.1-2){.pilcrow}

The format of the SCHED-LSP-ATTRIBUTE TLV is shown in [Figure
1](#sched-lsp-attr-tlv){.xref}.[¶](#section-5.2.1-3){.pilcrow}

[]{#name-sched-lsp-attribute-tlv-2}

::: {#sched-lsp-attr-tlv}
::: {#section-5.2.1-4.1 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |             Type (49)         |          Length               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Flags |R|C|A|G|               Reserved (0)                    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                       Start-Time                              |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         Duration                              |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   GrB / Elastic-Lower-Bound   |   GrA / Elastic-Upper-Bound   |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
:::

[Figure 1](#figure-1){.selfRef}: [SCHED-LSP-ATTRIBUTE
TLV](#name-sched-lsp-attribute-tlv-2){.selfRef}
:::

The type of the TLV is 49, and the TLV has a fixed length of 16
octets.[¶](#section-5.2.1-5){.pilcrow}

The fields in the format are:[¶](#section-5.2.1-6){.pilcrow}

[]{.break}

Flags (8 bits):

:   The following flags are defined in this
    document.[¶](#section-5.2.1-7.2.1){.pilcrow}

    []{.break}

    R (1 bit):

    :   Set to 1 to indicate that the Start-Time is a relative time,
        which is the number of seconds from the current time. The PCEs
        and PCCs [MUST]{.bcp14} synchronize their clocks when relative
        time is used. It is [RECOMMENDED]{.bcp14} that the Network Time
        Protocol \[[RFC5905](#RFC5905){.xref}\] be used to synchronize
        clocks among them. When the transmission delay from a PCE or PCC
        to another PCE or PCC is too big (such as greater than 1
        second), the scheduling interval represented is not accurate if
        the delay is not considered. Set to 0 to indicate that the
        32-bit Start-Time is an absolute time, which is the number of
        seconds since the epoch. The epoch is 1 January 1970 at 00:00
        UTC. It wraps around every 2\^32 seconds, which is roughly 136
        years. The next wraparound will occur in the year 2106. The
        received Start-Time is considered after the wraparound if the
        resulting value is less than the current time. In that case, the
        value of the 32-bit Start-Time is considered to be the number of
        seconds from the time of wraparound (because the Start-Time is
        always a future time).[¶](#section-5.2.1-7.2.2.2.1){.pilcrow}

    :   

    C (1 bit):

    :   Set to 1 to indicate that the PCC is responsible to set up and
        remove the scheduled LSP based on the Start-Time and Duration.
        The PCE holds these responsibilities when the bit is set to
        zero.[¶](#section-5.2.1-7.2.2.4.1){.pilcrow}

    :   

    A (1 bit):

    :   Set to 1 to indicate that the scheduled LSP has been
        activated.[¶](#section-5.2.1-7.2.2.6.1){.pilcrow}

    :   

    G (1 bit):

    :   Set to 1 to indicate that the grace period is included in the
        fields GrB/Elastic-Lower-Bound and GrA/Elastic-Upper-Bound; set
        to 0 to indicate that the elastic range is included in the
        fields.[¶](#section-5.2.1-7.2.2.8.1){.pilcrow}

    :   

:   

Reserved (24 bits):

:   This field [MUST]{.bcp14} be set to zero on transmission and
    [MUST]{.bcp14} be ignored on
    receipt.[¶](#section-5.2.1-7.4.1){.pilcrow}

:   

Start-Time (32 bits):

:   This value, in seconds, indicates when the scheduled LSP is used to
    carry traffic and the corresponding LSP [MUST]{.bcp14} be set up and
    activated. Note that the transmission delay [SHOULD]{.bcp14} be
    considered when R=1 and the value of Start-Time is
    small.[¶](#section-5.2.1-7.6.1){.pilcrow}

:   

Duration (32 bits):

:   This value, in seconds, indicates the duration that the LSP carries
    a traffic flow and the corresponding LSP [MUST]{.bcp14} be up to
    carry traffic. At the expiry of this duration, the LSP
    [MUST]{.bcp14} be torn down and deleted. A value of 0 [MUST
    NOT]{.bcp14} be used in Duration since it does not make any sense.
    The value of Duration [SHOULD]{.bcp14} be greater than a constant
    MINIMUM-DURATION seconds, where MINIMUM-DURATION is
    5.[¶](#section-5.2.1-7.8.1){.pilcrow}

:   

Start-Time indicates a time at or before which the scheduled LSP
[MUST]{.bcp14} be set up. When the R bit is set to 0, the value of
Start-Time represents the number of seconds since the epoch. When the R
bit is set to 1, the value of Start-Time represents the number of
seconds from the current time.[¶](#section-5.2.1-8){.pilcrow}

In addition, the SCHED-LSP-ATTRIBUTE TLV contains the G flag set to 1
and a nonzero Grace-Before and Grace-After in the fields
GrB/Elastic-Lower-Bound and GrA/Elastic-Upper-Bound if grace periods are
configured. It includes the G flag set to 0 and a nonzero elastic range
lower bound and upper bound in the fields if there is an elastic range
configured. A TLV can configure a nonzero grace period or elastic range,
but it [MUST NOT]{.bcp14} provide both for an
LSP.[¶](#section-5.2.1-9){.pilcrow}

[]{.break}

GrB (Grace-Before, 16 bits):
:   The grace period time length, in seconds, before the start
    time.[¶](#section-5.2.1-10.2){.pilcrow}
:   

GrA (Grace-After, 16 bits):
:   The grace period time length, in seconds, after time interval
    \[start time, start time +
    duration\].[¶](#section-5.2.1-10.4){.pilcrow}
:   

Elastic-Lower-Bound (16 bits):
:   The maximum amount of time, in seconds, that the time interval can
    shift lower/left.[¶](#section-5.2.1-10.6){.pilcrow}
:   

Elastic-Upper-Bound (16 bits):
:   The maximum amount of time, in seconds, that the time interval can
    shift higher/right.[¶](#section-5.2.1-10.8){.pilcrow}
:   
:::
:::

::: {#SCHED-PD-LSP-ATTRIBUTE}
::: {#section-5.2.2 .section}
#### [5.2.2.](#section-5.2.2){.section-number .selfRef} [SCHED-PD-LSP-ATTRIBUTE TLV](#name-sched-pd-lsp-attribute-tlv){.section-name .selfRef} {#name-sched-pd-lsp-attribute-tlv}

The periodical LSP is a special case of LSP scheduling. The traffic
service happens in a series of repeated time intervals. The
SCHED-PD-LSP-ATTRIBUTE TLV can be included as an optional TLV within the
LSP object for this periodical LSP
scheduling.[¶](#section-5.2.2-1){.pilcrow}

This TLV [MUST NOT]{.bcp14} be included unless both PCEP peers have set
the B (LSP-SCHEDULING-CAPABILITY) bit and PD (PD-LSP-CAPABILITY) bit in
STATEFUL-PCE-CAPABILITY TLV carried in Open message to one. If the TLV
is received by a peer when either bit is zero (or both bits are zero),
the peer [MUST]{.bcp14} generate a PCEP Error (PCErr) with a PCEP-ERROR
object having Error-Type = 19 (Invalid Operation) and Error-value = 15
(Attempted LSP scheduling while the scheduling capability was not
advertised).[¶](#section-5.2.2-2){.pilcrow}

The format of the SCHED-PD-LSP-ATTRIBUTE TLV is shown in [Figure
2](#sched-pd-lsp-attr-tlv){.xref}.[¶](#section-5.2.2-3){.pilcrow}

[]{#name-sched-pd-lsp-attribute-tlv-2}

::: {#sched-pd-lsp-attr-tlv}
::: {#section-5.2.2-4.1 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |            Type (50)          |         Length                |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Flags|R|C|A|G| Opt   |           NR          |  Reserved (0) |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                           Start-Time                          |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                            Duration                           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                        Repeat-time-length                     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   GrB / Elastic-Lower-Bound   |   GrA / Elastic-Upper-Bound   |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
:::

[Figure 2](#figure-2){.selfRef}: [SCHED-PD-LSP-ATTRIBUTE
TLV](#name-sched-pd-lsp-attribute-tlv-2){.selfRef}
:::

The type of the TLV is 50, and the TLV has a fixed length of 20 octets.
The description, format, and meaning of the flags (R, C, A, and G bits),
Start-Time, Duration, GrB, GrA, Elastic-Lower-Bound, and
Elastic-Upper-Bound fields remain the same as in the SCHED-LSP-ATTRIBUTE
TLV.[¶](#section-5.2.2-5){.pilcrow}

The following fields are new:[¶](#section-5.2.2-6){.pilcrow}

[]{.break}

Opt (4 bits):

:   Indicates options to repeat. When a PCE receives a TLV with an
    unknown Opt value, it does not compute any path for the LSP. It
    [MUST]{.bcp14} generate a PCEP Error (PCErr) with a PCEP-ERROR
    object having Error-Type = 4 (Not supported object) and Error-value
    = 4 (Unsupported parameter).[¶](#section-5.2.2-7.2.1){.pilcrow}

    []{.break}

    :   Opt = 1: repeat every month[¶](#section-5.2.2-7.2.2.2){.pilcrow}
    :   

    :   Opt = 2: repeat every year[¶](#section-5.2.2-7.2.2.4){.pilcrow}
    :   

    :   Opt = 3: repeat every
        Repeat-time-length[¶](#section-5.2.2-7.2.2.6){.pilcrow}
    :   

    A user may configure a Repeat-time-length in time units weeks, days,
    hours, minutes, and/or seconds. The value represented by these units
    is converted to the number of seconds in the TLV. For example,
    repeat every 2 weeks is equivalent to repeat every
    Repeat-time-length = 2\*7\*86,400 (seconds), where 86,400 is the
    number of seconds per day.[¶](#section-5.2.2-7.2.3){.pilcrow}

:   

NR (12 bits):
:   The number of repeats. During each repetition, LSP carries
    traffic.[¶](#section-5.2.2-7.4){.pilcrow}
:   

Reserved (8 bits):

:   This field [MUST]{.bcp14} be set to zero on transmission and
    [MUST]{.bcp14} be ignored on
    receipt.[¶](#section-5.2.2-7.6.1){.pilcrow}

:   

Repeat-time-length (32 bits):
:   The time in seconds between the Start-Time of one repetition and the
    Start-Time of the next repetition.[¶](#section-5.2.2-7.8){.pilcrow}
:   
:::
:::
:::
:::

::: {#pcep-msgs}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [The PCEP Messages](#name-the-pcep-messages){.section-name .selfRef} {#name-the-pcep-messages}

::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [The PCRpt Message](#name-the-pcrpt-message){.section-name .selfRef} {#name-the-pcrpt-message}

The Path Computation State Report (PCRpt) message is a PCEP message sent
by a PCC to a PCE to report the status of one or more LSPs, as per
\[[RFC8231](#RFC8231){.xref}\]. Each LSP State Report in a PCRpt message
contains the actual LSP\'s path, bandwidth, operational and
administrative status, etc. An LSP Status Report carried in a PCRpt
message is also used in delegation or revocation of control of an LSP
to/from a PCE. In the case of a scheduled LSP, a scheduled TLV
[MUST]{.bcp14} be carried in the LSP object, and the ERO conveys the
intended path for the scheduled LSP. The scheduled LSP [MUST]{.bcp14} be
delegated to a PCE.[¶](#section-6.1-1){.pilcrow}
:::

::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [The PCUpd Message](#name-the-pcupd-message){.section-name .selfRef} {#name-the-pcupd-message}

The Path Computation Update Request (PCUpd) message is a PCEP message
sent by a PCE to a PCC to update LSP parameters on one or more LSPs, as
per \[[RFC8231](#RFC8231){.xref}\]. Each LSP Update Request in a PCUpd
message contains all LSP parameters that a PCE wishes to be set for a
given LSP. In the case of a scheduled LSP, a scheduled TLV
[MUST]{.bcp14} be carried in the LSP object, and the ERO conveys the
intended path for the scheduled LSP. If no path can be found, an empty
ERO is used. The A bit is used in the PCUpd message to indicate the
activation of the scheduled LSP if the PCE is responsible for the
activation (as per the C bit).[¶](#section-6.2-1){.pilcrow}
:::

::: {#section-6.3 .section}
### [6.3.](#section-6.3){.section-number .selfRef} [The PCInitiate Message](#name-the-pcinitiate-message){.section-name .selfRef} {#name-the-pcinitiate-message}

The LSP Initiate Request (PCInitiate) message is a PCEP message sent by
a PCE to a PCC to trigger LSP instantiation or deletion, as per
\[[RFC8281](#RFC8281){.xref}\]. In the case of a scheduled LSP, based on
the local policy, the PCE [MAY]{.bcp14} convey the scheduled LSP to the
PCC by including a scheduled TLV in the LSP object. Alternatively, the
PCE would initiate the LSP only at the start time of the scheduled LSP,
as per \[[RFC8281](#RFC8281){.xref}\], without the use of scheduled
TLVs.[¶](#section-6.3-1){.pilcrow}
:::

::: {#section-6.4 .section}
### [6.4.](#section-6.4){.section-number .selfRef} [The PCReq message](#name-the-pcreq-message){.section-name .selfRef} {#name-the-pcreq-message}

The Path Computation Request (PCReq) message is a PCEP message sent by a
PCC to a PCE to request a path computation
\[[RFC5440](#RFC5440){.xref}\], and it may contain the LSP object
\[[RFC8231](#RFC8231){.xref}\] to identify the LSP for which the path
computation is requested. In the case of a scheduled LSP, a scheduled
TLV [MUST]{.bcp14} be carried in the LSP object in the PCReq message to
request the path computation based on the scheduled TED and LSP-DB. A
PCC [MAY]{.bcp14} use the PCReq message to obtain the scheduled path
before delegating the LSP. The parameters of the LSP may be changed
(refer to [Section
4.4](#lsp-modify){.xref}).[¶](#section-6.4-1){.pilcrow}
:::

::: {#section-6.5 .section}
### [6.5.](#section-6.5){.section-number .selfRef} [The PCRep Message](#name-the-pcrep-message){.section-name .selfRef} {#name-the-pcrep-message}

The Path Computation Reply (PCRep) message is a PCEP message sent by a
PCE to a PCC in reply to a path computation request
\[[RFC5440](#RFC5440){.xref}\], and it may contain the LSP object
\[[RFC8231](#RFC8231){.xref}\] to identify the LSP for which the path is
computed. A PCRep message can contain either a set of computed paths if
the request can be satisfied or a negative reply if not. A negative
reply may indicate the reason why no path could be found. In the case of
a scheduled LSP, a scheduled TLV [MUST]{.bcp14} be carried in the LSP
object in PCRep message to indicate the path computation based on the
scheduled TED and LSP-DB. A PCC and PCE [MAY]{.bcp14} use PCReq and
PCRep messages to obtain the scheduled path before delegating the
LSP.[¶](#section-6.5-1){.pilcrow}
:::

::: {#section-6.6 .section}
### [6.6.](#section-6.6){.section-number .selfRef} [The PCErr Message](#name-the-pcerr-message){.section-name .selfRef} {#name-the-pcerr-message}

The PCEP Error (PCErr) message is a PCEP message, as described in
\[[RFC5440](#RFC5440){.xref}\], for error reporting. This document
defines new error values for several error types to cover failures
specific to scheduling and reuses the applicable error types and error
values of \[[RFC5440](#RFC5440){.xref}\] and
\[[RFC8231](#RFC8231){.xref}\] wherever
appropriate.[¶](#section-6.6-1){.pilcrow}

The PCEP extensions for scheduling [MUST NOT]{.bcp14} be used if one or
both of the PCEP speakers have not set the corresponding bits in the
STATEFUL-PCE-CAPABILITY TLV in their respective Open messages to one. If
the PCEP speaker supports the extensions of this specification but did
not advertise this capability, then upon receipt of LSP object with the
scheduled TLV, it [MUST]{.bcp14} generate a PCEP Error (PCErr) with
Error-Type = 19 (Invalid Operation) and Error-value = 15 (Attempted LSP
scheduling while the scheduling capability was not advertised), and it
[SHOULD]{.bcp14} ignore the TLV. As per [Section
7.1](https://www.rfc-editor.org/rfc/rfc5440#section-7.1){.relref} of
\[[RFC5440](#RFC5440){.xref}\], a legacy PCEP implementation that does
not understand this specification would consider a scheduled TLV unknown
and ignore it.[¶](#section-6.6-2){.pilcrow}

If the PCC decides that the scheduling parameters proposed in the
PCUpd/PCInitiate message are unacceptable, it [MUST]{.bcp14} report this
error by including the LSP-ERROR-CODE TLV ([Section
7.3.3](https://www.rfc-editor.org/rfc/rfc8231#section-7.3.3){.relref} of
\[[RFC8231](#RFC8231){.xref}\]) with LSP Error-value = 4 (Unacceptable
parameters) in the LSP object (with the scheduled TLV) in the PCRpt
message to the PCE.[¶](#section-6.6-3){.pilcrow}

The scheduled TLV [MUST]{.bcp14} be included in the LSP object for the
scheduled LSPs. If the TLV is missing, the receiving PCEP speaker
[MUST]{.bcp14} send a PCErr message with Error-Type = 6 (Mandatory
Object missing) and Error-value = 16 (Scheduled TLV
missing).[¶](#section-6.6-4){.pilcrow}
:::
:::
:::

::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

This document defines the LSP-SCHEDULING-CAPABILITY TLV and
SCHED-LSP-ATTRIBUTE TLV; the security considerations discussed in
\[[RFC5440](#RFC5440){.xref}\], \[[RFC8231](#RFC8231){.xref}\], and
\[[RFC8281](#RFC8281){.xref}\] continue to apply. In some deployments,
the scheduling information could provide details about the network
operations that could be deemed extra sensitive. Additionally, snooping
of PCEP messages with such data or using PCEP messages for network
reconnaissance may give an attacker sensitive information about the
operations of the network. A single PCEP message can now instruct a PCC
to set up and tear down an LSP every second for a number of times. That
single message could have a significant effect on the network. Thus,
such deployments [SHOULD]{.bcp14} employ suitable PCEP security
mechanisms like TCP Authentication Option (TCP-AO), which is discussed
in \[[RFC5925](#RFC5925){.xref}\] and \[[RFC8253](#RFC8253){.xref}\].
Note that \[[RFC8253](#RFC8253){.xref}\] is considered a security
enhancement and thus is much better suited for sensitive information.
PCCs may also need to apply some form of rate limit to the processing of
scheduled LSPs.[¶](#section-7-1){.pilcrow}
:::

::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Manageability Consideration](#name-manageability-consideration){.section-name .selfRef} {#name-manageability-consideration}

::: {#section-8.1 .section}
### [8.1.](#section-8.1){.section-number .selfRef} [Control of Function and Policy](#name-control-of-function-and-pol){.section-name .selfRef} {#name-control-of-function-and-pol}

The LSP scheduling feature [MUST]{.bcp14} be controlled per tunnel by
the active stateful PCE. The values for parameters like start time and
duration [SHOULD]{.bcp14} be configurable by customer applications and
based on the local policy at PCE. The suggested default values for start
time and duration are one day (in seconds) from the current time and one
year (in seconds), respectively. One day has 86,400 seconds. One year
has 31,536,000 seconds.[¶](#section-8.1-1){.pilcrow}

When configuring the parameters for time, a user [SHOULD]{.bcp14}
consider leap years and leap seconds. If a scheduled LSP has a time
interval containing a leap year, the duration of the LSP is 366 days
plus the rest of the interval.[¶](#section-8.1-2){.pilcrow}
:::

::: {#section-8.2 .section}
### [8.2.](#section-8.2){.section-number .selfRef} [Information and Data Models](#name-information-and-data-models){.section-name .selfRef} {#name-information-and-data-models}

An implementation [SHOULD]{.bcp14} allow the operator to view the
information about each scheduled LSP defined in this document. To serve
this purpose, the PCEP YANG module
\[[PCE-PCEP-YANG](#I-D.ietf-pce-pcep-yang){.xref}\] could be
extended.[¶](#section-8.2-1){.pilcrow}
:::

::: {#section-8.3 .section}
### [8.3.](#section-8.3){.section-number .selfRef} [Liveness Detection and Monitoring](#name-liveness-detection-and-moni){.section-name .selfRef} {#name-liveness-detection-and-moni}

Mechanisms defined in this document do not imply any new liveness
detection and monitoring requirements in addition to those already
listed in \[[RFC5440](#RFC5440){.xref}\].[¶](#section-8.3-1){.pilcrow}
:::

::: {#section-8.4 .section}
### [8.4.](#section-8.4){.section-number .selfRef} [Verify Correct Operations](#name-verify-correct-operations){.section-name .selfRef} {#name-verify-correct-operations}

Mechanisms defined in this document do not imply any new operation
verification requirements in addition to those already listed in
\[[RFC5440](#RFC5440){.xref}\]. An implementation [SHOULD]{.bcp14} allow
a user to view information, including the status of a scheduled LSP,
through a Command Line Interface (CLI) tool. In addition, it
[SHOULD]{.bcp14} check and handle the cases where there is a significant
time correction or a clock skew between PCC and
PCE.[¶](#section-8.4-1){.pilcrow}
:::

::: {#section-8.5 .section}
### [8.5.](#section-8.5){.section-number .selfRef} [Requirements on Other Protocols](#name-requirements-on-other-proto){.section-name .selfRef} {#name-requirements-on-other-proto}

Mechanisms defined in this document do not imply any new requirements on
other protocols.[¶](#section-8.5-1){.pilcrow}
:::

::: {#section-8.6 .section}
### [8.6.](#section-8.6){.section-number .selfRef} [Impact on Network Operations](#name-impact-on-network-operation){.section-name .selfRef} {#name-impact-on-network-operation}

Mechanisms defined in this document do not have any impact on network
operations in addition to those already listed in
\[[RFC5440](#RFC5440){.xref}\].[¶](#section-8.6-1){.pilcrow}
:::
:::

::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

::: {#section-9.1 .section}
### [9.1.](#section-9.1){.section-number .selfRef} [PCEP TLV Type Indicators](#name-pcep-tlv-type-indicators){.section-name .selfRef} {#name-pcep-tlv-type-indicators}

IANA maintains the \"PCEP TLV Type Indicators\" subregistry within the
\"Path Computation Element Protocol (PCEP) Numbers\" registry. IANA has
made the following allocations in this subregistry for the new PCEP TLVs
defined in this document.[¶](#section-9.1-1){.pilcrow}

[]{#name-additions-to-pcep-tlv-type-}

::: {#PCEP-TLVs}
  Value   Description              Reference
  ------- ------------------------ ---------------
  49      SCHED-LSP-ATTRIBUTE      This document
  50      SCHED-PD-LSP-ATTRIBUTE   This document

  : [Table 1](#table-1){.selfRef}: [Additions to PCEP TLV Type
  Indicators Subregistry](#name-additions-to-pcep-tlv-type-){.selfRef}
:::

::: {#section-9.1.1 .section}
#### [9.1.1.](#section-9.1.1){.section-number .selfRef} [SCHED-PD-LSP-ATTRIBUTE TLV Opt Field](#name-sched-pd-lsp-attribute-tlv-){.section-name .selfRef} {#name-sched-pd-lsp-attribute-tlv-}

IANA has created and will maintain a new subregistry named
\"SCHED-PD-LSP-ATTRIBUTE TLV Opt Field\" within the \"Path Computation
Element Protocol (PCEP) Numbers\" registry. Initial values for the
subregistry are given below. New values are assigned by Standards Action
\[[RFC8126](#RFC8126){.xref}\].[¶](#section-9.1.1-1){.pilcrow}

[]{#name-new-sched-pd-lsp-attribute-}

::: {#opt-field}
  Value   Description                       Reference
  ------- --------------------------------- ---------------
  0       Reserved                          
  1       REPEAT-EVERY-MONTH                This document
  2       REPEAT-EVERY-YEAR                 This document
  3       REPEAT-EVERY-REPEAT-TIME-LENGTH   This document
  4-14    Unassigned                        
  15      Reserved                          

  : [Table 2](#table-2){.selfRef}: [New SCHED-PD-LSP-ATTRIBUTE TLV Opt
  Field Subregistry](#name-new-sched-pd-lsp-attribute-){.selfRef}
:::
:::

::: {#section-9.1.2 .section}
#### [9.1.2.](#section-9.1.2){.section-number .selfRef} [Schedule TLVs Flag Field](#name-schedule-tlvs-flag-field){.section-name .selfRef} {#name-schedule-tlvs-flag-field}

IANA has created a new subregistry named \"Schedule TLVs Flag Field\"
within the \"Path Computation Element Protocol (PCEP) Numbers\"
registry. New values are assigned by Standards Action
\[[RFC8126](#RFC8126){.xref}\]. Each bit should be tracked with the
following qualities:[¶](#section-9.1.2-1){.pilcrow}

-   [Bit number (counting from bit 0 as the most significant
    bit)[¶](#section-9.1.2-2.1){.pilcrow}]{#section-9.1.2-2.1}
-   [Capability
    description[¶](#section-9.1.2-2.2){.pilcrow}]{#section-9.1.2-2.2}
-   [Defining RFC[¶](#section-9.1.2-2.3){.pilcrow}]{#section-9.1.2-2.3}

The following values are defined in this
document:[¶](#section-9.1.2-3){.pilcrow}

[]{#name-new-schedule-tlvs-flag-fiel}

::: {#schedule-tlvs}
  Bit   Description                     Reference
  ----- ------------------------------- ---------------
  0-3   Unassigned                      
  4     Relative Time (R-bit)           This document
  5     PCC Responsible (C-bit)         This document
  6     LSP Activated (A-bit)           This document
  7     Grace Period Included (G-bit)   This document

  : [Table 3](#table-3){.selfRef}: [New Schedule TLVs Flag Field
  Subregistry](#name-new-schedule-tlvs-flag-fiel){.selfRef}
:::
:::
:::

::: {#section-9.2 .section}
### [9.2.](#section-9.2){.section-number .selfRef} [STATEFUL-PCE-CAPABILITY TLV Flag Field](#name-stateful-pce-capability-tlv-){.section-name .selfRef} {#name-stateful-pce-capability-tlv-}

This document defines new bits in the Flags field in the
STATEFUL-PCE-CAPABILITY TLV in the OPEN object. IANA maintains the
\"STATEFUL-PCE-CAPABILITY TLV Flag Field\" subregistry within the \"Path
Computation Element Protocol (PCEP) Numbers\" registry. IANA has made
the following allocations in this
subregistry.[¶](#section-9.2-1){.pilcrow}

[]{#name-additions-to-stateful-pce-c}

::: {#stateful-pce-flag}
  Bit   Description                         Reference
  ----- ----------------------------------- ---------------
  22    LSP-SCHEDULING-CAPABILITY (B-bit)   This document
  21    PD-LSP-CAPABILITY (PD-bit)          This document

  : [Table 4](#table-4){.selfRef}: [Additions to STATEFUL-PCE-CAPABILITY
  TLV Flag Field
  Subregistry](#name-additions-to-stateful-pce-c){.selfRef}
:::
:::

::: {#section-9.3 .section}
### [9.3.](#section-9.3){.section-number .selfRef} [PCEP-ERROR Object Error Types and Values](#name-pcep-error-object-error-typ){.section-name .selfRef} {#name-pcep-error-object-error-typ}

IANA has allocated the following new error types to the existing error
values within the \"PCEP-ERROR Object Error Types and Values\"
subregistry of the \"Path Computation Element Protocol (PCEP) Numbers\"
registry:[¶](#section-9.3-1){.pilcrow}

[]{#name-additions-to-pcep-error-obj}

::: {#PCEP-error}
  Error-Type   Meaning                    Error-value
  ------------ -------------------------- ---------------------------------------------------------------------------------
  6            Mandatory Object missing   16: Scheduled TLV missing
  19           Invalid Operation          15: Attempted LSP scheduling while the scheduling capability was not advertised
  29           Path computation failure   5: Constraints could not be met for some intervals

  : [Table 5](#table-5){.selfRef}: [Additions to PCEP-ERROR Object Error
  Types and Values
  Subregistry](#name-additions-to-pcep-error-obj){.selfRef}
:::
:::
:::

::: {#section-10 .section}
## [10.](#section-10){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-10.1 .section}
### [10.1.](#section-10.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC5440\]
:   [Vasseur, JP., Ed.]{.refAuthor}[ and JL. Le Roux, Ed.]{.refAuthor},
    [\"Path Computation Element (PCE) Communication Protocol
    (PCEP)\"]{.refTitle}, [RFC 5440]{.seriesInfo}, [DOI
    10.17487/RFC5440]{.seriesInfo}, March 2009,
    \<<https://www.rfc-editor.org/info/rfc5440>\>.
:   

\[RFC5905\]
:   [Mills, D.]{.refAuthor}[, Martin, J., Ed.]{.refAuthor}[,
    Burbank, J.]{.refAuthor}[, and W. Kasch]{.refAuthor}, [\"Network
    Time Protocol Version 4: Protocol and Algorithms
    Specification\"]{.refTitle}, [RFC 5905]{.seriesInfo}, [DOI
    10.17487/RFC5905]{.seriesInfo}, June 2010,
    \<<https://www.rfc-editor.org/info/rfc5905>\>.
:   

\[RFC8126\]
:   [Cotton, M.]{.refAuthor}[, Leiba, B.]{.refAuthor}[, and T.
    Narten]{.refAuthor}, [\"Guidelines for Writing an IANA
    Considerations Section in RFCs\"]{.refTitle}, [BCP 26]{.seriesInfo},
    [RFC 8126]{.seriesInfo}, [DOI 10.17487/RFC8126]{.seriesInfo}, June
    2017, \<<https://www.rfc-editor.org/info/rfc8126>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8231\]
:   [Crabbe, E.]{.refAuthor}[, Minei, I.]{.refAuthor}[,
    Medved, J.]{.refAuthor}[, and R. Varga]{.refAuthor}, [\"Path
    Computation Element Communication Protocol (PCEP) Extensions for
    Stateful PCE\"]{.refTitle}, [RFC 8231]{.seriesInfo}, [DOI
    10.17487/RFC8231]{.seriesInfo}, September 2017,
    \<<https://www.rfc-editor.org/info/rfc8231>\>.
:   

\[RFC8232\]
:   [Crabbe, E.]{.refAuthor}[, Minei, I.]{.refAuthor}[,
    Medved, J.]{.refAuthor}[, Varga, R.]{.refAuthor}[,
    Zhang, X.]{.refAuthor}[, and D. Dhody]{.refAuthor}, [\"Optimizations
    of Label Switched Path State Synchronization Procedures for a
    Stateful PCE\"]{.refTitle}, [RFC 8232]{.seriesInfo}, [DOI
    10.17487/RFC8232]{.seriesInfo}, September 2017,
    \<<https://www.rfc-editor.org/info/rfc8232>\>.
:   

\[RFC8281\]
:   [Crabbe, E.]{.refAuthor}[, Minei, I.]{.refAuthor}[,
    Sivabalan, S.]{.refAuthor}[, and R. Varga]{.refAuthor}, [\"Path
    Computation Element Communication Protocol (PCEP) Extensions for
    PCE-Initiated LSP Setup in a Stateful PCE Model\"]{.refTitle}, [RFC
    8281]{.seriesInfo}, [DOI 10.17487/RFC8281]{.seriesInfo}, December
    2017, \<<https://www.rfc-editor.org/info/rfc8281>\>.
:   

\[RFC8413\]
:   [Zhuang, Y.]{.refAuthor}[, Wu, Q.]{.refAuthor}[,
    Chen, H.]{.refAuthor}[, and A. Farrel]{.refAuthor}, [\"Framework for
    Scheduled Use of Resources\"]{.refTitle}, [RFC 8413]{.seriesInfo},
    [DOI 10.17487/RFC8413]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8413>\>.
:   
:::

::: {#section-10.2 .section}
### [10.2.](#section-10.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[PCE-PCEP-YANG\]
:   [Dhody, D.]{.refAuthor}[, Hardwick, J.]{.refAuthor}[, Beeram, V.
    P.]{.refAuthor}[, and J. Tantsura]{.refAuthor}, [\"A YANG Data Model
    for Path Computation Element Communications Protocol
    (PCEP)\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-pce-pcep-yang-15]{.seriesInfo}, 31
    October 2020,
    \<<https://tools.ietf.org/html/draft-ietf-pce-pcep-yang-15>\>.
:   

\[PCE-STATE-SYNC\]
:   [Litkowski, S.]{.refAuthor}[, Sivabalan, S.]{.refAuthor}[,
    Li, C.]{.refAuthor}[, and H. Zheng]{.refAuthor}, [\"Inter Stateful
    Path Computation Element (PCE) Communication
    Procedures.\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-litkowski-pce-state-sync-08]{.seriesInfo}, 12
    July 2020,
    \<<https://tools.ietf.org/html/draft-litkowski-pce-state-sync-08>\>.
:   

\[RFC5925\]
:   [Touch, J.]{.refAuthor}[, Mankin, A.]{.refAuthor}[, and R.
    Bonica]{.refAuthor}, [\"The TCP Authentication Option\"]{.refTitle},
    [RFC 5925]{.seriesInfo}, [DOI 10.17487/RFC5925]{.seriesInfo}, June
    2010, \<<https://www.rfc-editor.org/info/rfc5925>\>.
:   

\[RFC7399\]
:   [Farrel, A.]{.refAuthor}[ and D. King]{.refAuthor}, [\"Unanswered
    Questions in the Path Computation Element
    Architecture\"]{.refTitle}, [RFC 7399]{.seriesInfo}, [DOI
    10.17487/RFC7399]{.seriesInfo}, October 2014,
    \<<https://www.rfc-editor.org/info/rfc7399>\>.
:   

\[RFC8051\]
:   [Zhang, X., Ed.]{.refAuthor}[ and I. Minei, Ed.]{.refAuthor},
    [\"Applicability of a Stateful Path Computation Element
    (PCE)\"]{.refTitle}, [RFC 8051]{.seriesInfo}, [DOI
    10.17487/RFC8051]{.seriesInfo}, January 2017,
    \<<https://www.rfc-editor.org/info/rfc8051>\>.
:   

\[RFC8253\]
:   [Lopez, D.]{.refAuthor}[, Gonzalez de Dios, O.]{.refAuthor}[,
    Wu, Q.]{.refAuthor}[, and D. Dhody]{.refAuthor}, [\"PCEPS: Usage of
    TLS to Provide a Secure Transport for the Path Computation Element
    Communication Protocol (PCEP)\"]{.refTitle}, [RFC
    8253]{.seriesInfo}, [DOI 10.17487/RFC8253]{.seriesInfo}, October
    2017, \<<https://www.rfc-editor.org/info/rfc8253>\>.
:   

\[RFC8402\]
:   [Filsfils, C., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Ginsberg, L.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing Architecture\"]{.refTitle}, [RFC 8402]{.seriesInfo}, [DOI
    10.17487/RFC8402]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8402>\>.
:   

\[RFC8655\]
:   [Finn, N.]{.refAuthor}[, Thubert, P.]{.refAuthor}[,
    Varga, B.]{.refAuthor}[, and J. Farkas]{.refAuthor},
    [\"Deterministic Networking Architecture\"]{.refTitle}, [RFC
    8655]{.seriesInfo}, [DOI 10.17487/RFC8655]{.seriesInfo}, October
    2019, \<<https://www.rfc-editor.org/info/rfc8655>\>.
:   
:::
:::

::: {#section-appendix.a .section}
## [Acknowledgments](#name-acknowledgments){.section-name .selfRef} {#name-acknowledgments}

The authors of this document would also like to thank [Rafal
Szarecki]{.contact-name}, [Adrian Farrel]{.contact-name}, and [Cyril
Margaria]{.contact-name} for the review and
comments.[¶](#section-appendix.a-1){.pilcrow}
:::

::: {#section-appendix.b .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

::: {.left dir="auto"}
[Dhruv Dhody]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: {.left dir="auto"}
[Divyashree Techno Park, Whitefield]{.street-address}
:::

::: {.left dir="auto"}
[Bangalore]{.locality} [560066]{.postal-code}
:::

::: {.left dir="auto"}
[Karnataka]{.region}
:::

::: {.left dir="auto"}
[India]{.country-name}
:::

::: email
Email: <dhruv.ietf@gmail.com>
:::

::: {.left dir="auto"}
[Xufeng Liu]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <xliu@kuatrotech.com>
:::

::: {.left dir="auto"}
[Mehmet Toy]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Verizon]{.org}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <mehmet.toy@verizon.com>
:::

::: {.left dir="auto"}
[Vic Liu]{.fn .nameRole}
:::

::: {.left dir="auto"}
[China Mobile]{.org}
:::

::: {.left dir="auto"}
[No.32 Xuanwumen West Street, Xicheng District]{.street-address}
:::

::: {.left dir="auto"}
[Beijing]{.locality}
:::

::: {.left dir="auto"}
[100053]{.postal-code}
:::

::: {.left dir="auto"}
[China]{.country-name}
:::

::: email
Email: <liu.cmri@gmail.com>
:::

::: {.left dir="auto"}
[Lei Liu]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Fujitsu]{.org}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <lliu@us.fujitsu.com>
:::

::: {.left dir="auto"}
[Khuzema Pithewan]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Infinera]{.org}
:::

::: email
Email: <kpithewan@infinera.com>
:::

::: {.left dir="auto"}
[Zitao Wang]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: {.left dir="auto"}
[101 Software Avenue, Yuhua District]{.street-address}
:::

::: {.left dir="auto"}
[Nanjing]{.locality}
:::

::: {.left dir="auto"}
[Jiangsu]{.region}, [210012]{.postal-code}
:::

::: {.left dir="auto"}
[China]{.country-name}
:::

::: email
Email: <wangzitao@huawei.com>
:::

::: {.left dir="auto"}
[Xian Zhang]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[Research Area F3-1B]{.street-address}
:::

::: {.left dir="auto"}
[Huawei Industrial Base]{.locality}
:::

::: {.left dir="auto"}
[Shenzhen]{.locality}
:::

::: {.left dir="auto"}
[518129]{.postal-code}
:::

::: {.left dir="auto"}
[China]{.country-name}
:::

::: email
Email: <zhang.xian@huawei.com>
:::
:::

::: {#authors-addresses}
::: {#section-appendix.c .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Huaimo Chen ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Futurewei]{.org}
:::

::: {.left dir="auto"}
[Boston]{.locality}, [MA]{.region}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <huaimo.chen@futurewei.com>
:::

::: {.left dir="auto"}
[Yan Zhuang ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: {.left dir="auto"}
[Yuhua District]{.extended-address}
:::

::: {.left dir="auto"}
[101 Software Avenue]{.street-address}
:::

::: {.left dir="auto"}
[Nanjing]{.locality}
:::

::: {.left dir="auto"}
[Jiangsu]{.region}, [210012]{.postal-code}
:::

::: {.left dir="auto"}
[China]{.country-name}
:::

::: email
Email: <zhuangyan.zhuang@huawei.com>
:::

::: {.left dir="auto"}
[Qin Wu]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: {.left dir="auto"}
[Yuhua District]{.extended-address}
:::

::: {.left dir="auto"}
[101 Software Avenue]{.street-address}
:::

::: {.left dir="auto"}
[Nanjing]{.locality}
:::

::: {.left dir="auto"}
[Jiangsu]{.region}, [210012]{.postal-code}
:::

::: {.left dir="auto"}
[China]{.country-name}
:::

::: email
Email: <bill.wu@huawei.com>
:::

::: {.left dir="auto"}
[Daniele Ceccarelli]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Via A. Negrone 1/A]{.street-address}
:::

::: {.left dir="auto"}
[Genova - Sestri Ponente]{.locality}
:::

::: {.left dir="auto"}
[Italy]{.country-name}
:::

::: email
Email: <daniele.ceccarelli@ericsson.com>
:::
:::
:::
