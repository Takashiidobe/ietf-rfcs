  RFC 9050     PCECC             July 2021
  ------------ ----------------- -----------
  Li, et al.   Standards Track   \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [9050](https://www.rfc-editor.org/rfc/rfc9050){.eref}

Category:
:   Standards Track

Published:
:   July 2021

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    Z. Li
    :::

    ::: org
    Huawei Technologies
    :::
    :::

    ::: author
    ::: author-name
    S. Peng
    :::

    ::: org
    Huawei Technologies
    :::
    :::

    ::: author
    ::: author-name
    M. Negi
    :::

    ::: org
    RtBrick Inc
    :::
    :::

    ::: author
    ::: author-name
    Q. Zhao
    :::

    ::: org
    Etheric Networks
    :::
    :::

    ::: author
    ::: author-name
    C. Zhou
    :::

    ::: org
    HPE
    :::
    :::
:::

# RFC 9050 {#rfcnum}

# Path Computation Element Communication Protocol (PCEP) Procedures and Extensions for Using the PCE as a Central Controller (PCECC) of LSPs {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

The Path Computation Element (PCE) is a core component of
Software-Defined Networking (SDN)
systems.[¶](#section-abstract-1){.pilcrow}

A PCE as a Central Controller (PCECC) can simplify the processing of a
distributed control plane by blending it with elements of SDN and
without necessarily completely replacing it. Thus, the Label Switched
Path (LSP) can be calculated/set up/initiated and the label-forwarding
entries can also be downloaded through a centralized PCE server to each
network device along the path while leveraging the existing PCE
technologies as much as possible.[¶](#section-abstract-2){.pilcrow}

This document specifies the procedures and Path Computation Element
Communication Protocol (PCEP) extensions for using the PCE as the
central controller for provisioning labels along the path of the static
LSP.[¶](#section-abstract-3){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc9050>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2021 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Terminology](#name-terminology){.xref}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.xref}.  [Requirements
        Language](#name-requirements-language){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Basic PCECC
    Mode](#name-basic-pcecc-mode){.xref}
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [PCEP
    Requirements](#name-pcep-requirements){.xref}
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Procedures for Using the PCE as a Central
    Controller (PCECC)](#name-procedures-for-using-the-pc){.xref}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [Stateful PCE
        Model](#name-stateful-pce-model){.xref}
        :::

    -   ::: {#section-toc.1-1.5.2.2}
        [5.2](#section-5.2){.xref}.  [New LSP
        Functions](#name-new-lsp-functions){.xref}
        :::

    -   ::: {#section-toc.1-1.5.2.3}
        [5.3](#section-5.3){.xref}.  [New PCEP
        Object](#name-new-pcep-object){.xref}
        :::

    -   ::: {#section-toc.1-1.5.2.4}
        [5.4](#section-5.4){.xref}.  [PCECC Capability
        Advertisement](#name-pcecc-capability-advertisem){.xref}
        :::

    -   ::: {#section-toc.1-1.5.2.5}
        [5.5](#section-5.5){.xref}.  [LSP
        Operations](#name-lsp-operations){.xref}

        -   ::: {#section-toc.1-1.5.2.5.2.1}
            [5.5.1](#section-5.5.1){.xref}.  [PCE-Initiated PCECC
            LSP](#name-pce-initiated-pcecc-lsp){.xref}
            :::

        -   ::: {#section-toc.1-1.5.2.5.2.2}
            [5.5.2](#section-5.5.2){.xref}.  [PCC-Initiated PCECC
            LSP](#name-pcc-initiated-pcecc-lsp){.xref}
            :::

        -   ::: {#section-toc.1-1.5.2.5.2.3}
            [5.5.3](#section-5.5.3){.xref}.  [Central Controller
            Instructions](#name-central-controller-instruct){.xref}

            -   ::: {#section-toc.1-1.5.2.5.2.3.2.1}
                [5.5.3.1](#section-5.5.3.1){.xref}.  [Label Download
                CCI](#name-label-download-cci){.xref}
                :::

            -   ::: {#section-toc.1-1.5.2.5.2.3.2.2}
                [5.5.3.2](#section-5.5.3.2){.xref}.  [Label Cleanup
                CCI](#name-label-cleanup-cci){.xref}
                :::
            :::

        -   ::: {#section-toc.1-1.5.2.5.2.4}
            [5.5.4](#section-5.5.4){.xref}.  [PCECC LSP
            Update](#name-pcecc-lsp-update){.xref}
            :::

        -   ::: {#section-toc.1-1.5.2.5.2.5}
            [5.5.5](#section-5.5.5){.xref}.  [Re-delegation and
            Cleanup](#name-re-delegation-and-cleanup){.xref}
            :::

        -   ::: {#section-toc.1-1.5.2.5.2.6}
            [5.5.6](#section-5.5.6){.xref}.  [Synchronization of Central
            Controller
            Instructions](#name-synchronization-of-central-){.xref}
            :::

        -   ::: {#section-toc.1-1.5.2.5.2.7}
            [5.5.7](#section-5.5.7){.xref}.  [PCECC LSP State
            Report](#name-pcecc-lsp-state-report){.xref}
            :::

        -   ::: {#section-toc.1-1.5.2.5.2.8}
            [5.5.8](#section-5.5.8){.xref}.  [PCC-Based
            Allocations](#name-pcc-based-allocations){.xref}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [PCEP Messages](#name-pcep-messages){.xref}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [The PCInitiate
        Message](#name-the-pcinitiate-message){.xref}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [The PCRpt
        Message](#name-the-pcrpt-message){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [PCEP Objects](#name-pcep-objects){.xref}

    -   ::: {#section-toc.1-1.7.2.1}
        [7.1](#section-7.1){.xref}.  [OPEN
        Object](#name-open-object){.xref}

        -   ::: {#section-toc.1-1.7.2.1.2.1}
            [7.1.1](#section-7.1.1){.xref}.  [PCECC Capability
            Sub-TLV](#name-pcecc-capability-sub-tlv){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.7.2.2}
        [7.2](#section-7.2){.xref}.  [PATH-SETUP-TYPE
        TLV](#name-path-setup-type-tlv){.xref}
        :::

    -   ::: {#section-toc.1-1.7.2.3}
        [7.3](#section-7.3){.xref}.  [CCI
        Object](#name-cci-object){.xref}

        -   ::: {#section-toc.1-1.7.2.3.2.1}
            [7.3.1](#section-7.3.1){.xref}.  [Address
            TLVs](#name-address-tlvs){.xref}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}

    -   ::: {#section-toc.1-1.8.2.1}
        [8.1](#section-8.1){.xref}.  [Malicious
        PCE](#name-malicious-pce){.xref}
        :::

    -   ::: {#section-toc.1-1.8.2.2}
        [8.2](#section-8.2){.xref}.  [Malicious
        PCC](#name-malicious-pcc){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [9](#section-9){.xref}.  [Manageability
    Considerations](#name-manageability-consideration){.xref}

    -   ::: {#section-toc.1-1.9.2.1}
        [9.1](#section-9.1){.xref}.  [Control of Function and
        Policy](#name-control-of-function-and-pol){.xref}
        :::

    -   ::: {#section-toc.1-1.9.2.2}
        [9.2](#section-9.2){.xref}.  [Information and Data
        Models](#name-information-and-data-models){.xref}
        :::

    -   ::: {#section-toc.1-1.9.2.3}
        [9.3](#section-9.3){.xref}.  [Liveness Detection and
        Monitoring](#name-liveness-detection-and-moni){.xref}
        :::

    -   ::: {#section-toc.1-1.9.2.4}
        [9.4](#section-9.4){.xref}.  [Verify Correct
        Operations](#name-verify-correct-operations){.xref}
        :::

    -   ::: {#section-toc.1-1.9.2.5}
        [9.5](#section-9.5){.xref}.  [Requirements on Other
        Protocols](#name-requirements-on-other-proto){.xref}
        :::

    -   ::: {#section-toc.1-1.9.2.6}
        [9.6](#section-9.6){.xref}.  [Impact on Network
        Operations](#name-impact-on-network-operation){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.10}
    [10](#section-10){.xref}. [IANA
    Considerations](#name-iana-considerations){.xref}

    -   ::: {#section-toc.1-1.10.2.1}
        [10.1](#section-10.1){.xref}.  [PATH-SETUP-TYPE-CAPABILITY
        Sub-TLV Type
        Indicators](#name-path-setup-type-capability-){.xref}
        :::

    -   ::: {#section-toc.1-1.10.2.2}
        [10.2](#section-10.2){.xref}.  [PCECC-CAPABILITY Sub-TLV\'s Flag
        Field](#name-pcecc-capability-sub-tlvs-f){.xref}
        :::

    -   ::: {#section-toc.1-1.10.2.3}
        [10.3](#section-10.3){.xref}.  [PCEP Path Setup Type
        Registry](#name-pcep-path-setup-type-regist){.xref}
        :::

    -   ::: {#section-toc.1-1.10.2.4}
        [10.4](#section-10.4){.xref}.  [PCEP
        Object](#name-pcep-object){.xref}
        :::

    -   ::: {#section-toc.1-1.10.2.5}
        [10.5](#section-10.5){.xref}.  [CCI Object Flag
        Field](#name-cci-object-flag-field){.xref}
        :::

    -   ::: {#section-toc.1-1.10.2.6}
        [10.6](#section-10.6){.xref}.  [PCEP-Error
        Object](#name-pcep-error-object){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.11}
    [11](#section-11){.xref}. [References](#name-references){.xref}

    -   ::: {#section-toc.1-1.11.2.1}
        [11.1](#section-11.1){.xref}.  [Normative
        References](#name-normative-references){.xref}
        :::

    -   ::: {#section-toc.1-1.11.2.2}
        [11.2](#section-11.2){.xref}.  [Informative
        References](#name-informative-references){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.12}
    [](#appendix-A){.xref}[Acknowledgments](#name-acknowledgments){.xref}
    :::

-   ::: {#section-toc.1-1.13}
    [](#appendix-B){.xref}[Contributors](#name-contributors){.xref}
    :::

-   ::: {#section-toc.1-1.14}
    [](#appendix-C){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}
    :::
:::
:::

::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

The Path Computation Element (PCE) \[[RFC4655](#RFC4655){.xref}\] was
developed to offload the path computation function from routers in an
MPLS traffic-engineered (TE) network. It can compute optimal paths for
traffic across a network and can also update the paths to reflect
changes in the network or traffic demands. Since then, the role and
function of the PCE have grown to cover a number of other uses (such as
GMPLS \[[RFC7025](#RFC7025){.xref}\]) and to allow delegated control
\[[RFC8231](#RFC8231){.xref}\] and PCE-initiated use of network
resources \[[RFC8281](#RFC8281){.xref}\].[¶](#section-1-1){.pilcrow}

According to \[[RFC7399](#RFC7399){.xref}\], Software-Defined Networking
(SDN) refers to a separation between the control elements and the
forwarding components so that software running in a centralized system,
called a controller, can act to program the devices in the network to
behave in specific ways. A required element in an SDN architecture is a
component that plans how the network resources will be used and how the
devices will be programmed. It is possible to view this component as
performing specific computations to place traffic flows within the
network given knowledge of the availability of network resources, how
other forwarding devices are programmed, and the way that other flows
are routed. This is the function and purpose of a PCE, and the way that
a PCE integrates into a wider network control system (including an SDN
system) is presented in
\[[RFC7491](#RFC7491){.xref}\].[¶](#section-1-2){.pilcrow}

In early PCE implementations, where the PCE was used to derive paths for
MPLS Label Switched Paths (LSPs), paths were requested by network
elements (known as Path Computation Clients (PCCs)), and the results of
the path computations were supplied to network elements using the Path
Computation Element Communication Protocol (PCEP)
\[[RFC5440](#RFC5440){.xref}\]. This protocol was later extended to
allow a PCE to send unsolicited requests to the network for LSP
establishment \[[RFC8281](#RFC8281){.xref}\].[¶](#section-1-3){.pilcrow}

The PCE was developed to derive paths for MPLS LSPs, which are supplied
to the head end of the LSP using the PCEP. But SDN has a broader
applicability than signaled MPLS and GMPLS TE networks, and the PCE may
be used to determine paths in a range of use cases. PCEP has been
proposed as a control protocol for use in these environments to allow
the PCE to be fully enabled as a central
controller.[¶](#section-1-4){.pilcrow}

\[[RFC8283](#RFC8283){.xref}\] introduces the architecture for the PCE
as a central controller as an extension to the architecture described in
\[[RFC4655](#RFC4655){.xref}\] and assumes the continued use of PCEP as
the protocol used between the PCE and PCC.
\[[RFC8283](#RFC8283){.xref}\] further examines the motivations and
applicability for PCEP as a Southbound Interface (SBI) and introduces
the implications for the protocol.
\[[PCECC](#I-D.ietf-teas-pcecc-use-cases){.xref}\] describes the use
cases for the PCECC architecture.[¶](#section-1-5){.pilcrow}

A PCECC can simplify the processing of a distributed control plane by
blending it with elements of SDN and without necessarily completely
replacing it. Thus, the LSP can be calculated/set up/initiated and the
label-forwarding entries can also be downloaded through a centralized
PCE server to each network device along the path while leveraging the
existing PCE technologies as much as
possible.[¶](#section-1-6){.pilcrow}

This document specifies the procedures and PCEP extensions for using the
PCE as the central controller for static LSPs, where LSPs can be
provisioned as explicit label instructions at each hop on the end-to-end
path. Each router along the path must be told what label-forwarding
instructions to program and what resources to reserve. The PCE-based
controller keeps a view of the network and determines the paths of the
end-to-end LSPs, and the controller uses PCEP to communicate with each
router along the path of the end-to-end LSP.[¶](#section-1-7){.pilcrow}

While this document is focused on the procedures for the static LSPs
(referred to as the basic PCECC mode in [Section 3](#SEC_M){.xref}), the
mechanisms and protocol encodings are specified in such a way that
extensions for other use cases are easy to achieve. For example, the
extensions for the PCECC for Segment Routing (SR) are specified in
\[[PCECC-SR](#I-D.ietf-pce-pcep-extension-pce-controller-sr){.xref}\]
and
\[[PCECC-SRv6](#I-D.dhody-pce-pcep-extension-pce-controller-srv6){.xref}\].[¶](#section-1-8){.pilcrow}
:::

::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

The terminology used in this document is the same as that described in
the \[[RFC8283](#RFC8283){.xref}\].[¶](#section-2-1){.pilcrow}

::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [Requirements Language](#name-requirements-language){.section-name .selfRef} {#name-requirements-language}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-2.1-1){.pilcrow}
:::
:::

::: {#SEC_M}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Basic PCECC Mode](#name-basic-pcecc-mode){.section-name .selfRef} {#name-basic-pcecc-mode}

In this mode, LSPs are provisioned as explicit label instructions at
each hop on the end-to-end path. Each router along the path must be told
what label-forwarding instructions to program and what resources to
reserve. The controller uses PCEP to communicate with each router along
the path of the end-to-end LSP.[¶](#section-3-1){.pilcrow}

\[[RFC8283](#RFC8283){.xref}\] examines the motivations and
applicability for the PCECC and use of PCEP as an SBI. [Section
3.1.2](https://www.rfc-editor.org/rfc/rfc8283#section-3.1.2){.relref} of
\[[RFC8283](#RFC8283){.xref}\] highlights the use of the PCECC for label
allocation along the static LSPs, and it simplifies the processing of a
distributed control plane by blending it with elements of SDN and
without necessarily completely replacing it. This allows the operator to
introduce the advantages of SDN (such as programmability) into the
network. Further, [Section
3.3](https://datatracker.ietf.org/doc/html/draft-ietf-teas-pcecc-use-cases-07#section-3.3){.relref}
of \[[PCECC](#I-D.ietf-teas-pcecc-use-cases){.xref}\] describes some of
the scenarios where the PCECC technique could be useful. [Section
4](https://www.rfc-editor.org/rfc/rfc8283#section-4){.relref} of
\[[RFC8283](#RFC8283){.xref}\] also describes the implications on the
protocol when used as an SDN SBI. The operator needs to evaluate the
advantages offered by the PCECC against the operational and scalability
needs of the PCECC.[¶](#section-3-2){.pilcrow}

As per [Section
3.1.2](https://www.rfc-editor.org/rfc/rfc8283#section-3.1.2){.relref} of
\[[RFC8283](#RFC8283){.xref}\], the PCE-based controller will take
responsibility for managing some part of the MPLS label space for each
of the routers that it controls and may take wider responsibility for
partitioning the label space for each router and allocating different
parts for different uses. The PCC [MUST NOT]{.bcp14} make allocations
from the label space set aside for the PCE to avoid overlap and
collisions of label allocations. It is [RECOMMENDED]{.bcp14} that the
PCE makes allocations (from the label space set aside for the PCE) for
all nodes along the path. For the purpose of this document, it is
assumed that the exclusive label range to be used by a PCE is known and
set on both PCEP peers. A future extension could add the capability to
advertise this range via a possible PCEP extension as well (see
\[[PCE-ID](#I-D.li-pce-controlled-id-space){.xref}\]). The rest of the
processing is similar to the existing stateful PCE
mechanism.[¶](#section-3-3){.pilcrow}

This document also allows a case where the label space is maintained by
the PCC and the labels are allocated by it. In this case, the PCE should
request the allocation from the PCC, as described in [Section
5.5.8](#PCC){.xref}.[¶](#section-3-4){.pilcrow}
:::
:::

::: {#SEC_R}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [PCEP Requirements](#name-pcep-requirements){.section-name .selfRef} {#name-pcep-requirements}

The following key requirements should be considered when designing the
PCECC-based solution:[¶](#section-4-1){.pilcrow}

1.  [A PCEP speaker supporting this document needs to have the
    capability to advertise its PCECC capability to its
    peers.[¶](#section-4-2.1){.pilcrow}]{#section-4-2.1}
2.  [A PCEP speaker needs means to identify PCECC-based LSPs in the PCEP
    messages.[¶](#section-4-2.2){.pilcrow}]{#section-4-2.2}
3.  [PCEP procedures need to allow for PCC-based label
    allocations.[¶](#section-4-2.3){.pilcrow}]{#section-4-2.3}
4.  [PCEP procedures need to provide a means to update (or clean up)
    label entries downloaded to the
    PCC.[¶](#section-4-2.4){.pilcrow}]{#section-4-2.4}
5.  [PCEP procedures need to provide a means to synchronize the labels
    between the PCE and the PCC via PCEP
    messages.[¶](#section-4-2.5){.pilcrow}]{#section-4-2.5}
:::
:::

::: {#Procedures}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Procedures for Using the PCE as a Central Controller (PCECC)](#name-procedures-for-using-the-pc){.section-name .selfRef} {#name-procedures-for-using-the-pc}

::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [Stateful PCE Model](#name-stateful-pce-model){.section-name .selfRef} {#name-stateful-pce-model}

Active stateful PCE is described in \[[RFC8231](#RFC8231){.xref}\]. A
PCE as a Central Controller (PCECC) reuses the existing active stateful
PCE mechanism as much as possible to control
LSPs.[¶](#section-5.1-1){.pilcrow}
:::

::: {#section-5.2 .section}
### [5.2.](#section-5.2){.section-number .selfRef} [New LSP Functions](#name-new-lsp-functions){.section-name .selfRef} {#name-new-lsp-functions}

Several new functions are required in PCEP to support the PCECC. This
document extends the existing messages to support the new functions
required by the PCECC:[¶](#section-5.2-1){.pilcrow}

[]{.break}

PCInitiate:
:   A PCEP message described in \[[RFC8281](#RFC8281){.xref}\]. A
    PCInitiate message is used to set up a PCE-initiated LSP based on a
    PCECC mechanism. It is also extended for Central Controller
    Instructions (CCI) (download or clean up the label-forwarding
    instructions in the context of this document) on all nodes along the
    path, as described in [Section
    6.1](#SEC_PCInitiate){.xref}.[¶](#section-5.2-2.2){.pilcrow}
:   

PCRpt:
:   A PCEP message described in \[[RFC8231](#RFC8231){.xref}\]. A PCRpt
    message is used to send the PCECC LSP Reports. It is also extended
    to report the set of CCI (label-forwarding instructions in the
    context of this document) received from the PCE, as described in
    [Section 6.2](#SEC_PCRpt){.xref}. [Section
    5.5.6](#sec_label_db_sync){.xref} describes the use of a PCRpt
    message during synchronization.[¶](#section-5.2-2.4){.pilcrow}
:   

PCUpd:
:   A PCEP message described in \[[RFC8231](#RFC8231){.xref}\]. A PCUpd
    message is used to send the PCECC LSP
    Updates.[¶](#section-5.2-2.6){.pilcrow}
:   

The new functions defined in this document are mapped onto the PCEP
messages, as shown in [Table
1](#SEC_FIG1){.xref}.[¶](#section-5.2-3){.pilcrow}

[]{#name-functions-mapped-to-the-pce}

::: {#SEC_FIG1}
  Function                         Message
  -------------------------------- ------------
  PCECC Capability advertisement   Open
  Label entry Add                  PCInitiate
  Label entry Clean up             PCInitiate
  PCECC-Initiated LSP              PCInitiate
  PCECC LSP Update                 PCUpd
  PCECC LSP State Report           PCRpt
  PCECC LSP Delegation             PCRpt
  PCECC Label Report               PCRpt

  : [Table 1](#table-1){.selfRef}: [Functions Mapped to the PCEP
  Messages](#name-functions-mapped-to-the-pce){.selfRef}
:::
:::

::: {#section-5.3 .section}
### [5.3.](#section-5.3){.section-number .selfRef} [New PCEP Object](#name-new-pcep-object){.section-name .selfRef} {#name-new-pcep-object}

This document defines a new PCEP object called CCI ([Section
7.3](#SEC_CCI){.xref}) to specify the Central Controller Instructions.
In the scope of this document, this is limited to label-forwarding
instructions. Future documents can create new CCI object-types for other
types of Central Controller Instructions. The CC-ID is the unique
identifier for the CCI in PCEP. The PCEP messages are extended in this
document to handle the PCECC operations.[¶](#section-5.3-1){.pilcrow}
:::

::: {#section-5.4 .section}
### [5.4.](#section-5.4){.section-number .selfRef} [PCECC Capability Advertisement](#name-pcecc-capability-advertisem){.section-name .selfRef} {#name-pcecc-capability-advertisem}

During the PCEP initialization phase, PCEP speakers (PCE or PCC)
advertise their support of and willingness to use PCEP extensions for
the PCECC using these elements in the OPEN
message:[¶](#section-5.4-1){.pilcrow}

-   [a new Path Setup Type (PST) ([Section 7.2](#SEC_PATH){.xref}) in
    the PATH-SETUP-TYPE-CAPABILITY TLV to indicate support for PCEP
    extensions for the PCECC - 2 (Traffic engineering path is set up
    using PCECC mode)[¶](#section-5.4-2.1){.pilcrow}]{#section-5.4-2.1}
-   [a new PCECC-CAPABILITY sub-TLV ([Section
    7.1.1](#SEC_PCECC_CAP_TLV){.xref}) with the L bit set to \'1\'
    inside the PATH-SETUP-TYPE-CAPABILITY TLV to indicate a willingness
    to use PCEP extensions for the PCECC-based Central Controller
    Instructions for label
    download[¶](#section-5.4-2.2){.pilcrow}]{#section-5.4-2.2}
-   [the STATEFUL-PCE-CAPABILITY TLV \[[RFC8231](#RFC8231){.xref}\]
    (with the I flag set
    \[[RFC8281](#RFC8281){.xref}\])[¶](#section-5.4-2.3){.pilcrow}]{#section-5.4-2.3}

The new PST is to be listed in the PATH-SETUP-TYPE-CAPABILITY TLV by all
PCEP speakers that support the PCEP extensions for the PCECC in this
document.[¶](#section-5.4-3){.pilcrow}

The new PCECC-CAPABILITY sub-TLV is included in the
PATH-SETUP-TYPE-CAPABILITY TLV in the OPEN object to indicate a
willingness to use the PCEP extensions for the PCECC during the
established PCEP session. Using the L bit in this TLV, the PCE shows the
intention to function as a PCECC server, and the PCC shows a willingness
to act as a PCECC client for label download instructions (see [Section
7.1.1](#SEC_PCECC_CAP_TLV){.xref}).[¶](#section-5.4-4){.pilcrow}

If the PCECC-CAPABILITY sub-TLV is advertised and the
STATEFUL-PCE-CAPABILITY TLV is not advertised, or is advertised without
the I flag set, in the OPEN object, the receiver
[MUST]{.bcp14}:[¶](#section-5.4-5){.pilcrow}

-   [send a PCErr message with Error-Type=19 (Invalid Operation) and
    Error-value=17 (Stateful PCE capability was not advertised)
    and[¶](#section-5.4-6.1){.pilcrow}]{#section-5.4-6.1}
-   [terminate the
    session.[¶](#section-5.4-6.2){.pilcrow}]{#section-5.4-6.2}

If a PCEP speaker receives the PATH-SETUP-TYPE-CAPABILITY TLV with the
PCECC PST but without the PCECC-CAPABILITY sub-TLV, it
[MUST]{.bcp14}:[¶](#section-5.4-7){.pilcrow}

-   [send a PCErr message with Error-Type=10 (Reception of an invalid
    object) and Error-value=33 (Missing PCECC Capability sub-TLV)
    and[¶](#section-5.4-8.1){.pilcrow}]{#section-5.4-8.1}
-   [terminate the PCEP
    session.[¶](#section-5.4-8.2){.pilcrow}]{#section-5.4-8.2}

The PCECC-CAPABILITY sub-TLV [MUST NOT]{.bcp14} be used without the
corresponding PST being listed in the PATH-SETUP-TYPE-CAPABILITY TLV. If
it is present without the corresponding PST listed in the
PATH-SETUP-TYPE-CAPABILITY TLV, it [MUST]{.bcp14} be
ignored.[¶](#section-5.4-9){.pilcrow}

If one or both speakers (PCE and PCC) have not indicated support and
willingness to use the PCEP extensions for the PCECC, the PCEP
extensions for the PCECC [MUST NOT]{.bcp14} be used. If a PCECC
operation is attempted when both speakers have not agreed in the OPEN
messages, the receiver of the message
[MUST]{.bcp14}:[¶](#section-5.4-10){.pilcrow}

-   [send a PCErr message with Error-Type=19 (Invalid Operation) and
    Error-value=16 (Attempted PCECC operations when PCECC capability was
    not advertised)
    and[¶](#section-5.4-11.1){.pilcrow}]{#section-5.4-11.1}
-   [terminate the PCEP
    session.[¶](#section-5.4-11.2){.pilcrow}]{#section-5.4-11.2}

A legacy PCEP speaker (that does not recognize the PCECC Capability
sub-TLV) will ignore the sub-TLV in accordance with
\[[RFC8408](#RFC8408){.xref}\] and \[[RFC5440](#RFC5440){.xref}\]. As
per \[[RFC8408](#RFC8408){.xref}\], the legacy PCEP speaker, on receipt
of an unsupported PST in a Request Parameter (RP) / Stateful PCE Request
Parameter (SRP) object, will:[¶](#section-5.4-12){.pilcrow}

-   [send a PCErr message with Error-Type=21 (Invalid traffic
    engineering path setup type) and Error-value=1 (Unsupported path
    setup type) and[¶](#section-5.4-13.1){.pilcrow}]{#section-5.4-13.1}
-   [terminate the PCEP
    session.[¶](#section-5.4-13.2){.pilcrow}]{#section-5.4-13.2}
:::

::: {#section-5.5 .section}
### [5.5.](#section-5.5){.section-number .selfRef} [LSP Operations](#name-lsp-operations){.section-name .selfRef} {#name-lsp-operations}

The PCEP messages pertaining to a PCECC [MUST]{.bcp14} include the
PATH-SETUP-TYPE TLV \[[RFC8408](#RFC8408){.xref}\] in the SRP object
\[[RFC8231](#RFC8231){.xref}\] with the PST set to \'2\' to clearly
identify that the PCECC LSP is intended.[¶](#section-5.5-1){.pilcrow}

::: {#PCE-I}
::: {#section-5.5.1 .section}
#### [5.5.1.](#section-5.5.1){.section-number .selfRef} [PCE-Initiated PCECC LSP](#name-pce-initiated-pcecc-lsp){.section-name .selfRef} {#name-pce-initiated-pcecc-lsp}

The LSP instantiation operation is defined in
\[[RFC8281](#RFC8281){.xref}\]. In order to set up a PCE-initiated LSP
based on the PCECC mechanism, a PCE sends a PCInitiate message with the
PST set to \'2\' for the PCECC (see [Section 7.2](#SEC_PATH){.xref}) to
the ingress PCC.[¶](#section-5.5.1-1){.pilcrow}

The label-forwarding instructions (see [Section 5.5.3](#CCI){.xref})
from the PCECC are sent after the initial PCInitiate and PCRpt message
exchange with the ingress PCC, as per \[[RFC8281](#RFC8281){.xref}\]
(see [Figure 1](#SEC_FIG4){.xref}). This is done so that the
PCEP-specific identifier for the LSP (PLSP-ID) and other LSP identifiers
can be obtained from the ingress and can be included in the
label-forwarding instruction in the next set of PCInitiate messages
along the path, as described below.[¶](#section-5.5.1-2){.pilcrow}

An LSP-IDENTIFIERS TLV \[[RFC8231](#RFC8231){.xref}\] [MUST]{.bcp14} be
included for the PCECC LSPs; it uniquely identifies the LSP in the
network. Note that the fields in the LSP-IDENTIFIERS TLV are described
for the RSVP-signaled LSPs but are applicable to the PCECC LSP as well.
The LSP object is included in the CCI (label download [Section
7.3](#SEC_CCI){.xref}) to identify the PCECC LSP for this instruction.
The PLSP-ID is the original identifier used by the ingress PCC, so a
transit/egress Label Switching Router (LSR) could have multiple Central
Controller Instructions that have the same PLSP-ID. The PLSP-ID in
combination with the source (in the LSP-IDENTIFIERS TLV) [MUST]{.bcp14}
be unique. The PLSP-ID is included for maintainability reasons to ease
debugging. As per \[[RFC8281](#RFC8281){.xref}\], the LSP object could
also include the SPEAKER-ENTITY-ID TLV to identify the PCE that
initiated these instructions. Also, the CC-ID is unique in each PCEP
session, as described in [Section
7.3](#SEC_CCI){.xref}.[¶](#section-5.5.1-3){.pilcrow}

On receipt of a PCInitiate message for the PCECC LSP, the PCC responds
with a PCRpt message with the status set to \'Going-up\' and carrying
the assigned PLSP-ID (see [Figure 1](#SEC_FIG4){.xref}). The ingress PCC
also sets the D (Delegate) flag (see \[[RFC8231](#RFC8231){.xref}\]) and
C (Create) flag (see \[[RFC8281](#RFC8281){.xref}\]) in the LSP object.
When the PCE receives this PCRpt message with the PLSP-ID, it assigns
labels along the path and sets up the path by sending a PCInitiate
message to each node along the path of the LSP, as per the PCECC
technique. The CC-ID uniquely identifies the Central Controller
Instructions within a PCEP session. Each node along the path (PCC)
responds with a PCRpt message to acknowledge the CCI with the PCRpt
messages including the CCI and LSP
objects.[¶](#section-5.5.1-4){.pilcrow}

The ingress node would receive one CCI object with the O bit (out-label)
set. The transit node(s) would receive two CCI objects with the in-label
CCI without the O bit set and the out-label CCI with the O bit set. The
egress node would receive one CCI object without the O bit set (see
[Figure 1](#SEC_FIG4){.xref}). A node can determine its role based on
the setting of the O bit in the CCI object(s) and the LSP-IDENTIFIERS
TLV in the LSP object.[¶](#section-5.5.1-5){.pilcrow}

The LSP deletion operation for the PCE-initiated PCECC LSP is the same
as defined in \[[RFC8281](#RFC8281){.xref}\]. The PCE should further
perform the label entry cleanup operation, as described in [Section
5.5.3.2](#SEC_CLEANUP){.xref}, for the corresponding
LSP.[¶](#section-5.5.1-6){.pilcrow}

[]{#name-pce-initiated-pcecc-lsp-2}

::: {#SEC_FIG4}
::: {#section-5.5.1-7.1 .artwork .art-text .alignLeft}
                  +-------+                              +-------+
                  |PCC    |                              |  PCE  |
                  |ingress|                              +-------+
           +------|       |                                  |
           | PCC  +-------+                                  |
           | transit| |                                      |
    +------|        | |<--PCInitiate,PLSP-ID=0,PST=2---------| PCECC LSP
    |PCC   +--------+ |                                      | Initiate
    |egress  |  |     |----PCRpt,PLSP-ID=2,D=1,C=1---------->| PCECC LSP
    +--------+  |     |       (GOING-UP)                     |
        |       |     |                                      |
        |<-------PCInitiate,CC-ID=X,PLSP-ID=2----------------| Label
        |       |     |                                      | download
        |--------PCRpt,CC-ID=X,PLSP-ID=2-------------------->| CCI
        |       |     |                                      |
        |       |<------PCInitiate,CC-ID=Y1,Y2,PLSP-ID=2-----| Label
        |       |     |                                      | download
        |       |-------PCRpt,CC-ID=Y1,Y2,PLSP-ID=2--------->| CCI
        |       |     |                                      |
        |       |     |<----PCInitiate,CC-ID=Z,PLSP-ID=2-----| Label
        |       |     |                                      | download
        |       |     |-----PCRpt,CC-ID=Z,PLSP-ID=2--------->| CCI
        |       |     |                                      |
        |       |     |<---PCUpd,PLSP-ID=2,PST=2,D=1---------| PCECC LSP
        |       |     |      (UP)                            | Update
        |       |     |----PCRpt,PLSP-ID=2,D=1,C=1---------->|
        |       |     |      (UP)                            |
:::

[Figure 1](#figure-1){.selfRef}: [PCE-Initiated PCECC
LSP](#name-pce-initiated-pcecc-lsp-2){.selfRef}
:::

Once the label operations are completed, the PCE [MUST]{.bcp14} send a
PCUpd message to the ingress PCC. As per \[[RFC8231](#RFC8231){.xref}\],
the PCUpd message is with the D flag set.[¶](#section-5.5.1-8){.pilcrow}

The PCECC LSPs are considered to be \'up\' by default (on receipt of a
PCUpd message from the PCE). The ingress could further choose to deploy
a data-plane check mechanism and report the status back to the PCE via a
PCRpt message to make sure that the correct label instructions are made
along the path of the PCECC LSP (and it is ready to carry traffic). The
exact mechanism is out of scope of this
document.[¶](#section-5.5.1-9){.pilcrow}

In the case where the label allocations are made by the PCC itself (see
[Section 5.5.8](#PCC){.xref}), the PCE could request an allocation to be
made by the PCC; then, the PCC would send a PCRpt message with the
allocated label encoded in the CC-ID object (as shown in [Figure
2](#SEC_FIG4b){.xref}) in the configuration sequence from the egress
towards the ingress along the path.[¶](#section-5.5.1-10){.pilcrow}

[]{#name-pce-initiated-pcecc-lsp-pcc}

::: {#SEC_FIG4b}
::: {#section-5.5.1-11.1 .artwork .art-text .alignLeft}
                  +-------+                              +-------+
                  |PCC    |                              |  PCE  |
                  |ingress|                              +-------+
           +------|       |                                  |
           | PCC  +-------+                                  |
           | transit| |                                      |
    +------|        | |<--PCInitiate,PLSP-ID=0,PST=2,--------| PCECC LSP
    |PCC   +--------+ |                                      | Initiate
    |egress  |  |     |----PCRpt,PLSP-ID=2,D=1,C=1---------->| PCECC LSP
    +--------+  |     |       (GOING-UP)                     |
        |       |     |                                      |
        |<-------PCInitiate,CC-ID=X,PLSP-ID=2----------------| Label
        |       |     |     C=1,O=0                          | download
        |--------PCRpt,CC-ID=X,PLSP-ID=2-------------------->| CCI
        |       |     |     Label=L1                         |
        |       |<------PCInitiate,PLSP-ID=2,----------------| Labels
        |       |     |            CC-ID=Y1,C=1,O=0          | download
        |       |     |            CC-ID=Y2,C=0,O=1,L1       | CCI
        |       |-------PCRpt,PLSP-ID=2--------------------->|
        |       |     |       CC-ID=Y1,O=0,Label=L2          |
        |       |     |       CC-ID=Y2,O=1                   |
        |       |     |<----PCInitiate,CC-ID=Z,PLSP-ID=2-----| Label
        |       |     |                C=0,O=1,L2            | download
        |       |     |-----PCRpt,CC-ID=Z,PLSP-ID=2--------->| CCI
        |       |     |                                      |
        |       |     |<---PCUpd,PLSP-ID=2,PST=2,D=1---------| PCECC LSP
        |       |     |      (UP)                            | Update
:::

[Figure 2](#figure-2){.selfRef}: [PCE-Initiated PCECC LSP (PCC
Allocation)](#name-pce-initiated-pcecc-lsp-pcc){.selfRef}
:::

In this example, it should be noted that the request is made to the
egress node with the C bit set in the CCI object to indicate that the
label allocation needs to be done by the egress, and the egress responds
with the allocated label to the PCE. The PCE further informs the transit
PCC without setting the C bit to \'1\' in the CCI object for the
out-label, but the C bit is set to \'1\' for the in-label, so the
transit node makes the label allocation (for the in-label) and reports
to the PCE. Similarly, the C bit is unset towards the ingress to
complete all the label allocations for the PCECC
LSP.[¶](#section-5.5.1-12){.pilcrow}
:::
:::

::: {#SEC_BASIC_SETUP}
::: {#section-5.5.2 .section}
#### [5.5.2.](#section-5.5.2){.section-number .selfRef} [PCC-Initiated PCECC LSP](#name-pcc-initiated-pcecc-lsp){.section-name .selfRef} {#name-pcc-initiated-pcecc-lsp}

In order to set up an LSP based on the PCECC mechanism where the LSP is
configured at the PCC, a PCC [MUST]{.bcp14} delegate the LSP by sending
a PCRpt message with the PST set for the PCECC (see [Section
7.2](#SEC_PATH){.xref}) and D (Delegate) flag (see
\[[RFC8231](#RFC8231){.xref}\]) set in the LSP object (see [Figure
3](#SEC_FIG2){.xref}).[¶](#section-5.5.2-1){.pilcrow}

When a PCE receives the initial PCRpt message with the D flag and PST
set to \'2\', it [SHOULD]{.bcp14} calculate the path and assign labels
along the path in addition to setting up the path by sending a
PCInitiate message to each node along the path of the LSP, as per the
PCECC technique (see [Figure 3](#SEC_FIG2){.xref}). The CC-ID uniquely
identifies the CCI within a PCEP session. Each PCC further responds with
the PCRpt messages, including the CCI and LSP
objects.[¶](#section-5.5.2-2){.pilcrow}

Once the CCI (label operations) are completed, the PCE [MUST]{.bcp14}
send the PCUpd message to the ingress PCC. As per
\[[RFC8231](#RFC8231){.xref}\], this PCUpd message should include the
path information calculated by the PCE.[¶](#section-5.5.2-3){.pilcrow}

Note that the PCECC LSPs [MUST]{.bcp14} be delegated to a PCE at all
times.[¶](#section-5.5.2-4){.pilcrow}

The LSP deletion operation for the PCECC LSPs is the same as defined in
\[[RFC8231](#RFC8231){.xref}\]. If the PCE receives a PCRpt message for
LSP deletion, then it does label the cleanup operation, as described in
[Section 5.5.3.2](#SEC_CLEANUP){.xref}, for the corresponding
LSP.[¶](#section-5.5.2-5){.pilcrow}

The basic PCECC LSP setup sequence is as shown in [Figure
3](#SEC_FIG2){.xref}.[¶](#section-5.5.2-6){.pilcrow}

[]{#name-pcc-initiated-pcecc-lsp-2}

::: {#SEC_FIG2}
::: {#section-5.5.2-7.1 .artwork .art-text .alignLeft}
                   +-------+                             +-------+
                   |PCC    |                             |  PCE  |
                   |ingress|                             +-------+
            +------|       |                                 |
            | PCC  +-------+                                 |
            | transit| |                                     |
     +------|        | |---PCRpt,PLSP-ID=1,PST=2,D=1-------->| PCECC LSP
     |PCC   +--------+ |                                     |
     |egress  |  |     |                                     |
     +--------+  |     |                                     |
         |       |     |                                     |
         |<-------PCInitiate,CC-ID=X,PLSP-ID=1---------------| Label
         |       |     |     L1,O=0                          | download
         |--------PCRpt,CC-ID=X,PLSP-ID=1------------------->| CCI
         |       |     |                                     |
         |       |<------PCInitiate,PLSP-ID=1,---------------| Labels
         |       |     |            CC-ID=Y1,O=0,L2          | download
         |       |     |            CC-ID=Y2,O=1,L1          | CCI
         |       |-------PCRpt,CC-ID=Y1,Y2,PLSP-ID=1-------->|
         |       |     |                                     |
         |       |     |<----PCInitiate,CC-ID=Z,PLSP-ID=1----| Label
         |       |     |                L2,O=1               | download
         |       |     |-----PCRpt,CC-ID=Z,PLSP-ID=1-------->| CCI
         |       |     |                                     |
         |       |     |<---PCUpd,PLSP-ID=1,PST=2,D=1--------| PCECC LSP
         |       |     |                                     | Update
         |       |     |                                     |
:::

[Figure 3](#figure-3){.selfRef}: [PCC-Initiated PCECC
LSP](#name-pcc-initiated-pcecc-lsp-2){.selfRef}
:::

In the case where the label allocations are made by the PCC itself (see
[Section 5.5.8](#PCC){.xref}), the PCE could request an allocation to be
made by the PCC; then, the PCC would send a PCRpt message with the
allocated label encoded in the CC-ID object, as shown in [Figure
4](#SEC_FIG2b){.xref}.[¶](#section-5.5.2-8){.pilcrow}

[]{#name-pcc-initiated-pcecc-lsp-pcc}

::: {#SEC_FIG2b}
::: {#section-5.5.2-9.1 .artwork .art-text .alignLeft}
                   +-------+                             +-------+
                   |PCC    |                             |  PCE  |
                   |ingress|                             +-------+
            +------|       |                                 |
            | PCC  +-------+                                 |
            | transit| |                                     |
     +------|        | |---PCRpt,PLSP-ID=1,PST=2,D=1-------->| PCECC LSP
     |PCC   +--------+ |                                     |
     |egress  |  |     |                                     |
     +--------+  |     |                                     |
         |       |     |                                     |
         |<-------PCInitiate,CC-ID=X,PLSP-ID=1---------------| Label
         |       |     |     C=1                             | download
         |--------PCRpt,CC-ID=X,PLSP-ID=1------------------->| CCI
         |       |     |     Label=L1                        |
         |       |<------PCInitiate,PLSP-ID=1,---------------| Labels
         |       |     |            CC-ID=Y1,C=1             | download
         |       |     |            CC-ID=Y2,C=0,L1          | CCI
         |       |-------PCRpt,PLSP-ID=1-------------------->|
         |       |     |       CC-ID=Y1,Label=L2             |
         |       |     |       CC-ID=Y2                      |
         |       |     |<----PCInitiate,CC-ID=Z,PLSP-ID=1----| Label
         |       |     |                C=0,L2               | download
         |       |     |-----PCRpt,CC-ID=Z,PLSP-ID=1-------->| CCI
         |       |     |                                     |
         |       |     |<---PCUpd,PLSP-ID=1,PST=2,D=1--------| PCECC LSP
         |       |     |                                     | Update
         |       |     |                                     |
:::

[Figure 4](#figure-4){.selfRef}: [PCC-Initiated PCECC LSP (PCC
Allocation)](#name-pcc-initiated-pcecc-lsp-pcc){.selfRef}
:::

Note:[¶](#section-5.5.2-10.1){.pilcrow}

The O bit is set as before (and thus not
included).[¶](#section-5.5.2-10.2){.pilcrow}

In the case where the label allocations are made by the PCC itself (see
[Section 5.5.8](#PCC){.xref}), the procedure remains the same, with just
an additional constraint on the configuration
sequence.[¶](#section-5.5.2-11){.pilcrow}

The rest of the PCC-initiated PCECC LSP setup operations are the same as
those described in [Section
5.5.1](#PCE-I){.xref}.[¶](#section-5.5.2-12){.pilcrow}
:::
:::

::: {#CCI}
::: {#section-5.5.3 .section}
#### [5.5.3.](#section-5.5.3){.section-number .selfRef} [Central Controller Instructions](#name-central-controller-instruct){.section-name .selfRef} {#name-central-controller-instruct}

The new CCI for the label operations in PCEP are done via the PCInitiate
message ([Section 6.1](#SEC_PCInitiate){.xref}) by defining a new PCEP
object for CCI operations. The local label range of each PCC is assumed
to be known by both the PCC and the PCE.[¶](#section-5.5.3-1){.pilcrow}

::: {#LabelDownloadCCI}
::: {#section-5.5.3.1 .section}
##### [5.5.3.1.](#section-5.5.3.1){.section-number .selfRef} [Label Download CCI](#name-label-download-cci){.section-name .selfRef} {#name-label-download-cci}

In order to set up an LSP based on the PCECC, the PCE sends a PCInitiate
message to each node along the path to download the label instructions,
as described in Sections [5.5.1](#PCE-I){.xref} and
[5.5.2](#SEC_BASIC_SETUP){.xref}.[¶](#section-5.5.3.1-1){.pilcrow}

The CCI object [MUST]{.bcp14} be included, along with the LSP object in
the PCInitiate message. The LSP-IDENTIFIERS TLV [MUST]{.bcp14} be
included in the LSP object. The SPEAKER-ENTITY-ID TLV [SHOULD]{.bcp14}
be included in the LSP object.[¶](#section-5.5.3.1-2){.pilcrow}

If a node (PCC) receives a PCInitiate message that includes a label to
download (as part of CCI) that is out of the range set aside for the
PCE, it [MUST]{.bcp14} send a PCErr message with Error-Type=31 (PCECC
failure) and Error-value=1 (Label out of range) and [MUST]{.bcp14}
include the SRP object to specify the error is for the corresponding
label update via a PCInitiate message. If a PCC receives a PCInitiate
message but fails to download the label entry, it [MUST]{.bcp14} send a
PCErr message with Error-Type=31 (PCECC failure) and Error-value=2
(Instruction failed) and [MUST]{.bcp14} include the SRP object to
specify the error is for the corresponding label update via a PCInitiate
message.[¶](#section-5.5.3.1-3){.pilcrow}

A new PCEP object for CCI is defined in [Section
7.3](#SEC_CCI){.xref}.[¶](#section-5.5.3.1-4){.pilcrow}
:::
:::

::: {#SEC_CLEANUP}
::: {#section-5.5.3.2 .section}
##### [5.5.3.2.](#section-5.5.3.2){.section-number .selfRef} [Label Cleanup CCI](#name-label-cleanup-cci){.section-name .selfRef} {#name-label-cleanup-cci}

In order to delete an LSP based on the PCECC, the PCE sends Central
Controller Instructions via a PCInitiate message to each node along the
path of the LSP to clean up the label-forwarding
instruction.[¶](#section-5.5.3.2-1){.pilcrow}

If the PCC receives a PCInitiate message but does not recognize the
label in the CCI, the PCC [MUST]{.bcp14} generate a PCErr message with
Error-Type=19 (Invalid operation) and Error-value=18 (Unknown Label) and
[MUST]{.bcp14} include the SRP object to specify the error is for the
corresponding label cleanup (via a PCInitiate
message).[¶](#section-5.5.3.2-2){.pilcrow}

The R flag in the SRP object defined in \[[RFC8281](#RFC8281){.xref}\]
specifies the deletion of the label entry in the PCInitiate
message.[¶](#section-5.5.3.2-3){.pilcrow}

[]{#name-label-cleanup}

::: {#SEC_FIG3}
::: {#section-5.5.3.2-4.1 .artwork .art-text .alignLeft}
                   +-------+                              +-------+
                   |PCC    |                              |  PCE  |
                   |ingress|                              +-------+
            +------|       |                                  |
            | PCC  +-------+                                  |
            | transit| |                                      |
     +------|        | |                                      |
     |PCC   +--------+ |                                      |
     |egress  |  |     |                                      |
     +--------+  |     |                                      |
         |       |     |                                      |
         |<-------PCInitiate,CC-ID=X,PLSP-ID=2----------------| Label
         |       |     |                   R=1                | cleanup
         |--------PCRpt,CC-ID=X,PLSP-ID=2-------------------->| CCI
         |       |     |              R=1                     |
         |       |<------PCInitiate,CC-ID=Y1,Y2,PLSP-ID=2-----| Label
         |       |     |                          R=1         | cleanup
         |       |-------PCRpt,CC-ID=Y1,Y2,PLSP-ID=2--------->| CCI
         |       |     |                         R=1          |
         |       |     |<----PCInitiate,CC-ID=Z,PLSP-ID=2-----| Label
         |       |     |                              R=1     | cleanup
         |       |     |-----PCRpt,CC-ID=Z,PLSP-ID=2--------->| CCI
         |       |     |                         R=1          |
         |       |     |<--PCInitiate,PLSP-ID=2,PST=2,R=1-----| PCECC LSP
         |       |     |                                      | remove
:::

[Figure 5](#figure-5){.selfRef}: [Label
Cleanup](#name-label-cleanup){.selfRef}
:::

As per \[[RFC8281](#RFC8281){.xref}\], following the removal of the
label-forwarding instruction, the PCC [MUST]{.bcp14} send a PCRpt
message. The SRP object in the PCRpt message [MUST]{.bcp14} include the
SRP-ID-number from the PCInitiate message that triggered the removal.
The R flag in the SRP object [MUST]{.bcp14} be
set.[¶](#section-5.5.3.2-5){.pilcrow}

In the case where the label allocation is made by the PCC itself (see
[Section 5.5.8](#PCC){.xref}), the removal procedure remains the same,
adding the sequence constraint.[¶](#section-5.5.3.2-6){.pilcrow}
:::
:::
:::
:::

::: {#section-5.5.4 .section}
#### [5.5.4.](#section-5.5.4){.section-number .selfRef} [PCECC LSP Update](#name-pcecc-lsp-update){.section-name .selfRef} {#name-pcecc-lsp-update}

The update is done as per the make-before-break procedures, i.e., the
PCECC first updates new label instructions based on the updated path and
then informs the ingress to switch traffic before cleaning up the former
instructions. New CC-IDs are used to identify the updated instructions;
the identifiers in the LSP object uniquely identify the existing LSP.
Once new instructions are downloaded, the PCE further updates the new
path at the ingress, which triggers the traffic switch on the updated
path. The ingress PCC acknowledges with a PCRpt message, on receipt of
the PCRpt message, the PCE does the cleanup operation for the former
LSP, as described in [Section
5.5.3.2](#SEC_CLEANUP){.xref}.[¶](#section-5.5.4-1){.pilcrow}

[]{#name-pcecc-lsp-update-2}

::: {#SEC_FIG5}
::: {#section-5.5.4-2.1 .artwork .art-text .alignLeft}
                  +-------+                             +-------+
                  |PCC    |                             |  PCE  |
                  |ingress|                             +-------+
           +------|       |                                 |
           | PCC  +-------+                                 |
           | transit| |                                     |
    +------|        | |                                     |
    |PCC   +--------+ |                                     |
    |egress  |  |     |                                     |
    +--------+  |     |                                     |
        |       |     |                                     | New Path
        |<------ PCInitiate,CC-ID=XX,PLSP-ID=1 -------------| for LSP
        |       |     |                                     | trigger
        |--------PCRpt,CC-ID=XX,PLSP-ID=1------------------>| new CCI
        |       |     |                                     |
        |       |<------PCInitiate,CC-ID=YY1,YY2,PLSP-ID=1--| Label
        |       |     |                                     | download
        |       |-------PCRpt,CC-ID=YY1,YY2,PLSP-ID=1------>| CCI
        |       |     |                                     |
        |       |     |<----PCInitiate,CC-ID=ZZ,PLSP-ID=1---| Label
        |       |     |                                     | download
        |       |     |-----PCRpt,CC-ID=ZZ,PLSP-ID=1------->| CCI
        |       |     |                                     |
        |       |     |<---PCUpd,PLSP-ID=1,PST=2,D=1--------| PCECC
        |       |     |    SRP=S                            | LSP Update
        |       |     |                                     |
        |       |     |---PCRpt,PLSP-ID=1,PST=2,D=1-------->| Trigger
        |       |     |       (SRP=S)                       | Delete
        |       |     |                                     | former CCI
        |       |     |                                     |
        |<-------PCInitiate,CC-ID=X,PLSP-ID=1---------------| Label
        |       |     |                   R=1               | cleanup
        |--------PCRpt,CC-ID=X,PLSP-ID=1------------------->| CCI
        |       |     |              R=1                    |
        |       |<------PCInitiate,CC-ID=Y1,Y2,PLSP-ID=1----| Label
        |       |     |                              R=1    | cleanup
        |       |-------PCRpt,CC-ID=Y1,Y2,PLSP-ID=1-------->| CCI
        |       |     |                         R=1         |
        |       |     |<----PCInitiate,CC-ID=Z,PLSP-ID=1----| Label
        |       |     |                              R=1    | cleanup
        |       |     |-----PCRpt,CC-ID=Z,PLSP-ID=1-------->| CCI
        |       |     |                         R=1         |
:::

[Figure 6](#figure-6){.selfRef}: [PCECC LSP
Update](#name-pcecc-lsp-update-2){.selfRef}
:::

The modified PCECC LSPs are considered to be \'up\' by default. The
ingress could further choose to deploy a data-plane check mechanism and
report the status back to the PCE via a PCRpt message. The exact
mechanism is out of scope of this
document.[¶](#section-5.5.4-3){.pilcrow}

In the case where the label allocations are made by the PCC itself (see
[Section 5.5.8](#PCC){.xref}), the procedure remains the
same.[¶](#section-5.5.4-4){.pilcrow}
:::

::: {#section-5.5.5 .section}
#### [5.5.5.](#section-5.5.5){.section-number .selfRef} [Re-delegation and Cleanup](#name-re-delegation-and-cleanup){.section-name .selfRef} {#name-re-delegation-and-cleanup}

As described in \[[RFC8281](#RFC8281){.xref}\], a new PCE can gain
control over an orphaned LSP. In the case of a PCECC LSP, the new PCE
[MUST]{.bcp14} also gain control over the CCI in the same way by sending
a PCInitiate message that includes the SRP, LSP, and CCI objects and
carries the CC-ID and PLSP-ID identifying the instructions that it wants
to take control of.[¶](#section-5.5.5-1){.pilcrow}

Further, as described in \[[RFC8281](#RFC8281){.xref}\], the State
Timeout Interval timer ensures that a PCE crash does not result in
automatic and immediate disruption for the services using PCE-initiated
LSPs. Similarly the Central Controller Instructions are not removed
immediately upon PCE failure. Instead, they are cleaned up on the
expiration of this timer. This allows for network cleanup without manual
intervention. The PCC [MUST]{.bcp14} support the removal of CCI as one
of the behaviors applied on expiration of the State Timeout Interval
timer.[¶](#section-5.5.5-2){.pilcrow}

In the case of the PCC-initiated PCECC LSP, the control over the
orphaned LSP at the ingress PCC is taken over by the mechanism specified
in \[[RFC8741](#RFC8741){.xref}\] to request delegation. The control
over the CCI is described above using
\[[RFC8281](#RFC8281){.xref}\].[¶](#section-5.5.5-3){.pilcrow}
:::

::: {#sec_label_db_sync}
::: {#section-5.5.6 .section}
#### [5.5.6.](#section-5.5.6){.section-number .selfRef} [Synchronization of Central Controller Instructions](#name-synchronization-of-central-){.section-name .selfRef} {#name-synchronization-of-central-}

The purpose of CCI synchronization (labels in the context of this
document) is to make sure that the PCE\'s view of CCI (labels) matches
with the PCC\'s label allocation. This synchronization is performed as
part of the LSP State Synchronization, as described in
\[[RFC8231](#RFC8231){.xref}\] and
\[[RFC8232](#RFC8232){.xref}\].[¶](#section-5.5.6-1){.pilcrow}

As per LSP State Synchronization \[[RFC8231](#RFC8231){.xref}\], a PCC
reports the state of its LSPs to the PCE using PCRpt messages and, as
per \[[RFC8281](#RFC8281){.xref}\], the PCE would initiate any missing
LSPs and/or remove any LSPs that are not wanted. The same PCEP messages
and procedures are also used for the CCI synchronization. The PCRpt
message includes the CCI and the LSP object to report the
label-forwarding instructions. The PCE would further remove any unwanted
instructions or initiate any missing
instructions.[¶](#section-5.5.6-2){.pilcrow}
:::
:::

::: {#section-5.5.7 .section}
#### [5.5.7.](#section-5.5.7){.section-number .selfRef} [PCECC LSP State Report](#name-pcecc-lsp-state-report){.section-name .selfRef} {#name-pcecc-lsp-state-report}

As mentioned before, an ingress PCC [MAY]{.bcp14} choose to apply any
Operations, Administration, and Maintenance (OAM) mechanism to check the
status of the LSP in the data plane and [MAY]{.bcp14} further send its
status in a PCRpt message to the PCE.[¶](#section-5.5.7-1){.pilcrow}
:::

::: {#PCC}
::: {#section-5.5.8 .section}
#### [5.5.8.](#section-5.5.8){.section-number .selfRef} [PCC-Based Allocations](#name-pcc-based-allocations){.section-name .selfRef} {#name-pcc-based-allocations}

The PCE can request the PCC to allocate the label using the PCInitiate
message. The C flag in the CCI object is set to \'1\' to indicate that
the allocation needs to be made by the PCC. The PCC [MUST]{.bcp14} try
to allocate the label and [MUST]{.bcp14} report to the PCE via a PCRpt
or PCErr message.[¶](#section-5.5.8-1){.pilcrow}

If the value of the label is 0 and the C flag is set to \'1\', it
indicates that the PCE is requesting the allocation to be made by the
PCC. If the label is \'n\' and the C flag is set to \'1\' in the CCI
object, it indicates that the PCE requests a specific value \'n\' for
the label. If the allocation is successful, the PCC [MUST]{.bcp14}
report via the PCRpt message with the CCI object. If the value of the
label in the CCI object is invalid, it [MUST]{.bcp14} send a PCErr
message with Error-Type=31 (PCECC failure) and Error-value=3 (Invalid
CCI). If it is valid but the PCC is unable to allocate it, it
[MUST]{.bcp14} send a PCErr message with Error-Type=31 (PCECC failure)
and Error-value=4 (Unable to allocate the specified
CCI).[¶](#section-5.5.8-2){.pilcrow}

If the PCC wishes to withdraw or modify the previously assigned label,
it [MUST]{.bcp14} send a PCRpt message without any label or with the
label containing the new value, respectively, in the CCI object. The PCE
would further trigger the label cleanup of the older label, as per
[Section 5.5.3.2](#SEC_CLEANUP){.xref}.[¶](#section-5.5.8-3){.pilcrow}
:::
:::
:::
:::
:::

::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [PCEP Messages](#name-pcep-messages){.section-name .selfRef} {#name-pcep-messages}

As defined in \[[RFC5440](#RFC5440){.xref}\], a PCEP message consists of
a common header followed by a variable-length body made of a set of
objects that can be either mandatory or optional. An object is said to
be mandatory in a PCEP message when the object must be included for the
message to be considered valid. For each PCEP message type, a set of
rules is defined, which specifies the set of objects that the message
can carry. An implementation [MUST]{.bcp14} form the PCEP messages using
the object ordering specified in this
document.[¶](#section-6-1){.pilcrow}

The LSP-IDENTIFIERS TLV [MUST]{.bcp14} be included in the LSP object for
the PCECC LSP.[¶](#section-6-2){.pilcrow}

The message formats in this document are specified using Routing
Backus-Naur Form (RBNF) encoding, as specified in
\[[RFC5511](#RFC5511){.xref}\].[¶](#section-6-3){.pilcrow}

::: {#SEC_PCInitiate}
::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [The PCInitiate Message](#name-the-pcinitiate-message){.section-name .selfRef} {#name-the-pcinitiate-message}

The PCInitiate message \[[RFC8281](#RFC8281){.xref}\] can be used to
download or remove the labels; this document extends the message, as
shown below.[¶](#section-6.1-1){.pilcrow}

::: {#section-6.1-2}
``` sourcecode
     <PCInitiate Message> ::= <Common Header>
                              <PCE-initiated-lsp-list>
```

[¶](#section-6.1-2){.pilcrow}
:::

Where:[¶](#section-6.1-3){.pilcrow}

-   [\<Common Header> is defined in
    \[[RFC5440](#RFC5440){.xref}\].[¶](#section-6.1-4.1){.pilcrow}]{#section-6.1-4.1}

::: {#section-6.1-5}
``` sourcecode
     <PCE-initiated-lsp-list> ::= <PCE-initiated-lsp-request>
                                  [<PCE-initiated-lsp-list>]

     <PCE-initiated-lsp-request> ::=
                            (<PCE-initiated-lsp-instantiation>|
                             <PCE-initiated-lsp-deletion>|
                             <PCE-initiated-lsp-central-control>)

     <PCE-initiated-lsp-central-control> ::= <SRP>
                                             <LSP>
                                             <cci-list>

     <cci-list> ::=  <CCI>
                     [<cci-list>]
```

[¶](#section-6.1-5){.pilcrow}
:::

Where:[¶](#section-6.1-6){.pilcrow}

-   [\<PCE-initiated-lsp-instantiation> and
    \<PCE-initiated-lsp-deletion> are as per
    \[[RFC8281](#RFC8281){.xref}\].[¶](#section-6.1-7.1){.pilcrow}]{#section-6.1-7.1}
-   [The LSP and SRP object is defined in
    \[[RFC8231](#RFC8231){.xref}\].[¶](#section-6.1-7.2){.pilcrow}]{#section-6.1-7.2}

When a PCInitiate message is used for the CCI (labels), the SRP, LSP,
and CCI objects [MUST]{.bcp14} be present. The SRP object is defined in
\[[RFC8231](#RFC8231){.xref}\]; if the SRP object is missing, the
receiving PCC [MUST]{.bcp14} send a PCErr message with Error-Type=6
(Mandatory Object missing) and Error-value=10 (SRP object missing). The
LSP object is defined in \[[RFC8231](#RFC8231){.xref}\], and if the LSP
object is missing, the receiving PCC [MUST]{.bcp14} send a PCErr message
with Error-Type=6 (Mandatory Object missing) and Error-value=8 (LSP
object missing). The CCI object is defined in [Section
7.3](#SEC_CCI){.xref}, and if the CCI object is missing, the receiving
PCC [MUST]{.bcp14} send a PCErr message with Error-Type=6 (Mandatory
Object missing) and Error-value=17 (CCI object missing). More than one
CCI object [MAY]{.bcp14} be included in the PCInitiate message for a
transit LSR.[¶](#section-6.1-8){.pilcrow}

To clean up entries, the R (remove) bit [MUST]{.bcp14} be set in the SRP
object to be encoded along with the LSP and CCI
objects.[¶](#section-6.1-9){.pilcrow}

The CCI object received at the ingress node [MUST]{.bcp14} have the O
bit (out-label) set. The CCI object received at the egress
[MUST]{.bcp14} have the O bit unset. If this is not the case, the PCC
[MUST]{.bcp14} send a PCErr message with Error-Type=31 (PCECC failure)
and Error-value=3 (Invalid CCI). Other instances of the CCI object, if
present, [MUST]{.bcp14} be ignored.[¶](#section-6.1-10){.pilcrow}

For the point-to-point (P2P) LSP setup via the PCECC technique, at the
transit LSR, two CCI objects are expected for incoming and outgoing
labels associated with the LSP object. If any other CCI object is
included in the PCInitiate message, it [MUST]{.bcp14} be ignored. If the
transit LSR did not receive two CCI objects, with one of them having the
O bit set and another with the O bit unset, it [MUST]{.bcp14} send a
PCErr message with Error-Type=31 (PCECC failure) and Error-value=3
(Invalid CCI).[¶](#section-6.1-11){.pilcrow}

Note that, on receipt of the PCInitiate message with CCI object, the
ingress, egress, or transit role of the PCC is identified via the
ingress and egress IP address encoded in the LSP-IDENTIFIERS
TLV.[¶](#section-6.1-12){.pilcrow}
:::
:::

::: {#SEC_PCRpt}
::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [The PCRpt Message](#name-the-pcrpt-message){.section-name .selfRef} {#name-the-pcrpt-message}

The PCRpt message can be used to report the labels that were allocated
by the PCE to be used during the State Synchronization phase or as an
acknowledgment to a PCInitiate message.[¶](#section-6.2-1){.pilcrow}

::: {#section-6.2-2}
``` sourcecode
      <PCRpt Message> ::= <Common Header>
                          <state-report-list>
```

[¶](#section-6.2-2){.pilcrow}
:::

Where:[¶](#section-6.2-3){.pilcrow}

::: {#section-6.2-4}
``` sourcecode
      <state-report-list> ::= <state-report>[<state-report-list>]

      <state-report> ::= (<lsp-state-report>|
                          <central-control-report>)

      <lsp-state-report> ::= [<SRP>]
                             <LSP>
                             <path>

      <central-control-report> ::= [<SRP>]
                                   <LSP>
                                   <cci-list>

      <cci-list> ::=  <CCI>
                      [<cci-list>]
```

[¶](#section-6.2-4){.pilcrow}
:::

Where:[¶](#section-6.2-5){.pilcrow}

-   [\<path> is as per \[[RFC8231](#RFC8231){.xref}\], and the LSP and
    SRP objects are also defined in
    \[[RFC8231](#RFC8231){.xref}\].[¶](#section-6.2-6.1){.pilcrow}]{#section-6.2-6.1}

When a PCRpt message is used to report the CCI (labels), the LSP and CCI
objects [MUST]{.bcp14} be present. The LSP object is defined in
\[[RFC8231](#RFC8231){.xref}\], and if the LSP object is missing, the
receiving PCE [MUST]{.bcp14} send a PCErr message with Error-Type=6
(Mandatory Object missing) and Error-value=8 (LSP object missing). The
CCI object is defined in [Section 7.3](#SEC_CCI){.xref}, and if the CCI
object is missing, the receiving PCE [MUST]{.bcp14} send a PCErr message
with Error-Type=6 (Mandatory Object missing) and Error-value=17 (CCI
object missing). Two CCI objects can be included in the PCRpt message
for a transit LSR.[¶](#section-6.2-7){.pilcrow}
:::
:::
:::

::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [PCEP Objects](#name-pcep-objects){.section-name .selfRef} {#name-pcep-objects}

The PCEP objects defined in this document are compliant with the PCEP
object format defined in
\[[RFC5440](#RFC5440){.xref}\].[¶](#section-7-1){.pilcrow}

::: {#section-7.1 .section}
### [7.1.](#section-7.1){.section-number .selfRef} [OPEN Object](#name-open-object){.section-name .selfRef} {#name-open-object}

This document defines a new PST (2) to be included in the
PATH-SETUP-TYPE-CAPABILITY TLV in the OPEN object. Further, a new
sub-TLV for the PCECC capability exchange is also
defined.[¶](#section-7.1-1){.pilcrow}

::: {#SEC_PCECC_CAP_TLV}
::: {#section-7.1.1 .section}
#### [7.1.1.](#section-7.1.1){.section-number .selfRef} [PCECC Capability Sub-TLV](#name-pcecc-capability-sub-tlv){.section-name .selfRef} {#name-pcecc-capability-sub-tlv}

The PCECC-CAPABILITY sub-TLV is an optional TLV for use in the OPEN
object in the PATH-SETUP-TYPE-CAPABILITY TLV when the Path Setup Type
list includes the PCECC Path Setup Type 2. A PCECC-CAPABILITY sub-TLV
[MUST]{.bcp14} be ignored if the PST list does not contain
PST=2.[¶](#section-7.1.1-1){.pilcrow}

Its format is shown in [Figure
7](#SEC_FIG8){.xref}.[¶](#section-7.1.1-2){.pilcrow}

[]{#name-pcecc-capability-sub-tlv-2}

::: {#SEC_FIG8}
::: {#section-7.1.1-3.1 .artwork .art-text .alignLeft}
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |               Type=1          |          Length=4             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                             Flags                           |L|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
:::

[Figure 7](#figure-7){.selfRef}: [PCECC Capability
Sub-TLV](#name-pcecc-capability-sub-tlv-2){.selfRef}
:::

The type of the TLV is 1, and it has a fixed length of 4
octets.[¶](#section-7.1.1-4){.pilcrow}

The value comprises a single field: Flags (32 bits). Currently, the
following flag bit is defined:[¶](#section-7.1.1-5){.pilcrow}

[]{.break}

L bit (Label):
:   If set to \'1\' by a PCEP speaker, the L flag indicates that the
    PCEP speaker will support and is willing to handle the PCEC-based
    Central Controller Instructions for label download. The bit
    [MUST]{.bcp14} be set to \'1\' by both a PCC and a PCE for the PCECC
    label download/report on a PCEP
    session.[¶](#section-7.1.1-6.2){.pilcrow}
:   

Unassigned bits [MUST]{.bcp14} be set to \'0\' on transmission and
[MUST]{.bcp14} be ignored on receipt.[¶](#section-7.1.1-7){.pilcrow}
:::
:::
:::

::: {#SEC_PATH}
::: {#section-7.2 .section}
### [7.2.](#section-7.2){.section-number .selfRef} [PATH-SETUP-TYPE TLV](#name-path-setup-type-tlv){.section-name .selfRef} {#name-path-setup-type-tlv}

The PATH-SETUP-TYPE TLV is defined in \[[RFC8408](#RFC8408){.xref}\];
this document defines a new PST value:[¶](#section-7.2-1){.pilcrow}

[]{.break}

PST=2:
:   Path is set up via the PCECC mode.[¶](#section-7.2-2.2){.pilcrow}
:   

On a PCRpt/PCUpd/PCInitiate message, the PST=2 in the PATH-SETUP-TYPE
TLV in the SRP object [MUST]{.bcp14} be included for an LSP set up via
the PCECC-based mechanism.[¶](#section-7.2-3){.pilcrow}
:::
:::

::: {#SEC_CCI}
::: {#section-7.3 .section}
### [7.3.](#section-7.3){.section-number .selfRef} [CCI Object](#name-cci-object){.section-name .selfRef} {#name-cci-object}

The CCI object is used by the PCE to specify the forwarding instructions
(label information in the context of this document) to the PCC and
[MAY]{.bcp14} be carried within a PCInitiate or PCRpt message for label
download/report.[¶](#section-7.3-1){.pilcrow}

CCI Object-Class is 44.[¶](#section-7.3-2){.pilcrow}

CCI Object-Type is 1 for the MPLS label.[¶](#section-7.3-3){.pilcrow}

[]{#name-cci-object-2}

::: {#SEC_FIG9}
::: {#section-7.3-4.1 .artwork .art-text .alignLeft}
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                            CC-ID                              |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |          Reserved1            |             Flags         |C|O|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                 Label                 |     Reserved2         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    //                        Optional TLV                         //
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
:::

[Figure 8](#figure-8){.selfRef}: [CCI
Object](#name-cci-object-2){.selfRef}
:::

The fields in the CCI object are as
follows:[¶](#section-7.3-5){.pilcrow}

[]{.break}

CC-ID:
:   A PCEP-specific identifier for the CCI information. A PCE creates a
    CC-ID for each instruction; the value is unique within the scope of
    the PCE and is constant for the lifetime of a PCEP session. The
    values 0 and 0xFFFFFFFF are reserved and [MUST NOT]{.bcp14} be used.
    Note that
    \[[SECURITY-ID](#I-D.gont-numeric-ids-sec-considerations){.xref}\]
    gives advice on assigning transient numeric identifiers, such as the
    CC-ID, so as to minimize security
    risks.[¶](#section-7.3-6.2){.pilcrow}
:   

Reserved1 (16 bit):
:   Set to \'zero\' while sending; ignored on
    receipt.[¶](#section-7.3-6.4){.pilcrow}
:   

Flags (16 bit):

:   A field used to carry any additional information pertaining to
    the CCI. Currently, the following flag bits are
    defined:[¶](#section-7.3-6.6.1){.pilcrow}

    -   [O bit (out-label) : If the bit is set to \'1\', it specifies
        the label is the out-label, and it is mandatory to encode the
        next-hop information (via Address TLVs ([Section
        7.3.1](#AddressTLVs){.xref}) in the CCI object). If the bit is
        not set, it specifies the label is the in-label, and it is
        optional to encode the local interface information (via Address
        TLVs in the CCI
        object).[¶](#section-7.3-6.6.2.1){.pilcrow}]{#section-7.3-6.6.2.1}
    -   [C Bit (PCC allocation): If the bit is set to \'1\', it
        indicates that the label allocation needs to be done by the PCC
        for the Central Controller Instruction. A PCE sets this bit to
        request the PCC to make an allocation from its label space. A
        PCC would set this bit to indicate that it has allocated the
        label and report it to the
        PCE.[¶](#section-7.3-6.6.2.2){.pilcrow}]{#section-7.3-6.6.2.2}
    -   [All unassigned bits [MUST]{.bcp14} be set to \'zero\' at
        transmission and ignored at
        receipt.[¶](#section-7.3-6.6.2.3){.pilcrow}]{#section-7.3-6.6.2.3}

:   

Label (20-bit):
:   The label information.[¶](#section-7.3-6.8){.pilcrow}
:   

Reserved2 (12 bit):
:   Set to \'zero\' while sending; ignored on
    receive.[¶](#section-7.3-6.10){.pilcrow}
:   

::: {#AddressTLVs}
::: {#section-7.3.1 .section}
#### [7.3.1.](#section-7.3.1){.section-number .selfRef} [Address TLVs](#name-address-tlvs){.section-name .selfRef} {#name-address-tlvs}

\[[RFC8779](#RFC8779){.xref}\] defines the IPV4-ADDRESS, IPV6-ADDRESS,
and UNNUMBERED-ENDPOINT TLVs for the use of Generalized Endpoint. The
same TLVs can also be used in the CCI object to associate the next-hop
information in the case of an outgoing label and local interface
information in the case of an incoming label. The next-hop information
encoded in these TLVs needs to be a directly connected IP
address/interface information. If the PCC is not able to resolve the
next-hop information, it [MUST]{.bcp14} reject the CCI and respond with
a PCErr message with Error-Type=31 (PCECC failure) and Error-value=5
(Invalid next-hop information).[¶](#section-7.3.1-1){.pilcrow}
:::
:::
:::
:::
:::

::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

As per \[[RFC8283](#RFC8283){.xref}\], the security considerations for a
PCE-based controller are a little different from those for any other PCE
system. That is, the operation relies heavily on the use and security of
PCEP, so consideration should be given to the security features
discussed in \[[RFC5440](#RFC5440){.xref}\] and the additional
mechanisms described in \[[RFC8253](#RFC8253){.xref}\]. It further lists
the vulnerability of a central controller architecture, such as a
central point of failure, denial of service, and a focus for
interception and modification of messages sent to individual Network
Elements (NEs).[¶](#section-8-1){.pilcrow}

In the PCECC operations, the PCEP sessions are also required to the
internal routers, thus increasing the resources required for the session
management at the PCE.[¶](#section-8-2){.pilcrow}

The PCECC extension builds on the existing PCEP messages; thus, the
security considerations described in \[[RFC5440](#RFC5440){.xref}\],
\[[RFC8231](#RFC8231){.xref}\], and \[[RFC8281](#RFC8281){.xref}\]
continue to apply. \[[RFC8253](#RFC8253){.xref}\] specifies the support
of Transport Layer Security (TLS) in PCEP, as it provides support for
peer authentication, message encryption, and integrity. It further
provides mechanisms for associating peer identities with different
levels of access and/or authoritativeness via an attribute in X.509
certificates or a local policy with a specific accept-list of X.509
certificates. This can be used to check the authority for the PCECC
operations. Additional considerations are discussed in following
sections.[¶](#section-8-3){.pilcrow}

::: {#section-8.1 .section}
### [8.1.](#section-8.1){.section-number .selfRef} [Malicious PCE](#name-malicious-pce){.section-name .selfRef} {#name-malicious-pce}

In this extension, the PCE has complete control over the PCC to
download/remove the labels and can cause the LSPs to behave
inappropriately and cause a major impact to the network. As a general
precaution, it is [RECOMMENDED]{.bcp14} that this PCEP extension be
activated on mutually authenticated and encrypted sessions across PCEs
and PCCs belonging to the same administrative authority, using TLS
\[[RFC8253](#RFC8253){.xref}\], as per the recommendations and best
current practices in BCP 195
\[[RFC7525](#RFC7525){.xref}\].[¶](#section-8.1-1){.pilcrow}

Further, an attacker may flood the PCC with the PCECC-related messages
at a rate that exceeds either the PCC\'s ability to process them or the
network\'s ability to send them, by either spoofing messages or
compromising the PCE itself. \[[RFC8281](#RFC8281){.xref}\] provides a
mechanism to protect the PCC by imposing a limit. The same can be used
for the PCECC operations as well.[¶](#section-8.1-2){.pilcrow}

As specified in [Section 5.5.3.1](#LabelDownloadCCI){.xref}, a PCC needs
to check if the label in the CCI object is in the range set aside for
the PCE; otherwise, it [MUST]{.bcp14} send a PCErr message with
Error-Type=31 (PCECC failure) and Error-value=1 (Label out of
range).[¶](#section-8.1-3){.pilcrow}
:::

::: {#section-8.2 .section}
### [8.2.](#section-8.2){.section-number .selfRef} [Malicious PCC](#name-malicious-pcc){.section-name .selfRef} {#name-malicious-pcc}

The PCECC mechanism described in this document requires the PCE to keep
labels (CCI) that it downloads and relies on the PCC responding (with
either an acknowledgment or an error message) to request for LSP
instantiation. This is an additional attack surface by placing a
requirement for the PCE to keep a CCI/label replica for each PCC. It is
[RECOMMENDED]{.bcp14} that PCE implementations provide a limit on
resources (in this case the CCI) a single PCC can occupy.
\[[RFC8231](#RFC8231){.xref}\] provides a notification mechanism when
such threshold is reached.[¶](#section-8.2-1){.pilcrow}
:::
:::

::: {#section-9 .section}
## [9.](#section-9){.section-number .selfRef} [Manageability Considerations](#name-manageability-consideration){.section-name .selfRef} {#name-manageability-consideration}

::: {#section-9.1 .section}
### [9.1.](#section-9.1){.section-number .selfRef} [Control of Function and Policy](#name-control-of-function-and-pol){.section-name .selfRef} {#name-control-of-function-and-pol}

A PCE or PCC implementation [SHOULD]{.bcp14} allow the PCECC capability
to be enabled/disabled as part of the global configuration. [Section
6.1](https://www.rfc-editor.org/rfc/rfc8664#section-6.1){.relref} of
\[[RFC8664](#RFC8664){.xref}\] list various controlling factors
regarding the Path Setup Type. They are also applicable to the PCECC
Path Setup Types. Further, [Section
6.2](https://www.rfc-editor.org/rfc/rfc8664#section-6.2){.relref} of
\[[RFC8664](#RFC8664){.xref}\] describes the migration steps when the
Path Setup Type of an existing LSP is
changed.[¶](#section-9.1-1){.pilcrow}
:::

::: {#section-9.2 .section}
### [9.2.](#section-9.2){.section-number .selfRef} [Information and Data Models](#name-information-and-data-models){.section-name .selfRef} {#name-information-and-data-models}

\[[RFC7420](#RFC7420){.xref}\] describes the PCEP MIB; this MIB can be
extended to get the PCECC capability
status.[¶](#section-9.2-1){.pilcrow}

The PCEP YANG module \[[PCEP-YANG](#I-D.ietf-pce-pcep-yang){.xref}\]
could be extended to enable/disable the PCECC
capability.[¶](#section-9.2-2){.pilcrow}
:::

::: {#section-9.3 .section}
### [9.3.](#section-9.3){.section-number .selfRef} [Liveness Detection and Monitoring](#name-liveness-detection-and-moni){.section-name .selfRef} {#name-liveness-detection-and-moni}

Mechanisms defined in this document do not imply any new liveness
detection and monitoring requirements in addition to those already
listed in \[[RFC5440](#RFC5440){.xref}\].[¶](#section-9.3-1){.pilcrow}
:::

::: {#section-9.4 .section}
### [9.4.](#section-9.4){.section-number .selfRef} [Verify Correct Operations](#name-verify-correct-operations){.section-name .selfRef} {#name-verify-correct-operations}

The operator needs the following information to verify that PCEP is
operating correctly with respect to the PCECC Path Setup
Type.[¶](#section-9.4-1){.pilcrow}

-   [An implementation [SHOULD]{.bcp14} allow the operator to view
    whether the PCEP speaker sent the PCECC PST capability to its
    peer.[¶](#section-9.4-2.1){.pilcrow}]{#section-9.4-2.1}
-   [An implementation [SHOULD]{.bcp14} allow the operator to view
    whether the peer sent the PCECC PST
    capability.[¶](#section-9.4-2.2){.pilcrow}]{#section-9.4-2.2}
-   [An implementation [SHOULD]{.bcp14} allow the operator to view
    whether the PCECC PST is enabled on a PCEP
    session.[¶](#section-9.4-2.3){.pilcrow}]{#section-9.4-2.3}
-   [If one PCEP speaker advertises the PCECC PST capability, but the
    other does not, then the implementation [SHOULD]{.bcp14} create a
    log to inform the operator of the capability
    mismatch.[¶](#section-9.4-2.4){.pilcrow}]{#section-9.4-2.4}
-   [If a PCEP speaker rejects a CCI, then it [SHOULD]{.bcp14} create a
    log to inform the operator, giving the reason for the decision
    (local policy, label issues,
    etc.).[¶](#section-9.4-2.5){.pilcrow}]{#section-9.4-2.5}
:::

::: {#section-9.5 .section}
### [9.5.](#section-9.5){.section-number .selfRef} [Requirements on Other Protocols](#name-requirements-on-other-proto){.section-name .selfRef} {#name-requirements-on-other-proto}

PCEP extensions defined in this document do not put new requirements on
other protocols.[¶](#section-9.5-1){.pilcrow}
:::

::: {#section-9.6 .section}
### [9.6.](#section-9.6){.section-number .selfRef} [Impact on Network Operations](#name-impact-on-network-operation){.section-name .selfRef} {#name-impact-on-network-operation}

PCEP extensions defined in this document do not put new requirements on
network operations.[¶](#section-9.6-1){.pilcrow}
:::
:::

::: {#section-10 .section}
## [10.](#section-10){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

::: {#section-10.1 .section}
### [10.1.](#section-10.1){.section-number .selfRef} [PATH-SETUP-TYPE-CAPABILITY Sub-TLV Type Indicators](#name-path-setup-type-capability-){.section-name .selfRef} {#name-path-setup-type-capability-}

\[[RFC8408](#RFC8408){.xref}\] detailed the creation of the
\"PATH-SETUP-TYPE-CAPABILITY Sub-TLV Type Indicators\" subregistry.
Further, IANA has allocated the following
codepoint:[¶](#section-10.1-1){.pilcrow}

[]{#name-path-setup-type-capability-s}

::: {#PCEP-SUBTYPE-IND}
  Value   Meaning            Reference
  ------- ------------------ -----------
  1       PCECC-CAPABILITY   RFC 9050

  : [Table 2](#table-2){.selfRef}: [PATH-SETUP-TYPE-CAPABILITY Sub-TLV
  Type Indicators Subregistry
  Addition](#name-path-setup-type-capability-s){.selfRef}
:::
:::

::: {#section-10.2 .section}
### [10.2.](#section-10.2){.section-number .selfRef} [PCECC-CAPABILITY Sub-TLV\'s Flag Field](#name-pcecc-capability-sub-tlvs-f){.section-name .selfRef} {#name-pcecc-capability-sub-tlvs-f}

This document defines the PCECC-CAPABILITY sub-TLV; IANA has created a
new subregistry to manage the value of the PCECC-CAPABILITY sub-TLV\'s
32-bit Flag field. New values are to be assigned by Standards Action
\[[RFC8126](#RFC8126){.xref}\]. Each bit should be tracked with the
following qualities:[¶](#section-10.2-1){.pilcrow}

-   [bit number (counting from bit 0 as the most significant
    bit)[¶](#section-10.2-2.1){.pilcrow}]{#section-10.2-2.1}
-   [capability
    description[¶](#section-10.2-2.2){.pilcrow}]{#section-10.2-2.2}
-   [defining RFC[¶](#section-10.2-2.3){.pilcrow}]{#section-10.2-2.3}

Currently, there is one allocation in this
registry.[¶](#section-10.2-3){.pilcrow}

[]{#name-initial-contents-of-the-pce}

::: {#PCEP-CAP-SubTLv}
  Bit    Name         Reference
  ------ ------------ -----------
  0-30   Unassigned   RFC 9050
  31     Label        RFC 9050

  : [Table 3](#table-3){.selfRef}: [Initial Contents of the
  PCECC-CAPABILITY Sub-TLV
  Subregistry](#name-initial-contents-of-the-pce){.selfRef}
:::
:::

::: {#section-10.3 .section}
### [10.3.](#section-10.3){.section-number .selfRef} [PCEP Path Setup Type Registry](#name-pcep-path-setup-type-regist){.section-name .selfRef} {#name-pcep-path-setup-type-regist}

\[[RFC8408](#RFC8408){.xref}\] created a subregistry within the \"Path
Computation Element Protocol (PCEP) Numbers\" registry called \"PCEP
Path Setup Types\". IANA has allocated a new codepoint within this
registry, as follows:[¶](#section-10.3-1){.pilcrow}

[]{#name-path-setup-type-registry-co}

::: {#PCEP-PATH-TYPE}
  Value   Description                                           Reference
  ------- ----------------------------------------------------- -----------
  2       Traffic engineering path is set up using PCECC mode   RFC 9050

  : [Table 4](#table-4){.selfRef}: [Path Setup Type Registry Codepoint
  Addition](#name-path-setup-type-registry-co){.selfRef}
:::
:::

::: {#section-10.4 .section}
### [10.4.](#section-10.4){.section-number .selfRef} [PCEP Object](#name-pcep-object){.section-name .selfRef} {#name-pcep-object}

IANA has allocated new codepoints in the \"PCEP Objects\" subregistry
for the CCI object as follows:[¶](#section-10.4-1){.pilcrow}

[]{#name-pcep-objects-subregistry-ad}

::: {#PCEP-OBJECT}
+-----------------+-----------------+-----------------+-----------------+
| Object-Class    | Name            | Object-Type     | Reference       |
| Value           |                 |                 |                 |
+=================+=================+=================+=================+
| 44              | CCI Object-Type | -   [0:         | RFC 9050        |
|                 |                 |     R           |                 |
|                 |                 | eserved[¶](#sec |                 |
|                 |                 | tion-10.4-2.2.1 |                 |
|                 |                 | .3.1.1){.pilcro |                 |
|                 |                 | w}]{#section-10 |                 |
|                 |                 | .4-2.2.1.3.1.1} |                 |
|                 |                 | -   [1: MPLS    |                 |
|                 |                 |                 |                 |
|                 |                 |   Label[¶](#sec |                 |
|                 |                 | tion-10.4-2.2.1 |                 |
|                 |                 | .3.1.2){.pilcro |                 |
|                 |                 | w}]{#section-10 |                 |
|                 |                 | .4-2.2.1.3.1.2} |                 |
|                 |                 | -   [2-15:      |                 |
|                 |                 |     Una         |                 |
|                 |                 | ssigned[¶](#sec |                 |
|                 |                 | tion-10.4-2.2.1 |                 |
|                 |                 | .3.1.3){.pilcro |                 |
|                 |                 | w}]{#section-10 |                 |
|                 |                 | .4-2.2.1.3.1.3} |                 |
+-----------------+-----------------+-----------------+-----------------+

: [Table 5](#table-5){.selfRef}: [PCEP Objects Subregistry
Additions](#name-pcep-objects-subregistry-ad){.selfRef}
:::
:::

::: {#section-10.5 .section}
### [10.5.](#section-10.5){.section-number .selfRef} [CCI Object Flag Field](#name-cci-object-flag-field){.section-name .selfRef} {#name-cci-object-flag-field}

IANA has created a new subregistry to manage the Flag field of the CCI
object called \"CCI Object Flag Field for MPLS Label\". New values are
to be assigned by Standards Action \[[RFC8126](#RFC8126){.xref}\]. Each
bit should be tracked with the following
qualities:[¶](#section-10.5-1){.pilcrow}

-   [bit number (counting from bit 0 as the most significant
    bit)[¶](#section-10.5-2.1){.pilcrow}]{#section-10.5-2.1}
-   [capability
    description[¶](#section-10.5-2.2){.pilcrow}]{#section-10.5-2.2}
-   [defining RFC[¶](#section-10.5-2.3){.pilcrow}]{#section-10.5-2.3}

Two bits are defined for the CCI Object flag field in this document as
follows:[¶](#section-10.5-3){.pilcrow}

[]{#name-cci-object-flag-field-for-m}

::: {#CCI-FLAG}
  Bit    Description                            Reference
  ------ -------------------------------------- -----------
  0-13   Unassigned                             
  14     C Bit - PCC allocation                 RFC 9050
  15     O Bit - Specifies label is out-label   RFC 9050

  : [Table 6](#table-6){.selfRef}: [CCI Object Flag Field for MPLS Label
  Initial Contents](#name-cci-object-flag-field-for-m){.selfRef}
:::
:::

::: {#section-10.6 .section}
### [10.6.](#section-10.6){.section-number .selfRef} [PCEP-Error Object](#name-pcep-error-object){.section-name .selfRef} {#name-pcep-error-object}

IANA has allocated new error types and error values within the
\"PCEP-ERROR Object Error Types and Values\" subregistry of the \"Path
Computation Element Protocol (PCEP) Numbers\" registry for the following
errors:[¶](#section-10.6-1){.pilcrow}

[]{#name-pcep-error-object-error-typ}

::: {#error-type}
+-----------------+-----------------+-----------------+-----------------+
| Error-Type      | Meaning         | Error-value     | Reference       |
+=================+=================+=================+=================+
| 6               | Mandatory       | 17: CCI object  | RFC 9050        |
|                 | Object missing  | missing         |                 |
+-----------------+-----------------+-----------------+-----------------+
| 10              | Reception of an | 33: Missing     | RFC 9050        |
|                 | invalid object  | PCECC           |                 |
|                 |                 | Capability      |                 |
|                 |                 | sub-TLV         |                 |
+-----------------+-----------------+-----------------+-----------------+
| 19              | Invalid         | 16: Attempted   | RFC 9050        |
|                 | Operation       | PCECC           |                 |
|                 |                 | operations when |                 |
|                 |                 | PCECC           |                 |
|                 |                 | capability was  |                 |
|                 |                 | not             |                 |
|                 |                 | adv             |                 |
|                 |                 | ertised[¶](#sec |                 |
|                 |                 | tion-10.6-2.2.3 |                 |
|                 |                 | .3.1){.pilcrow} |                 |
|                 |                 |                 |                 |
|                 |                 | 17: Stateful    |                 |
|                 |                 | PCE capability  |                 |
|                 |                 | was not         |                 |
|                 |                 | adv             |                 |
|                 |                 | ertised[¶](#sec |                 |
|                 |                 | tion-10.6-2.2.3 |                 |
|                 |                 | .3.2){.pilcrow} |                 |
|                 |                 |                 |                 |
|                 |                 | 18: Unknown     |                 |
|                 |                 | Label[¶](#sec   |                 |
|                 |                 | tion-10.6-2.2.3 |                 |
|                 |                 | .3.3){.pilcrow} |                 |
+-----------------+-----------------+-----------------+-----------------+
| 31              | PCECC failure   | 1: Label out of | RFC 9050        |
|                 |                 | range[¶](#sec   |                 |
|                 |                 | tion-10.6-2.2.4 |                 |
|                 |                 | .3.1){.pilcrow} |                 |
|                 |                 |                 |                 |
|                 |                 | 2: Instruction  |                 |
|                 |                 | failed[¶](#sec  |                 |
|                 |                 | tion-10.6-2.2.4 |                 |
|                 |                 | .3.2){.pilcrow} |                 |
|                 |                 |                 |                 |
|                 |                 | 3: Invalid      |                 |
|                 |                 | CCI[¶](#sec     |                 |
|                 |                 | tion-10.6-2.2.4 |                 |
|                 |                 | .3.3){.pilcrow} |                 |
|                 |                 |                 |                 |
|                 |                 | 4: Unable to    |                 |
|                 |                 | allocate the    |                 |
|                 |                 | specified       |                 |
|                 |                 | CCI[¶](#sec     |                 |
|                 |                 | tion-10.6-2.2.4 |                 |
|                 |                 | .3.4){.pilcrow} |                 |
|                 |                 |                 |                 |
|                 |                 | 5: Invalid      |                 |
|                 |                 | next-hop        |                 |
|                 |                 | info            |                 |
|                 |                 | rmation[¶](#sec |                 |
|                 |                 | tion-10.6-2.2.4 |                 |
|                 |                 | .3.5){.pilcrow} |                 |
+-----------------+-----------------+-----------------+-----------------+

: [Table 7](#table-7){.selfRef}: [PCEP-ERROR Object Error Types and
Values Additions](#name-pcep-error-object-error-typ){.selfRef}
:::
:::
:::

::: {#section-11 .section}
## [11.](#section-11){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-11.1 .section}
### [11.1.](#section-11.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC5440\]
:   [Vasseur, JP., Ed.]{.refAuthor} and [JL. Le Roux, Ed.]{.refAuthor},
    [\"Path Computation Element (PCE) Communication Protocol
    (PCEP)\"]{.refTitle}, [RFC 5440]{.seriesInfo}, [DOI
    10.17487/RFC5440]{.seriesInfo}, March 2009,
    \<<https://www.rfc-editor.org/info/rfc5440>\>.
:   

\[RFC5511\]
:   [Farrel, A.]{.refAuthor}, [\"Routing Backus-Naur Form (RBNF): A
    Syntax Used to Form Encoding Rules in Various Routing Protocol
    Specifications\"]{.refTitle}, [RFC 5511]{.seriesInfo}, [DOI
    10.17487/RFC5511]{.seriesInfo}, April 2009,
    \<<https://www.rfc-editor.org/info/rfc5511>\>.
:   

\[RFC7525\]
:   [Sheffer, Y.]{.refAuthor}, [Holz, R.]{.refAuthor}, and [P.
    Saint-Andre]{.refAuthor}, [\"Recommendations for Secure Use of
    Transport Layer Security (TLS) and Datagram Transport Layer Security
    (DTLS)\"]{.refTitle}, [BCP 195]{.seriesInfo}, [RFC
    7525]{.seriesInfo}, [DOI 10.17487/RFC7525]{.seriesInfo}, May 2015,
    \<<https://www.rfc-editor.org/info/rfc7525>\>.
:   

\[RFC8126\]
:   [Cotton, M.]{.refAuthor}, [Leiba, B.]{.refAuthor}, and [T.
    Narten]{.refAuthor}, [\"Guidelines for Writing an IANA
    Considerations Section in RFCs\"]{.refTitle}, [BCP 26]{.seriesInfo},
    [RFC 8126]{.seriesInfo}, [DOI 10.17487/RFC8126]{.seriesInfo}, June
    2017, \<<https://www.rfc-editor.org/info/rfc8126>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8231\]
:   [Crabbe, E.]{.refAuthor}, [Minei, I.]{.refAuthor},
    [Medved, J.]{.refAuthor}, and [R. Varga]{.refAuthor}, [\"Path
    Computation Element Communication Protocol (PCEP) Extensions for
    Stateful PCE\"]{.refTitle}, [RFC 8231]{.seriesInfo}, [DOI
    10.17487/RFC8231]{.seriesInfo}, September 2017,
    \<<https://www.rfc-editor.org/info/rfc8231>\>.
:   

\[RFC8253\]
:   [Lopez, D.]{.refAuthor}, [Gonzalez de Dios, O.]{.refAuthor},
    [Wu, Q.]{.refAuthor}, and [D. Dhody]{.refAuthor}, [\"PCEPS: Usage of
    TLS to Provide a Secure Transport for the Path Computation Element
    Communication Protocol (PCEP)\"]{.refTitle}, [RFC
    8253]{.seriesInfo}, [DOI 10.17487/RFC8253]{.seriesInfo}, October
    2017, \<<https://www.rfc-editor.org/info/rfc8253>\>.
:   

\[RFC8281\]
:   [Crabbe, E.]{.refAuthor}, [Minei, I.]{.refAuthor},
    [Sivabalan, S.]{.refAuthor}, and [R. Varga]{.refAuthor}, [\"Path
    Computation Element Communication Protocol (PCEP) Extensions for
    PCE-Initiated LSP Setup in a Stateful PCE Model\"]{.refTitle}, [RFC
    8281]{.seriesInfo}, [DOI 10.17487/RFC8281]{.seriesInfo}, December
    2017, \<<https://www.rfc-editor.org/info/rfc8281>\>.
:   

\[RFC8408\]
:   [Sivabalan, S.]{.refAuthor}, [Tantsura, J.]{.refAuthor},
    [Minei, I.]{.refAuthor}, [Varga, R.]{.refAuthor}, and [J.
    Hardwick]{.refAuthor}, [\"Conveying Path Setup Type in PCE
    Communication Protocol (PCEP) Messages\"]{.refTitle}, [RFC
    8408]{.seriesInfo}, [DOI 10.17487/RFC8408]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8408>\>.
:   

\[RFC8664\]
:   [Sivabalan, S.]{.refAuthor}, [Filsfils, C.]{.refAuthor},
    [Tantsura, J.]{.refAuthor}, [Henderickx, W.]{.refAuthor}, and [J.
    Hardwick]{.refAuthor}, [\"Path Computation Element Communication
    Protocol (PCEP) Extensions for Segment Routing\"]{.refTitle}, [RFC
    8664]{.seriesInfo}, [DOI 10.17487/RFC8664]{.seriesInfo}, December
    2019, \<<https://www.rfc-editor.org/info/rfc8664>\>.
:   

\[RFC8779\]
:   [Margaria, C., Ed.]{.refAuthor}, [Gonzalez de Dios, O.,
    Ed.]{.refAuthor}, and [F. Zhang, Ed.]{.refAuthor}, [\"Path
    Computation Element Communication Protocol (PCEP) Extensions for
    GMPLS\"]{.refTitle}, [RFC 8779]{.seriesInfo}, [DOI
    10.17487/RFC8779]{.seriesInfo}, July 2020,
    \<<https://www.rfc-editor.org/info/rfc8779>\>.
:   
:::

::: {#section-11.2 .section}
### [11.2.](#section-11.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC4655\]
:   [Farrel, A.]{.refAuthor}, [Vasseur, JP.]{.refAuthor}, and [J.
    Ash]{.refAuthor}, [\"A Path Computation Element (PCE)-Based
    Architecture\"]{.refTitle}, [RFC 4655]{.seriesInfo}, [DOI
    10.17487/RFC4655]{.seriesInfo}, August 2006,
    \<<https://www.rfc-editor.org/info/rfc4655>\>.
:   

\[RFC7025\]
:   [Otani, T.]{.refAuthor}, [Ogaki, K.]{.refAuthor},
    [Caviglia, D.]{.refAuthor}, [Zhang, F.]{.refAuthor}, and [C.
    Margaria]{.refAuthor}, [\"Requirements for GMPLS Applications of
    PCE\"]{.refTitle}, [RFC 7025]{.seriesInfo}, [DOI
    10.17487/RFC7025]{.seriesInfo}, September 2013,
    \<<https://www.rfc-editor.org/info/rfc7025>\>.
:   

\[RFC7399\]
:   [Farrel, A.]{.refAuthor} and [D. King]{.refAuthor}, [\"Unanswered
    Questions in the Path Computation Element
    Architecture\"]{.refTitle}, [RFC 7399]{.seriesInfo}, [DOI
    10.17487/RFC7399]{.seriesInfo}, October 2014,
    \<<https://www.rfc-editor.org/info/rfc7399>\>.
:   

\[RFC7420\]
:   [Koushik, A.]{.refAuthor}, [Stephan, E.]{.refAuthor},
    [Zhao, Q.]{.refAuthor}, [King, D.]{.refAuthor}, and [J.
    Hardwick]{.refAuthor}, [\"Path Computation Element Communication
    Protocol (PCEP) Management Information Base (MIB)
    Module\"]{.refTitle}, [RFC 7420]{.seriesInfo}, [DOI
    10.17487/RFC7420]{.seriesInfo}, December 2014,
    \<<https://www.rfc-editor.org/info/rfc7420>\>.
:   

\[RFC7491\]
:   [King, D.]{.refAuthor} and [A. Farrel]{.refAuthor}, [\"A PCE-Based
    Architecture for Application-Based Network Operations\"]{.refTitle},
    [RFC 7491]{.seriesInfo}, [DOI 10.17487/RFC7491]{.seriesInfo}, March
    2015, \<<https://www.rfc-editor.org/info/rfc7491>\>.
:   

\[RFC8232\]
:   [Crabbe, E.]{.refAuthor}, [Minei, I.]{.refAuthor},
    [Medved, J.]{.refAuthor}, [Varga, R.]{.refAuthor},
    [Zhang, X.]{.refAuthor}, and [D. Dhody]{.refAuthor},
    [\"Optimizations of Label Switched Path State Synchronization
    Procedures for a Stateful PCE\"]{.refTitle}, [RFC
    8232]{.seriesInfo}, [DOI 10.17487/RFC8232]{.seriesInfo}, September
    2017, \<<https://www.rfc-editor.org/info/rfc8232>\>.
:   

\[RFC8283\]
:   [Farrel, A., Ed.]{.refAuthor}, [Zhao, Q., Ed.]{.refAuthor},
    [Li, Z.]{.refAuthor}, and [C. Zhou]{.refAuthor}, [\"An Architecture
    for Use of PCE and the PCE Communication Protocol (PCEP) in a
    Network with Central Control\"]{.refTitle}, [RFC 8283]{.seriesInfo},
    [DOI 10.17487/RFC8283]{.seriesInfo}, December 2017,
    \<<https://www.rfc-editor.org/info/rfc8283>\>.
:   

\[RFC8741\]
:   [Raghuram, A.]{.refAuthor}, [Goddard, A.]{.refAuthor},
    [Karthik, J.]{.refAuthor}, [Sivabalan, S.]{.refAuthor}, and [M.
    Negi]{.refAuthor}, [\"Ability for a Stateful Path Computation
    Element (PCE) to Request and Obtain Control of a Label Switched Path
    (LSP)\"]{.refTitle}, [RFC 8741]{.seriesInfo}, [DOI
    10.17487/RFC8741]{.seriesInfo}, March 2020,
    \<<https://www.rfc-editor.org/info/rfc8741>\>.
:   

\[PCECC\]
:   [Li, Z. (.]{.refAuthor}, [Dhody, D.]{.refAuthor},
    [Zhao, Q.]{.refAuthor}, [Ke, K.]{.refAuthor},
    [Khasanov, B.]{.refAuthor}, [Fang, L.]{.refAuthor},
    [Zhou, C.]{.refAuthor}, [Zhang, B.]{.refAuthor},
    [Rachitskiy, A.]{.refAuthor}, and [A. Gulida]{.refAuthor}, [\"The
    Use Cases for Path Computation Element (PCE) as a Central Controller
    (PCECC).\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-teas-pcecc-use-cases-07]{.seriesInfo}, 8
    March 2021,
    \<<https://datatracker.ietf.org/doc/html/draft-ietf-teas-pcecc-use-cases-07>\>.
:   

\[PCEP-YANG\]
:   [Dhody, D., Ed.]{.refAuthor}, [Hardwick, J.]{.refAuthor},
    [Beeram, V.]{.refAuthor}, and [J. Tantsura]{.refAuthor}, [\"A YANG
    Data Model for Path Computation Element Communications Protocol
    (PCEP)\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-pce-pcep-yang-16]{.seriesInfo}, 22
    February 2021,
    \<<https://datatracker.ietf.org/doc/html/draft-ietf-pce-pcep-yang-16>\>.
:   

\[PCECC-SR\]
:   [Li, Z.]{.refAuthor}, [Peng, S.]{.refAuthor}, [Negi, M.
    S.]{.refAuthor}, [Zhao, Q.]{.refAuthor}, and [C. Zhou]{.refAuthor},
    [\"PCEP Procedures and Protocol Extensions for Using PCE as a
    Central Controller (PCECC) for Segment Routing (SR) MPLS Segment
    Identifier (SID) Allocation and Distribution.\"]{.refTitle}, [Work
    in Progress]{.refContent}, [Internet-Draft,
    draft-ietf-pce-pcep-extension-pce-controller-sr-02]{.seriesInfo}, 25
    March 2021,
    \<<https://datatracker.ietf.org/doc/html/draft-ietf-pce-pcep-extension-pce-controller-sr-02>\>.
:   

\[PCECC-SRv6\]
:   [Li, Z.]{.refAuthor}, [Peng, S.]{.refAuthor},
    [Geng, X.]{.refAuthor}, and [M. S. Negi]{.refAuthor}, [\"PCEP
    Procedures and Protocol Extensions for Using PCE as a Central
    Controller (PCECC) for SRv6\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-dhody-pce-pcep-extension-pce-controller-srv6-06]{.seriesInfo},
    21 February 2021,
    \<<https://datatracker.ietf.org/doc/html/draft-dhody-pce-pcep-extension-pce-controller-srv6-06>\>.
:   

\[PCE-ID\]
:   [Li, C.]{.refAuthor}, [Chen, M.]{.refAuthor},
    [Wang, A.]{.refAuthor}, [Cheng, W.]{.refAuthor}, and [C.
    Zhou]{.refAuthor}, [\"PCE Controlled ID Space\"]{.refTitle}, [Work
    in Progress]{.refContent}, [Internet-Draft,
    draft-li-pce-controlled-id-space-08]{.seriesInfo}, 22 February 2021,
    \<<https://datatracker.ietf.org/doc/html/draft-li-pce-controlled-id-space-08>\>.
:   

\[SECURITY-ID\]
:   [Gont, F.]{.refAuthor} and [I. Arce]{.refAuthor}, [\"Security
    Considerations for Transient Numeric Identifiers Employed in Network
    Protocols\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft,
    draft-gont-numeric-ids-sec-considerations-06]{.seriesInfo}, 5
    December 2020,
    \<<https://datatracker.ietf.org/doc/html/draft-gont-numeric-ids-sec-considerations-06>\>.
:   
:::
:::

::: {#appendix-A .section}
## [Acknowledgments](#name-acknowledgments){.section-name .selfRef} {#name-acknowledgments}

We would like to thank [Robert Tao]{.contact-name}, [Changjing
Yan]{.contact-name}, [Tieying Huang]{.contact-name},
[Avantika]{.contact-name}, and [Aijun Wang]{.contact-name} for their
useful comments and suggestions.[¶](#appendix-A-1){.pilcrow}

Thanks to [Julien Meuric]{.contact-name} for shepherding this document
and providing valuable comments. Thanks to [Deborah
Brungard]{.contact-name} for being the responsible
AD.[¶](#appendix-A-2){.pilcrow}

Thanks to [Victoria Pritchard]{.contact-name} for a very detailed RTGDIR
review. Thanks to [Yaron Sheffer]{.contact-name} for the SECDIR review.
Thanks to [Gyan Mishra]{.contact-name} for the Gen-ART
review.[¶](#appendix-A-3){.pilcrow}

Thanks to [Alvaro Retana]{.contact-name}, [Murray
Kucherawy]{.contact-name}, [Benjamin Kaduk]{.contact-name}, [Roman
Danyliw]{.contact-name}, [Robert Wilton]{.contact-name}, [Éric
Vyncke]{.contact-name}, and [Erik Kline]{.contact-name} for the IESG
review.[¶](#appendix-A-4){.pilcrow}
:::

::: {#appendix-B .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

::: {.left dir="auto"}
[Dhruv Dhody]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[Divyashree Techno Park, Whitefield]{.street-address}
:::

::: {.left dir="auto"}
[Bangalore]{.locality} [560066]{.postal-code}
:::

::: {.left dir="auto"}
[Karnataka]{.region}
:::

::: {.left dir="auto"}
[India]{.country-name}
:::

::: email
Email: <dhruv.ietf@gmail.com>
:::

::: {.left dir="auto"}
[Satish Karunanithi]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[Divyashree Techno Park, Whitefield]{.street-address}
:::

::: {.left dir="auto"}
[Bangalore]{.locality} [560066]{.postal-code}
:::

::: {.left dir="auto"}
[Karnataka]{.region}
:::

::: {.left dir="auto"}
[India]{.country-name}
:::

::: email
Email: <satishk@huawei.com>
:::

::: {.left dir="auto"}
[Adrian Farrel]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Old Dog Consulting]{.org}
:::

::: {.left dir="auto"}
[United Kingdom]{.country-name}
:::

::: email
Email: <adrian@olddog.co.uk>
:::

::: {.left dir="auto"}
[Xuesong Geng]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[China]{.country-name}
:::

::: email
Email: <gengxuesong@huawei.com>
:::

::: {.left dir="auto"}
[Udayasree Palle]{.fn .nameRole}
:::

::: email
Email: <udayasreereddy@gmail.com>
:::

::: {.left dir="auto"}
[Katherine Zhao]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Futurewei Technologies]{.org}
:::

::: email
Email: <katherine.zhao@futurewei.com>
:::

::: {.left dir="auto"}
[Boris Zhang]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Telus Ltd.]{.org}
:::

::: {.left dir="auto"}
[Toronto]{.locality}
:::

::: {.left dir="auto"}
[Canada]{.country-name}
:::

::: email
Email: <boris.zhang@telus.com>
:::

::: {.left dir="auto"}
[Alex Tokar]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems]{.org}
:::

::: {.left dir="auto"}
[Slovakia]{.country-name}
:::

::: email
Email: <atokar@cisco.com>
:::
:::

::: {#authors-addresses}
::: {#appendix-C .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Zhenbin Li]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[Huawei Bld., No.156 Beiqing Rd.]{.street-address}
:::

::: {.left dir="auto"}
[Beijing ]{.locality}
:::

::: {.left dir="auto"}
[100095]{.postal-code}
:::

::: {.left dir="auto"}
[China]{.country-name}
:::

::: email
Email: <lizhenbin@huawei.com>
:::

::: {.left dir="auto"}
[Shuping Peng]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[Huawei Bld., No.156 Beiqing Rd.]{.street-address}
:::

::: {.left dir="auto"}
[Beijing]{.locality}
:::

::: {.left dir="auto"}
[100095]{.postal-code}
:::

::: {.left dir="auto"}
[China]{.country-name}
:::

::: email
Email: <pengshuping@huawei.com>
:::

::: {.left dir="auto"}
[Mahendra Singh Negi]{.fn .nameRole}
:::

::: {.left dir="auto"}
[RtBrick Inc]{.org}
:::

::: {.left dir="auto"}
[N-17L, 18th Cross Rd, HSR Layout]{.street-address}
:::

::: {.left dir="auto"}
[Bangalore]{.locality} [560102]{.postal-code}
:::

::: {.left dir="auto"}
[Karnataka]{.region}
:::

::: {.left dir="auto"}
[India]{.country-name}
:::

::: email
Email: <mahend.ietf@gmail.com>
:::

::: {.left dir="auto"}
[Quintin Zhao]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Etheric Networks]{.org}
:::

::: {.left dir="auto"}
[1009 S Claremont St.]{.street-address}
:::

::: {.left dir="auto"}
[San Mateo]{.locality}, [CA]{.region} [94402]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <qzhao@ethericnetworks.com>
:::

::: {.left dir="auto"}
[Chao Zhou]{.fn .nameRole}
:::

::: {.left dir="auto"}
[HPE]{.org}
:::

::: email
Email: <chaozhou_us@yahoo.com>
:::
:::
:::
