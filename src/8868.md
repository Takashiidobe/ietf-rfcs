  RFC 8868        Evaluating Congestion Control for Intera   January 2021
  --------------- ------------------------------------------ --------------
  Singh, et al.   Informational                              \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8868](https://www.rfc-editor.org/rfc/rfc8868){.eref}

Category:
:   Informational

Published:
:   January 2021

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    V. Singh
    :::

    ::: org
    callstats.io
    :::
    :::

    ::: author
    ::: author-name
    J. Ott
    :::

    ::: org
    Technical University of Munich
    :::
    :::

    ::: author
    ::: author-name
    S. Holmer
    :::

    ::: org
    Google
    :::
    :::
:::

# RFC 8868 {#rfcnum}

# Evaluating Congestion Control for Interactive Real-Time Media {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

The Real-Time Transport Protocol (RTP) is used to transmit media in
telephony and video conferencing applications. This document describes
the guidelines to evaluate new congestion control algorithms for
interactive point-to-point real-time
media.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This document is not an Internet Standards Track specification; it is
published for informational
purposes.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Not all documents approved
by the IESG are candidates for any level of Internet Standard; see
Section 2 of RFC 7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8868>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2021 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Terminology](#name-terminology){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Metrics](#name-metrics){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [RTP Log
        Format](#name-rtp-log-format){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [List of Network
    Parameters](#name-list-of-network-parameters){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [One-Way Propagation
        Delay](#name-one-way-propagation-delay){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [End-to-End
        Loss](#name-end-to-end-loss){.xref}[¶](#section-toc.1-1.4.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.xref}.  [Drop-Tail Router Queue
        Length](#name-drop-tail-router-queue-leng){.xref}[¶](#section-toc.1-1.4.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.xref}.  [Loss Generation
        Model](#name-loss-generation-model){.xref}[¶](#section-toc.1-1.4.2.4.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.5}
        [4.5](#section-4.5){.xref}.  [Jitter
        Models](#name-jitter-models){.xref}[¶](#section-toc.1-1.4.2.5.1){.pilcrow}

        -   ::: {#section-toc.1-1.4.2.5.2.1}
            [4.5.1](#section-4.5.1){.xref}.  [Random Bounded PDV
            (RBPDV)](#name-random-bounded-pdv-rbpdv){.xref}[¶](#section-toc.1-1.4.2.5.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.4.2.5.2.2}
            [4.5.2](#section-4.5.2){.xref}.  [Approximately Random
            Subject to No-Reordering Bounded PDV
            (NR-BPDV)](#name-approximately-random-subjec){.xref}[¶](#section-toc.1-1.4.2.5.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.4.2.5.2.3}
            [4.5.3](#section-4.5.3){.xref}.  [Recommended
            Distribution](#name-recommended-distribution){.xref}[¶](#section-toc.1-1.4.2.5.2.3.1){.pilcrow}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Traffic
    Models](#name-traffic-models){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [TCP Traffic
        Model](#name-tcp-traffic-model){.xref}[¶](#section-toc.1-1.5.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.2}
        [5.2](#section-5.2){.xref}.  [RTP Video
        Model](#name-rtp-video-model){.xref}[¶](#section-toc.1-1.5.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.5.2.3}
        [5.3](#section-5.3){.xref}.  [Background
        UDP](#name-background-udp){.xref}[¶](#section-toc.1-1.5.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [References](#name-references){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}

    -   ::: {#section-toc.1-1.8.2.1}
        [8.1](#section-8.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.8.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.8.2.2}
        [8.2](#section-8.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.8.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [](#section-appendix.a){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.10}
    [](#section-appendix.b){.xref}[Acknowledgments](#name-acknowledgments){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.11}
    [](#section-appendix.c){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}
    :::
:::
:::

::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

This memo describes the guidelines to help with evaluating new
congestion control algorithms for interactive point-to-point real-time
media. The requirements for the congestion control algorithm are
outlined in \[[RFC8836](#RFC8836){.xref}\]. This document builds upon
previous work at the IETF: [Specifying New Congestion Control
Algorithms](#RFC5033){.xref} \[[RFC5033](#RFC5033){.xref}\] and [Metrics
for the Evaluation of Congestion Control Algorithms](#RFC5166){.xref}
\[[RFC5166](#RFC5166){.xref}\].[¶](#section-1-1){.pilcrow}

The guidelines proposed in the document are intended to help prevent a
congestion collapse, to promote fair capacity usage, and to optimize the
media flow\'s throughput. Furthermore, the proposed congestion control
algorithms are expected to operate within the envelope of the circuit
breakers defined in RFC 8083
\[[RFC8083](#RFC8083){.xref}\].[¶](#section-1-2){.pilcrow}

This document only provides the broad set of network parameters and
traffic models for evaluating a new congestion control algorithm. The
minimal requirement for congestion control proposals is to produce or
present results for the test scenarios described in
\[[RFC8867](#RFC8867){.xref}\] (Basic Test Cases), which also defines
the specifics for the test cases. Additionally, proponents may produce
evaluation results for the [wireless test scenarios](#RFC8869){.xref}
\[[RFC8869](#RFC8869){.xref}\].[¶](#section-1-3){.pilcrow}

This document does not cover application-specific implications of
congestion control algorithms and how those could be evaluated.
Therefore, no quality metrics are defined for performance evaluation;
quality metrics and the algorithms to infer those vary between media
types. Metrics and algorithms to assess, e.g., the quality of
experience, evolve continuously so that determining suitable choices is
left for future work. However, there is consensus that each congestion
control algorithm should be able to show that it is useful for
interactive video by performing analysis using real codecs and video
sequences and state-of-the-art quality
metrics.[¶](#section-1-4){.pilcrow}

Beyond optimizing individual metrics, real-time applications may have
further options to trade off performance, e.g., across multiple media;
refer to the [RMCAT requirements](#RFC8836){.xref}
\[[RFC8836](#RFC8836){.xref}\] document. Such trade-offs may be defined
in the future.[¶](#section-1-5){.pilcrow}
:::

::: {#sec-terminology}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

The terminology defined in [RTP](#RFC3550){.xref}
\[[RFC3550](#RFC3550){.xref}\], [RTP Profile for Audio and Video
Conferences with Minimal Control](#RFC3551){.xref}
\[[RFC3551](#RFC3551){.xref}\], [RTCP Extended Report
(XR)](#RFC3611){.xref} \[[RFC3611](#RFC3611){.xref}\], [Extended RTP
Profile for RTCP-Based Feedback (RTP/AVPF)](#RFC4585){.xref}
\[[RFC4585](#RFC4585){.xref}\] and [Support for Reduced-Size
RTCP](#RFC5506){.xref} \[[RFC5506](#RFC5506){.xref}\]
applies.[¶](#section-2-1){.pilcrow}
:::
:::

::: {#cc-metrics}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Metrics](#name-metrics){.section-name .selfRef} {#name-metrics}

This document specifies testing criteria for evaluating congestion
control algorithms for RTP media flows. Proposed algorithms are to prove
their performance by means of simulation and/or emulation experiments
for all the cases described.[¶](#section-3-1){.pilcrow}

Each experiment is expected to log every incoming and outgoing packet
(the RTP logging format is described in [Section
3.1](#rtp-logging){.xref}). The logging can be done inside the
application or at the endpoints using PCAP (packet capture, e.g.,
tcpdump \[[tcpdump](#tcpdump){.xref}\], Wireshark
\[[wireshark](#wireshark){.xref}\]). The following metrics are
calculated based on the information in the packet
logs:[¶](#section-3-2){.pilcrow}

1.  [Sending rate, receiver rate, goodput (measured at 200ms
    intervals)[¶](#section-3-3.1){.pilcrow}]{#section-3-3.1}

2.  [Packets sent, packets
    received[¶](#section-3-3.2){.pilcrow}]{#section-3-3.2}

3.  [Bytes sent, bytes
    received[¶](#section-3-3.3){.pilcrow}]{#section-3-3.3}

4.  [Packet delay[¶](#section-3-3.4){.pilcrow}]{#section-3-3.4}

5.  [Packets lost, packets discarded (from the playout or de-jitter
    buffer)[¶](#section-3-3.5){.pilcrow}]{#section-3-3.5}

6.  [If using retransmission or FEC: post-repair
    loss[¶](#section-3-3.6){.pilcrow}]{#section-3-3.6}

7.  ::: {#section-3-3.7}
    Self-fairness and fairness with respect to cross traffic:
    Experiments testing a given congestion control proposal must report
    on relative ratios of the average throughput (measured at coarser
    time intervals) obtained by each RTP media stream. In the presence
    of background cross-traffic such as TCP, the report must also
    include the relative ratio between average throughput of RTP media
    streams and cross-traffic streams.[¶](#section-3-3.7.1){.pilcrow}

    During static periods of a test (i.e., when bottleneck bandwidth is
    constant and no arrival/departure of streams), these reports on
    relative ratios serve as an indicator of how fairly the RTP streams
    share bandwidth amongst themselves and against cross-traffic
    streams. The throughput measurement interval should be set at a few
    values (for example, at 1 s, 5 s, and 20 s) in order to measure
    fairness across different timescales.[¶](#section-3-3.7.2){.pilcrow}

    As a general guideline, the relative ratio between
    congestion-controlled RTP flows with the same priority level and
    similar path RTT should be bounded between 0.333 and 3. For example,
    see the test scenarios described in
    \[[RFC8867](#RFC8867){.xref}\].[¶](#section-3-3.7.3){.pilcrow}
    :::

8.  [Convergence time: The time taken to reach a stable rate at startup,
    after the available link capacity changes, or when new flows get
    added to the bottleneck
    link.[¶](#section-3-3.8){.pilcrow}]{#section-3-3.8}

9.  [Instability or oscillation in the sending rate: The frequency or
    number of instances when the sending rate oscillates between an high
    watermark level and a low watermark level, or vice-versa in a
    defined time window. For example, the watermarks can be set at 4x
    interval: 500 Kbps, 2 Mbps, and a time window of 500
    ms.[¶](#section-3-3.9){.pilcrow}]{#section-3-3.9}

10. [Bandwidth utilization, defined as the ratio of the instantaneous
    sending rate to the instantaneous bottleneck capacity: This metric
    is useful only when a congestion-controlled RTP flow is by itself or
    is competing with similar
    cross-traffic.[¶](#section-3-3.10){.pilcrow}]{#section-3-3.10}

Note that the above metrics are all objective application-independent
metrics. Refer to [Section
3](https://tools.ietf.org/html/draft-ietf-netvc-testing-09#section-3){.relref}
of \[[netvc-testing](#I-D.ietf-netvc-testing){.xref}\] for objective
metrics for evaluating codecs.[¶](#section-3-4){.pilcrow}

From the logs, the statistical measures (min, max, mean, standard
deviation, and variance) for the whole duration or any specific part of
the session can be calculated. Also the metrics (sending rate, receiver
rate, goodput, latency) can be visualized in graphs as variation over
time; the measurements in the plot are at one-second intervals.
Additionally, from the logs, it is possible to plot the histogram or
cumulative distribution function (CDF) of packet
delay.[¶](#section-3-5){.pilcrow}

::: {#rtp-logging}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [RTP Log Format](#name-rtp-log-format){.section-name .selfRef} {#name-rtp-log-format}

Having a common log format simplifies running analyses across different
measurement setups and comparing their
results.[¶](#section-3.1-1){.pilcrow}

::: {#section-3.1-2 .artwork .art-text .alignLeft}
    Send or receive timestamp (Unix): <int>.<int>  -- sec.usec decimal
    RTP payload type                  <int>        -- decimal
    SSRC                              <int>        -- hexadecimal
    RTP sequence no                   <int>        -- decimal
    RTP timestamp                     <int>        -- decimal
    marker bit                        0|1          -- character
    Payload size                      <int>        -- # bytes, decimal

[¶](#section-3.1-2){.pilcrow}
:::

Each line of the log file should be terminated with CRLF, CR, or LF
characters. Empty lines are disregarded.[¶](#section-3.1-3){.pilcrow}

If the congestion control implements retransmissions or Forward Error
Correction (FEC), the evaluation should report both packet loss (before
applying error resilience) and residual packet loss (after applying
error resilience).[¶](#section-3.1-4){.pilcrow}

These data should suffice to compute the media-encoding independent
metrics described above. Use of a common log will allow simplified
post-processing and analysis across different
implementations.[¶](#section-3.1-5){.pilcrow}
:::
:::
:::
:::

::: {#add-params}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [List of Network Parameters](#name-list-of-network-parameters){.section-name .selfRef} {#name-list-of-network-parameters}

The implementors are encouraged to choose evaluation settings from the
following values initially:[¶](#section-4-1){.pilcrow}

::: {#scen-delay}
::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [One-Way Propagation Delay](#name-one-way-propagation-delay){.section-name .selfRef} {#name-one-way-propagation-delay}

Experiments are expected to verify that the congestion control is able
to work across a broad range of path characteristics, including
challenging situations, for example, over transcontinental and/or
satellite links. Tests thus account for the following different
latencies:[¶](#section-4.1-1){.pilcrow}

1.  [Very low latency: 0-1
    ms[¶](#section-4.1-2.1){.pilcrow}]{#section-4.1-2.1}
2.  [Low latency: 50
    ms[¶](#section-4.1-2.2){.pilcrow}]{#section-4.1-2.2}
3.  [High latency: 150
    ms[¶](#section-4.1-2.3){.pilcrow}]{#section-4.1-2.3}
4.  [Extreme latency: 300
    ms[¶](#section-4.1-2.4){.pilcrow}]{#section-4.1-2.4}
:::
:::

::: {#scen-loss}
::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [End-to-End Loss](#name-end-to-end-loss){.section-name .selfRef} {#name-end-to-end-loss}

Many paths in the Internet today are largely lossless; however, in
scenarios featuring interference in wireless networks, sending to and
receiving from remote regions, or high/fast mobility, media flows may
exhibit substantial packet loss. This variety needs to be reflected
appropriately by the tests.[¶](#section-4.2-1){.pilcrow}

To model a wide range of lossy links, the experiments can choose one of
the following loss rates; the fractional loss is the ratio of packets
lost and packets sent:[¶](#section-4.2-2){.pilcrow}

1.  [no loss: 0%[¶](#section-4.2-3.1){.pilcrow}]{#section-4.2-3.1}
2.  [1%[¶](#section-4.2-3.2){.pilcrow}]{#section-4.2-3.2}
3.  [5%[¶](#section-4.2-3.3){.pilcrow}]{#section-4.2-3.3}
4.  [10%[¶](#section-4.2-3.4){.pilcrow}]{#section-4.2-3.4}
5.  [20%[¶](#section-4.2-3.5){.pilcrow}]{#section-4.2-3.5}
:::
:::

::: {#scen-queue}
::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [Drop-Tail Router Queue Length](#name-drop-tail-router-queue-leng){.section-name .selfRef} {#name-drop-tail-router-queue-leng}

Routers should be configured to use drop-tail queues in the experiments
due to their (still) prevalent nature. Experimentation with Active Queue
Management (AQM) schemes is encouraged but not
mandatory.[¶](#section-4.3-1){.pilcrow}

The router queue length is measured as the time taken to drain the FIFO
queue. It has been noted in various discussions that the queue length in
the currently deployed Internet varies significantly. While the core
backbone network has very short queue length, the home gateways usually
have larger queue length. Those various queue lengths can be categorized
in the following way:[¶](#section-4.3-2){.pilcrow}

1.  [QoS-aware (or short): 70
    ms[¶](#section-4.3-3.1){.pilcrow}]{#section-4.3-3.1}
2.  [Nominal: 300-500
    ms[¶](#section-4.3-3.2){.pilcrow}]{#section-4.3-3.2}
3.  [Buffer-bloated: 1000-2000
    ms[¶](#section-4.3-3.3){.pilcrow}]{#section-4.3-3.3}

Here the size of the queue is measured in bytes or packets. To convert
the queue length measured in seconds to queue length in
bytes:[¶](#section-4.3-4){.pilcrow}

QueueSize (in bytes) = QueueSize (in sec) x Throughput (in
bps)/8[¶](#section-4.3-5){.pilcrow}
:::
:::

::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [Loss Generation Model](#name-loss-generation-model){.section-name .selfRef} {#name-loss-generation-model}

Many models for generating packet loss are available: some generate
correlated packet losses, others generate independent packet losses. In
addition, packet losses can also be extracted from packet traces. As a
(simple) minimum loss model with minimal parameterization (i.e., the
loss rate), independent random losses must be used in the
evaluation.[¶](#section-4.4-1){.pilcrow}

It is known that independent loss models may reflect reality poorly, and
hence more sophisticated loss models could be considered. Suitable
models for correlated losses include the Gilbert-Elliot model
\[[gilbert-elliott](#gilbert-elliott){.xref}\] and models that generate
losses by modeling a queue with its (different) drop
behaviors.[¶](#section-4.4-2){.pilcrow}
:::

::: {#JM}
::: {#section-4.5 .section}
### [4.5.](#section-4.5){.section-number .selfRef} [Jitter Models](#name-jitter-models){.section-name .selfRef} {#name-jitter-models}

This section defines jitter models for the purposes of this document.
When jitter is to be applied to both the congestion-controlled RTP flow
and any competing flow (such as a TCP competing flow), the competing
flow will use the jitter definition below that does not allow for
reordering of packets on the competing flow (see NR-BPDV definition
below).[¶](#section-4.5-1){.pilcrow}

Jitter is an overloaded term in communications. It is typically used to
refer to the variation of a metric (e.g., delay) with respect to some
reference metric (e.g., average delay or minimum delay). For example in
RFC 3550, jitter is computed as the smoothed difference in packet
arrival times relative to their respective expected arrival times, which
is particularly meaningful if the underlying packet delay variation was
caused by a Gaussian random process.[¶](#section-4.5-2){.pilcrow}

Because jitter is an overloaded term, we use the term Packet Delay
Variation (PDV) instead to describe the variation of delay of individual
packets in the same sense as the IETF IP Performance Metrics (IPPM)
working group has defined PDV in their documents (e.g., RFC 3393) and as
the ITU-T SG16 has defined IP Packet Delay Variation (IPDV) in their
documents (e.g., Y.1540).[¶](#section-4.5-3){.pilcrow}

Most PDV distributions in packet network systems are one-sided
distributions, the measurement of which with a finite number of
measurement samples results in one-sided histograms. In the usual packet
network transport case, there is typically one packet that transited the
network with the minimum delay; a (large) number of packets transit the
network within some (smaller) positive variation from this minimum
delay, and a (small) number of the packets transit the network with
delays higher than the median or average transit time (these are
outliers). Although infrequent, outliers can cause significant
deleterious operation in adaptive systems and should be considered in
rate adaptation designs for RTP congestion
control.[¶](#section-4.5-4){.pilcrow}

In this section we define two different bounded PDV characteristics, 1)
Random Bounded PDV and 2) Approximately Random Subject to No-Reordering
Bounded PDV.[¶](#section-4.5-5){.pilcrow}

The former, 1) Random Bounded PDV, is presented for information only,
while the latter, 2) Approximately Random Subject to No-Reordering
Bounded PDV, must be used in the
evaluation.[¶](#section-4.5-6){.pilcrow}

::: {#section-4.5.1 .section}
#### [4.5.1.](#section-4.5.1){.section-number .selfRef} [Random Bounded PDV (RBPDV)](#name-random-bounded-pdv-rbpdv){.section-name .selfRef} {#name-random-bounded-pdv-rbpdv}

The RBPDV probability distribution function (PDF) is specified to be of
some mathematically describable function that includes some practical
minimum and maximum discrete values suitable for testing. For example,
the minimum value, x_min, might be specified as the minimum transit time
packet, and the maximum value, x_max, might be defined to be two
standard deviations higher than the mean.[¶](#section-4.5.1-1){.pilcrow}

Since we are typically interested in the distribution relative to the
mean delay packet, we define the zero mean PDV sample, z(n), to be z(n)
= x(n) - x_mean, where x(n) is a sample of the RBPDV random variable x
and x_mean is the mean of x.[¶](#section-4.5.1-2){.pilcrow}

We assume here that s(n) is the original source time of packet n and the
post-jitter induced emission time, j(n), for packet n
is:[¶](#section-4.5.1-3){.pilcrow}

j(n) = {\[z(n) + x_mean\] + s(n)}.[¶](#section-4.5.1-4){.pilcrow}

It follows that the separation in the post-jitter time of packets n and
n+1 is {\[s(n+1)-s(n)\] - \[z(n)-z(n+1)\]}. Since the first term is
always a positive quantity, we note that packet reordering at the
receiver is possible whenever the second term is greater than the first.
Said another way, whenever the difference in possible zero mean PDV
sample delays (i.e., \[x_max-x_min\]) exceeds the inter-departure time
of any two sent packets, we have the possibility of packet
reordering.[¶](#section-4.5.1-5){.pilcrow}

There are important use cases in real networks where packets can become
reordered, such as in load-balancing topologies and during route
changes. However, for the vast majority of cases, there is no packet
reordering because most of the time packets follow the same path. Due to
this, if a packet becomes overly delayed, the packets after it on that
flow are also delayed. This is especially true for mobile wireless links
where there are per-flow queues prior to base station scheduling. Owing
to this important use case, we define another PDV profile similar to the
above, but one that does not allow for reordering within a
flow.[¶](#section-4.5.1-6){.pilcrow}
:::

::: {#section-4.5.2 .section}
#### [4.5.2.](#section-4.5.2){.section-number .selfRef} [Approximately Random Subject to No-Reordering Bounded PDV (NR-BPDV)](#name-approximately-random-subjec){.section-name .selfRef} {#name-approximately-random-subjec}

No Reordering BPDV, NR-BPDV, is defined similarly to the above with one
important exception. Let serial(n) be defined as the serialization delay
of packet n at the lowest bottleneck link rate (or other appropriate
rate) in a given test. Then we produce all the post-jitter values for
j(n) for n = 1, 2, \... N, where N is the length of the source sequence
s to be offset. The exception can be stated as follows: We revisit all
j(n) beginning from index n=2, and if j(n) is determined to be less than
\[j(n-1)+serial(n-1)\], we redefine j(n) to be equal to
\[j(n-1)+serial(n-1)\] and continue for all remaining n (i.e., n = 3, 4,
.. N). This models the case where the packet n is sent immediately after
packet (n-1) at the bottleneck link rate. Although this is generally the
theoretical minimum in that it assumes that no other packets from other
flows are in between packet n and n+1 at the bottleneck link, it is a
reasonable assumption for per-flow
queuing.[¶](#section-4.5.2-1){.pilcrow}

We note that this assumption holds for some important exception cases,
such as packets immediately following outliers. There are a multitude of
software-controlled elements common on end-to-end Internet paths (such
as firewalls, application-layer gateways, and other middleboxes) that
stop processing packets while servicing other functions (e.g., garbage
collection). Often these devices do not drop packets, but rather queue
them for later processing and cause many of the outliers. Thus NR-BPDV
models this particular use case (assuming serial(n+1) is defined
appropriately for the device causing the outlier) and is believed to be
important for adaptation development for congestion-controlled RTP
streams.[¶](#section-4.5.2-2){.pilcrow}
:::

::: {#section-4.5.3 .section}
#### [4.5.3.](#section-4.5.3){.section-number .selfRef} [Recommended Distribution](#name-recommended-distribution){.section-name .selfRef} {#name-recommended-distribution}

Whether Random Bounded PDV or Approximately Random Subject to
No-Reordering Bounded PDV, it is recommended that z(n) is distributed
according to a truncated Gaussian for the above jitter
models:[¶](#section-4.5.3-1){.pilcrow}

z(n) \~ \|max(min(N(0, std^2^), N_STD \* std), -N_STD \*
std)\|[¶](#section-4.5.3-2){.pilcrow}

where N(0, std^2^) is the Gaussian distribution with zero mean and std
is standard deviation. Recommended
values:[¶](#section-4.5.3-3){.pilcrow}

-   [std = 5 ms[¶](#section-4.5.3-4.1){.pilcrow}]{#section-4.5.3-4.1}
-   [N_STD = 3[¶](#section-4.5.3-4.2){.pilcrow}]{#section-4.5.3-4.2}
:::
:::
:::
:::
:::

::: {#app-additional}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Traffic Models](#name-traffic-models){.section-name .selfRef} {#name-traffic-models}

::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [TCP Traffic Model](#name-tcp-traffic-model){.section-name .selfRef} {#name-tcp-traffic-model}

Long-lived TCP flows will download data throughout the session and are
expected to have infinite amount of data to send or receive. This
roughly applies, for example, when downloading software
distributions.[¶](#section-5.1-1){.pilcrow}

Each short TCP flow is modeled as a sequence of file downloads
interleaved with idle periods. Not all short TCP flows start at the same
time, i.e., some start in the ON state while others start in the OFF
state.[¶](#section-5.1-2){.pilcrow}

The short TCP flows can be modeled as follows: 30 connections start
simultaneously fetching small (30-50 KB) amounts of data, evenly
distributed. This covers the case where the short TCP flows are fetching
web page resources rather than video files.[¶](#section-5.1-3){.pilcrow}

The idle period between bursts of starting a group of TCP flows is
typically derived from an exponential distribution with the mean value
of 10 seconds.[¶](#section-5.1-4){.pilcrow}

These values were picked based on the data available at
\<<https://httparchive.org/reports/state-of-the-web?start=2015_10_01&end=2015_11_01&view=list>\>
as of October 2015.[¶](#section-5.1-5.1){.pilcrow}

Many different TCP congestion control schemes are deployed today.
Therefore, experimentation with a range of different schemes, especially
including CUBIC \[[RFC8312](#RFC8312){.xref}\], is encouraged.
Experiments must document in detail which congestion control schemes
they tested against and which parameters were
used.[¶](#section-5.1-6){.pilcrow}
:::

::: {#section-5.2 .section}
### [5.2.](#section-5.2){.section-number .selfRef} [RTP Video Model](#name-rtp-video-model){.section-name .selfRef} {#name-rtp-video-model}

\[[RFC8593](#RFC8593){.xref}\] describes two types of video traffic
models for evaluating candidate algorithms for RTP congestion control.
The first model statistically characterizes the behavior of a video
encoder, whereas the second model uses video
traces.[¶](#section-5.2-1){.pilcrow}

Sample video test sequences are available at
\[[xiph-seq](#xiph-seq){.xref}\]. The following two video streams are
the recommended minimum for testing: Foreman (CIF sequence) and
FourPeople (720p); both come as raw video data to be encoded
dynamically. As these video sequences are short (300 and 600 frames,
respectively), they shall be stitched together repeatedly until the
desired length is reached.[¶](#section-5.2-2){.pilcrow}
:::

::: {#section-5.3 .section}
### [5.3.](#section-5.3){.section-number .selfRef} [Background UDP](#name-background-udp){.section-name .selfRef} {#name-background-udp}

Background UDP flow is modeled as a constant bit rate (CBR) flow. It
will download data at a particular CBR for the complete session, or will
change to particular CBR at predefined intervals. The inter-packet
interval is calculated based on the CBR and the packet size (typically
set to the path MTU size, the default value can be 1500
bytes).[¶](#section-5.3-1){.pilcrow}

Note that new transport protocols such as QUIC may use UDP; however, due
to their congestion control algorithms, they will exhibit behavior
conceptually similar in nature to TCP flows above and can thus be
subsumed by the above, including the division into short-lived and
long-lived flows. As QUIC evolves independently of TCP congestion
control algorithms, its future congestion control should be considered
as competing traffic as appropriate.[¶](#section-5.3-2){.pilcrow}
:::
:::
:::

::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

This document specifies evaluation criteria and parameters for assessing
and comparing the performance of congestion control protocols and
algorithms for real-time communication. This memo itself is thus not
subject to security considerations but the protocols and algorithms
evaluated may be. In particular, successful operation under all tests
defined in this document may suffice for a comparative evaluation but
must not be interpreted that the protocol is free of risks when deployed
on the Internet as briefly described in the following by
example.[¶](#section-6-1){.pilcrow}

Such evaluations are expected to be carried out in controlled
environments for limited numbers of parallel flows. As such, these
evaluations are by definition limited and will not be able to
systematically consider possible interactions or very large groups of
communicating nodes under all possible circumstances, so that careful
protocol design is advised to avoid incidentally contributing traffic
that could lead to unstable networks, e.g., (local) congestion
collapse.[¶](#section-6-2){.pilcrow}

This specification focuses on assessing the regular operation of the
protocols and algorithms under consideration. It does not suggest checks
against malicious use of the protocols \-- by the sender, the receiver,
or intermediate parties, e.g., through faked, dropped, replicated, or
modified congestion signals. It is up to the protocol specifications
themselves to ensure that authenticity, integrity, and/or plausibility
of received signals are checked, and the appropriate actions (or
non-actions) are taken.[¶](#section-6-3){.pilcrow}
:::

::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document has no IANA actions.[¶](#section-7-1){.pilcrow}
:::

::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-8.1 .section}
### [8.1.](#section-8.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC3550\]
:   [Schulzrinne, H.]{.refAuthor}[, Casner, S.]{.refAuthor}[,
    Frederick, R.]{.refAuthor}[, and V. Jacobson]{.refAuthor}, [\"RTP: A
    Transport Protocol for Real-Time Applications\"]{.refTitle}, [STD
    64]{.seriesInfo}, [RFC 3550]{.seriesInfo}, [DOI
    10.17487/RFC3550]{.seriesInfo}, July 2003,
    \<<https://www.rfc-editor.org/info/rfc3550>\>.
:   

\[RFC3551\]
:   [Schulzrinne, H.]{.refAuthor}[ and S. Casner]{.refAuthor}, [\"RTP
    Profile for Audio and Video Conferences with Minimal
    Control\"]{.refTitle}, [STD 65]{.seriesInfo}, [RFC
    3551]{.seriesInfo}, [DOI 10.17487/RFC3551]{.seriesInfo}, July 2003,
    \<<https://www.rfc-editor.org/info/rfc3551>\>.
:   

\[RFC3611\]
:   [Friedman, T., Ed.]{.refAuthor}[, Caceres, R., Ed.]{.refAuthor}[,
    and A. Clark, Ed.]{.refAuthor}, [\"RTP Control Protocol Extended
    Reports (RTCP XR)\"]{.refTitle}, [RFC 3611]{.seriesInfo}, [DOI
    10.17487/RFC3611]{.seriesInfo}, November 2003,
    \<<https://www.rfc-editor.org/info/rfc3611>\>.
:   

\[RFC4585\]
:   [Ott, J.]{.refAuthor}[, Wenger, S.]{.refAuthor}[,
    Sato, N.]{.refAuthor}[, Burmeister, C.]{.refAuthor}[, and J.
    Rey]{.refAuthor}, [\"Extended RTP Profile for Real-time Transport
    Control Protocol (RTCP)-Based Feedback (RTP/AVPF)\"]{.refTitle},
    [RFC 4585]{.seriesInfo}, [DOI 10.17487/RFC4585]{.seriesInfo}, July
    2006, \<<https://www.rfc-editor.org/info/rfc4585>\>.
:   

\[RFC5506\]
:   [Johansson, I.]{.refAuthor}[ and M. Westerlund]{.refAuthor},
    [\"Support for Reduced-Size Real-Time Transport Control Protocol
    (RTCP): Opportunities and Consequences\"]{.refTitle}, [RFC
    5506]{.seriesInfo}, [DOI 10.17487/RFC5506]{.seriesInfo}, April 2009,
    \<<https://www.rfc-editor.org/info/rfc5506>\>.
:   

\[RFC8083\]
:   [Perkins, C.]{.refAuthor}[ and V. Singh]{.refAuthor}, [\"Multimedia
    Congestion Control: Circuit Breakers for Unicast RTP
    Sessions\"]{.refTitle}, [RFC 8083]{.seriesInfo}, [DOI
    10.17487/RFC8083]{.seriesInfo}, March 2017,
    \<<https://www.rfc-editor.org/info/rfc8083>\>.
:   

\[RFC8593\]
:   [Zhu, X.]{.refAuthor}[, Mena, S.]{.refAuthor}[, and Z.
    Sarker]{.refAuthor}, [\"Video Traffic Models for RTP Congestion
    Control Evaluations\"]{.refTitle}, [RFC 8593]{.seriesInfo}, [DOI
    10.17487/RFC8593]{.seriesInfo}, May 2019,
    \<<https://www.rfc-editor.org/info/rfc8593>\>.
:   

\[RFC8836\]
:   [Jesup, R.]{.refAuthor}[ and Z. Sarker, Ed.]{.refAuthor},
    [\"Congestion Control Requirements for Interactive Real-Time
    Media\"]{.refTitle}, [RFC 8836]{.seriesInfo}, [DOI
    10.17487/RFC8836]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8836>\>.
:   
:::

::: {#section-8.2 .section}
### [8.2.](#section-8.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[gilbert-elliott\]
:   [Hasslinger, G.]{.refAuthor}[ and O. Hohlfeld]{.refAuthor}, [\"The
    Gilbert-Elliott Model for Packet Loss in Real Time Services on the
    Internet\"]{.refTitle}, [14th GI/ITG Conference - Measurement,
    Modelling and Evalutation \[sic\] of Computer and Communication
    Systems]{.refContent}, March 2008,
    \<<https://ieeexplore.ieee.org/document/5755057>\>.
:   

\[netvc-testing\]
:   [Daede, T.]{.refAuthor}[, Norkin, A.]{.refAuthor}[, and I.
    Brailovskiy]{.refAuthor}, [\"Video Codec Testing and Quality
    Measurement\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-netvc-testing-09]{.seriesInfo}, 31
    January 2020,
    \<<https://tools.ietf.org/html/draft-ietf-netvc-testing-09>\>.
:   

\[RFC5033\]
:   [Floyd, S.]{.refAuthor}[ and M. Allman]{.refAuthor}, [\"Specifying
    New Congestion Control Algorithms\"]{.refTitle}, [BCP
    133]{.seriesInfo}, [RFC 5033]{.seriesInfo}, [DOI
    10.17487/RFC5033]{.seriesInfo}, August 2007,
    \<<https://www.rfc-editor.org/info/rfc5033>\>.
:   

\[RFC5166\]
:   [Floyd, S., Ed.]{.refAuthor}, [\"Metrics for the Evaluation of
    Congestion Control Mechanisms\"]{.refTitle}, [RFC
    5166]{.seriesInfo}, [DOI 10.17487/RFC5166]{.seriesInfo}, March 2008,
    \<<https://www.rfc-editor.org/info/rfc5166>\>.
:   

\[RFC8312\]
:   [Rhee, I.]{.refAuthor}[, Xu, L.]{.refAuthor}[, Ha, S.]{.refAuthor}[,
    Zimmermann, A.]{.refAuthor}[, Eggert, L.]{.refAuthor}[, and R.
    Scheffenegger]{.refAuthor}, [\"CUBIC for Fast Long-Distance
    Networks\"]{.refTitle}, [RFC 8312]{.seriesInfo}, [DOI
    10.17487/RFC8312]{.seriesInfo}, February 2018,
    \<<https://www.rfc-editor.org/info/rfc8312>\>.
:   

\[RFC8867\]
:   [Sarker, Z.]{.refAuthor}[, Singh, V.]{.refAuthor}[,
    Zhu, X.]{.refAuthor}[, and M. Ramalho]{.refAuthor}, [\"Test Cases
    for Evaluating Congestion Control for Interactive Real-Time
    Media\"]{.refTitle}, [RFC 8867]{.seriesInfo}, [DOI
    10.17487/RFC8867]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8867>\>.
:   

\[RFC8869\]
:   [Sarker, Z.]{.refAuthor}[, Zhu, X.]{.refAuthor}[, and J.
    Fu]{.refAuthor}, [\"Evaluation Test Cases for Interactive Real-Time
    Media over Wireless Networks\"]{.refTitle}, [RFC 8869]{.seriesInfo},
    [DOI 10.17487/RFC8869]{.seriesInfo}, January 2021,
    \<<https://www.rfc-editor.org/info/rfc8869>\>.
:   

\[tcpdump\]
:   [\"Homepage of tcpdump and libpcap\"]{.refTitle},
    \<<https://www.tcpdump.org/index.html>\>.
:   

\[wireshark\]
:   [\"Homepage of Wireshark\"]{.refTitle},
    \<<https://www.wireshark.org>\>.
:   

\[xiph-seq\]
:   [Daede, T.]{.refAuthor}, [\"Video Test Media Set\"]{.refTitle},
    \<<https://media.xiph.org/video/derf/>\>.
:   
:::
:::

::: {#contrib}
::: {#section-appendix.a .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

The content and concepts within this document are a product of the
discussion carried out in the Design
Team.[¶](#section-appendix.a-1){.pilcrow}

[Michael Ramalho]{.contact-name} provided the text for the jitter models
([Section 4.5](#JM){.xref}).[¶](#section-appendix.a-2){.pilcrow}
:::
:::

::: {#section-appendix.b .section}
## [Acknowledgments](#name-acknowledgments){.section-name .selfRef} {#name-acknowledgments}

Much of this document is derived from previous work on congestion
control at the IETF.[¶](#section-appendix.b-1){.pilcrow}

The authors would like to thank [Harald Alvestrand]{.contact-name},
[Anna Brunstrom]{.contact-name}, [Luca De Cicco]{.contact-name}, [Wesley
Eddy]{.contact-name}, [Lars Eggert]{.contact-name}, [Kevin
Gross]{.contact-name}, [Vinayak Hegde]{.contact-name}, [Randell
Jesup]{.contact-name}, [Mirja Kühlewind]{.contact-name}, [Karen
Nielsen]{.contact-name}, [Piers O\'Hanlon]{.contact-name}, [Colin
Perkins]{.contact-name}, [Michael Ramalho]{.contact-name}, [Zaheduzzaman
Sarker]{.contact-name}, [Timothy B. Terriberry]{.contact-name}, [Michael
Welzl]{.contact-name}, [Mo Zanaty]{.contact-name}, and [Xiaoqing
Zhu]{.contact-name} for providing valuable feedback on draft versions of
this document. Additionally, thanks to the participants of the Design
Team for their comments and discussion related to the evaluation
criteria.[¶](#section-appendix.b-2){.pilcrow}
:::

::: {#authors-addresses}
::: {#section-appendix.c .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Varun Singh]{.fn .nameRole}
:::

::: {.left dir="auto"}
[CALLSTATS I/O Oy]{.org}
:::

::: {.left dir="auto"}
[Rauhankatu 11 C]{.street-address}
:::

::: {.left dir="auto"}
FI-[00100]{.postal-code} [Helsinki]{.locality}
:::

::: {.left dir="auto"}
[Finland]{.country-name}
:::

::: email
Email: <varun.singh@iki.fi>
:::

::: url
URI: <https://www.callstats.io/>
:::

::: {.left dir="auto"}
[Jörg Ott]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Technical University of Munich]{.org}
:::

::: {.left dir="auto"}
[Department of Informatics\
Chair of Connected Mobility]{.extended-address}
:::

::: {.left dir="auto"}
[Boltzmannstrasse 3]{.street-address}
:::

::: {.left dir="auto"}
[85748]{.postal-code} [Garching]{.locality}
:::

::: {.left dir="auto"}
[Germany]{.country-name}
:::

::: email
Email: <ott@in.tum.de>
:::

::: {.left dir="auto"}
[Stefan Holmer]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Google]{.org}
:::

::: {.left dir="auto"}
[Kungsbron 2]{.street-address}
:::

::: {.left dir="auto"}
SE-[11122]{.postal-code} [Stockholm]{.locality}
:::

::: {.left dir="auto"}
[Sweden]{.country-name}
:::

::: email
Email: <holmer@google.com>
:::
:::
:::
