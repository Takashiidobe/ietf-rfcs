  RFC 8663     SR-MPLS-over-IP   December 2019
  ------------ ----------------- ---------------
  Xu, et al.   Standards Track   \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8663](https://www.rfc-editor.org/rfc/rfc8663){.eref}

Category:
:   Standards Track

Published:
:   December 2019

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    X. Xu
    :::

    ::: org
    Alibaba, Inc
    :::
    :::

    ::: author
    ::: author-name
    S. Bryant
    :::

    ::: org
    Futurewei Technologies
    :::
    :::

    ::: author
    ::: author-name
    A. Farrel
    :::

    ::: org
    Old Dog Consulting
    :::
    :::

    ::: author
    ::: author-name
    S. Hassan
    :::

    ::: org
    Cisco
    :::
    :::

    ::: author
    ::: author-name
    W. Henderickx
    :::

    ::: org
    Nokia
    :::
    :::

    ::: author
    ::: author-name
    Z. Li
    :::

    ::: org
    Huawei
    :::
    :::
:::

# RFC 8663 {#rfcnum}

# MPLS Segment Routing over IP {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

MPLS Segment Routing (SR-MPLS) is a method of source routing a packet
through an MPLS data plane by imposing a stack of MPLS labels on the
packet to specify the path together with any packet-specific
instructions to be executed on it. SR-MPLS can be leveraged to realize a
source-routing mechanism across MPLS, IPv4, and IPv6 data planes by
using an MPLS label stack as a source-routing instruction set while
making no changes to SR-MPLS specifications and interworking with
SR-MPLS implementations.[¶](#section-abstract-1){.pilcrow}

This document describes how SR-MPLS-capable routers and IP-only routers
can seamlessly coexist and interoperate through the use of SR-MPLS label
stacks and IP encapsulation/tunneling such as MPLS-over-UDP as defined
in RFC 7510.[¶](#section-abstract-2){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8663>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2019 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Terminology](#name-terminology){.xref}[¶](#section-toc.1-1.1.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Use
    Cases](#name-use-cases){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Procedures of
    SR-MPLS-over-IP](#name-procedures-of-sr-mpls-over-){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [Forwarding Entry
        Construction](#name-forwarding-entry-constructi){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}

        -   ::: {#section-toc.1-1.3.2.1.2.1}
            [3.1.1](#section-3.1.1){.xref}.  [FIB Construction
            Example](#name-fib-construction-example){.xref}[¶](#section-toc.1-1.3.2.1.2.1.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [Packet-Forwarding
        Procedures](#name-packet-forwarding-procedure){.xref}[¶](#section-toc.1-1.3.2.2.1){.pilcrow}

        -   ::: {#section-toc.1-1.3.2.2.2.1}
            [3.2.1](#section-3.2.1){.xref}.  [Packet Forwarding with
            Penultimate Hop
            Popping](#name-packet-forwarding-with-penu){.xref}[¶](#section-toc.1-1.3.2.2.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.3.2.2.2.2}
            [3.2.2](#section-3.2.2){.xref}.  [Packet Forwarding without
            Penultimate Hop
            Popping](#name-packet-forwarding-without-p){.xref}[¶](#section-toc.1-1.3.2.2.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.3.2.2.2.3}
            [3.2.3](#section-3.2.3){.xref}.  [Additional Forwarding
            Procedures](#name-additional-forwarding-proce){.xref}[¶](#section-toc.1-1.3.2.2.2.3.1){.pilcrow}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [References](#name-references){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.6.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.6.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [](#section-appendix.a){.xref}[Acknowledgements](#name-acknowledgements){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [](#section-appendix.b){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.9}
    [](#section-appendix.c){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}
    :::
:::
:::

::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

MPLS Segment Routing (SR-MPLS) \[[RFC8660](#RFC8660){.xref}\] is a
method of source routing a packet through an MPLS data plane. This is
achieved by the sender imposing a stack of MPLS labels that partially or
completely specify the path that the packet is to take and any
instructions to be executed on the packet as it passes through the
network. SR-MPLS uses an MPLS label stack to encode a sequence of
source-routing instructions. This can be used to realize a
source-routing mechanism that can operate across MPLS, IPv4, and IPv6
data planes. This approach makes no changes to SR-MPLS specifications
and allows interworking with SR-MPLS implementations. More specifically,
the source-routing instructions in a source-routed packet could be
uniformly encoded as an MPLS label stack regardless of whether the
underlay is IPv4, IPv6 (including Segment Routing for IPv6 (SRv6)
\[[RFC8354](#RFC8354){.xref}\]), or MPLS.[¶](#section-1-1){.pilcrow}

This document describes how SR-MPLS-capable routers and IP-only routers
can seamlessly coexist and interoperate through the use of SR-MPLS label
stacks and IP encapsulation/tunneling such as MPLS-over-UDP
\[[RFC7510](#RFC7510){.xref}\].[¶](#section-1-2){.pilcrow}

[Section 2](#usecases){.xref} describes various use cases for tunneling
SR-MPLS over IP. [Section 3](#procs){.xref} describes a typical
application scenario and how the packet forwarding
happens.[¶](#section-1-3){.pilcrow}

::: {#Abbreviations_Terminology}
::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

This memo makes use of the terms defined in
\[[RFC3031](#RFC3031){.xref}\] and
\[[RFC8660](#RFC8660){.xref}\].[¶](#section-1.1-1){.pilcrow}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1.1-2){.pilcrow}
:::
:::
:::

::: {#usecases}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Use Cases](#name-use-cases){.section-name .selfRef} {#name-use-cases}

Tunneling SR-MPLS using IPv4 and/or IPv6 (including SRv6) tunnels is
useful at least in the use cases listed below. In all cases, this can be
enabled using an IP tunneling mechanism such as MPLS-over-UDP as
described in \[[RFC7510](#RFC7510){.xref}\]. The tunnel selected
[MUST]{.bcp14} have its remote endpoint (destination) address equal to
the address of the next node capable of SR-MPLS identified as being on
the SR path (i.e., the egress of the active segment). The local endpoint
(source) address is set to an address of the encapsulating node.
\[[RFC7510](#RFC7510){.xref}\] gives further advice on how to set the
source address if the UDP zero-checksum mode is used with MPLS-over-UDP.
Using UDP as the encapsulation may be particularly beneficial because it
is agnostic of the underlying transport.[¶](#section-2-1){.pilcrow}

-   ::: {#section-2-2.1}
    Incremental deployment of the SR-MPLS technology may be facilitated
    by tunneling SR-MPLS packets across parts of a network that are not
    SR-MPLS as shown in [Figure 1](#islandsFig){.xref}. This
    demonstrates how islands of SR-MPLS may be connected across a legacy
    network. It may be particularly useful for joining sites (such as
    data centers).[¶](#section-2-2.1.1){.pilcrow}

    []{#name-sr-mpls-over-udp-to-tunnel-}
    ::: {#islandsFig}
    ::: {#section-2-2.1.2.1 .artwork .art-text .alignLeft}
                           ________________________
            _______       (                        )       _______
           (       )     (        IP Network        )     (       )
          ( SR-MPLS )   (                            )   ( SR-MPLS )
         (  Network  ) (                              ) (  Network  )
        (         --------                          --------         )
        (        | Border |    SR-in-UDP Tunnel    | Border |        )
        (        | Router |========================| Router |        )
        (        |   R1   |                        |   R2   |        )
        (         --------                          --------         )
         (           ) (                              ) (           )
          (         )   (                            )   (         )
           (_______)     (                          )     (_______)
                          (________________________)
    :::

    [Figure 1](#figure-1){.selfRef}: [SR-MPLS-over-UDP to Tunnel between
    SR-MPLS Sites](#name-sr-mpls-over-udp-to-tunnel-){.selfRef}
    :::
    :::

-   [If the encoding of entropy \[[RFC6790](#RFC6790){.xref}\] is
    desired, IP-tunneling mechanisms that allow the encoding of entropy,
    such as MPLS-over-UDP encapsulation \[[RFC7510](#RFC7510){.xref}\]
    where the source port of the UDP header is used as an entropy field,
    may be used to maximize the utilization of Equal-Cost Multipath
    (ECMP) and/or Link Aggregation Groups (LAGs), especially when it is
    difficult to make use of the entropy-label mechanism. This is to be
    contrasted with \[[RFC4023](#RFC4023){.xref}\] where MPLS-over-IP
    does not provide for an entropy mechanism. Refer to
    \[[RFC8662](#RFC8662){.xref}\]) for more discussion about using
    entropy labels in
    SR-MPLS.[¶](#section-2-2.2){.pilcrow}]{#section-2-2.2}

-   ::: {#section-2-2.3}
    Tunneling MPLS over IP provides a technology that enables Segment
    Routing (SR) in an IPv4 and/or IPv6 network where the routers do not
    support SRv6 capabilities
    \[[IPv6-SRH](#I-D.ietf-6man-segment-routing-header){.xref}\] and
    where MPLS forwarding is not an option. This is shown in [Figure
    2](#transitionFig){.xref}.[¶](#section-2-2.3.1){.pilcrow}

    []{#name-sr-mpls-enabled-within-an-i}
    ::: {#transitionFig}
    ::: {#section-2-2.3.2.1 .artwork .art-text .alignLeft}
                        __________________________________
                     __(           IP Network             )__
                  __(                                        )__
                 (               --        --        --         )
            --------   --   --  |SR|  --  |SR|  --  |SR|  --   --------
           | Ingress| |IR| |IR| |  | |IR| |  | |IR| |  | |IR| | Egress|
        -->| Router |===========|  |======|  |======|  |======| Router|-->
           |   SR   | |  | |  | |  | |  | |  | |  | |  | |  | |   SR  |
            --------   --   --  |  |  --  |  |  --  |  |  --   --------
                 (__             --        --        --       __)
                    (__                                    __)
                       (__________________________________)

          Key:
            IR : IP-only Router
            SR : SR-MPLS-capable Router
            == : SR-MPLS-over-UDP Tunnel
    :::

    [Figure 2](#figure-2){.selfRef}: [SR-MPLS Enabled within an IP
    Network](#name-sr-mpls-enabled-within-an-i){.selfRef}
    :::
    :::
:::
:::

::: {#procs}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Procedures of SR-MPLS-over-IP](#name-procedures-of-sr-mpls-over-){.section-name .selfRef} {#name-procedures-of-sr-mpls-over-}

This section describes the construction of forwarding information base
(FIB) entries and the forwarding behavior that allow the deployment of
SR-MPLS when some routers in the network are IP only (i.e., do not
support SR-MPLS). Note that the examples in Sections
[3.1.1](#fibeg){.xref} and [3.2](#fwd){.xref} assume that OSPF or IS-IS
is enabled; in fact, other mechanisms of discovery and advertisement
could be used including other routing protocols (such as BGP) or a
central controller.[¶](#section-3-1){.pilcrow}

::: {#fib}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [Forwarding Entry Construction](#name-forwarding-entry-constructi){.section-name .selfRef} {#name-forwarding-entry-constructi}

This subsection describes how to construct the forwarding information
base (FIB) entry on an SR-MPLS-capable router when some or all of the
next hops along the shortest path towards a prefix Segment Identifier
(Prefix-SID) are IP-only routers. [Section 3.1.1](#fibeg){.xref}
provides a concrete example of how the process applies when using OSPF
or IS-IS.[¶](#section-3.1-1){.pilcrow}

Consider router A that receives a labeled packet with top label L(E)
that corresponds to the Prefix-SID SID(E) of prefix P(E) advertised by
router E. Suppose the i-th next-hop router (termed NHi) along the
shortest path from router A toward SID(E) is not SR-MPLS capable while
both routers A and E are SR-MPLS capable. The following processing steps
apply:[¶](#section-3.1-2){.pilcrow}

-   [Router E is SR-MPLS capable, so it advertises a Segment Routing
    Global Block (SRGB). The SRGB is defined in
    \[[RFC8402](#RFC8402){.xref}\]. There are a number of ways that the
    advertisement can be achieved including IGPs, BGP, and
    configuration/management protocols. For example, see
    \[[DC-GATEWAY](#I-D.ietf-bess-datacenter-gateway){.xref}\].[¶](#section-3.1-3.1){.pilcrow}]{#section-3.1-3.1}

-   [When Router E advertises the Prefix-SID SID(E) of prefix P(E), it
    [MUST]{.bcp14} also advertise the egress endpoint address and the
    encapsulation type of any tunnel used to reach E. This information
    is flooded domain
    wide.[¶](#section-3.1-3.2){.pilcrow}]{#section-3.1-3.2}

-   [If A and E are in different routing domains, then the information
    [MUST]{.bcp14} be flooded into both domains. How this is achieved
    depends on the advertisement mechanism being used. The objective is
    that router A knows the characteristics of router E that originated
    the advertisement of
    SID(E).[¶](#section-3.1-3.3){.pilcrow}]{#section-3.1-3.3}

-   ::: {#section-3.1-3.4}
    Router A programs the FIB entry for prefix P(E) corresponding to the
    SID(E) according to whether a pop or swap action is advertised for
    the prefix. The resulting action may
    be:[¶](#section-3.1-3.4.1){.pilcrow}

    -   [pop the top
        label[¶](#section-3.1-3.4.2.1){.pilcrow}]{#section-3.1-3.4.2.1}
    -   [swap the top label to a value equal to SID(E) plus the lower
        bound of the SRGB of
        E[¶](#section-3.1-3.4.2.2){.pilcrow}]{#section-3.1-3.4.2.2}
    :::

Once constructed, the FIB can be used by a router to tell it how to
process packets. It encapsulates the packets according to the
appropriate encapsulation advertised for the segment and then sends the
packets towards the next hop NHi.[¶](#section-3.1-4){.pilcrow}

::: {#fibeg}
::: {#section-3.1.1 .section}
#### [3.1.1.](#section-3.1.1){.section-number .selfRef} [FIB Construction Example](#name-fib-construction-example){.section-name .selfRef} {#name-fib-construction-example}

This section is non-normative and provides a worked example of how a FIB
might be constructed using OSPF and IS-IS extensions. It is based on the
process described in [Section
3.1](#fib){.xref}.[¶](#section-3.1.1-1){.pilcrow}

-   [Router E is SR-MPLS capable, so it advertises a Segment Routing
    Global Block (SRGB) using \[[RFC8665](#RFC8665){.xref}\] or
    \[[RFC8667](#RFC8667){.xref}\].[¶](#section-3.1.1-2.1){.pilcrow}]{#section-3.1.1-2.1}

-   [When Router E advertises the Prefix-SID SID(E) of prefix P(E), it
    also advertises the encapsulation endpoint address and the tunnel
    type of any tunnel used to reach E using
    \[[ISIS-ENCAP](#I-D.ietf-isis-encapsulation-cap){.xref}\] or
    \[[OSPF-ENCAP](#I-D.ietf-ospf-encapsulation-cap){.xref}\].[¶](#section-3.1.1-2.2){.pilcrow}]{#section-3.1.1-2.2}

-   ::: {#section-3.1.1-2.3}
    If A and E are in different domains, then the information is flooded
    into both domains and any intervening
    domains.[¶](#section-3.1.1-2.3.1){.pilcrow}

    -   [The OSPF Tunnel Encapsulations TLV
        \[[OSPF-ENCAP](#I-D.ietf-ospf-encapsulation-cap){.xref}\] or the
        IS-IS Tunnel Encapsulation Type sub-TLV
        \[[ISIS-ENCAP](#I-D.ietf-isis-encapsulation-cap){.xref}\] is
        flooded domain
        wide.[¶](#section-3.1.1-2.3.2.1){.pilcrow}]{#section-3.1.1-2.3.2.1}

    -   [The OSPF SID/Label Range TLV \[[RFC8665](#RFC8665){.xref}\] or
        the IS-IS SR-Capabilities sub-TLV \[[RFC8667](#RFC8667){.xref}\]
        is advertised domain wide so that router A knows the
        characteristics of router
        E.[¶](#section-3.1.1-2.3.2.2){.pilcrow}]{#section-3.1.1-2.3.2.2}

    -   ::: {#section-3.1.1-2.3.2.3}
        When router E advertises the prefix
        P(E):[¶](#section-3.1.1-2.3.2.3.1){.pilcrow}

        -   [If router E is running IS-IS, it uses the extended
            reachability TLV (TLVs 135, 235, 236, 237) and associates
            the IPv4/IPv6 or IPv4/IPv6 Source Router ID sub-TLV(s)
            \[[RFC7794](#RFC7794){.xref}\].[¶](#section-3.1.1-2.3.2.3.2.1){.pilcrow}]{#section-3.1.1-2.3.2.3.2.1}
        -   [If router E is running OSPF, it uses the OSPFv2 Extended
            Prefix Opaque Link-State Advertisement (LSA)
            \[[RFC7684](#RFC7684){.xref}\] and sets the flooding scope
            to Autonomous System (AS)
            wide.[¶](#section-3.1.1-2.3.2.3.2.2){.pilcrow}]{#section-3.1.1-2.3.2.3.2.2}
        :::

    -   [If router E is running IS-IS and advertises the IS-IS Router
        CAPABILITY TLV (TLV 242) \[[RFC7981](#RFC7981){.xref}\], it sets
        the \"Router ID\" field to a valid value or includes an IPv6 TE
        Router ID sub-TLV (TLV 12), or it does both. The \"S\" bit
        (flooding scope) of the IS-IS Router CAPABILITY TLV (TLV 242) is
        set to
        \"1\".[¶](#section-3.1.1-2.3.2.4){.pilcrow}]{#section-3.1.1-2.3.2.4}
    :::

-   ::: {#section-3.1.1-2.4}
    Router A programs the FIB entry for prefix P(E) corresponding to the
    SID(E) according to whether a pop or swap action is advertised for
    the prefix as follows:[¶](#section-3.1.1-2.4.1){.pilcrow}

    -   ::: {#section-3.1.1-2.4.2.1}
        If the No-PHP (NP) Flag in OSPF or the Persistent (P) Flag in
        IS-IS is clear:[¶](#section-3.1.1-2.4.2.1.1){.pilcrow}

        -   [pop the top
            label[¶](#section-3.1.1-2.4.2.1.2.1){.pilcrow}]{#section-3.1.1-2.4.2.1.2.1}
        :::

    -   ::: {#section-3.1.1-2.4.2.2}
        If the No-PHP (NP) Flag in OSPF or the Persistent (P) Flag in
        IS-IS is set:[¶](#section-3.1.1-2.4.2.2.1){.pilcrow}

        -   [swap the top label to a value equal to SID(E) plus the
            lower bound of the SRGB of
            E[¶](#section-3.1.1-2.4.2.2.2.1){.pilcrow}]{#section-3.1.1-2.4.2.2.2.1}
        :::
    :::

When forwarding the packet according to the constructed FIB entry, the
router encapsulates the packet according to the encapsulation as
advertised using the mechanisms described in
\[[ISIS-ENCAP](#I-D.ietf-isis-encapsulation-cap){.xref}\] or
\[[OSPF-ENCAP](#I-D.ietf-ospf-encapsulation-cap){.xref}\]. It then sends
the packets towards the next hop NHi.[¶](#section-3.1.1-3){.pilcrow}

Note that \[[RFC7510](#RFC7510){.xref}\] specifies the use of port
number 6635 to indicate that the payload of a UDP packet is MPLS, and
port number 6636 for MPLS-over-UDP utilizing DTLS. However,
\[[ISIS-ENCAP](#I-D.ietf-isis-encapsulation-cap){.xref}\] and
\[[OSPF-ENCAP](#I-D.ietf-ospf-encapsulation-cap){.xref}\] provide
dynamic protocol mechanisms to configure the use of any Dynamic Port for
a tunnel that uses UDP encapsulation. Nothing in this document prevents
the use of an IGP or any other mechanism to negotiate the use of a
Dynamic Port when UDP encapsulation is used for SR-MPLS, but if no such
mechanism is used, then the port numbers specified in
\[[RFC7510](#RFC7510){.xref}\] are used.[¶](#section-3.1.1-4){.pilcrow}
:::
:::
:::
:::

::: {#fwd}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [Packet-Forwarding Procedures](#name-packet-forwarding-procedure){.section-name .selfRef} {#name-packet-forwarding-procedure}

\[[RFC7510](#RFC7510){.xref}\] specifies an IP-based encapsulation for
MPLS, i.e., MPLS-over-UDP. This approach is applicable where IP-based
encapsulation for MPLS is required and further fine-grained load
balancing of MPLS packets over IP networks over ECMP and/or LAGs is also
required. This section provides details about the forwarding procedure
when UDP encapsulation is adopted for SR-MPLS-over-IP. Other
encapsulation and tunneling mechanisms can be applied using similar
techniques, but for clarity, this section uses UDP encapsulation as the
exemplar.[¶](#section-3.2-1){.pilcrow}

Nodes that are SR-MPLS capable can process SR-MPLS packets. Not all of
the nodes in an SR-MPLS domain are SR-MPLS capable. Some nodes may be
\"legacy routers\" that cannot handle SR-MPLS packets but can forward IP
packets. A node capable of SR-MPLS [MAY]{.bcp14} advertise its
capabilities using the IGP as described in [Section 3](#procs){.xref}.
There are six types of nodes in an SR-MPLS
domain:[¶](#section-3.2-2){.pilcrow}

-   [Domain ingress nodes that receive packets and encapsulate them for
    transmission across the domain. Those packets may be any payload
    protocol including native IP packets or packets that are already
    MPLS encapsulated.[¶](#section-3.2-3.1){.pilcrow}]{#section-3.2-3.1}
-   [Legacy transit nodes that are IP routers but that are not SR-MPLS
    capable (i.e., are not able to perform Segment
    Routing).[¶](#section-3.2-3.2){.pilcrow}]{#section-3.2-3.2}
-   [Transit nodes that are SR-MPLS capable but that are not identified
    by a SID in the SID
    stack.[¶](#section-3.2-3.3){.pilcrow}]{#section-3.2-3.3}
-   [Transit nodes that are SR-MPLS capable and need to perform SR-MPLS
    routing because they are identified by a SID in the SID
    stack.[¶](#section-3.2-3.4){.pilcrow}]{#section-3.2-3.4}
-   [The penultimate node capable of SR-MPLS on the path that processes
    the last SID on the stack on behalf of the domain egress
    node.[¶](#section-3.2-3.5){.pilcrow}]{#section-3.2-3.5}
-   [The domain egress node that forwards the payload packet for
    ultimate delivery.[¶](#section-3.2-3.6){.pilcrow}]{#section-3.2-3.6}

::: {#phpfwd}
::: {#section-3.2.1 .section}
#### [3.2.1.](#section-3.2.1){.section-number .selfRef} [Packet Forwarding with Penultimate Hop Popping](#name-packet-forwarding-with-penu){.section-name .selfRef} {#name-packet-forwarding-with-penu}

The description in this section assumes that the label associated with
each Prefix-SID is advertised by the owner of the Prefix-SID as a
Penultimate Hop-Popping (PHP) label. That is, if one of the IGP flooding
mechanisms is used, the NP-Flag in OSPF or the P-Flag in IS-IS
associated with the Prefix-SID is not
set.[¶](#section-3.2.1-1){.pilcrow}

[]{#name-packet-forwarding-example-w}

::: {#phpfwdeg}
::: {#section-3.2.1-2.1 .artwork .art-text .alignCenter}
     +-----+       +-----+       +-----+       +-----+       +-----+
     |  A  +-------+  B  +-------+  C  +-------+  D  +-------+  H  |
     +-----+       +--+--+       +--+--+       +--+--+       +-----+
                      |             |             |
                      |             |             |
                   +--+--+       +--+--+       +--+--+
                   |  E  +-------+  F  +-------+  G  |
                   +-----+       +-----+       +-----+


          +--------+
          |IP(A->E)|
          +--------+                 +--------+        +--------+
          |  UDP   |                 |IP(E->G)|        |IP(G->H)|
          +--------+                 +--------+        +--------+
          |  L(G)  |                 |  UDP   |        |  UDP   |
          +--------+                 +--------+        +--------+
          |  L(H)  |                 |  L(H)  |        |Exp Null|
          +--------+                 +--------+        +--------+
          | Packet |     --->        | Packet |  --->  | Packet |
          +--------+                 +--------+        +--------+
:::

[Figure 3](#figure-3){.selfRef}: [Packet-Forwarding Example with
PHP](#name-packet-forwarding-example-w){.selfRef}
:::

In the example shown in [Figure 3](#phpfwdeg){.xref}, assume that
routers A, E, G, and H are capable of SR-MPLS while the remaining
routers (B, C, D, and F) are only capable of forwarding IP packets.
Routers A, E, G, and H advertise their Segment Routing related
information, such as via IS-IS or OSPF.[¶](#section-3.2.1-3){.pilcrow}

Now assume that router A (the Domain ingress) wants to send a packet to
router H (the Domain egress) via the explicit path {E-\>G-\>H}. Router A
will impose an MPLS label stack on the packet that corresponds to that
explicit path. Since the next hop toward router E is only IP capable (B
is a legacy transit node), router A replaces the top label (that
indicated router E) with a UDP-based tunnel for MPLS (i.e.,
MPLS-over-UDP \[[RFC7510](#RFC7510){.xref}\]) to router E and then sends
the packet. In other words, router A pops the top label and then
encapsulates the MPLS packet in a UDP tunnel to router
E.[¶](#section-3.2.1-4){.pilcrow}

When the IP-encapsulated MPLS packet arrives at router E (which is a
transit node capable of SR-MPLS), router E strips the IP-based tunnel
header and then processes the decapsulated MPLS packet. The top label
indicates that the packet must be forwarded toward router G. Since the
next hop toward router G is only IP capable, router E replaces the
current top label with an MPLS-over-UDP tunnel toward router G and sends
it out. That is, router E pops the top label and then encapsulates the
MPLS packet in a UDP tunnel to router G.[¶](#section-3.2.1-5){.pilcrow}

When the packet arrives at router G, router G will strip the IP-based
tunnel header and then process the decapsulated MPLS packet. The top
label indicates that the packet must be forwarded toward router H. Since
the next hop toward router H is only IP capable (D is a legacy transit
router), router G would replace the current top label with an
MPLS-over-UDP tunnel toward router H and send it out. However, since
router G reaches the bottom of the label stack (G is the penultimate
node capable of SR-MPLS on the path), this would leave the original
packet that router A wanted to send to router H encapsulated in UDP as
if it was MPLS (i.e., with a UDP header and destination port indicating
MPLS) even though the original packet could have been any protocol. That
is, the final SR-MPLS has been popped exposing the payload
packet.[¶](#section-3.2.1-6){.pilcrow}

To handle this, when a router (here it is router G) pops the final
SR-MPLS label, it inserts an explicit NULL label
\[[RFC3032](#RFC3032){.xref}\] before encapsulating the packet in an
MPLS-over-UDP tunnel toward router H and sending it out. That is, router
G pops the top label, discovers it has reached the bottom of stack,
pushes an explicit NULL label, and then encapsulates the MPLS packet in
a UDP tunnel to router H.[¶](#section-3.2.1-7){.pilcrow}
:::
:::

::: {#nophpfwd}
::: {#section-3.2.2 .section}
#### [3.2.2.](#section-3.2.2){.section-number .selfRef} [Packet Forwarding without Penultimate Hop Popping](#name-packet-forwarding-without-p){.section-name .selfRef} {#name-packet-forwarding-without-p}

[Figure 4](#nophpfwdeg){.xref} demonstrates the packet walk in the case
where the label associated with each Prefix-SID advertised by the owner
of the Prefix-SID is not a Penultimate Hop-Popping (PHP) label (e.g.,
the NP-Flag in OSPF or the P-Flag in IS-IS associated with the
Prefix-SID is set). Apart from the PHP function, the roles of the
routers are unchanged from [Section
3.2.1](#phpfwd){.xref}.[¶](#section-3.2.2-1){.pilcrow}

[]{#name-packet-forwarding-example-wi}

::: {#nophpfwdeg}
::: {#section-3.2.2-2.1 .artwork .art-text .alignCenter}
     +-----+       +-----+       +-----+        +-----+        +-----+
     |  A  +-------+  B  +-------+  C  +--------+  D  +--------+  H  |
     +-----+       +--+--+       +--+--+        +--+--+        +-----+
                      |             |              |
                      |             |              |
                   +--+--+       +--+--+        +--+--+
                   |  E  +-------+  F  +--------+  G  |
                   +-----+       +-----+        +-----+

          +--------+
          |IP(A->E)|
          +--------+                 +--------+
          |  UDP   |                 |IP(E->G)|
          +--------+                 +--------+        +--------+
          |  L(E)  |                 |  UDP   |        |IP(G->H)|
          +--------+                 +--------+        +--------+
          |  L(G)  |                 |  L(G)  |        |  UDP   |
          +--------+                 +--------+        +--------+
          |  L(H)  |                 |  L(H)  |        |  L(H)  |
          +--------+                 +--------+        +--------+
          | Packet |     --->        | Packet |  --->  | Packet |
          +--------+                 +--------+        +--------+
:::

[Figure 4](#figure-4){.selfRef}: [Packet-Forwarding Example without
PHP](#name-packet-forwarding-example-wi){.selfRef}
:::

As can be seen from the figure, the SR-MPLS label for each segment is
left in place until the end of the segment where it is popped and the
next instruction is processed.[¶](#section-3.2.2-3){.pilcrow}
:::
:::

::: {#addnlfwd}
::: {#section-3.2.3 .section}
#### [3.2.3.](#section-3.2.3){.section-number .selfRef} [Additional Forwarding Procedures](#name-additional-forwarding-proce){.section-name .selfRef} {#name-additional-forwarding-proce}

Non-MPLS Interfaces:
:   Although the description in the previous two sections is based on
    the use of Prefix-SIDs, tunneling SR-MPLS packets is useful when the
    top label of a received SR-MPLS packet indicates an Adjacency SID
    and the corresponding adjacent node to that Adjacency SID is not
    capable of MPLS forwarding but can still process SR-MPLS packets. In
    this scenario, the top label would be replaced by an IP tunnel
    toward that adjacent node and then forwarded over the corresponding
    link indicated by the Adjacency
    SID.[¶](#section-3.2.3-1.2){.pilcrow}

When to Use IP-Based Tunnels:
:   The description in the previous two sections is based on the
    assumption that an MPLS-over-UDP tunnel is used when the next hop
    towards the next segment is not MPLS enabled. However, even in the
    case where the next hop towards the next segment is MPLS capable, an
    MPLS-over-UDP tunnel towards the next segment could still be used
    instead due to local policies. For instance, in the example as
    described in [Figure 4](#nophpfwdeg){.xref}, assume F is now a
    transit node capable of SR-MPLS while all the other assumptions
    remain unchanged; since F is not identified by a SID in the stack
    and an MPLS-over-UDP tunnel is preferred to an MPLS LSP according to
    local policies, router E replaces the current top label with an
    MPLS-over-UDP tunnel toward router G and sends it out. (Note that if
    an MPLS LSP was preferred, the packet would be forwarded as native
    SR-MPLS.)[¶](#section-3.2.3-1.4){.pilcrow}

IP Header Fields:
:   When encapsulating an MPLS packet in UDP, the resulting packet is
    further encapsulated in IP for transmission. IPv4 or IPv6 may be
    used according to the capabilities of the network. The address
    fields are set as described in [Section 2](#usecases){.xref}. The
    other IP header fields (such as the ECN field
    \[[RFC6040](#RFC6040){.xref}\], the Differentiated Services Code
    Point (DSCP) \[[RFC2983](#RFC2983){.xref}\], or IPv6 Flow Label) on
    each UDP-encapsulated segment [SHOULD]{.bcp14} be configurable
    according to the operator\'s policy; they may be copied from the
    header of the incoming packet; they may be promoted from the header
    of the payload packet; they may be set according to instructions
    programmed to be associated with the SID; or they may be configured
    dependent on the outgoing interface and payload. The TTL field
    setting in the encapsulating packet header is handled as described
    in \[[RFC7510](#RFC7510){.xref}\], which refers to
    \[[RFC4023](#RFC4023){.xref}\].[¶](#section-3.2.3-1.6){.pilcrow}

Entropy and ECMP:
:   When encapsulating an MPLS packet with an IP tunnel header that is
    capable of encoding entropy (such as
    \[[RFC7510](#RFC7510){.xref}\]), the corresponding entropy field
    (the source port in the case of a UDP tunnel) [MAY]{.bcp14} be
    filled with an entropy value that is generated by the encapsulator
    to uniquely identify a flow. However, what constitutes a flow is
    locally determined by the encapsulator. For instance, if the MPLS
    label stack contains at least one entropy label and the encapsulator
    is capable of reading that entropy label, the entropy label value
    could be directly copied to the source port of the UDP header.
    Otherwise, the encapsulator may have to perform a hash on the whole
    label stack or the five-tuple of the SR-MPLS payload if the payload
    is determined as an IP packet. To avoid recalculating the hash or
    hunting for the entropy label each time the packet is encapsulated
    in a UDP tunnel, it [MAY]{.bcp14} be desirable that the entropy
    value contained in the incoming packet (i.e., the UDP source port
    value) is retained when stripping the UDP header and is reused as
    the entropy value of the outgoing
    packet.[¶](#section-3.2.3-1.8){.pilcrow}

Congestion Considerations:
:   [Section
    5](https://www.rfc-editor.org/rfc/rfc7510#section-5){.relref} of
    \[[RFC7510](#RFC7510){.xref}\] provides a detailed analysis of the
    implications of congestion in MPLS-over-UDP systems and builds on
    [Section
    3.1.3](https://www.rfc-editor.org/rfc/rfc8085#section-3.1.3){.relref}
    of \[[RFC8085](#RFC8085){.xref}\], which describes the congestion
    implications of UDP tunnels. All of those considerations apply to
    SR-MPLS-over-UDP tunnels as described in this document. In
    particular, it should be noted that the traffic carried in SR-MPLS
    flows is likely to be IP traffic.[¶](#section-3.2.3-1.10){.pilcrow}
:::
:::
:::
:::
:::
:::

::: {#IANA}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document has no IANA actions.[¶](#section-4-1){.pilcrow}
:::
:::

::: {#Security}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

The security consideration of \[[RFC8354](#RFC8354){.xref}\] (which
redirects the reader to \[[RFC5095](#RFC5095){.xref}\]) and
\[[RFC7510](#RFC7510){.xref}\] apply. DTLS
\[[RFC6347](#RFC6347){.xref}\] [SHOULD]{.bcp14} be used where security
is needed on an SR-MPLS-over-UDP segment including when the IP segment
crosses the public Internet or some other untrusted environment.
\[[RFC8402](#RFC8402){.xref}\] provides security considerations for
Segment Routing, and [Section
8.1](https://www.rfc-editor.org/rfc/rfc8402#section-8.1){.relref} of
\[[RFC8402](#RFC8402){.xref}\] is particularly applicable to
SR-MPLS.[¶](#section-5-1){.pilcrow}

It is difficult for an attacker to pass a raw MPLS-encoded packet into a
network, and operators have considerable experience in excluding such
packets at the network boundaries, for example, by excluding all packets
that are revealed to be carrying an MPLS packet as the payload of IP
tunnels. Further discussion of MPLS security is found in
\[[RFC5920](#RFC5920){.xref}\].[¶](#section-5-2){.pilcrow}

It is easy for a network ingress node to detect any attempt to smuggle
an IP packet into the network since it would see that the UDP
destination port was set to MPLS, and such filtering [SHOULD]{.bcp14} be
applied. If, however, the mechanisms described in
\[[RFC8665](#RFC8665){.xref}\] or \[[RFC8667](#RFC8667){.xref}\] are
applied, a wider variety of UDP port numbers might be in use making port
filtering harder.[¶](#section-5-3){.pilcrow}

SR packets not having a destination address terminating in the network
would be transparently carried and would pose no different security risk
to the network under consideration than any other
traffic.[¶](#section-5-4){.pilcrow}

Where control-plane techniques are used (as described in [Section
3](#procs){.xref}), it is important that these protocols are adequately
secured for the environment in which they are run as discussed in
\[[RFC6862](#RFC6862){.xref}\] and
\[[RFC5920](#RFC5920){.xref}\].[¶](#section-5-5){.pilcrow}
:::
:::

::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.

\[RFC3031\]
:   [Rosen, E.]{.refAuthor}[, Viswanathan, A.]{.refAuthor}[, and R.
    Callon]{.refAuthor}, [\"Multiprotocol Label Switching
    Architecture\"]{.refTitle}, [RFC 3031]{.seriesInfo}, [DOI
    10.17487/RFC3031]{.seriesInfo}, January 2001,
    \<<https://www.rfc-editor.org/info/rfc3031>\>.

\[RFC3032\]
:   [Rosen, E.]{.refAuthor}[, Tappan, D.]{.refAuthor}[,
    Fedorkow, G.]{.refAuthor}[, Rekhter, Y.]{.refAuthor}[,
    Farinacci, D.]{.refAuthor}[, Li, T.]{.refAuthor}[, and A.
    Conta]{.refAuthor}, [\"MPLS Label Stack Encoding\"]{.refTitle}, [RFC
    3032]{.seriesInfo}, [DOI 10.17487/RFC3032]{.seriesInfo}, January
    2001, \<<https://www.rfc-editor.org/info/rfc3032>\>.

\[RFC4023\]
:   [Worster, T.]{.refAuthor}[, Rekhter, Y.]{.refAuthor}[, and E. Rosen,
    Ed.]{.refAuthor}, [\"Encapsulating MPLS in IP or Generic Routing
    Encapsulation (GRE)\"]{.refTitle}, [RFC 4023]{.seriesInfo}, [DOI
    10.17487/RFC4023]{.seriesInfo}, March 2005,
    \<<https://www.rfc-editor.org/info/rfc4023>\>.

\[RFC5095\]
:   [Abley, J.]{.refAuthor}[, Savola, P.]{.refAuthor}[, and G.
    Neville-Neil]{.refAuthor}, [\"Deprecation of Type 0 Routing Headers
    in IPv6\"]{.refTitle}, [RFC 5095]{.seriesInfo}, [DOI
    10.17487/RFC5095]{.seriesInfo}, December 2007,
    \<<https://www.rfc-editor.org/info/rfc5095>\>.

\[RFC6040\]
:   [Briscoe, B.]{.refAuthor}, [\"Tunnelling of Explicit Congestion
    Notification\"]{.refTitle}, [RFC 6040]{.seriesInfo}, [DOI
    10.17487/RFC6040]{.seriesInfo}, November 2010,
    \<<https://www.rfc-editor.org/info/rfc6040>\>.

\[RFC6347\]
:   [Rescorla, E.]{.refAuthor}[ and N. Modadugu]{.refAuthor},
    [\"Datagram Transport Layer Security Version 1.2\"]{.refTitle}, [RFC
    6347]{.seriesInfo}, [DOI 10.17487/RFC6347]{.seriesInfo}, January
    2012, \<<https://www.rfc-editor.org/info/rfc6347>\>.

\[RFC7510\]
:   [Xu, X.]{.refAuthor}[, Sheth, N.]{.refAuthor}[,
    Yong, L.]{.refAuthor}[, Callon, R.]{.refAuthor}[, and D.
    Black]{.refAuthor}, [\"Encapsulating MPLS in UDP\"]{.refTitle}, [RFC
    7510]{.seriesInfo}, [DOI 10.17487/RFC7510]{.seriesInfo}, April 2015,
    \<<https://www.rfc-editor.org/info/rfc7510>\>.

\[RFC7684\]
:   [Psenak, P.]{.refAuthor}[, Gredler, H.]{.refAuthor}[,
    Shakir, R.]{.refAuthor}[, Henderickx, W.]{.refAuthor}[,
    Tantsura, J.]{.refAuthor}[, and A. Lindem]{.refAuthor}, [\"OSPFv2
    Prefix/Link Attribute Advertisement\"]{.refTitle}, [RFC
    7684]{.seriesInfo}, [DOI 10.17487/RFC7684]{.seriesInfo}, November
    2015, \<<https://www.rfc-editor.org/info/rfc7684>\>.

\[RFC7794\]
:   [Ginsberg, L., Ed.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Xu, X.]{.refAuthor}[, and U.
    Chunduri]{.refAuthor}, [\"IS-IS Prefix Attributes for Extended IPv4
    and IPv6 Reachability\"]{.refTitle}, [RFC 7794]{.seriesInfo}, [DOI
    10.17487/RFC7794]{.seriesInfo}, March 2016,
    \<<https://www.rfc-editor.org/info/rfc7794>\>.

\[RFC7981\]
:   [Ginsberg, L.]{.refAuthor}[, Previdi, S.]{.refAuthor}[, and M.
    Chen]{.refAuthor}, [\"IS-IS Extensions for Advertising Router
    Information\"]{.refTitle}, [RFC 7981]{.seriesInfo}, [DOI
    10.17487/RFC7981]{.seriesInfo}, October 2016,
    \<<https://www.rfc-editor.org/info/rfc7981>\>.

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.

\[RFC8402\]
:   [Filsfils, C., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Ginsberg, L.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing Architecture\"]{.refTitle}, [RFC 8402]{.seriesInfo}, [DOI
    10.17487/RFC8402]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8402>\>.

\[RFC8660\]
:   [Bashandy, A.]{.refAuthor}[, Filsfils, C.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing with the MPLS Data Plane\"]{.refTitle}, [RFC
    8660]{.seriesInfo}, [DOI 10.17487/RFC8660]{.seriesInfo}, December
    2019, \<<https://www.rfc-editor.org/info/rfc8660>\>.
:::

::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[DC-GATEWAY\]
:   [Farrel, A.]{.refAuthor}[, Drake, J.]{.refAuthor}[,
    Rosen, E.]{.refAuthor}[, Patel, K.]{.refAuthor}[, and L.
    Jalil]{.refAuthor}, [\"Gateway Auto-Discovery and Route
    Advertisement for Segment Routing Enabled Domain
    Interconnection\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft,
    draft-ietf-bess-datacenter-gateway-04]{.seriesInfo}, 21 August 2019,
    \<<https://tools.ietf.org/html/draft-ietf-bess-datacenter-gateway-04>\>.

\[IPv6-SRH\]
:   [Filsfils, C.]{.refAuthor}[, Dukes, D.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Leddy, J.]{.refAuthor}[,
    Matsushima, S.]{.refAuthor}[, and D. Voyer]{.refAuthor}, [\"IPv6
    Segment Routing Header (SRH)\"]{.refTitle}, [Work in
    Progress]{.refContent}, [Internet-Draft,
    draft-ietf-6man-segment-routing-header-26]{.seriesInfo}, 22 October
    2019,
    \<<https://tools.ietf.org/html/draft-ietf-6man-segment-routing-header-26>\>.

\[ISIS-ENCAP\]
:   [Xu, X.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Raszuk, R.]{.refAuthor}[, Chunduri, U.]{.refAuthor}[,
    Contreras, L.]{.refAuthor}[, and L. Jalil]{.refAuthor},
    [\"Advertising Tunnelling Capability in IS-IS\"]{.refTitle}, [Work
    in Progress]{.refContent}, [Internet-Draft,
    draft-ietf-isis-encapsulation-cap-01]{.seriesInfo}, 24 April 2017,
    \<<https://tools.ietf.org/html/draft-ietf-isis-encapsulation-cap-01>\>.

\[OSPF-ENCAP\]
:   [Xu, X.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Raszuk, R.]{.refAuthor}[, Contreras, L.]{.refAuthor}[, and L.
    Jalil]{.refAuthor}, [\"The Tunnel Encapsulations OSPF Router
    Information\"]{.refTitle}, [Work in Progress]{.refContent},
    [Internet-Draft, draft-ietf-ospf-encapsulation-cap-09]{.seriesInfo},
    10 October 2017,
    \<<https://tools.ietf.org/html/draft-ietf-ospf-encapsulation-cap-09>\>.

\[RFC2983\]
:   [Black, D.]{.refAuthor}, [\"Differentiated Services and
    Tunnels\"]{.refTitle}, [RFC 2983]{.seriesInfo}, [DOI
    10.17487/RFC2983]{.seriesInfo}, October 2000,
    \<<https://www.rfc-editor.org/info/rfc2983>\>.

\[RFC5920\]
:   [Fang, L., Ed.]{.refAuthor}, [\"Security Framework for MPLS and
    GMPLS Networks\"]{.refTitle}, [RFC 5920]{.seriesInfo}, [DOI
    10.17487/RFC5920]{.seriesInfo}, July 2010,
    \<<https://www.rfc-editor.org/info/rfc5920>\>.

\[RFC6790\]
:   [Kompella, K.]{.refAuthor}[, Drake, J.]{.refAuthor}[,
    Amante, S.]{.refAuthor}[, Henderickx, W.]{.refAuthor}[, and L.
    Yong]{.refAuthor}, [\"The Use of Entropy Labels in MPLS
    Forwarding\"]{.refTitle}, [RFC 6790]{.seriesInfo}, [DOI
    10.17487/RFC6790]{.seriesInfo}, November 2012,
    \<<https://www.rfc-editor.org/info/rfc6790>\>.

\[RFC6862\]
:   [Lebovitz, G.]{.refAuthor}[, Bhatia, M.]{.refAuthor}[, and B.
    Weis]{.refAuthor}, [\"Keying and Authentication for Routing
    Protocols (KARP) Overview, Threats, and Requirements\"]{.refTitle},
    [RFC 6862]{.seriesInfo}, [DOI 10.17487/RFC6862]{.seriesInfo}, March
    2013, \<<https://www.rfc-editor.org/info/rfc6862>\>.

\[RFC8085\]
:   [Eggert, L.]{.refAuthor}[, Fairhurst, G.]{.refAuthor}[, and G.
    Shepherd]{.refAuthor}, [\"UDP Usage Guidelines\"]{.refTitle}, [BCP
    145]{.seriesInfo}, [RFC 8085]{.seriesInfo}, [DOI
    10.17487/RFC8085]{.seriesInfo}, March 2017,
    \<<https://www.rfc-editor.org/info/rfc8085>\>.

\[RFC8354\]
:   [Brzozowski, J.]{.refAuthor}[, Leddy, J.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Maglione, R., Ed.]{.refAuthor}[, and M.
    Townsley]{.refAuthor}, [\"Use Cases for IPv6 Source Packet Routing
    in Networking (SPRING)\"]{.refTitle}, [RFC 8354]{.seriesInfo}, [DOI
    10.17487/RFC8354]{.seriesInfo}, March 2018,
    \<<https://www.rfc-editor.org/info/rfc8354>\>.

\[RFC8662\]
:   [Kini, S.]{.refAuthor}[, Kompella, K.]{.refAuthor}[,
    Sivabalan, S.]{.refAuthor}[, Litkowski, S.]{.refAuthor}[,
    Shakir, R.]{.refAuthor}[, and J. Tantsura]{.refAuthor}, [\"Entropy
    Label for Source Packet Routing in Networking (SPRING)
    Tunnels\"]{.refTitle}, [RFC 8662]{.seriesInfo}, [DOI
    10.17487/RFC8662]{.seriesInfo}, December 2019,
    \<<https://www.rfc-editor.org/info/rfc8662>\>.

\[RFC8665\]
:   [Psenak, P., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Gredler, H.]{.refAuthor}[,
    Shakir, R.]{.refAuthor}[, Henderickx, W.]{.refAuthor}[, and J.
    Tantsura]{.refAuthor}, [\"OSPF Extensions for Segment
    Routing\"]{.refTitle}, [RFC 8665]{.seriesInfo}, [DOI
    10.17487/RFC8665]{.seriesInfo}, December 2019,
    \<<https://www.rfc-editor.org/info/rfc8665>\>.

\[RFC8667\]
:   [Previdi, S., Ed.]{.refAuthor}[, Ginsberg, L., Ed.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Bashandy, A.]{.refAuthor}[,
    Gredler, H.]{.refAuthor}[, and B. Decraene]{.refAuthor}, [\"IS-IS
    Extensions for Segment Routing\"]{.refTitle}, [RFC
    8667]{.seriesInfo}, [DOI 10.17487/RFC8667]{.seriesInfo}, December
    2019, \<<https://www.rfc-editor.org/info/rfc8667>\>.
:::
:::

::: {#Acknowledgements}
::: {#section-appendix.a .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

Thanks to Joel Halpern, Bruno Decraene, Loa Andersson, Ron Bonica, Eric
Rosen, Jim Guichard, Gunter Van De Velde, Andy Malis, Robert Sparks, and
Al Morton for their insightful comments on this
document.[¶](#section-appendix.a-1){.pilcrow}

Additional thanks to Mirja Kuehlewind, Alvaro Retana, Spencer Dawkins,
Benjamin Kaduk, Martin Vigoureux, Suresh Krishnan, and Eric Vyncke for
careful reviews and resulting
comments.[¶](#section-appendix.a-2){.pilcrow}
:::
:::

::: {#section-appendix.b .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

::: {#section-appendix.b-1 .artwork .art-text .alignLeft}
    Ahmed Bashandy
    Individual
    Email: abashandy.ietf@gmail.com

[¶](#section-appendix.b-1){.pilcrow}
:::

::: {#section-appendix.b-2 .artwork .art-text .alignLeft}
    Clarence Filsfils
    Cisco
    Email: cfilsfil@cisco.com

[¶](#section-appendix.b-2){.pilcrow}
:::

::: {#section-appendix.b-3 .artwork .art-text .alignLeft}
    John Drake
    Juniper
    Email: jdrake@juniper.net

[¶](#section-appendix.b-3){.pilcrow}
:::

::: {#section-appendix.b-4 .artwork .art-text .alignLeft}
    Shaowen Ma
    Mellanox Technologies
    Email: mashaowen@gmail.com

[¶](#section-appendix.b-4){.pilcrow}
:::

::: {#section-appendix.b-5 .artwork .art-text .alignLeft}
    Mach Chen
    Huawei
    Email: mach.chen@huawei.com

[¶](#section-appendix.b-5){.pilcrow}
:::

::: {#section-appendix.b-6 .artwork .art-text .alignLeft}
    Hamid Assarpour
    Broadcom
    Email:hamid.assarpour@broadcom.com

[¶](#section-appendix.b-6){.pilcrow}
:::

::: {#section-appendix.b-7 .artwork .art-text .alignLeft}
    Robert Raszuk
    Bloomberg LP
    Email: robert@raszuk.net

[¶](#section-appendix.b-7){.pilcrow}
:::

::: {#section-appendix.b-8 .artwork .art-text .alignLeft}
    Uma Chunduri
    Huawei
    Email: uma.chunduri@gmail.com

[¶](#section-appendix.b-8){.pilcrow}
:::

::: {#section-appendix.b-9 .artwork .art-text .alignLeft}
    Luis M. Contreras
    Telefonica I+D
    Email: luismiguel.contrerasmurillo@telefonica.com

[¶](#section-appendix.b-9){.pilcrow}
:::

::: {#section-appendix.b-10 .artwork .art-text .alignLeft}
    Luay Jalil
    Verizon
    Email: luay.jalil@verizon.com

[¶](#section-appendix.b-10){.pilcrow}
:::

::: {#section-appendix.b-11 .artwork .art-text .alignLeft}
    Gunter Van De Velde
    Nokia
    Email: gunter.van_de_velde@nokia.com

[¶](#section-appendix.b-11){.pilcrow}
:::

::: {#section-appendix.b-12 .artwork .art-text .alignLeft}
    Tal Mizrahi
    Marvell
    Email: talmi@marvell.com

[¶](#section-appendix.b-12){.pilcrow}
:::

::: {#section-appendix.b-13 .artwork .art-text .alignLeft}
    Jeff Tantsura
    Apstra, Inc.
    Email: jefftant.ietf@gmail.com

[¶](#section-appendix.b-13){.pilcrow}
:::
:::

::: {#authors-addresses}
::: {#section-appendix.c .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Xiaohu Xu]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Alibaba, Inc]{.org}
:::

::: email
Email: <xiaohu.xxh@alibaba-inc.com>
:::

::: {.left dir="auto"}
[Stewart Bryant]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Futurewei Technologies]{.org}
:::

::: email
Email: <stewart.bryant@gmail.com>
:::

::: {.left dir="auto"}
[Adrian Farrel]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Old Dog Consulting]{.org}
:::

::: email
Email: <adrian@olddog.co.uk>
:::

::: {.left dir="auto"}
[Syed Hassan]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco]{.org}
:::

::: email
Email: <shassan@cisco.com>
:::

::: {.left dir="auto"}
[Wim Henderickx]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Nokia]{.org}
:::

::: email
Email: <wim.henderickx@nokia.com>
:::

::: {.left dir="auto"}
[Zhenbin Li]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: email
Email: <lizhenbin@huawei.com>
:::
:::
:::
