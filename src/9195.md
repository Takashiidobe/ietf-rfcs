  RFC 9195           YANG Instance Data   February 2022
  ------------------ -------------------- ---------------
  Lengyel & Claise   Standards Track      \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [9195](https://www.rfc-editor.org/rfc/rfc9195){.eref}

Category:
:   Standards Track

Published:
:   February 2022

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    B. Lengyel
    :::

    ::: org
    Ericsson
    :::
    :::

    ::: author
    ::: author-name
    B. Claise
    :::

    ::: org
    Huawei
    :::
    :::
:::

# RFC 9195 {#rfcnum}

# A File Format for YANG Instance Data {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

There is a need to document data defined in YANG models at design time,
implementation time, or when a live server is unavailable. This document
specifies a standard file format for YANG instance data, which follows
the syntax and semantics of existing YANG models and annotates it with
metadata.[¶](#section-abstract-1){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc9195>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2022 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Revised BSD License text as described in Section 4.e of the Trust Legal
Provisions and are provided without warranty as described in the Revised
BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Terminology](#name-terminology){.xref}
        :::

    -   ::: {#section-toc.1-1.1.2.2}
        [1.2](#section-1.2){.xref}.  [Principles](#name-principles){.xref}
        :::

    -   ::: {#section-toc.1-1.1.2.3}
        [1.3](#section-1.3){.xref}.  [Delivery of Instance
        Data](#name-delivery-of-instance-data){.xref}
        :::

    -   ::: {#section-toc.1-1.1.2.4}
        [1.4](#section-1.4){.xref}.  [Data Life
        Cycle](#name-data-life-cycle){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Instance Data File
    Format](#name-instance-data-file-format){.xref}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.xref}.  [Specifying the Content
        Schema](#name-specifying-the-content-sche){.xref}

        -   ::: {#section-toc.1-1.2.2.1.2.1}
            [2.1.1](#section-2.1.1){.xref}.  [Inline
            Method](#name-inline-method){.xref}
            :::

        -   ::: {#section-toc.1-1.2.2.1.2.2}
            [2.1.2](#section-2.1.2){.xref}.  [Simplified-Inline
            Method](#name-simplified-inline-method){.xref}
            :::

        -   ::: {#section-toc.1-1.2.2.1.2.3}
            [2.1.3](#section-2.1.3){.xref}.  [URI
            Method](#name-uri-method){.xref}
            :::
        :::

    -   ::: {#section-toc.1-1.2.2.2}
        [2.2](#section-2.2){.xref}.  [Examples](#name-examples){.xref}

        -   ::: {#section-toc.1-1.2.2.2.2.1}
            [2.2.1](#section-2.2.1){.xref}.  [Documentation of Server
            Capabilities](#name-documentation-of-server-cap){.xref}
            :::

        -   ::: {#section-toc.1-1.2.2.2.2.2}
            [2.2.2](#section-2.2.2){.xref}.  [Preloading Default
            Configuration
            Data](#name-preloading-default-configur){.xref}
            :::

        -   ::: {#section-toc.1-1.2.2.2.2.3}
            [2.2.3](#section-2.2.3){.xref}.  [Storing Diagnostics
            Data](#name-storing-diagnostics-data){.xref}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [YANG Instance Data
    Model](#name-yang-instance-data-model){.xref}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [Tree
        Diagram](#name-tree-diagram){.xref}
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [YANG
        Model](#name-yang-model){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [URI
        Registration](#name-uri-registration){.xref}
        :::

    -   ::: {#section-toc.1-1.5.2.2}
        [5.2](#section-5.2){.xref}.  [YANG Module Name
        Registration](#name-yang-module-name-registrati){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [References](#name-references){.xref}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [Normative
        References](#name-normative-references){.xref}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [Informative
        References](#name-informative-references){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [Appendix A](#appendix-A){.xref}.  [Backwards
    Compatibility](#name-backwards-compatibility){.xref}
    :::

-   ::: {#section-toc.1-1.8}
    [Appendix B](#appendix-B){.xref}.  [Detailed Use
    Cases](#name-detailed-use-cases){.xref}

    -   ::: {#section-toc.1-1.8.2.1}
        [B.1](#appendix-B.1){.xref}.  [Use Case 1: Early Documentation
        of Server
        Capabilities](#name-use-case-1-early-documentat){.xref}
        :::

    -   ::: {#section-toc.1-1.8.2.2}
        [B.2](#appendix-B.2){.xref}.  [Use Case 2: Preloading
        Data](#name-use-case-2-preloading-data){.xref}
        :::

    -   ::: {#section-toc.1-1.8.2.3}
        [B.3](#appendix-B.3){.xref}.  [Use Case 3: Documenting Factory
        Default Settings](#name-use-case-3-documenting-fact){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [](#appendix-C){.xref}[Acknowledgments](#name-acknowledgments){.xref}
    :::

-   ::: {#section-toc.1-1.10}
    [](#appendix-D){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}
    :::
:::
:::

::: {#intro}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

There is a need to document data defined in YANG models when a live
server is unavailable. Data is often needed at design time,
implementation time, or even later when a live running server is
unavailable. To facilitate this offline delivery of data, this document
specifies a standard format for YANG instance data sets and YANG
instance data files. The format of the instance data set is defined by
the \"ietf-yang-instance-data\" YANG module; see [Section
3](#instance_data_yam){.xref}. The YANG data model in this document
conforms to the Network Management Datastore Architecture (NMDA) defined
in \[[RFC8342](#RFC8342){.xref}\].[¶](#section-1-1){.pilcrow}

The following is a list of already-implemented and potential use
cases.[¶](#section-1-2){.pilcrow}

[]{.break}

UC1

:   ::: {#uc1}
    Documentation of server capabilities[¶](#uc1){.pilcrow}
    :::

:   

UC2

:   ::: {#uc2}
    Preloading default configuration data[¶](#uc2){.pilcrow}
    :::

:   

UC3

:   ::: {#uc3}
    Documenting factory default settings[¶](#uc3){.pilcrow}
    :::

:   

UC4

:   ::: {#uc4}
    Storing the configuration of a device, e.g., for backup, archive, or
    audit purposes[¶](#uc4){.pilcrow}
    :::

:   

UC5

:   ::: {#uc5}
    Storing diagnostics data[¶](#uc5){.pilcrow}
    :::

:   

UC6

:   ::: {#uc6}
    Allowing YANG instance data to potentially be carried within other
    inter-process communication (IPC) message formats[¶](#uc6){.pilcrow}
    :::

:   

UC7

:   ::: {#uc7}
    Default instance data used as part of a templating
    solution[¶](#uc7){.pilcrow}
    :::

:   

UC8

:   ::: {#uc8}
    Providing data examples in RFCs or internet
    drafts[¶](#uc8){.pilcrow}
    :::

:   

[Appendix B](#detailed_use_cases){.xref} describes the first three use
cases in detail.[¶](#section-1-4){.pilcrow}

There are many and varied use cases where YANG instance data could be
used. This document does not limit future uses of instance data sets, so
specifying how and when to use YANG instance data is out of scope for
this document. It is anticipated that other documents will define
specific use cases. Use cases are listed only as
examples.[¶](#section-1-5){.pilcrow}

::: {#terminology}
::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1.1-1){.pilcrow}

[]{.break}

Instance Data:
:   A collection of instantiated data
    nodes.[¶](#section-1.1-2.2){.pilcrow}
:   

Instance Data Set:
:   A named set of data items annotated with metadata that can be used
    as instance data in a YANG data tree.[¶](#section-1.1-2.4){.pilcrow}
:   

Instance Data File:
:   A file containing an instance data set formatted according to the
    rules described in this document.[¶](#section-1.1-2.6){.pilcrow}
:   

Content-schema:
:   A set of YANG modules with their revision, supported features, and
    deviations for which the instance data set contains instance
    data.[¶](#section-1.1-2.8){.pilcrow}
:   

Content-defining YANG Module:
:   An individual YANG module that is part of the
    content-schema.[¶](#section-1.1-2.10){.pilcrow}
:   

The term \"server\" is used as defined in
\[[RFC8342](#RFC8342){.xref}\].[¶](#section-1.1-3){.pilcrow}
:::
:::

::: {#section-1.2 .section}
### [1.2.](#section-1.2){.section-number .selfRef} [Principles](#name-principles){.section-name .selfRef} {#name-principles}

The following is a list of the basic principles of the instance data
format:[¶](#section-1.2-1){.pilcrow}

[]{.break}

P1
:   Two standard formats shall be defined based on the XML and JSON
    encodings.[¶](#section-1.2-2.1){.pilcrow}
:   

P2
:   Instance data shall reuse existing encoding rules for YANG-defined
    data.[¶](#section-1.2-2.2){.pilcrow}
:   

P3
:   Metadata about the instance data set ([Section 2, Paragraph
    14](#instance_data_set_metadata){.xref}) shall be
    defined.[¶](#section-1.2-2.3){.pilcrow}
:   

P4
:   A YANG instance data set shall be allowed to contain data for
    multiple YANG modules.[¶](#section-1.2-2.4){.pilcrow}
:   

P5
:   Instance data shall be allowed to contain configuration data, state
    data, or a mix of the two.[¶](#section-1.2-2.5){.pilcrow}
:   

P6
:   Partial data sets shall be allowed.[¶](#section-1.2-2.6){.pilcrow}
:   

P7
:   The YANG instance data format shall be usable for any data for which
    YANG module(s) are defined and available to the reader, independent
    of whether the module is implemented by a
    server.[¶](#section-1.2-2.7){.pilcrow}
:   

P8
:   It shall be possible to report the identity of the datastore with
    which the instance data set is
    associated.[¶](#section-1.2-2.8){.pilcrow}
:   
:::

::: {#section-1.3 .section}
### [1.3.](#section-1.3){.section-number .selfRef} [Delivery of Instance Data](#name-delivery-of-instance-data){.section-name .selfRef} {#name-delivery-of-instance-data}

Instance data sets that are produced as a result of some sort of
specification or design effort may be available without the need for a
live server, e.g., via download from the vendor\'s website or in any
other way that product documentation is
distributed.[¶](#section-1.3-1){.pilcrow}

Other instance data sets may be read from or produced by the YANG server
itself, e.g., [UC5](#uc5){.xref} documenting diagnostic
data.[¶](#section-1.3-2){.pilcrow}
:::

::: {#section-1.4 .section}
### [1.4.](#section-1.4){.section-number .selfRef} [Data Life Cycle](#name-data-life-cycle){.section-name .selfRef} {#name-data-life-cycle}

A YANG instance data set is created at a specific point of time. If the
data changes afterwards, the instance data set will no longer represent
the current data unless it is updated. The current values may be
retrieved at runtime via NETCONF/RESTCONF or received, e.g., in
YANG-Push notifications.[¶](#section-1.4-1){.pilcrow}

Whether the instance data changes and, if so, when and how should be
described either in the instance data set\'s description statement or in
some other implementation-specific manner.[¶](#section-1.4-2){.pilcrow}
:::
:::
:::

::: {#instance_data_file_format}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Instance Data File Format](#name-instance-data-file-format){.section-name .selfRef} {#name-instance-data-file-format}

A YANG instance data file [MUST]{.bcp14} contain a single instance data
set and no additional data.[¶](#section-2-1){.pilcrow}

The format of the instance data set is defined by the
\"ietf-yang-instance-data\" YANG module. It is made up of a header part
and content-data. The header part carries metadata for the instance data
set. The content-data, defined as an anydata data node, carries the
instance data that the user wants to document and/or provide. The syntax
and semantics of content-data are defined by the
content-schema.[¶](#section-2-2){.pilcrow}

Two formats are specified based on the XML and JSON YANG encodings. The
file formats are achieved by applying the respective XML and JSON
encoding rules for the YANG structure included in this document. Later,
as other YANG encodings (e.g., CBOR) are defined, further instance data
formats may be specified.[¶](#section-2-3){.pilcrow}

The content-data part [MUST]{.bcp14} conform to the content-schema while
allowing for the exceptions listed below. The content-data part
[SHALL]{.bcp14} follow the encoding rules defined in
\[[RFC7950](#RFC7950){.xref}\] for XML and
\[[RFC7951](#RFC7951){.xref}\] for JSON and [MUST]{.bcp14} use UTF-8
character encoding. Content-data [MAY]{.bcp14}
include:[¶](#section-2-4){.pilcrow}

-   [metadata, as defined by
    \[[RFC7952](#RFC7952){.xref}\].[¶](#section-2-5.1){.pilcrow}]{#section-2-5.1}
-   [origin metadata, as specified in \[[RFC8526](#RFC8526){.xref}\] and
    \[[RFC8527](#RFC8527){.xref}\].[¶](#section-2-5.2){.pilcrow}]{#section-2-5.2}
-   [implementation-specific metadata relevant to individual data nodes.
    Unknown metadata [MUST]{.bcp14} be ignored by users of instance
    data, allowing it to be used later for other
    purposes.[¶](#section-2-5.3){.pilcrow}]{#section-2-5.3}

An instance data set [MAY]{.bcp14} contain data for any number of YANG
modules; if needed, it [MAY]{.bcp14} carry the complete configuration
and state data for a server. Default values should be excluded where
they do not provide additional useful data.[¶](#section-2-6){.pilcrow}

Configuration (\"config true\") and operational state data (\"config
false\") [MAY]{.bcp14} be mixed in the instance data
file.[¶](#section-2-7){.pilcrow}

Instance data files [MAY]{.bcp14} contain partial data sets. This means
\"mandatory\", \"min-elements\", \"require-instance true\", \"must\",
and \"when\" constraints [MAY]{.bcp14} be
violated.[¶](#section-2-8){.pilcrow}

The name of the instance data file [SHOULD]{.bcp14} be of the following
form (using ABNF notation
\[[RFC5234](#RFC5234){.xref}\]):[¶](#section-2-9){.pilcrow}

::: {#section-2-10}
``` {.lang-abnf .sourcecode}
   instance-data-set-name ["@" ( revision-date / timestamp ) ]
                  ( ".xml" / ".json" )
```

[¶](#section-2-10){.pilcrow}
:::

Examples include:[¶](#section-2-11){.pilcrow}

::: {#section-2-12 .alignLeft .art-text .artwork}
          acme-router-modules.xml
          acme-router-modules@2018-01-25.xml
          acme-router-modules@2018-01-25T15_06_34_3+01_00.json

[¶](#section-2-12){.pilcrow}
:::

If the leaf \"name\" is present in the instance data header, its value
[SHOULD]{.bcp14} be used for the \"instance-data-set-name\" in the
filename. If the \"revision-date\" is present in the filename, it
[MUST]{.bcp14} conform to the format of the revision-date leaf in the
YANG model. If the \"revision-date\" is present in both the filename and
the instance data header, the revision date in the filename
[MUST]{.bcp14} be set to the latest revision date inside the instance
data set. If the \"timestamp\" is present in the filename, it
[MUST]{.bcp14} conform to the format of the timestamp leaf in the YANG
model except for replacing colons as described below. If the
\"timestamp\" is present in both the filename and the instance data
header, the timestamp in the filename [SHOULD]{.bcp14} be set to the
timestamp inside the instance data set; any colons, if present, shall be
replaced by underscores.[¶](#section-2-13){.pilcrow}

::: {#instance_data_set_metadata}
Metadata, information about the data set itself, [MUST]{.bcp14} be
included. Some metadata items are defined in the YANG module
\"ietf-yang-instance-data\", but other items [MAY]{.bcp14} be
used.[¶](#section-2-14){.pilcrow}
:::

Metadata [MUST]{.bcp14} include:[¶](#section-2-15){.pilcrow}

-   ::: {#section-2-16.1}
    -   [Version of the YANG instance data format (if not explicitly
        present, the default value is
        used).[¶](#section-2-16.1.1.1){.pilcrow}]{#section-2-16.1.1.1}
    :::

Metadata [SHOULD]{.bcp14} include:[¶](#section-2-17){.pilcrow}

-   ::: {#section-2-18.1}
    -   [Name of the data
        set.[¶](#section-2-18.1.1.1){.pilcrow}]{#section-2-18.1.1.1}
    -   [Content-schema specification (i.e., the \"content-schema\"
        node).[¶](#section-2-18.1.1.2){.pilcrow}]{#section-2-18.1.1.2}
    -   [Description of the instance data set. The description
        [SHOULD]{.bcp14} contain information on whether and how the data
        can change during the lifetime of the
        server.[¶](#section-2-18.1.1.3){.pilcrow}]{#section-2-18.1.1.3}
    -   [An indication of whether default values are included. The
        default handling uses the concepts defined in
        \[[RFC6243](#RFC6243){.xref}\]; however, as only concepts are
        re-used, users of instance data sets do not need to support
        \[[RFC6243](#RFC6243){.xref}\].[¶](#section-2-18.1.1.4){.pilcrow}]{#section-2-18.1.1.4}
    :::

::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [Specifying the Content Schema](#name-specifying-the-content-sche){.section-name .selfRef} {#name-specifying-the-content-sche}

To properly understand and use an instance data set, the user needs to
know the content-schema. The content-schema can be specified either in
external documents or within the instance data set. In the latter case,
one of the following methods [MUST]{.bcp14} be
used:[¶](#section-2.1-1){.pilcrow}

[]{.break}

Inline method:
:   Include the needed information as part of the instance data
    set.[¶](#section-2.1-2.2){.pilcrow}
:   

Simplified-inline method:
:   Include the needed information as part of the instance data set;
    only the modules\' name and revision-date are
    used.[¶](#section-2.1-2.4){.pilcrow}
:   

URI method:
:   Include a URI that references another YANG instance data file. This
    instance data file will use the same content-schema as the
    referenced YANG instance data file (if you don\'t want to repeat the
    info again and again).[¶](#section-2.1-2.6){.pilcrow}
:   

Additional methods, e.g., a YANG-package-based solution may be added
later.[¶](#section-2.1-3){.pilcrow}

Note that the specified content-schema only indicates the set of modules
that were used to define this YANG instance data set. Sometimes instance
data may be used for a server supporting a different YANG module set
(e.g., for the \"Preloading default configuration data\" use case,
[UC2](#uc2){.xref} in [Section 1](#intro){.xref}, the instance data set
may not be updated every time the YANG modules on the server are
updated). Whether an instance data set originally defined using a
specific content-schema is usable with another schema depends on many
factors, including the number of differences and the compatibility
between the original and the other schema when considering modules,
revisions, features, deviations, the scope of the instance data,
etc.[¶](#section-2.1-4){.pilcrow}

::: {#section-2.1.1 .section}
#### [2.1.1.](#section-2.1.1){.section-number .selfRef} [Inline Method](#name-inline-method){.section-name .selfRef} {#name-inline-method}

The \"inline-yang-library\" anydata data node carries instance data
(conforming to \"ietf-yang-library\@2019-01-04\")
\[[RFC8525](#RFC8525){.xref}\] that specifies the content-defining YANG
modules, including revision, supported features, deviations, and any
additional relevant data. An example of the inline method is provided in
[Section
2.2.1](#acme-router-modules-example){.xref}.[¶](#section-2.1.1-1){.pilcrow}
:::

::: {#section-2.1.2 .section}
#### [2.1.2.](#section-2.1.2){.section-number .selfRef} [Simplified-Inline Method](#name-simplified-inline-method){.section-name .selfRef} {#name-simplified-inline-method}

The instance data set contains a list of content-defining YANG modules,
including the revision date for each. Usage of this method implies that
the modules are used without any deviations and with all features
supported. YANG modules that are only required to satisfy import-only
dependencies [MAY]{.bcp14} be excluded from the leaf-list. If they are
excluded, then the consumer of the instance data set has to apply the
YANG language rules to resolve the imports. An example of the
simplified-inline method is provided in [Section
2.2.2](#read-only-acm-rules-example){.xref}.[¶](#section-2.1.2-1){.pilcrow}
:::

::: {#section-2.1.3 .section}
#### [2.1.3.](#section-2.1.3){.section-number .selfRef} [URI Method](#name-uri-method){.section-name .selfRef} {#name-uri-method}

The \"same-schema-as-file\" leaf [SHALL]{.bcp14} contain a URI that
references another YANG instance data file. The current instance data
file will use the same content-schema as the referenced
file.[¶](#section-2.1.3-1){.pilcrow}

The referenced instance data file [MAY]{.bcp14} have no content-data if
it is used solely for specifying the
content-schema.[¶](#section-2.1.3-2){.pilcrow}

If a referenced instance data file is unavailable, the content-schema is
unknown.[¶](#section-2.1.3-3){.pilcrow}

The URI method is advantageous when the user wants to avoid the overhead
of specifying the content-schema in each instance data file \-- for
example, in [UC6](#uc6){.xref}, when the system creates a diagnostic
file every minute to document the state of the
server.[¶](#section-2.1.3-4){.pilcrow}

An example of the URI method is provided in [Section
2.2.3](#acme-router-netconf-diagnostics-example){.xref}.[¶](#section-2.1.3-5){.pilcrow}
:::
:::

::: {#examples}
::: {#section-2.2 .section}
### [2.2.](#section-2.2){.section-number .selfRef} [Examples](#name-examples){.section-name .selfRef} {#name-examples}

::: {#acme-router-modules-example}
::: {#section-2.2.1 .section}
#### [2.2.1.](#section-2.2.1){.section-number .selfRef} [Documentation of Server Capabilities](#name-documentation-of-server-cap){.section-name .selfRef} {#name-documentation-of-server-cap}

The example file acme-router-modules\@2022-01-20.xml reflects
[UC1](#uc1){.xref} in [Section 1](#intro){.xref}. It provides a list of
supported YANG modules and NETCONF capabilities for a server. It uses
the inline method to specify the
content-schema.[¶](#section-2.2.1-1){.pilcrow}

The example uses artwork folding
\[[RFC8792](#RFC8792){.xref}\].[¶](#section-2.2.1-2){.pilcrow}

::: {#acme-router-modules}
::: {#section-2.2.1-3.1}
``` {.lang-xml .sourcecode}
========== NOTE: '\' line wrapping per RFC 8792 ===========

<?xml version="1.0" encoding="UTF-8"?>
<instance-data-set xmlns=\
    "urn:ietf:params:xml:ns:yang:ietf-yang-instance-data">
  <name>acme-router-modules</name>
  <content-schema>
    <inline-yang-library>
      <modules-state \
        xmlns="urn:ietf:params:xml:ns:yang:ietf-yang-library">
        <module>
          <name>ietf-yang-library</name>
          <revision>2019-01-04</revision>
        </module>
        <module>
          <name>ietf-netconf-monitoring</name>
          <revision>2010-10-04</revision>
        </module>
      </modules-state>
    </inline-yang-library>
  </content-schema>
  <revision>
    <date>2020-10-23</date>
    <description>Initial version</description>
  </revision>
  <description>Defines the minimal set of modules that any \
      acme-router will contain. This minimal set will \
      only change when a new software release is \
      introduced.</description>
  <contact>info@acme.example.com</contact>
  <content-data>
    <modules-state \
        xmlns="urn:ietf:params:xml:ns:yang:ietf-yang-library">
      <module>
        <name>ietf-yang-library</name>
        <revision>2019-01-04</revision>
        <namespace>\
          urn:ietf:params:xml:ns:yang:ietf-yang-library\
        </namespace>
        <conformance-type>implement</conformance-type>
      </module>
      <module>
        <name>ietf-system</name>
        <revision>2014-08-06</revision>
       <namespace>urn:ietf:params:xml:ns:yang:ietf-system</namespace>
        <feature>sys:authentication</feature>
        <feature>sys:local-users</feature>
        <deviation>
          <name>acme-system-ext</name>
          <revision>2018-08-06</revision>
        </deviation>
        <conformance-type>implement</conformance-type>
      </module>
      <module>
        <name>ietf-netconf-monitoring</name>
        <revision>2010-10-04</revision>
        <namespace>\
          urn:ietf:params:xml:ns:yang:ietf-netconf-monitoring\
        </namespace>
        <conformance-type>implement</conformance-type>
      </module>
      <module>
        <name>ietf-yang-types</name>
        <revision>2013-07-15</revision>
        <namespace>urn:ietf:params:xml:ns:yang:ietf-yang-types\
          </namespace>
        <conformance-type>import</conformance-type>
      </module>
      <module>
        <name>acme-system-ext</name>
        <revision>2018-08-06</revision>
        <namespace>\
          urn:rdns:acme.example.com:oammodel:acme-system-ext\
        </namespace>
        <conformance-type>implement</conformance-type>
      </module>
    </modules-state>
    <netconf-state \
        xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-monitoring">
      <capabilities>
        <capability>\
          urn:ietf:params:netconf:capability:validate:1.1\
        </capability>
      </capabilities>
    </netconf-state>
  </content-data>
</instance-data-set>
```
:::

[Figure 1](#figure-1){.selfRef}
:::
:::
:::

::: {#read-only-acm-rules-example}
::: {#section-2.2.2 .section}
#### [2.2.2.](#section-2.2.2){.section-number .selfRef} [Preloading Default Configuration Data](#name-preloading-default-configur){.section-name .selfRef} {#name-preloading-default-configur}

The example file read-only-acm-rules\@2022-01-20.xml reflects
[UC2](#uc2){.xref} in [Section 1](#intro){.xref}. It provides a default
rule set for a read-only operator role. It uses the simplified-inline
method for specifying the content-schema.[¶](#section-2.2.2-1){.pilcrow}

::: {#read-only-acm-rules}
::: {#section-2.2.2-2.1}
``` {.lang-xml .sourcecode}
========== NOTE: '\' line wrapping per RFC 8792 ===========

<?xml version="1.0" encoding="UTF-8"?>
<instance-data-set
    xmlns="urn:ietf:params:xml:ns:yang:ietf-yang-instance-data">
  <name>read-only-acm-rules</name>
  <content-schema>
    <module>ietf-netconf-acm@2018-02-14</module>
  </content-schema>
  <revision>
    <date>2018-07-04</date>
    <description>Initial version</description>
  </revision>
  <description>Default access control rules for a read-only \
      role. This set of rules will only change when a new  \
      software release is introduced.</description>
  <content-data>
    <nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm">
      <enable-nacm>true</enable-nacm>
      <read-default>deny</read-default>
      <exec-default>deny</exec-default>
      <rule-list>
        <name>read-only-role</name>
        <group>read-only-group</group>
        <rule>
          <name>read-all</name>
          <module-name>*</module-name>
          <access-operation>read</access-operation>
          <action>permit</action>
        </rule>
      </rule-list>
    </nacm>
  </content-data>
</instance-data-set>
```
:::

[Figure 2](#figure-2){.selfRef}
:::
:::
:::

::: {#acme-router-netconf-diagnostics-example}
::: {#section-2.2.3 .section}
#### [2.2.3.](#section-2.2.3){.section-number .selfRef} [Storing Diagnostics Data](#name-storing-diagnostics-data){.section-name .selfRef} {#name-storing-diagnostics-data}

The example file
acme-router-netconf-diagnostics\@2018-01-25T17_00_38Z.json reflects
[UC5](#uc5){.xref} in [Section 1](#intro){.xref}. An instance data set
that contains statistics about the NETCONF server is produced by the
server every 15 minutes. As a new set is produced periodically many
times a day, a revision-date would be useless; instead, a timestamp is
included.[¶](#section-2.2.3-1){.pilcrow}

::: {#acme-router-netconf-diagnostics}
::: {#section-2.2.3-2.1}
``` sourcecode
========== NOTE: '\' line wrapping per RFC 8792 ===========

{
  "ietf-yang-instance-data:instance-data-set": {
    "name": "acme-router-netconf-diagnostics",
    "content-schema": {
      "same-schema-as-file": "file:///acme-diagnostics-schema.json"
    },
    "timestamp": "2018-01-25T17:00:38Z",
    "description":  ["NETCONF statistics, \
        The data may change at any time."],
    "content-data": {
      "ietf-netconf-monitoring:netconf-state": {
        "statistics": {
          "netconf-start-time ": "2018-12-05T17:45:00Z",
          "in-bad-hellos ": "32",
          "in-sessions ": "397",
          "dropped-sessions ": "87",
          "in-rpcs ": "8711",
          "in-bad-rpcs ": "408",
          "out-rpc-errors ": "408",
          "out-notifications": "39007"
        }
      }
    }
  }
}
```
:::

[Figure 3](#figure-3){.selfRef}
:::
:::
:::
:::
:::
:::
:::

::: {#instance_data_yam}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [YANG Instance Data Model](#name-yang-instance-data-model){.section-name .selfRef} {#name-yang-instance-data-model}

::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [Tree Diagram](#name-tree-diagram){.section-name .selfRef} {#name-tree-diagram}

The following tree diagram \[[RFC8340](#RFC8340){.xref}\] provides an
overview of the data model.[¶](#section-3.1-1){.pilcrow}

::: {#section-3.1-2}
``` {.lang-yangtree .sourcecode}
module: ietf-yang-instance-data
  structure instance-data-set:
    +--name?                string
    +--format-version?      string
    +--includes-defaults?   enumeration
    +--content-schema
    |  +--(content-schema-spec)?
    |     +--:(simplified-inline)
    |     |  +--module*                module-with-revision-date
    |     +--:(inline)
    |     |  +--inline-yang-library    <anydata>
    |     +--:(uri)
    |        +--same-schema-as-file?   inet:uri
    +--description*         string
    +--contact?             string
    +--organization?        string
    +--datastore?           ds:datastore-ref
    +--revision* [date]
    |  +--date           string
    |  +--description?   string
    +--timestamp?           yang:date-and-time
    +--content-data?        <anydata>
```

[¶](#section-3.1-2){.pilcrow}
:::
:::

::: {#yang-model}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [YANG Model](#name-yang-model){.section-name .selfRef} {#name-yang-model}

This YANG module imports typedefs from \[[RFC6991](#RFC6991){.xref}\],
\[[RFC6243](#RFC6243){.xref}\], identities from
\[[RFC8342](#RFC8342){.xref}\], and the \"structure\" extension from
\[[RFC8791](#RFC8791){.xref}\]. It also references
\[[RFC8525](#RFC8525){.xref}\].[¶](#section-3.2-1){.pilcrow}

::: {#section-3.2-2}
``` {.lang-yang .sourcecode}
<CODE BEGINS> file "ietf-yang-instance-data@2022-02-17.yang"

module ietf-yang-instance-data {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-yang-instance-data";
  prefix yid;

  import ietf-yang-structure-ext {
    prefix sx;
    reference
      "RFC 8791: YANG Data Structure Extensions";
  }
  import ietf-datastores {
    prefix ds;
    reference
      "RFC 8342: Network Management Datastore Architecture (NMDA)";
  }
  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Data Types";
  }
  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Data Types";
  }
  import ietf-netconf-with-defaults {
    prefix ncwd;
    reference
      "RFC 6243: With-defaults Capability for NETCONF";
  }

  organization
    "IETF NETMOD Working Group";
  contact
    "WG Web:   <https://datatracker.ietf.org/wg/netmod/>
     WG List:  <mailto:netmod@ietf.org>

     Author:  Balazs Lengyel
        <mailto:balazs.lengyel@ericsson.com>

     Author:  Benoit Claise
        <mailto:benoit.claise@huawei.com>";
  description
    "The module defines the structure and content of YANG
     instance data sets.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL',
     'SHALL NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED',
     'NOT RECOMMENDED', 'MAY', and 'OPTIONAL' in this document
     are to be interpreted as described in BCP 14 (RFC 2119)
     (RFC 8174) when, and only when, they appear in all
     capitals, as shown here.

     Copyright (c) 2022 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Revised BSD License
     set forth in Section 4.c of the IETF Trust's
     Legal Provisions Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 9195
     (https://www.rfc-editor.org/info/rfc9195); see the RFC itself
     for full legal notices.";

  revision 2022-02-17 {
    description
      "Initial revision.";
    reference
      "RFC 9195: YANG Instance Data File Format";
  }

  typedef module-with-revision-date {
    type string {
      pattern '[a-zA-Z_][a-zA-Z0-9\-_.]*'
            + '(@\d{4}-(1[0-2]|0[1-9])-(0[1-9]|[1|2][0-9]|3[0-1]))?';
      pattern '.|..|[^xX].*|.[^mM].*|..[^lL].*';
    }
    description
      "A type defining a module name and an optional revision
       date, e.g., ietf-yang-library@2019-01-04.";
  }

  sx:structure instance-data-set {
    description
      "A data structure to define a format for YANG instance
       data.  The majority of the YANG nodes provides metadata
       about the instance data; the instance data itself is
       contained only in the 'content-data' node.";
    leaf name {
      type string;
      description
        "An arbitrary name for the YANG instance data set.  This
         value is primarily used for descriptive purposes.  However,
         when the instance data set is saved to a file, then the
         filename MUST encode the name's value per Section 2
         of RFC 9195.";
    }
    leaf format-version {
      type string {
        pattern '\d{4}-(1[0-2]|0[1-9])-(0[1-9]|[1|2][0-9]|3[0-1])';
      }
      default "2022-01-20";
      description
        "The 'revision' of the 'ietf-yang-instance-data' module
         used to encode this 'instance-data-set'.";
    }
    leaf includes-defaults {
      type ncwd:with-defaults-mode;
      default "report-all";
      description
        "Indicates how data nodes with default values are
         represented for all data nodes contained in the
         instance-data-set.

         It uses the same definitions as per Section 3 of RFC 6243
         but applied in the context of an instance data file rather
         than a NETCONF request using the <with-defaults>
         parameter.

         For JSON files, the encoding of the 'report-all-tagged'
         option is as defined in Section 4.8.9 of RFC 8040.";
      reference
        "RFC 6243: With-defaults Capability for NETCONF";
    }
    container content-schema {
      description
        "The content schema (i.e., YANG modules) used to create
         the instance data set.
         If not present, the user needs to obtain the information
         through external documents.";
      choice content-schema-spec {
        description
          "Specification of the content-schema.";
        case simplified-inline {
          leaf-list module {
            type module-with-revision-date;
            min-elements 1;
            description
              "The list of content-defining YANG modules.

               The value SHALL start with the module name.
               If the module contains a revision statement, the
               revision date SHALL be included in the leaf-list
               entry, e.g., ietf-yang-library@2019-01-04.

               Usage of this leaf-list implies the modules are
               used without any deviations and with all features
               supported. Multiple revisions of the same module
               MUST NOT be specified.";
          }
        }
        case inline {
          anydata inline-yang-library {
            mandatory true;
            description
              "Instance data corresponding to the
               ietf-yang-library@2019-01-04 defining
               the set of content-defining YANG modules for
               this instance-data-set.";
          }
        }
        case uri {
          leaf same-schema-as-file {
            type inet:uri;
            description
              "A reference to another YANG instance data file.
               This instance data file uses the same
               content schema as the referenced file.

               Referenced files using the 'inline' or the
               'simplified-inline' methods MUST be supported.
               Referenced files using the 'URI method' MAY be
               supported.

               The URL schemes 'file://' and 'https://' MUST
               be supported; other schemes MAY also be
               supported.";
          }
        }
      }
    }
    leaf-list description {
      type string;
      description
        "Description of the instance data set.";
    }
    leaf contact {
      type string;
      description
        "Contact information for the person or
         organization to whom queries concerning this
         instance data set should be sent.";
    }
    leaf organization {
      type string;
      description
        "Organization responsible for the instance
         data set.";
    }
    leaf datastore {
      type ds:datastore-ref;
      description
        "The identity of the datastore with which the
         instance data set is associated, e.g., the datastore from
         where the data was read, the datastore into which the data
         may be loaded, or the datastore that is being documented.
         If a single specific datastore cannot be specified, the
         leaf MUST be absent.

         If this leaf is absent, then the datastore to which the
         instance data belongs is unspecified.";
    }
    list revision {
      key "date";
      description
        "Instance data sets that are produced as
         a result of some sort of specification or design effort
         SHOULD have at least one revision entry.  For every
         published editorial change, a new unique revision SHOULD
         be added in front of the revisions sequence so that all
         revisions are in reverse chronological order.

         In cases of instance data sets that are read from
         or produced by a server or otherwise subject to
         frequent updates or changes, revision
         SHOULD NOT be present.";
      leaf date {
        type string {
          pattern '\d{4}-(1[0-2]|0[1-9])-(0[1-9]|[1|2][0-9]|3[0-1])';
        }
        description
          "Specifies the date the instance data set
           was last modified. Formatted as YYYY-MM-DD.";
      }
      leaf description {
        type string;
        description
          "Description of this revision of the instance data set.";
      }
    }
    leaf timestamp {
      type yang:date-and-time;
      description
        "The date and time when the instance data set
         was last modified.

         In cases of instance data sets that are read from or
         produced by a server or otherwise subject to frequent
         updates or changes, the timestamp SHOULD be present.

         If both a revision list entry and timestamp are present,
         the timestamp SHOULD contain the same date as the
         latest revision statement.";
    }
    anydata content-data {
      description
        "Contains the real instance data.
         The data MUST conform to the relevant YANG modules
         specified either in the content-schema or in some other
         implementation-specific manner.";
    }
  }
}

<CODE ENDS>
```

[¶](#section-3.2-2){.pilcrow}
:::
:::
:::
:::
:::

::: {#security}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

The YANG module defined in this document only defines a wrapper
structure specifying a format and a metadata header for YANG instance
data defined by the content-schema. Because of this, the security
considerations template for YANG models in [Section
3.7.1](https://www.rfc-editor.org/rfc/rfc8407#section-3.7.1){.relref} of
\[[RFC8407](#RFC8407){.xref}\] is not followed. The instance data is
designed to be accessed as a stored file or over any file access method
or protocol.[¶](#section-4-1){.pilcrow}

The document does not specify any method to influence the behavior of a
server.[¶](#section-4-2){.pilcrow}

The header part is usually not security sensitive; however, sensitive
information may be included, in which case it needs to be handled
securely, as mentioned below. Information to consider
includes:[¶](#section-4-3){.pilcrow}

-   [If the URI method is used for specification of the content-schema
    and the URI includes a userinfo
    subcomponent[¶](#section-4-4.1){.pilcrow}]{#section-4-4.1}
-   [Any description text[¶](#section-4-4.2){.pilcrow}]{#section-4-4.2}

The content part may contain sensitive data. The security sensitivity of
this data is completely dependent on the content-schema. Depending on
the nature of the instance data, instance data files [MAY]{.bcp14} need
to be handled securely. The same kind of handling should be applied to
this file at rest and in transit that would be needed for the result of
a read operation returning the same data. These in-transit protection
mechanisms will also mitigate integrity issues when transporting the
file.[¶](#section-4-5){.pilcrow}

Instance data files should be protected against modification or
unauthorized access using normal file-handling mechanisms. When copying
the original files or providing file access for additional users, care
should be taken not to reveal information
unintentionally.[¶](#section-4-6){.pilcrow}

If the URI method is used for specification of the content-schema, there
is a risk that the config schema section in the referenced YANG instance
data file may be altered maliciously or even as part of its normal
handling. In this case, the content-schema might differ from the one
expected. Protecting the integrity and stability of the referenced file
should be ensured.[¶](#section-4-7){.pilcrow}
:::
:::

::: {#iana}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document registers one URI and one YANG
module.[¶](#section-5-1){.pilcrow}

::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [URI Registration](#name-uri-registration){.section-name .selfRef} {#name-uri-registration}

This document registers the following URI in the [\"IETF XML
Registry\"](#RFC3688){.xref}
\[[RFC3688](#RFC3688){.xref}\]:[¶](#section-5.1-1){.pilcrow}

[]{.break}

URI:
:   urn:ietf:params:xml:ns:yang:ietf-yang-instance-data[¶](#section-5.1-2.2){.pilcrow}
:   

Registrant Contact:
:   The IESG.[¶](#section-5.1-2.4){.pilcrow}
:   

XML:
:   N/A, the requested URI is an XML
    namespace.[¶](#section-5.1-2.6){.pilcrow}
:   
:::

::: {#section-5.2 .section}
### [5.2.](#section-5.2){.section-number .selfRef} [YANG Module Name Registration](#name-yang-module-name-registrati){.section-name .selfRef} {#name-yang-module-name-registrati}

This document registers the following YANG module in the \"YANG Module
Names\" registry
\[[RFC6020](#RFC6020){.xref}\]:[¶](#section-5.2-1){.pilcrow}

[]{.break}

Name:
:   ietf-yang-instance-data[¶](#section-5.2-2.2){.pilcrow}
:   

Namespace:
:   urn:ietf:params:xml:ns:yang:ietf-yang-instance-data[¶](#section-5.2-2.4){.pilcrow}
:   

Prefix:
:   yid[¶](#section-5.2-2.6){.pilcrow}
:   

Reference:
:   RFC 9195[¶](#section-5.2-2.8){.pilcrow}
:   
:::
:::
:::

::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC5234\]
:   [Crocker, D., Ed.]{.refAuthor} and [P. Overell]{.refAuthor},
    [\"Augmented BNF for Syntax Specifications: ABNF\"]{.refTitle}, [STD
    68]{.seriesInfo}, [RFC 5234]{.seriesInfo}, [DOI
    10.17487/RFC5234]{.seriesInfo}, January 2008,
    \<<https://www.rfc-editor.org/info/rfc5234>\>.
:   

\[RFC6020\]
:   [Bjorklund, M., Ed.]{.refAuthor}, [\"YANG - A Data Modeling Language
    for the Network Configuration Protocol (NETCONF)\"]{.refTitle}, [RFC
    6020]{.seriesInfo}, [DOI 10.17487/RFC6020]{.seriesInfo}, October
    2010, \<<https://www.rfc-editor.org/info/rfc6020>\>.
:   

\[RFC6243\]
:   [Bierman, A.]{.refAuthor} and [B. Lengyel]{.refAuthor},
    [\"With-defaults Capability for NETCONF\"]{.refTitle}, [RFC
    6243]{.seriesInfo}, [DOI 10.17487/RFC6243]{.seriesInfo}, June 2011,
    \<<https://www.rfc-editor.org/info/rfc6243>\>.
:   

\[RFC6991\]
:   [Schoenwaelder, J., Ed.]{.refAuthor}, [\"Common YANG Data
    Types\"]{.refTitle}, [RFC 6991]{.seriesInfo}, [DOI
    10.17487/RFC6991]{.seriesInfo}, July 2013,
    \<<https://www.rfc-editor.org/info/rfc6991>\>.
:   

\[RFC7950\]
:   [Bjorklund, M., Ed.]{.refAuthor}, [\"The YANG 1.1 Data Modeling
    Language\"]{.refTitle}, [RFC 7950]{.seriesInfo}, [DOI
    10.17487/RFC7950]{.seriesInfo}, August 2016,
    \<<https://www.rfc-editor.org/info/rfc7950>\>.
:   

\[RFC7951\]
:   [Lhotka, L.]{.refAuthor}, [\"JSON Encoding of Data Modeled with
    YANG\"]{.refTitle}, [RFC 7951]{.seriesInfo}, [DOI
    10.17487/RFC7951]{.seriesInfo}, August 2016,
    \<<https://www.rfc-editor.org/info/rfc7951>\>.
:   

\[RFC7952\]
:   [Lhotka, L.]{.refAuthor}, [\"Defining and Using Metadata with
    YANG\"]{.refTitle}, [RFC 7952]{.seriesInfo}, [DOI
    10.17487/RFC7952]{.seriesInfo}, August 2016,
    \<<https://www.rfc-editor.org/info/rfc7952>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8342\]
:   [Bjorklund, M.]{.refAuthor}, [Schoenwaelder, J.]{.refAuthor},
    [Shafer, P.]{.refAuthor}, [Watsen, K.]{.refAuthor}, and [R.
    Wilton]{.refAuthor}, [\"Network Management Datastore Architecture
    (NMDA)\"]{.refTitle}, [RFC 8342]{.seriesInfo}, [DOI
    10.17487/RFC8342]{.seriesInfo}, March 2018,
    \<<https://www.rfc-editor.org/info/rfc8342>\>.
:   

\[RFC8525\]
:   [Bierman, A.]{.refAuthor}, [Bjorklund, M.]{.refAuthor},
    [Schoenwaelder, J.]{.refAuthor}, [Watsen, K.]{.refAuthor}, and [R.
    Wilton]{.refAuthor}, [\"YANG Library\"]{.refTitle}, [RFC
    8525]{.seriesInfo}, [DOI 10.17487/RFC8525]{.seriesInfo}, March 2019,
    \<<https://www.rfc-editor.org/info/rfc8525>\>.
:   

\[RFC8526\]
:   [Bjorklund, M.]{.refAuthor}, [Schoenwaelder, J.]{.refAuthor},
    [Shafer, P.]{.refAuthor}, [Watsen, K.]{.refAuthor}, and [R.
    Wilton]{.refAuthor}, [\"NETCONF Extensions to Support the Network
    Management Datastore Architecture\"]{.refTitle}, [RFC
    8526]{.seriesInfo}, [DOI 10.17487/RFC8526]{.seriesInfo}, March 2019,
    \<<https://www.rfc-editor.org/info/rfc8526>\>.
:   

\[RFC8527\]
:   [Bjorklund, M.]{.refAuthor}, [Schoenwaelder, J.]{.refAuthor},
    [Shafer, P.]{.refAuthor}, [Watsen, K.]{.refAuthor}, and [R.
    Wilton]{.refAuthor}, [\"RESTCONF Extensions to Support the Network
    Management Datastore Architecture\"]{.refTitle}, [RFC
    8527]{.seriesInfo}, [DOI 10.17487/RFC8527]{.seriesInfo}, March 2019,
    \<<https://www.rfc-editor.org/info/rfc8527>\>.
:   

\[RFC8791\]
:   [Bierman, A.]{.refAuthor}, [Björklund, M.]{.refAuthor}, and [K.
    Watsen]{.refAuthor}, [\"YANG Data Structure
    Extensions\"]{.refTitle}, [RFC 8791]{.seriesInfo}, [DOI
    10.17487/RFC8791]{.seriesInfo}, June 2020,
    \<<https://www.rfc-editor.org/info/rfc8791>\>.
:   
:::

::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC3688\]
:   [Mealling, M.]{.refAuthor}, [\"The IETF XML Registry\"]{.refTitle},
    [BCP 81]{.seriesInfo}, [RFC 3688]{.seriesInfo}, [DOI
    10.17487/RFC3688]{.seriesInfo}, January 2004,
    \<<https://www.rfc-editor.org/info/rfc3688>\>.
:   

\[RFC8340\]
:   [Bjorklund, M.]{.refAuthor} and [L. Berger, Ed.]{.refAuthor},
    [\"YANG Tree Diagrams\"]{.refTitle}, [BCP 215]{.seriesInfo}, [RFC
    8340]{.seriesInfo}, [DOI 10.17487/RFC8340]{.seriesInfo}, March 2018,
    \<<https://www.rfc-editor.org/info/rfc8340>\>.
:   

\[RFC8407\]
:   [Bierman, A.]{.refAuthor}, [\"Guidelines for Authors and Reviewers
    of Documents Containing YANG Data Models\"]{.refTitle}, [BCP
    216]{.seriesInfo}, [RFC 8407]{.seriesInfo}, [DOI
    10.17487/RFC8407]{.seriesInfo}, October 2018,
    \<<https://www.rfc-editor.org/info/rfc8407>\>.
:   

\[RFC8632\]
:   [Vallin, S.]{.refAuthor} and [M. Bjorklund]{.refAuthor}, [\"A YANG
    Data Model for Alarm Management\"]{.refTitle}, [RFC
    8632]{.seriesInfo}, [DOI 10.17487/RFC8632]{.seriesInfo}, September
    2019, \<<https://www.rfc-editor.org/info/rfc8632>\>.
:   

\[RFC8641\]
:   [Clemm, A.]{.refAuthor} and [E. Voit]{.refAuthor}, [\"Subscription
    to YANG Notifications for Datastore Updates\"]{.refTitle}, [RFC
    8641]{.seriesInfo}, [DOI 10.17487/RFC8641]{.seriesInfo}, September
    2019, \<<https://www.rfc-editor.org/info/rfc8641>\>.
:   

\[RFC8792\]
:   [Watsen, K.]{.refAuthor}, [Auerswald, E.]{.refAuthor},
    [Farrel, A.]{.refAuthor}, and [Q. Wu]{.refAuthor}, [\"Handling Long
    Lines in Content of Internet-Drafts and RFCs\"]{.refTitle}, [RFC
    8792]{.seriesInfo}, [DOI 10.17487/RFC8792]{.seriesInfo}, June 2020,
    \<<https://www.rfc-editor.org/info/rfc8792>\>.
:   

\[RFC8808\]
:   [Wu, Q.]{.refAuthor}, [Lengyel, B.]{.refAuthor}, and [Y.
    Niu]{.refAuthor}, [\"A YANG Data Model for Factory Default
    Settings\"]{.refTitle}, [RFC 8808]{.seriesInfo}, [DOI
    10.17487/RFC8808]{.seriesInfo}, August 2020,
    \<<https://www.rfc-editor.org/info/rfc8808>\>.
:   
:::
:::

::: {#appendix-A .section}
## [Appendix A.](#appendix-A){.section-number .selfRef} [Backwards Compatibility](#name-backwards-compatibility){.section-name .selfRef} {#name-backwards-compatibility}

The concept of \"backwards compatibility\" and what changes are
backwards compatible are not defined for instance data sets as they are
highly dependent on the specific use case and the
content-schema.[¶](#appendix-A-1){.pilcrow}

In case of \"instance data sets\" that are the result of design or
specification activity, some changes that may be good to avoid are
listed below.[¶](#appendix-A-2){.pilcrow}

YANG uses the concept of managed entities identified by key values; if
the connection between the represented entity and the key value is not
preserved during an update, this may lead to the following
problems.[¶](#appendix-A-3){.pilcrow}

-   [If the key value of a list entry that represents the same managed
    entity as before is changed, the user may mistakenly identify the
    list entry as new.[¶](#appendix-A-4.1){.pilcrow}]{#appendix-A-4.1}
-   [If the meaning of a list entry is changed but the key values are
    not (e.g., redefining an alarm-type but not changing its
    alarm-type-id), the change may not be
    noticed.[¶](#appendix-A-4.2){.pilcrow}]{#appendix-A-4.2}
-   [If the key value of a previously removed list entry is reused for a
    different entity, the change may be misinterpreted as reintroducing
    the previous entity.[¶](#appendix-A-4.3){.pilcrow}]{#appendix-A-4.3}
:::

::: {#detailed_use_cases}
::: {#appendix-B .section}
## [Appendix B.](#appendix-B){.section-number .selfRef} [Detailed Use Cases](#name-detailed-use-cases){.section-name .selfRef} {#name-detailed-use-cases}

This section is non-normative.[¶](#appendix-B-1){.pilcrow}

::: {#appendix-B.1 .section}
### [B.1.](#appendix-B.1){.section-number .selfRef} [Use Case 1: Early Documentation of Server Capabilities](#name-use-case-1-early-documentat){.section-name .selfRef} {#name-use-case-1-early-documentat}

A server has a number of server capabilities that are defined in YANG
modules and can be retrieved from the server using protocols like
NETCONF or RESTCONF. Server capabilities
include:[¶](#appendix-B.1-1){.pilcrow}

-   [data defined in \"ietf-yang-library\": YANG modules, submodules,
    features, deviations, schema-mounts, and datastores supported
    (\[[RFC8525](#RFC8525){.xref}\]).[¶](#appendix-B.1-2.1){.pilcrow}]{#appendix-B.1-2.1}
-   [alarms supported
    (\[[RFC8632](#RFC8632){.xref}\]).[¶](#appendix-B.1-2.2){.pilcrow}]{#appendix-B.1-2.2}
-   [data nodes and subtrees that support or do not support on-change
    notifications
    (\[[RFC8641](#RFC8641){.xref}\]).[¶](#appendix-B.1-2.3){.pilcrow}]{#appendix-B.1-2.3}
-   [netconf-capabilities in
    ietf-netconf-monitoring.[¶](#appendix-B.1-2.4){.pilcrow}]{#appendix-B.1-2.4}

While it is good practice to allow a client to query these capabilities
from the live server, that is often not
possible.[¶](#appendix-B.1-3){.pilcrow}

Often when a network node is released, an associated Network Management
System (NMS) is also released with it. The NMS depends on the
capabilities of the server. During NMS implementation, information about
server capabilities is needed. If the information is unavailable early
in some offline document but only as instance data from the live network
node, the NMS implementation will be delayed because it has to wait
until the network node is ready. Also, assuming that all NMS
implementors will have correctly configured network nodes from which
data can be retrieved is a very expensive proposition. (An NMS may
handle dozens of node types.)[¶](#appendix-B.1-4){.pilcrow}

Network operators often build their own homegrown NMS systems that need
to be integrated with a vendor\'s network node. The operator needs to
know the network node\'s server capabilities in order to do this.
Moreover, the network operator\'s decision to buy a vendor\'s product
may even be influenced by the network node\'s Operations,
Administration, and Maintenance (OAM) feature set documented as the
server\'s capabilities.[¶](#appendix-B.1-5){.pilcrow}

Beside NMS implementors, system integrators and many others also need
the same information early. Examples could be model-driven testing,
generating documentation, etc.[¶](#appendix-B.1-6){.pilcrow}

Most server capabilities are relatively stable and change only during
upgrade or due to licensing or the addition or removal of hardware. They
are usually defined by a vendor at design time, before the product is
released. It is feasible and advantageous to define and document them
early, e.g., in a YANG instance data file.[¶](#appendix-B.1-7){.pilcrow}

It is anticipated that a separate IETF document will define in detail
how and which set of server capabilities should be
documented.[¶](#appendix-B.1-8){.pilcrow}
:::

::: {#appendix-B.2 .section}
### [B.2.](#appendix-B.2){.section-number .selfRef} [Use Case 2: Preloading Data](#name-use-case-2-preloading-data){.section-name .selfRef} {#name-use-case-2-preloading-data}

There are parts of the configuration that must be fully configurable by
the operator. However, a simple default configuration often will be
sufficient.[¶](#appendix-B.2-1){.pilcrow}

One example is access control groups/roles and related rules. While a
sophisticated operator may define dozens of different groups, often a
basic (read-only operator, read-write system administrator,
security-administrator) triplet will be enough. Vendors will often
provide such default configuration data to make device configuration
easier for an operator.[¶](#appendix-B.2-2){.pilcrow}

The device vendor may define a set of default groups (/nacm:nacm/groups)
and rules for these groups to access specific parts of the common models
(/nacm:nacm/rule-list/rule).[¶](#appendix-B.2-3){.pilcrow}

YANG instance data files can be used to document and/or preload the
default configuration.[¶](#appendix-B.2-4){.pilcrow}
:::

::: {#appendix-B.3 .section}
### [B.3.](#appendix-B.3){.section-number .selfRef} [Use Case 3: Documenting Factory Default Settings](#name-use-case-3-documenting-fact){.section-name .selfRef} {#name-use-case-3-documenting-fact}

Nearly every server has a factory default configuration. If the system
is really badly misconfigured or if the current configuration is to be
abandoned, the system can be reset to the default factory
configuration.[¶](#appendix-B.3-1){.pilcrow}

YANG instance data can be used to document the factory default
configuration. See
\[[RFC8808](#RFC8808){.xref}\].[¶](#appendix-B.3-2){.pilcrow}
:::
:::
:::

::: {#appendix-C .section}
## [Acknowledgments](#name-acknowledgments){.section-name .selfRef} {#name-acknowledgments}

For their valuable comments, discussions, and feedback, we wish to
acknowledge [Andy Bierman]{.contact-name}, [Juergen
Schoenwaelder]{.contact-name}, [Rob Wilton]{.contact-name}, [Joe
Clarke]{.contact-name}, [Kent Watsen]{.contact-name}, [Martin
Bjorklund]{.contact-name}, [Ladislav Lhotka]{.contact-name}, [Qin
Wu]{.contact-name}, and other members of the Netmod Working
Group.[¶](#appendix-C-1){.pilcrow}
:::

::: {#authors-addresses}
::: {#appendix-D .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Balazs Lengyel]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Budapest]{.locality}
:::

::: {.left dir="auto"}
[Magyar Tudosok korutja 11]{.street-address}
:::

::: {.left dir="auto"}
[1117]{.postal-code}
:::

::: {.left dir="auto"}
[Hungary]{.country-name}
:::

::: email
Email: <balazs.lengyel@ericsson.com>
:::

::: {.left dir="auto"}
[Benoit Claise]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: email
Email: <benoit.claise@huawei.com>
:::
:::
:::
