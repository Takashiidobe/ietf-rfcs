  RFC 9196          YANG System & Notification Capabilities   February 2022
  ----------------- ----------------------------------------- ---------------
  Lengyel, et al.   Standards Track                           \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [9196](https://www.rfc-editor.org/rfc/rfc9196){.eref}

Category:
:   Standards Track

Published:
:   February 2022

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    B. Lengyel
    :::

    ::: org
    Ericsson
    :::
    :::

    ::: author
    ::: author-name
    A. Clemm
    :::

    ::: org
    Futurewei
    :::
    :::

    ::: author
    ::: author-name
    B. Claise
    :::

    ::: org
    Huawei
    :::
    :::
:::

# RFC 9196 {#rfcnum}

# YANG Modules Describing Capabilities for Systems and Datastore Update Notifications {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

This document defines two YANG modules, \"ietf-system-capabilities\" and
\"ietf-notification-capabilities\".[¶](#section-abstract-1){.pilcrow}

The module \"ietf-system-capabilities\" provides a placeholder structure
that can be used to discover YANG-related system capabilities for
servers. The module can be used to report capability information from
the server at runtime or at implementation time by making use of the
YANG instance data file format.[¶](#section-abstract-2){.pilcrow}

The module \"ietf-notification-capabilities\" augments
\"ietf-system-capabilities\" to specify capabilities related to
\"Subscription to YANG Notifications for Datastore Updates\" (RFC
8641).[¶](#section-abstract-3){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc9196>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2022 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Revised BSD License text as described in Section 4.e of the Trust Legal
Provisions and are provided without warranty as described in the Revised
BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Terminology](#name-terminology){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Providing System Capability
    Information](#name-providing-system-capability){.xref}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [Providing YANG-Push Notification
    Capabilities Information](#name-providing-yang-push-notific){.xref}
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [System Capabilities
    Model](#name-system-capabilities-model){.xref}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [Tree
        Diagram](#name-tree-diagram){.xref}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [YANG
        Module](#name-yang-module){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [Notification Capabilities
    Model](#name-notification-capabilities-m){.xref}

    -   ::: {#section-toc.1-1.5.2.1}
        [5.1](#section-5.1){.xref}.  [Tree
        Diagram](#name-tree-diagram-2){.xref}
        :::

    -   ::: {#section-toc.1-1.5.2.2}
        [5.2](#section-5.2){.xref}.  [YANG
        Module](#name-yang-module-2){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}

    -   ::: {#section-toc.1-1.7.2.1}
        [7.1](#section-7.1){.xref}.  [The IETF XML
        Registry](#name-the-ietf-xml-registry){.xref}
        :::

    -   ::: {#section-toc.1-1.7.2.2}
        [7.2](#section-7.2){.xref}.  [The YANG Module Names
        Registry](#name-the-yang-module-names-regis){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [References](#name-references){.xref}

    -   ::: {#section-toc.1-1.8.2.1}
        [8.1](#section-8.1){.xref}.  [Normative
        References](#name-normative-references){.xref}
        :::

    -   ::: {#section-toc.1-1.8.2.2}
        [8.2](#section-8.2){.xref}.  [Informative
        References](#name-informative-references){.xref}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [Appendix A](#appendix-A){.xref}.  [Instance Data Example
    #1](#name-instance-data-example-1){.xref}
    :::

-   ::: {#section-toc.1-1.10}
    [Appendix B](#appendix-B){.xref}.  [Instance Data Example
    #2](#name-instance-data-example-2){.xref}
    :::

-   ::: {#section-toc.1-1.11}
    [](#appendix-C){.xref}[Acknowledgments](#name-acknowledgments){.xref}
    :::

-   ::: {#section-toc.1-1.12}
    [](#appendix-D){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}
    :::
:::
:::

::: {#intro}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

Servers and/or publishers often have capabilities, which can be
represented by values that designate operational behavior, that need to
be conveyed to clients. The YANG modules that are defined in this
document facilitate this.[¶](#section-1-1){.pilcrow}

There is a need to publish this capability information as it is part of
the API contract between the server and client. Examples include the
maximum size of data that can be stored or transferred, information
about counters (whether a node supports \"on-change\" telemetry), etc.
Such capabilities are often dependent on a vendor\'s implementation or
the available resources at deployment. Many such capabilities are
specific to the complete system, individual YANG datastores
\[[RFC8342](#RFC8342){.xref}\], specific parts of the YANG schema, or
even individual data nodes. It is a goal of this document to provide a
common way to represent such capabilities in a format that
is:[¶](#section-1-2){.pilcrow}

-   [vendor independent,[¶](#section-1-3.1){.pilcrow}]{#section-1-3.1}
-   [machine readable, and[¶](#section-1-3.2){.pilcrow}]{#section-1-3.2}
-   [available in an identical format both at implementation time and at
    runtime.[¶](#section-1-3.3){.pilcrow}]{#section-1-3.3}

Implementation-time information is needed by Network Management System
(NMS) implementers. An NMS implementation that supports notifications
needs information about a system\'s capability so it can send
\"on-change\" notifications. If the information is not documented in a
way that is readily available to the NMS designer, but only as instance
data from the network node once it is deployed, the NMS implementation
will be delayed because it has to wait for the network node to be ready.
In addition, the assumption that all NMS implementers will have a
correctly configured network node available from which to retrieve data
is an expensive proposition and may not always hold. (An NMS may need to
be able to handle many dozens of network node types.) Often, a fully
functional NMS is a requirement for introducing a new network node type
into a network, so delaying NMS readiness effectively also delays the
time at which a new network node type can be introduced into the
network.[¶](#section-1-4){.pilcrow}

Implementation-time information is needed by system integrators. When
introducing a network node type into their network, operators often need
to integrate the node type into their own management system. The NMS may
have management functions that depend on \"on-change\" notifications.
The network operators need to plan their management practices and NMS
implementation before they decide to buy the specific network node type.
Moreover, the decision to buy the node type sometimes depends on these
management possibilities.[¶](#section-1-5){.pilcrow}

Runtime capability information is needed:[¶](#section-1-6){.pilcrow}

-   [for any \"purely model-driven\" application, e.g., a NETCONF
    browser. Such applications depend on reading models and capabilities
    at runtime to support all the publisher\'s available
    functionality.[¶](#section-1-7.1){.pilcrow}]{#section-1-7.1}
-   [in case the capability might change during runtime, e.g., due to
    licensing, hardware constraints,
    etc.[¶](#section-1-7.2){.pilcrow}]{#section-1-7.2}
-   [to check that that capability information provided earlier, at
    implementation time, is what the publisher has
    implemented.[¶](#section-1-7.3){.pilcrow}]{#section-1-7.3}

::: {#terminology}
::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Terminology](#name-terminology){.section-name .selfRef} {#name-terminology}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1.1-1){.pilcrow}

The terms \"YANG-Push\", \"on-change subscription\", and \"periodic
subscription\" are used as defined in
\[[RFC8641](#RFC8641){.xref}\].[¶](#section-1.1-2){.pilcrow}

The terms \"subscriber\", \"publisher\", and \"receiver\" are used as
defined in \[[RFC8639](#RFC8639){.xref}\].[¶](#section-1.1-3){.pilcrow}

The term \"server\" is used as defined in
\[[RFC8342](#RFC8342){.xref}\].[¶](#section-1.1-4){.pilcrow}

The terms \"YANG instance data file format\", \"instance data\", and
\"instance data set\" are used as defined in
\[[RFC9195](#RFC9195){.xref}\].[¶](#section-1.1-5){.pilcrow}

In addition, this document defines the following
terms:[¶](#section-1.1-6){.pilcrow}

[]{.break}

Implementation-time information:
:   Information about the server\'s behavior that is made available
    during the implementation of the server, available from a source
    other than a running server.[¶](#section-1.1-7.2){.pilcrow}
:   

Runtime information:
:   Information about the server\'s behavior that is available from the
    running server via management protocols such as NETCONF
    \[[RFC6241](#RFC6241){.xref}\] or RESTCONF
    \[[RFC8040](#RFC8040){.xref}\].[¶](#section-1.1-7.4){.pilcrow}
:   
:::
:::
:::
:::

::: {#capability-information}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Providing System Capability Information](#name-providing-system-capability){.section-name .selfRef} {#name-providing-system-capability}

Capability information is represented by instance data based on one or
more \"capability-defining YANG modules\". This allows a user to
discover capabilities both at implementation time and at
runtime.[¶](#section-2-1){.pilcrow}

[]{.break}

For the implementation-time use case:
:   Capabilities [SHOULD]{.bcp14} be provided by the implementer as YANG
    instance data files complying with \[[RFC9195](#RFC9195){.xref}\].
    When provided, the file [MUST]{.bcp14} already be available at
    implementation time and retrievable in a way that does not depend on
    a live network node, e.g., downloading from a product
    website.[¶](#section-2-2.2){.pilcrow}
:   

For the runtime use case:
:   Capabilities [SHOULD]{.bcp14} be available via NETCONF
    \[[RFC6241](#RFC6241){.xref}\] or RESTCONF
    \[[RFC8040](#RFC8040){.xref}\] from the live server (implementing
    the publisher) during runtime. Implementations that support changing
    these capabilities at runtime [SHOULD]{.bcp14} support \"on-change\"
    notifications about the system-capabilities
    container.[¶](#section-2-2.4){.pilcrow}
:   

The module \"ietf-system-capabilities\" provides a placeholder structure
to be used to specify any YANG-related system
capability.[¶](#section-2-3){.pilcrow}

The module \"ietf-notification-capabilities\" is defined to allow a
publisher to specify capabilities related to \"Subscription to YANG
Notifications for Datastore Updates\" \[[RFC8641](#RFC8641){.xref}\],
also known as YANG-Push, augmenting
\"ietf-system-capabilities\".[¶](#section-2-4){.pilcrow}

The YANG data models in this document conform to the Network Management
Datastore Architecture (NMDA) defined in
\[[RFC8342](#RFC8342){.xref}\].[¶](#section-2-5){.pilcrow}
:::
:::

::: {#Yang-Push-Capabilities}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [Providing YANG-Push Notification Capabilities Information](#name-providing-yang-push-notific){.section-name .selfRef} {#name-providing-yang-push-notific}

A specific case is the need to specify capabilities in the YANG-Push
functionality. As defined in \[[RFC8641](#RFC8641){.xref}\], a publisher
may allow subscribers to subscribe to updates from a datastore and will
subsequently push such update notifications to the receiver.
Notifications may be sent periodically or \"on change\" (more or less
immediately after each change).[¶](#section-3-1){.pilcrow}

A publisher supporting YANG-Push has a number of capabilities defined in
\[[RFC8641](#RFC8641){.xref}\] that are often determined during the
implementation of the publisher. These
include:[¶](#section-3-2){.pilcrow}

-   [supported (reporting) periods for \"periodic\"
    subscriptions.[¶](#section-3-3.1){.pilcrow}]{#section-3-3.1}
-   [the maximum number of objects that can be sent in an
    update.[¶](#section-3-3.2){.pilcrow}]{#section-3-3.2}
-   [the set of datastores or data nodes for which \"periodic\"
    notification is
    supported.[¶](#section-3-3.3){.pilcrow}]{#section-3-3.3}

Additional capabilities if the optional \"on-change\" feature is
supported include:[¶](#section-3-4){.pilcrow}

-   [supported dampening periods for \"on-change\"
    subscriptions.[¶](#section-3-5.1){.pilcrow}]{#section-3-5.1}
-   [the set of datastores or data nodes for which \"on-change\"
    notification is
    supported.[¶](#section-3-5.2){.pilcrow}]{#section-3-5.2}

Publishers might have some capabilities (or limitations) to document \--
for example, how many update notifications and how many datastore node
updates they can send out in a certain time period. Other publishers
might not support \"periodic\" subscriptions to all datastores. In some
cases, a publisher supporting \"on-change\" notifications will not be
able to push updates for some object types \"on change\". Reasons for
this might be that the value of the datastore node changes frequently
(e.g., in-octet counter), that small object changes are frequent and
irrelevant to the receiver (e.g., a temperature gauge changing 0.1
degrees within a predetermined and acceptable range), or that the
implementation is not capable of on-change notification for a particular
object. In all those cases, it will be important for subscriber
applications to have a way to identify the objects for which
\"on-change\" notifications are supported and the objects for which they
are not.[¶](#section-3-6){.pilcrow}

Support for \"on-change\" notifications does not mean that such
notifications will be sent for any specific data node, as the ability to
do so may not be supported for every data node. Therefore,
subscriber/management applications cannot rely on the \"on-change\"
functionality unless the subscriber has some means to identify the
objects for which \"on-change\" notifications are in fact supported.
YANG data models are meant to be used as an interface contract. Without
identification of the data nodes actually supporting \"on-change\"
notifications, this contract would be
incomplete.[¶](#section-3-7){.pilcrow}

Clients of a server (and subscribers to a publisher, as subscribers are
also clients) need a method to gather capability
information.[¶](#section-3-8){.pilcrow}
:::
:::

::: {#system_capabilities_model}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [System Capabilities Model](#name-system-capabilities-model){.section-name .selfRef} {#name-system-capabilities-model}

The module \"ietf-system-capabilities\" is defined to provide a
structure that can be used to discover (as a read-only operational
state) any YANG-related system capability.[¶](#section-4-1){.pilcrow}

This module itself does not contain any capabilities; it provides
augmentation points for capabilities to be defined in subsequent YANG
modules. \"ietf-system-capabilities\" is used by other modules to
augment in specific capability information. Every set of such
capabilities [MUST]{.bcp14} be wrapped in a container under the augment
statement to cleanly separate different groups of capabilities. These
\"wrapper containers\" [SHALL]{.bcp14} be augmented at
/sysc:system-capabilities and
/sysc:system-capabilities/sysc:datastore-capabilities/sysc:per-node-capabilities.[¶](#section-4-2){.pilcrow}

Capability values can be specified at the system level, at the datastore
level (by selecting all nodes in the datastore), or for specific data
nodes of a specific datastore (and their contained subtrees). Capability
values specified for a specific datastore or node-set override values
specified at the system level.[¶](#section-4-3){.pilcrow}

Note: The solution is usable for both NMDA and non-NMDA systems. For
non-NMDA servers, \"config false\" data is considered as if it were part
of the running datastore.[¶](#section-4-4){.pilcrow}

::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [Tree Diagram](#name-tree-diagram){.section-name .selfRef} {#name-tree-diagram}

The following tree diagram \[[RFC8340](#RFC8340){.xref}\] provides an
overview of the data model.[¶](#section-4.1-1){.pilcrow}

::: {#section-4.1-2}
``` {.lang-yangtree .sourcecode}
module: ietf-system-capabilities
  +--ro system-capabilities
     +--ro datastore-capabilities* [datastore]
        +--ro datastore       -> /yanglib:yang-library/datastore/name
        +--ro per-node-capabilities* []
           +--ro (node-selection)?
              +--:(node-selector)
                 +--ro node-selector?   nacm:node-instance-identifier
```

[¶](#section-4.1-2){.pilcrow}
:::
:::

::: {#ietf-system-capabilities.yang}
::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [YANG Module](#name-yang-module){.section-name .selfRef} {#name-yang-module}

This YANG module imports typedefs from \[[RFC8341](#RFC8341){.xref}\]
and a reference path from
\[[RFC8525](#RFC8525){.xref}\].[¶](#section-4.2-1){.pilcrow}

::: {#section-4.2-2}
``` {.lang-yang .sourcecode}
<CODE BEGINS> file "ietf-system-capabilities@2022-02-17.yang"

module ietf-system-capabilities {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-system-capabilities";
  prefix sysc;

  import ietf-netconf-acm {
    prefix nacm;
    reference
      "RFC 8341: Network Configuration Access Control Model";
  }
  import ietf-yang-library {
    prefix yanglib;
    description
      "This module requires ietf-yang-library to be implemented.
       Revision 2019-01-04 or a revision derived from it
       is REQUIRED.";
    reference
      "RFC8525: YANG Library";
  }

  organization
    "IETF NETCONF (Network Configuration) Working Group";
  contact
    "WG Web:   <https://datatracker.ietf.org/wg/netconf/>
     WG List:  <mailto:netconf@ietf.org>

     Editor:   Balazs Lengyel
               <mailto:balazs.lengyel@ericsson.com>";
  description
    "This module specifies a structure to specify system
     capabilities for a server or a publisher.  System capabilities
     may include capabilities of a NETCONF or RESTCONF server or a
     notification publisher.

     This module does not contain any specific capabilities; it only
     provides a structure where containers containing the actual
     capabilities are augmented in.

     Capability values can be specified at the system level, at the
     datastore level (by selecting all nodes in the datastore), or
     for specific data nodes of a specific datastore (and their
     contained subtrees).
     Capability values specified for a specific datastore or
     node-set override values specified on the system/publisher
     level.

     The same grouping MUST be used to define hierarchical
     capabilities supported both at the system level and at the
     datastore/data-node level.

     To find a capability value for a specific data node in a
     specific datastore, the user SHALL:

     1) search for a datastore-capabilities list entry for
     the specific datastore.  When stating a specific capability, the
     relative path for any specific capability must be the same
     under the system-capabilities container and under the
     per-node-capabilities list.

     2) If the datastore entry is found within that entry, process
     all per-node-capabilities entries in the order they appear in
     the list.  The first entry that specifies the specific
     capability and has a node-selector selecting the specific data
     node defines the capability value.

     3) If the capability value is not found above and the specific
     capability is specified under the system-capabilities container
     (outside the datastore-capabilities list), this value shall be
     used.

     4) If no values are found in the previous steps, the
     system/publisher is not capable of providing a value.  Possible
     reasons are that it is unknown, the capability is changing for
     some reason, there is no specified limit, etc.  In this case,
     the system's behavior is unspecified.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL',
     'SHALL NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED',
     'NOT RECOMMENDED', 'MAY', and 'OPTIONAL' in this document
     are to be interpreted as described in BCP 14 (RFC 2119)
     (RFC 8174) when, and only when, they appear in all
     capitals, as shown here.

     Copyright (c) 2022 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Revised BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 9196
     (https://www.rfc-editor.org/info/rfc9196); see the RFC itself
     for full legal notices.";

  revision 2022-02-17 {
    description
      "Initial version";
    reference
      "RFC 9196: YANG Modules Describing Capabilities for Systems
       and Datastore Update Notifications";
  }

  container system-capabilities {
    config false;
    description
      "System capabilities.
       Capability values specified here at the system level
       are valid for all datastores and are used when the
       capability is not specified at the datastore level
       or for specific data nodes.";
    /*
     * "Augmentation point for system-level capabilities."
     */
    list datastore-capabilities {
      key "datastore";
      description
        "Capabilities values per datastore.

         For non-NMDA servers/publishers, 'config false' data is
         considered as if it were part of the running datastore.";
      leaf datastore {
        type leafref {
          path
            "/yanglib:yang-library/yanglib:datastore/yanglib:name";
        }
        description
          "The datastore for which capabilities are defined.
           Only one specific datastore can be specified,
           e.g., ds:conventional must not be used, as it
           represents a set of configuration datastores.";
      }
      list per-node-capabilities {
        description
          "Each list entry specifies capabilities for the selected
           data nodes.  The same capabilities apply to the data nodes
           in the subtree below the selected nodes.

           The system SHALL order the entries according to their
           precedence. The order of the entries MUST NOT change
           unless the underlying capabilities also change.

           Note that the longest patch matching can be achieved
           by ordering more specific matches before less
           specific ones.";
        choice node-selection {
          description
            "A method to select some or all nodes within a
             datastore.";
          leaf node-selector {
            type nacm:node-instance-identifier;
            description
              "Selects the data nodes for which capabilities are
               specified. The special value '/' denotes all data
               nodes in the datastore, consistent with the path
               leaf node on page 41 of [RFC8341].";
            reference
              "RFC 8341: Network Configuration Access Control Model";
          }
        }
        /*
         * "Augmentation point for datastore- or data-node-level
         * capabilities."
         */
      }
    }
  }
}


<CODE ENDS>
```

[¶](#section-4.2-2){.pilcrow}
:::
:::
:::
:::
:::

::: {#notification-capabilities_model}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [Notification Capabilities Model](#name-notification-capabilities-m){.section-name .selfRef} {#name-notification-capabilities-m}

The YANG module \"ietf-notification-capabilities\" provides information
related to the YANG-Push capability.[¶](#section-5-1){.pilcrow}

::: {#section-5.1 .section}
### [5.1.](#section-5.1){.section-number .selfRef} [Tree Diagram](#name-tree-diagram-2){.section-name .selfRef} {#name-tree-diagram-2}

The following tree diagram \[[RFC8340](#RFC8340){.xref}\] provides an
overview of the data model.[¶](#section-5.1-1){.pilcrow}

::: {#section-5.1-2}
``` {.lang-yangtree .sourcecode}
module: ietf-notification-capabilities
  augment /sysc:system-capabilities:
    +--ro subscription-capabilities
       +--ro max-nodes-per-update?               uint32
       +--ro periodic-notifications-supported?   notification-support
       +--ro (update-period)?
       |  +--:(minimum-update-period)
       |  |  +--ro minimum-update-period?        uint32
       |  +--:(supported-update-period)
       |     +--ro supported-update-period*      uint32
       +--ro on-change-supported?                notification-support
       |       {yp:on-change}?
       +--ro minimum-dampening-period?           uint32
       |       {yp:on-change}?
       +--ro supported-excluded-change-type*     union
               {yp:on-change}?
  augment /sysc:system-capabilities/sysc:datastore-capabilities
            /sysc:per-node-capabilities:
    +--ro subscription-capabilities
       +--ro max-nodes-per-update?               uint32
       +--ro periodic-notifications-supported?   notification-support
       +--ro (update-period)?
       |  +--:(minimum-update-period)
       |  |  +--ro minimum-update-period?        uint32
       |  +--:(supported-update-period)
       |     +--ro supported-update-period*      uint32
       +--ro on-change-supported?                notification-support
       |       {yp:on-change}?
       +--ro minimum-dampening-period?           uint32
       |       {yp:on-change}?
       +--ro supported-excluded-change-type*     union
               {yp:on-change}?
```

[¶](#section-5.1-2){.pilcrow}
:::
:::

::: {#ietf-notification-capabilities.yang}
::: {#section-5.2 .section}
### [5.2.](#section-5.2){.section-number .selfRef} [YANG Module](#name-yang-module-2){.section-name .selfRef} {#name-yang-module-2}

This YANG module imports a feature and typedefs from
\[[RFC8641](#RFC8641){.xref}\] and also imports the
\"ietf-system-capabilities\" specified in this
document.[¶](#section-5.2-1){.pilcrow}

::: {#section-5.2-2}
``` {.lang-yang .sourcecode}
<CODE BEGINS> file "ietf-notification-capabilities@2022-02-17.yang"

module ietf-notification-capabilities {
  yang-version 1.1;
  namespace
    "urn:ietf:params:xml:ns:yang:ietf-notification-capabilities";
  prefix notc;

  import ietf-yang-push {
    prefix yp;
    description
      "This module requires ietf-yang-push to be implemented.";
    reference
      "RFC 8641: Subscription to YANG Notifications for
       Datastore Updates";
  }
  import ietf-system-capabilities {
    prefix sysc;
    description
      "This module requires ietf-system-capabilities to be
       implemented.";
    reference
      "RFC 9196: YANG Modules Describing Capabilities for Systems
       and Datastore Update Notifications";
  }

  organization
    "IETF NETCONF (Network Configuration) Working Group";
  contact
    "WG Web:   <https://datatracker.ietf.org/wg/netconf/>
     WG List:  <mailto:netconf@ietf.org>

     Editor:   Balazs Lengyel
               <mailto:balazs.lengyel@ericsson.com>";
  description
    "This module specifies publisher capabilities related to
     YANG-Push (RFC 8641).

     The module contains:

     - a specification of the data nodes that support 'on-change' or
     'periodic' notifications.

     - capabilities related to the throughput of notification data
     that the publisher can support.  (Note that for a specific
     subscription, the publisher MAY allow only longer periods
     or smaller updates depending on, e.g., actual load conditions.)

     Capability values can be specified at the system/publisher
     level, at the datastore level, or for specific data nodes of
     a specific datastore (and their contained subtrees), as defined
     in the ietf-system-capabilities module.

     If different data nodes covered by a single subscription
     have different values for a specific capability, then using
     values that are only acceptable for some of these data nodes,
     but not for others, may result in the rejection of the
     subscription.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL',
     'SHALL NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED',
     'NOT RECOMMENDED', 'MAY', and 'OPTIONAL' in this document
     are to be interpreted as described in BCP 14 (RFC 2119)
     (RFC 8174) when, and only when, they appear in all
     capitals, as shown here.

     Copyright (c) 2022 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Revised BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 9196
     (https://www.rfc-editor.org/info/rfc9196); see the RFC itself
     for full legal notices.";

  revision 2022-02-17 {
    description
      "Initial version";
    reference
      "RFC 9196: YANG Modules Describing Capabilities for Systems
       and Datastore Update Notifications";
  }

  grouping subscription-capabilities {
    description
      "Capabilities related to YANG-Push subscriptions
       and notifications";
    container subscription-capabilities {
      description
        "Capabilities related to YANG-Push subscriptions
         and notifications";
      typedef notification-support {
        type bits {
          bit config-changes {
            description
              "The publisher is capable of sending
               notifications for 'config true' nodes for the
               relevant scope and subscription type.";
          }
          bit state-changes {
            description
              "The publisher is capable of sending
               notifications for 'config false' nodes for the
               relevant scope and subscription type.";
          }
        }
        description
          "Type for defining whether 'on-change' or
           'periodic' notifications are supported for all data nodes,
           'config false' data nodes, 'config true' data nodes, or
           no data nodes.

           The bits config-changes or state-changes have no effect
           when they are set for a datastore or for a set of nodes
           that does not contain nodes with the indicated config
           value.  In those cases, the effect is the same as if no
           support was declared.  One example of this is indicating
           support for state-changes for a candidate datastore that
           has no effect.";
      }

      leaf max-nodes-per-update {
        type uint32 {
          range "1..max";
        }
        description
          "Maximum number of data nodes that can be sent
           in an update. The publisher MAY support more data nodes
           but SHOULD support at least this number.

           May be used to avoid the 'update-too-big' error
           during subscription.";
        reference
          "RFC 8641: Subscription to YANG Notifications for
           Datastore Updates, the 'update-too-big' error/identity";
      }
      leaf periodic-notifications-supported {
        type notification-support;
        description
          "Specifies whether the publisher is capable of
           sending 'periodic' notifications for the selected
           data nodes, including any subtrees that may exist
           below them.";
        reference
          "RFC 8641: Subscription to YANG Notifications for
           Datastore Updates, 'periodic' subscription concept";
      }
      choice update-period {
        description
          "Supported update period value or values for
           'periodic' subscriptions.";
        leaf minimum-update-period {
          type uint32;
          units "centiseconds";
          description
            "Indicates the minimal update period that is
             supported for a 'periodic' subscription.

             A subscription request to the selected data nodes with
             a smaller period than what this leaf specifies is
             likely to result in a 'period-unsupported' error.";
          reference
            "RFC 8641: Subscription to YANG Notifications for
             Datastore Updates, the period leaf in the ietf-yang-push
             YANG module";
        }
        leaf-list supported-update-period {
          type uint32;
          units "centiseconds";
          description
            "Supported update period values for a 'periodic'
             subscription.

             A subscription request to the selected data nodes with a
             period not included in the leaf-list will result in a
             'period-unsupported' error.";
          reference
            "RFC 8641: Subscription to YANG Notifications for
             Datastore Updates, the period leaf in the ietf-yang-push
             YANG module";
        }
      }
      leaf on-change-supported {
        if-feature "yp:on-change";
        type notification-support;
        description
          "Specifies whether the publisher is capable of
           sending 'on-change' notifications for the selected
           data nodes and the subtree below them.";
        reference
          "RFC 8641: Subscription to YANG Notifications for Datastore
           Updates, on-change concept";
      }
      leaf minimum-dampening-period {
        if-feature "yp:on-change";
        type uint32;
        units "centiseconds";
        description
          "The minimum dampening period supported for 'on-change'
           subscriptions for the selected data nodes.

           If this value is present and greater than zero,
           that implies dampening is mandatory.";
        reference
          "RFC 8641: Subscription to YANG Notifications for
           Datastore Updates, the dampening-period leaf in the
           ietf-yang-push YANG module";
      }
      leaf-list supported-excluded-change-type {
        if-feature "yp:on-change";
        type union {
          type enumeration {
            enum none {
              value -2;
              description
                "None of the change types can be excluded.";
            }
            enum all {
              value -1;
              description
                "Any combination of change types can be excluded.";
            }
          }
          type yp:change-type;
        }
        description
          "The change types that can be excluded in
           YANG-Push subscriptions for the selected data nodes.";
        reference
          "RFC 8641: Subscription to YANG Notifications for Datastore
           Updates, the change-type typedef in the ietf-yang-push
           YANG module";
      }
    }
  }

  augment "/sysc:system-capabilities" {
    description
      "Add system level capabilities";
    uses subscription-capabilities {
      refine
        "subscription-capabilities/supported-excluded-change-type" {
        default "none";
      }
    }
  }

  augment "/sysc:system-capabilities/sysc:datastore-capabilities"
        + "/sysc:per-node-capabilities" {
    description
      "Add datastore and node-level capabilities";
    uses subscription-capabilities {
      refine
        "subscription-capabilities/supported-excluded-change-type" {
        default "none";
      }
    }
  }
}

<CODE ENDS>
```

[¶](#section-5.2-2){.pilcrow}
:::

\<CODE ENDS>[¶](#section-5.2-3){.pilcrow}
:::
:::
:::
:::

::: {#security}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

The YANG modules specified in this document define a schema for data
that is designed to be accessed via network management protocols such as
NETCONF \[[RFC6241](#RFC6241){.xref}\] or RESTCONF
\[[RFC8040](#RFC8040){.xref}\] or as YANG instance data. The lowest
NETCONF layer is the secure transport layer, and the
mandatory-to-implement secure transport is Secure Shell (SSH)
\[[RFC6242](#RFC6242){.xref}\]. The lowest RESTCONF layer is HTTPS, and
the mandatory-to-implement secure transport is TLS
\[[RFC8446](#RFC8446){.xref}\].[¶](#section-6-1){.pilcrow}

The Network Configuration Access Control Model (NACM)
\[[RFC8341](#RFC8341){.xref}\] provides the means to restrict access for
particular NETCONF or RESTCONF users to a preconfigured subset of all
available NETCONF or RESTCONF protocol operations and
content.[¶](#section-6-2){.pilcrow}

This document outlines a framework for conveying system capability
information that is inherently flexible and extensible. While the full
set of use cases is not known now, they may range as wide as conveying
the minimum update period for periodic subscription updates and what
protocols might be used for such notifications. Knowledge of this type
of value might, for example, allow an attacker to gain insight into how
long unauthorized configuration changes might be active prior to
detection and what communications channels might be disrupted to extend
the period of non-detection. Documents adding additional capabilities
via augmenting this module are encouraged to document the security
considerations of the new YANG nodes, according to the guidance in BCP
216 \[[RFC8407](#RFC8407){.xref}\].[¶](#section-6-3){.pilcrow}

All protocol-accessible data nodes in augmented modules are read-only
and cannot be modified. Access control may be configured to avoid
exposing any read-only data that is defined by the augmenting module
documentation as being security sensitive.[¶](#section-6-4){.pilcrow}

When that data is in file format, the data should be protected against
modification or unauthorized access using normal file-handling
mechanisms. The data in file format also inherits all the security
considerations of \[[RFC9195](#RFC9195){.xref}\], which includes
additional considerations about read protections and distinguishes
between data at rest and in motion.[¶](#section-6-5){.pilcrow}
:::
:::

::: {#iana}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

::: {#section-7.1 .section}
### [7.1.](#section-7.1){.section-number .selfRef} [The IETF XML Registry](#name-the-ietf-xml-registry){.section-name .selfRef} {#name-the-ietf-xml-registry}

This document registers the following URIs in the \"IETF XML Registry\"
\[[RFC3688](#RFC3688){.xref}\]:[¶](#section-7.1-1){.pilcrow}

[]{.break}

URI:
:   urn:ietf:params:xml:ns:yang:ietf-system-capabilities[¶](#section-7.1-2.2){.pilcrow}
:   

Registrant Contact:
:   The IESG.[¶](#section-7.1-2.4){.pilcrow}
:   

XML:
:   N/A, the requested URI is an XML
    namespace.[¶](#section-7.1-2.6){.pilcrow}
:   

[]{.break}

URI:
:   urn:ietf:params:xml:ns:yang:ietf-notification-capabilities[¶](#section-7.1-3.2){.pilcrow}
:   

Registrant Contact:
:   The IESG.[¶](#section-7.1-3.4){.pilcrow}
:   

XML:
:   N/A, the requested URI is an XML
    namespace.[¶](#section-7.1-3.6){.pilcrow}
:   
:::

::: {#section-7.2 .section}
### [7.2.](#section-7.2){.section-number .selfRef} [The YANG Module Names Registry](#name-the-yang-module-names-regis){.section-name .selfRef} {#name-the-yang-module-names-regis}

This document registers the following YANG modules in the \"YANG Module
Names\" registry
\[[RFC6020](#RFC6020){.xref}\]:[¶](#section-7.2-1){.pilcrow}

[]{.break}

name:
:   ietf-system-capabilities[¶](#section-7.2-2.2){.pilcrow}
:   

namespace:
:   urn:ietf:params:xml:ns:yang:ietf-system-capabilities[¶](#section-7.2-2.4){.pilcrow}
:   

prefix:
:   sysc[¶](#section-7.2-2.6){.pilcrow}
:   

reference:
:   RFC 9196[¶](#section-7.2-2.8){.pilcrow}
:   

[]{.break}

name:
:   ietf-notification-capabilities[¶](#section-7.2-3.2){.pilcrow}
:   

namespace:
:   urn:ietf:params:xml:ns:yang:ietf-notification-capabilities[¶](#section-7.2-3.4){.pilcrow}
:   

prefix:
:   notc[¶](#section-7.2-3.6){.pilcrow}
:   

reference:
:   RFC 9196[¶](#section-7.2-3.8){.pilcrow}
:   
:::
:::
:::

::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-8.1 .section}
### [8.1.](#section-8.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.
:   

\[RFC3688\]
:   [Mealling, M.]{.refAuthor}, [\"The IETF XML Registry\"]{.refTitle},
    [BCP 81]{.seriesInfo}, [RFC 3688]{.seriesInfo}, [DOI
    10.17487/RFC3688]{.seriesInfo}, January 2004,
    \<<https://www.rfc-editor.org/info/rfc3688>\>.
:   

\[RFC6020\]
:   [Bjorklund, M., Ed.]{.refAuthor}, [\"YANG - A Data Modeling Language
    for the Network Configuration Protocol (NETCONF)\"]{.refTitle}, [RFC
    6020]{.seriesInfo}, [DOI 10.17487/RFC6020]{.seriesInfo}, October
    2010, \<<https://www.rfc-editor.org/info/rfc6020>\>.
:   

\[RFC6241\]
:   [Enns, R., Ed.]{.refAuthor}, [Bjorklund, M., Ed.]{.refAuthor},
    [Schoenwaelder, J., Ed.]{.refAuthor}, and [A. Bierman,
    Ed.]{.refAuthor}, [\"Network Configuration Protocol
    (NETCONF)\"]{.refTitle}, [RFC 6241]{.seriesInfo}, [DOI
    10.17487/RFC6241]{.seriesInfo}, June 2011,
    \<<https://www.rfc-editor.org/info/rfc6241>\>.
:   

\[RFC6242\]
:   [Wasserman, M.]{.refAuthor}, [\"Using the NETCONF Protocol over
    Secure Shell (SSH)\"]{.refTitle}, [RFC 6242]{.seriesInfo}, [DOI
    10.17487/RFC6242]{.seriesInfo}, June 2011,
    \<<https://www.rfc-editor.org/info/rfc6242>\>.
:   

\[RFC8040\]
:   [Bierman, A.]{.refAuthor}, [Bjorklund, M.]{.refAuthor}, and [K.
    Watsen]{.refAuthor}, [\"RESTCONF Protocol\"]{.refTitle}, [RFC
    8040]{.seriesInfo}, [DOI 10.17487/RFC8040]{.seriesInfo}, January
    2017, \<<https://www.rfc-editor.org/info/rfc8040>\>.
:   

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.
:   

\[RFC8341\]
:   [Bierman, A.]{.refAuthor} and [M. Bjorklund]{.refAuthor}, [\"Network
    Configuration Access Control Model\"]{.refTitle}, [STD
    91]{.seriesInfo}, [RFC 8341]{.seriesInfo}, [DOI
    10.17487/RFC8341]{.seriesInfo}, March 2018,
    \<<https://www.rfc-editor.org/info/rfc8341>\>.
:   

\[RFC8342\]
:   [Bjorklund, M.]{.refAuthor}, [Schoenwaelder, J.]{.refAuthor},
    [Shafer, P.]{.refAuthor}, [Watsen, K.]{.refAuthor}, and [R.
    Wilton]{.refAuthor}, [\"Network Management Datastore Architecture
    (NMDA)\"]{.refTitle}, [RFC 8342]{.seriesInfo}, [DOI
    10.17487/RFC8342]{.seriesInfo}, March 2018,
    \<<https://www.rfc-editor.org/info/rfc8342>\>.
:   

\[RFC8446\]
:   [Rescorla, E.]{.refAuthor}, [\"The Transport Layer Security (TLS)
    Protocol Version 1.3\"]{.refTitle}, [RFC 8446]{.seriesInfo}, [DOI
    10.17487/RFC8446]{.seriesInfo}, August 2018,
    \<<https://www.rfc-editor.org/info/rfc8446>\>.
:   

\[RFC8525\]
:   [Bierman, A.]{.refAuthor}, [Bjorklund, M.]{.refAuthor},
    [Schoenwaelder, J.]{.refAuthor}, [Watsen, K.]{.refAuthor}, and [R.
    Wilton]{.refAuthor}, [\"YANG Library\"]{.refTitle}, [RFC
    8525]{.seriesInfo}, [DOI 10.17487/RFC8525]{.seriesInfo}, March 2019,
    \<<https://www.rfc-editor.org/info/rfc8525>\>.
:   

\[RFC8639\]
:   [Voit, E.]{.refAuthor}, [Clemm, A.]{.refAuthor}, [Gonzalez
    Prieto, A.]{.refAuthor}, [Nilsen-Nygaard, E.]{.refAuthor}, and [A.
    Tripathy]{.refAuthor}, [\"Subscription to YANG
    Notifications\"]{.refTitle}, [RFC 8639]{.seriesInfo}, [DOI
    10.17487/RFC8639]{.seriesInfo}, September 2019,
    \<<https://www.rfc-editor.org/info/rfc8639>\>.
:   

\[RFC8641\]
:   [Clemm, A.]{.refAuthor} and [E. Voit]{.refAuthor}, [\"Subscription
    to YANG Notifications for Datastore Updates\"]{.refTitle}, [RFC
    8641]{.seriesInfo}, [DOI 10.17487/RFC8641]{.seriesInfo}, September
    2019, \<<https://www.rfc-editor.org/info/rfc8641>\>.
:   

\[RFC9195\]
:   [Lengyel, B.]{.refAuthor} and [B. Claise]{.refAuthor}, [\"A File
    Format for YANG Instance Data\"]{.refTitle}, [RFC
    9195]{.seriesInfo}, [DOI 10.17487/RFC9195]{.seriesInfo}, February
    2022, \<<https://www.rfc-editor.org/info/rfc9195>\>.
:   
:::

::: {#section-8.2 .section}
### [8.2.](#section-8.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC8340\]
:   [Bjorklund, M.]{.refAuthor} and [L. Berger, Ed.]{.refAuthor},
    [\"YANG Tree Diagrams\"]{.refTitle}, [BCP 215]{.seriesInfo}, [RFC
    8340]{.seriesInfo}, [DOI 10.17487/RFC8340]{.seriesInfo}, March 2018,
    \<<https://www.rfc-editor.org/info/rfc8340>\>.
:   

\[RFC8407\]
:   [Bierman, A.]{.refAuthor}, [\"Guidelines for Authors and Reviewers
    of Documents Containing YANG Data Models\"]{.refTitle}, [BCP
    216]{.seriesInfo}, [RFC 8407]{.seriesInfo}, [DOI
    10.17487/RFC8407]{.seriesInfo}, October 2018,
    \<<https://www.rfc-editor.org/info/rfc8407>\>.
:   

\[RFC8792\]
:   [Watsen, K.]{.refAuthor}, [Auerswald, E.]{.refAuthor},
    [Farrel, A.]{.refAuthor}, and [Q. Wu]{.refAuthor}, [\"Handling Long
    Lines in Content of Internet-Drafts and RFCs\"]{.refTitle}, [RFC
    8792]{.seriesInfo}, [DOI 10.17487/RFC8792]{.seriesInfo}, June 2020,
    \<<https://www.rfc-editor.org/info/rfc8792>\>.
:   
:::
:::

::: {#appendix-A .section}
## [Appendix A.](#appendix-A){.section-number .selfRef} [Instance Data Example #1](#name-instance-data-example-1){.section-name .selfRef} {#name-instance-data-example-1}

The following examples use artwork folding
\[[RFC8792](#RFC8792){.xref}\] for better
formatting.[¶](#appendix-A-1){.pilcrow}

The following instance data example describes the notification
capabilities of a hypothetical \"acme-router\". The router implements
the running and operational datastores. Every change can be reported
\"on-change\" from the running datastore, but only \"config false\"
nodes and some \"config false\" data can be reported on-change from the
operational datastore. Interface statistics are not reported
\"on-change\"; only two important counters are. Datastore subscription
capabilities are not reported \"on-change\", as they never change on the
acme-router during runtime.[¶](#appendix-A-2){.pilcrow}

[]{#name-notification-capabilities-w}

::: {#acme-router-notification-capabilities}
::: {#appendix-A-3.1}
``` {.lang-xml .sourcecode}
========== NOTE: '\' line wrapping per RFC 8792) ===========

<?xml version="1.0" encoding="UTF-8"?>
<instance-data-set xmlns=\
    "urn:ietf:params:xml:ns:yang:ietf-yang-instance-data">
  <name>acme-router-notification-capabilities</name>
  <content-schema>
    <module>ietf-system-capabilities@2022-02-17</module>
    <module>ietf-notification-capabilities@2022-02-17</module>
  </content-schema>
  <description>Defines the notification capabilities of an
    acme-router. The router only has running and operational
    datastores. Every change can be reported on-change from the
    running datastore, but only "config false" nodes and some
    "config false" data can be reported on-change from the
    operational datastore. Statistics
    are not reported on-change except for two important counters,
    where a small dampening period is mandated.
  </description>
  <content-data>
    <system-capabilities \
     xmlns="urn:ietf:params:xml:ns:yang:ietf-system-capabilities" \
     xmlns:notc=\
       "urn:ietf:params:xml:ns:yang:ietf-notification-capabilities" \
     xmlns:ds="urn:ietf:params:xml:ns:yang:ietf-datastores">
     <notc:subscription-capabilities>
      <notc:minimum-update-period>500</notc:minimum-update-period>
      <notc:max-nodes-per-update>2000</notc:max-nodes-per-update>
      <notc:minimum-dampening-period>\
         100\
      </notc:minimum-dampening-period>
      <notc:periodic-notifications-supported>\
         config-changes state-changes\
      </notc:periodic-notifications-supported>
      <notc:on-change-supported>\
         config-changes state-changes\
      </notc:on-change-supported>
      <notc:supported-excluded-change-type>\
         all\
      </notc:supported-excluded-change-type>
     </notc:subscription-capabilities>
      <datastore-capabilities>
        <datastore>ds:operational</datastore>
        <per-node-capabilities>
          <node-selector>\
              /if:interfaces/if:interface[if:name='lo']\
          </node-selector>
          <notc:subscription-capabilities>
            <notc:on-change-supported/>
            <notc:periodic-notifications-supported/>
          </notc:subscription-capabilities>
        </per-node-capabilities>
        <per-node-capabilities>
          <node-selector>\
              /if:interfaces/if:interface/if:statistics/if:in-octets\
          </node-selector>
          <notc:subscription-capabilities>
            <notc:minimum-dampening-period>10
              </notc:minimum-dampening-period>
            <notc:on-change-supported>\
              state-changes\
            </notc:on-change-supported>
          </notc:subscription-capabilities>
        </per-node-capabilities>
        <per-node-capabilities>
          <node-selector>\
          /if:interfaces/if:interface/if:statistics/if:out-octets\
          </node-selector>
          <notc:subscription-capabilities>
            <notc:minimum-dampening-period>10
              </notc:minimum-dampening-period>
            <notc:on-change-supported>\
              state-changes\
            </notc:on-change-supported>
          </notc:subscription-capabilities>
        </per-node-capabilities>
        <per-node-capabilities>
          <node-selector>\
              /if:interfaces/if:interface/if:statistics\
          </node-selector>
          <notc:subscription-capabilities>
            <notc:on-change-supported/>
          </notc:subscription-capabilities>
        </per-node-capabilities>
      </datastore-capabilities>
    </system-capabilities>
  </content-data>
</instance-data-set>
```
:::

[Figure 1](#figure-1){.selfRef}: [Notification Capabilities with
Settings Specific to the Data
Node](#name-notification-capabilities-w){.selfRef}
:::
:::

::: {#appendix-B .section}
## [Appendix B.](#appendix-B){.section-number .selfRef} [Instance Data Example #2](#name-instance-data-example-2){.section-name .selfRef} {#name-instance-data-example-2}

The following examples use artwork folding
\[[RFC8792](#RFC8792){.xref}\] for better
formatting.[¶](#appendix-B-1){.pilcrow}

The following instance data example describes the notification
capabilities of a hypothetical \"acme-switch\". The switch implements
the running, candidate, and operational datastores. Every change can be
reported \"on-change\" from the running datastore, nothing can be
reported on-change from the candidate datastore, and all \"config
false\" data can be reported on-change from the operational datastore.
\"Periodic\" subscriptions are supported for running and operational but
not for candidate datastores.[¶](#appendix-B-2){.pilcrow}

[]{#name-notification-capabilities-wi}

::: {#acme-switch-notification-capabilities}
::: {#appendix-B-3.1}
``` {.lang-xml .sourcecode}
========== NOTE: '\' line wrapping per RFC 8792) ===========

<?xml version="1.0" encoding="UTF-8"?>
<instance-data-set xmlns=\
    "urn:ietf:params:xml:ns:yang:ietf-yang-instance-data">
  <name>acme-switch-notification-capabilities</name>
  <content-schema>
    <module>ietf-system-capabilities@2022-02-17</module>
    <module>ietf-notification-capabilities@2022-02-17</module>
  </content-schema>
  <description>Notification capabilities of acme-switch.
    Acme-switch implements the running, candidate, and operational
    datastores. Every change can be reported on-change from the
    running datastore, nothing from the candidate datastore and
    all "config false" data from the operational datastore. Periodic
    subscriptions are supported for running and operational, but not
    for candidate datastore.
  </description>
  <content-data>
    <system-capabilities \
     xmlns="urn:ietf:params:xml:ns:yang:ietf-system-capabilities" \
     xmlns:notc=\
       "urn:ietf:params:xml:ns:yang:ietf-notification-capabilities" \
     xmlns:ds="urn:ietf:params:xml:ns:yang:ietf-datastores">
     <notc:subscription-capabilities>
      <notc:minimum-update-period>500</notc:minimum-update-period>
      <notc:max-nodes-per-update>2000</notc:max-nodes-per-update>
      <notc:minimum-dampening-period>\
        100\
      </notc:minimum-dampening-period>
      <notc:periodic-notifications-supported>\
        config-changes state-changes\
      </notc:periodic-notifications-supported>
     </notc:subscription-capabilities>
     <datastore-capabilities>
       <datastore>ds:operational</datastore>
       <per-node-capabilities>
         <node-selector>/</node-selector>
         <notc:subscription-capabilities>
           <notc:on-change-supported>\
             state-changes\
           </notc:on-change-supported>
         </notc:subscription-capabilities>
       </per-node-capabilities>
     </datastore-capabilities>
     <datastore-capabilities>
       <datastore>ds:candidate</datastore>
       <per-node-capabilities>
         <node-selector>/</node-selector>
         <notc:subscription-capabilities>
           <notc:on-change-supported/>
           <notc:periodic-notifications-supported/>
         </notc:subscription-capabilities>
       </per-node-capabilities>
     </datastore-capabilities>
     <datastore-capabilities>
      <datastore>ds:running</datastore>
       <per-node-capabilities>
         <node-selector>/</node-selector>
         <notc:subscription-capabilities>
           <notc:on-change-supported>\
             config-changes\
           </notc:on-change-supported>
         </notc:subscription-capabilities>
       </per-node-capabilities>
     </datastore-capabilities>
    </system-capabilities>
  </content-data>
</instance-data-set>
```
:::

[Figure 2](#figure-2){.selfRef}: [Notification Capabilities with
Datastore-Level Settings](#name-notification-capabilities-wi){.selfRef}
:::
:::

::: {#appendix-C .section}
## [Acknowledgments](#name-acknowledgments){.section-name .selfRef} {#name-acknowledgments}

For their valuable comments, discussions, and feedback, we wish to
acknowledge [Andy Bierman]{.contact-name}, [Juergen
Schoenwaelder]{.contact-name}, [Rob Wilton]{.contact-name}, [Kent
Watsen]{.contact-name}, [Eric Voit]{.contact-name}, [Joe
Clarke]{.contact-name}, [Martin Bjorklund]{.contact-name}, [Ladislav
Lhotka]{.contact-name}, [Qin Wu]{.contact-name}, [Mahesh
Jethanandani]{.contact-name}, [Ran Tao]{.contact-name}, [Reshad
Rahman]{.contact-name}, and other members of the Netmod Working
Group.[¶](#appendix-C-1){.pilcrow}
:::

::: {#authors-addresses}
::: {#appendix-D .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Balazs Lengyel]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Ericsson]{.org}
:::

::: {.left dir="auto"}
[Budapest]{.locality}
:::

::: {.left dir="auto"}
[Magyar Tudosok korutja 11]{.street-address}
:::

::: {.left dir="auto"}
[1117]{.postal-code}
:::

::: {.left dir="auto"}
[Hungary]{.country-name}
:::

::: email
Email: <balazs.lengyel@ericsson.com>
:::

::: {.left dir="auto"}
[Alexander Clemm]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Futurewei]{.org}
:::

::: {.left dir="auto"}
[2330 Central Expressway]{.street-address}
:::

::: {.left dir="auto"}
[Santa Clara]{.locality}, [CA]{.region} [95050]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <ludwig@clemm.org>
:::

::: {.left dir="auto"}
[Benoit Claise]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei]{.org}
:::

::: {.left dir="auto"}
[George\'s Court Townsend Street]{.street-address}
:::

::: {.left dir="auto"}
[Dublin 2]{.locality}
:::

::: {.left dir="auto"}
[Ireland]{.country-name}
:::

::: email
Email: <benoit.claise@huawei.com>
:::
:::
:::
