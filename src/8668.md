  RFC 8668           Advertising L2 Bundle Attributes in IS-IS   December 2019
  ------------------ ------------------------------------------- ---------------
  Ginsberg, et al.   Standards Track                             \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8668](https://www.rfc-editor.org/rfc/rfc8668){.eref}

Category:
:   Standards Track

Published:
:   December 2019

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    L. Ginsberg, [Ed.]{.editor}
    :::

    ::: org
    Cisco Systems, Inc.
    :::
    :::

    ::: author
    ::: author-name
    A. Bashandy
    :::

    ::: org
    Unaffiliated
    :::
    :::

    ::: author
    ::: author-name
    C. Filsfils
    :::

    ::: org
    Cisco Systems, Inc.
    :::
    :::

    ::: author
    ::: author-name
    M. Nanduri
    :::

    ::: org
    Oracle
    :::
    :::

    ::: author
    ::: author-name
    E. Aries
    :::

    ::: org
    Arrcus Inc.
    :::
    :::
:::

# RFC 8668 {#rfcnum}

# Advertising Layer 2 Bundle Member Link Attributes in IS-IS {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

There are deployments where the Layer 3 interface on which IS-IS
operates is a Layer 2 interface bundle. Existing IS-IS advertisements
only support advertising link attributes of the Layer 3 interface. If
entities external to IS-IS wish to control traffic flows on the
individual physical links that comprise the Layer 2 interface bundle,
link attribute information about the bundle members is
required.[¶](#section-abstract-1){.pilcrow}

This document introduces the ability for IS-IS to advertise the link
attributes of Layer 2 (L2) Bundle
Members.[¶](#section-abstract-2){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8668>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2019 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [Requirements
    Language](#name-requirements-language){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [L2 Bundle Member Attributes
    TLV](#name-l2-bundle-member-attributes){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [Parallel L3
        Adjacencies](#name-parallel-l3-adjacencies){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [Shared Attribute
        Sub-TLVs](#name-shared-attribute-sub-tlvs){.xref}[¶](#section-toc.1-1.3.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [Advertising L2 Bundle Member
    Adj-SIDs](#name-advertising-l2-bundle-membe){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [L2 Bundle Member Adjacency Segment
        Identifier
        Sub-TLV](#name-l2-bundle-member-adjacency-){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [L2 Bundle Member LAN Adjacency SID
        Sub-TLV](#name-l2-bundle-member-lan-adjace){.xref}[¶](#section-toc.1-1.4.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [References](#name-references){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}

    -   ::: {#section-toc.1-1.7.2.1}
        [7.1](#section-7.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.7.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.7.2.2}
        [7.2](#section-7.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.7.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.8}
    [Appendix A](#section-appendix.a){.xref}.  [Example
    Encoding](#name-example-encoding){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.9}
    [](#section-appendix.b){.xref}[Acknowledgements](#name-acknowledgements){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.10}
    [](#section-appendix.c){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.11}
    [](#section-appendix.d){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}
    :::
:::
:::

::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

There are deployments where the Layer 3 interface on which an IS-IS
adjacency is established is a Layer 2 interface bundle, for instance, a
Link Aggregation Group (LAG) \[[IEEE802.1AX](#IEEE802.1AX){.xref}\].
This reduces the number of adjacencies that need to be maintained by the
routing protocol in cases where there are parallel links between the
neighbors. Entities external to IS-IS such as Path Computation Elements
(PCEs) \[[RFC4655](#RFC4655){.xref}\] may wish to control traffic flows
on individual members of the underlying Layer 2 bundle. In order to do
so, link attribute information about individual bundle members is
required. The protocol extensions defined in this document provide the
means to advertise this information.[¶](#section-1-1){.pilcrow}

This document introduces a new TLV to advertise link attribute
information for each of the L2 Bundle Members that comprise the Layer 3
interface on which IS-IS operates.[¶](#section-1-2){.pilcrow}

\[[RFC8667](#RFC8667){.xref}\] introduces a new link attribute,
adjacency segment identifier (Adj-SID), which can be used as an
instruction to forwarding to send traffic over a specific link. This
document introduces additional sub-TLVs to advertise Adj-SIDs for L2
Bundle Members.[¶](#section-1-3){.pilcrow}

Note that the new advertisements defined in this document are intended
to be provided to external (to IS-IS) entities. The following items are
intentionally not defined and/or are outside the scope of this
document:[¶](#section-1-4){.pilcrow}

-   [What link attributes will be advertised. This is determined by the
    needs of the external
    entities.[¶](#section-1-5.1){.pilcrow}]{#section-1-5.1}
-   [A minimum or default set of link
    attributes.[¶](#section-1-5.2){.pilcrow}]{#section-1-5.2}
-   [How these attributes are
    configured.[¶](#section-1-5.3){.pilcrow}]{#section-1-5.3}
-   [How the advertisements are
    used.[¶](#section-1-5.4){.pilcrow}]{#section-1-5.4}
-   [What impact the use of these advertisements may have on traffic
    flow in the network.[¶](#section-1-5.5){.pilcrow}]{#section-1-5.5}
-   [How the advertisements are passed to external
    entities.[¶](#section-1-5.6){.pilcrow}]{#section-1-5.6}
:::

::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [Requirements Language](#name-requirements-language){.section-name .selfRef} {#name-requirements-language}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-2-1){.pilcrow}
:::

::: {#BUNDLE}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [L2 Bundle Member Attributes TLV](#name-l2-bundle-member-attributes){.section-name .selfRef} {#name-l2-bundle-member-attributes}

A new TLV is introduced to advertise L2 Bundle Member attributes.
Although much of the information is identical to and uses the same
sub-TLVs included in Extended IS Neighbor advertisements (TLVs 22 and
222), a new TLV is used so that changes to the advertisement of the L2
Bundle Member link attributes do not trigger unnecessary action by the
\[[ISO10589](#ISO10589){.xref}\] Decision
Process.[¶](#section-3-1){.pilcrow}

Advertisement of this information implies that the identified link is a
member of the L2 Bundle associated with the identified Parent L3
Neighbor and that the member link is operationally up. Therefore,
advertisements [MUST]{.bcp14} be withdrawn if the link becomes
operationally down or it is no longer a member of the identified L2
Bundle.[¶](#section-3-2){.pilcrow}

This new TLV utilizes the sub-TLV space defined for TLVs 22, 23, 141,
222, and 223.[¶](#section-3-3){.pilcrow}

The following new TLV is introduced:[¶](#section-3-4){.pilcrow}

-   [L2 Bundle Member
    Attributes[¶](#section-3-5.1){.pilcrow}]{#section-3-5.1}
-   [Type: 25[¶](#section-3-5.2){.pilcrow}]{#section-3-5.2}
-   [Length: Number of octets to
    follow[¶](#section-3-5.3){.pilcrow}]{#section-3-5.3}

```{=html}
<!-- -->
```
-   [Parent L3 Neighbor
    Descriptor[¶](#section-3-6.1){.pilcrow}]{#section-3-6.1}

-   ::: {#section-3-6.2}
    -   [L3 Neighbor System ID + pseudonode ID (7
        octets)[¶](#section-3-6.2.1.1){.pilcrow}]{#section-3-6.2.1.1}

    ```{=html}
    <!-- -->
    ```
    -   ::: {#section-3-6.2.2.1}

        Flags:
        :   1-octet field of the following
            flags:[¶](#section-3-6.2.2.1.1.2){.pilcrow}
        :::

    ```{=html}
    <!-- -->
    ```
    -   ::: {#section-3-6.2.3.1}
        -   ::: {#section-3-6.2.3.1.1.1}
            ::: {#section-3-6.2.3.1.1.1.1 .artwork .art-text .alignLeft}
                 0 1 2 3 4 5 6 7
                +-+-+-+-+-+-+-+-+ 
                |P|             | 
                +-+-+-+-+-+-+-+-+

            [¶](#section-3-6.2.3.1.1.1.1){.pilcrow}
            :::
            :::

        ```{=html}
        <!-- -->
        ```
        -   [where:[¶](#section-3-6.2.3.1.2.1){.pilcrow}]{#section-3-6.2.3.1.2.1}

        ```{=html}
        <!-- -->
        ```
        -   ::: {#section-3-6.2.3.1.3.1}

            P-Flag:
            :   When set to 1, one of the sub-TLVs described in [Section
                3.1](#L3-adj){.xref} immediately follows the flags
                field. If the P-Flag is set to 0, then none of the
                sub-TLVs described in [Section 3.1](#L3-adj){.xref} are
                present.[¶](#section-3-6.2.3.1.3.1.1.2){.pilcrow}
            :::

        ```{=html}
        <!-- -->
        ```
        -   ::: {#section-3-6.2.3.1.4.1}

            Other bits:
            :   [MUST]{.bcp14} be zero when originated and ignored when
                received.[¶](#section-3-6.2.3.1.4.1.1.2){.pilcrow}
            :::
        :::
    :::

```{=html}
<!-- -->
```
-   [One or more L2 Bundle Attribute Descriptors (as defined
    below).[¶](#section-3-7.1){.pilcrow}]{#section-3-7.1}

```{=html}
<!-- -->
```
-   ::: {#section-3-8.1}
    -   [Length of L2 Bundle Attribute Descriptor (1
        octet)[¶](#section-3-8.1.1.1){.pilcrow}]{#section-3-8.1.1.1}

    -   ::: {#section-3-8.1.1.2}
        -   [NOTE: This includes all fields described
            below.[¶](#section-3-8.1.1.2.1.1){.pilcrow}]{#section-3-8.1.1.2.1.1}
        :::
    :::

-   ::: {#section-3-8.2}
    -   [Number of L2 Bundle Member Descriptors (1
        octet)[¶](#section-3-8.2.1.1){.pilcrow}]{#section-3-8.2.1.1}
    :::

-   ::: {#section-3-8.3}
    -   [L2 Bundle Member Link Local Identifiers\
        (4 \* Number of L2 Bundle Member Descriptors
        octets)[¶](#section-3-8.3.1.1){.pilcrow}]{#section-3-8.3.1.1}
    :::

-   ::: {#section-3-8.4}
    -   ::: {#section-3-8.4.1.1}
        -   [NOTE: An L2 Bundle Member Descriptor is a Link Local
            Identifier as defined in
            \[[RFC4202](#RFC4202){.xref}\].[¶](#section-3-8.4.1.1.1.1){.pilcrow}]{#section-3-8.4.1.1.1.1}
        :::
    :::

-   ::: {#section-3-8.5}
    -   [Sub-TLV(s)\
        A sub-TLV may define an attribute common to all of the bundle
        members listed, or it may define an attribute unique to each
        bundle member. Use of these two classes of sub-TLVs is described
        in the following
        sections.[¶](#section-3-8.5.1.1){.pilcrow}]{#section-3-8.5.1.1}
    :::

```{=html}
<!-- -->
```
-   ::: {#section-3-9.1}
    NOTE: Only one Parent L3 Neighbor Descriptor is present in a given
    TLV. Multiple L2 Bundle Attribute Descriptors may be present in a
    single TLV.[¶](#section-3-9.1.1){.pilcrow}
    :::

::: {#L3-adj}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [Parallel L3 Adjacencies](#name-parallel-l3-adjacencies){.section-name .selfRef} {#name-parallel-l3-adjacencies}

When there exist multiple L3 adjacencies to the same neighbor,
additional information is required to uniquely identify the L3 Neighbor.
One and only one of the following three sub-TLVs is used to uniquely
identify the L3 adjacency:[¶](#section-3.1-1){.pilcrow}

-   [IPv4 Interface Address (sub-TLV 6 defined in
    \[[RFC5305](#RFC5305){.xref}\])[¶](#section-3.1-2.1){.pilcrow}]{#section-3.1-2.1}
-   [IPv6 Interface Address (sub-TLV 12 defined in
    \[[RFC6119](#RFC6119){.xref}\])[¶](#section-3.1-2.2){.pilcrow}]{#section-3.1-2.2}
-   [Link Local/Remote Identifiers (sub-TLV 4 defined in
    \[[RFC5307](#RFC5307){.xref}\])[¶](#section-3.1-2.3){.pilcrow}]{#section-3.1-2.3}

When the P-Flag is set in the flags field in the Parent L3 Neighbor
Descriptor, one and only one of the above sub-TLVs [MUST]{.bcp14} be
present. The chosen sub-TLV [MUST]{.bcp14} immediately follow the flags
field described in [Section
3](#BUNDLE){.xref}.[¶](#section-3.1-3){.pilcrow}

These sub-TLVs [MAY]{.bcp14} be omitted if no parallel adjacencies to
the neighbor exist.[¶](#section-3.1-4){.pilcrow}
:::
:::

::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [Shared Attribute Sub-TLVs](#name-shared-attribute-sub-tlvs){.section-name .selfRef} {#name-shared-attribute-sub-tlvs}

These sub-TLVs advertise a single copy of an attribute (e.g., link
bandwidth). The attribute applies to all of the L2 Bundle Members in the
set advertised under the preceding L2 Bundle Member Attribute
Descriptor. No more than one copy of a given sub-TLV in this category
may appear in the set of sub-TLVs under the preceding L2 Bundle Member
Attribute Descriptor. If multiple copies of a given sub-TLV are present,
all copies [MUST]{.bcp14} be ignored.[¶](#section-3.2-1){.pilcrow}

The set of L2 Bundle Member Descriptors that may be advertised under a
single L2 Bundle Member Attribute Descriptor is therefore limited to
bundle members that share the set of attributes advertised in the shared
attribute sub-TLVs.[¶](#section-3.2-2){.pilcrow}

All existing sub-TLVs defined in the IANA registry for Sub-TLVs for TLVs
22, 23, 141, 222, and 223 are in the category of shared attribute
sub-TLVs unless otherwise specified in this
document.[¶](#section-3.2-3){.pilcrow}
:::
:::
:::

::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [Advertising L2 Bundle Member Adj-SIDs](#name-advertising-l2-bundle-membe){.section-name .selfRef} {#name-advertising-l2-bundle-membe}

\[[RFC8667](#RFC8667){.xref}\] defines sub-TLVs to advertise Adj-SIDs
for L3 adjacencies. However, these sub-TLVs only support the
advertisement of a single Adj-SID. As it is expected that each L2 Bundle
Member will have unique Adj-SIDs in many deployments, it is desirable to
define a new sub-TLV that allows more efficient encoding of a set of
Adj-SIDs in a single sub-TLV. Two new sub-TLVs are therefore introduced
to support advertising Adj-SIDs for L2 Bundle Members. The format of the
new sub-TLVs is similar to that used for L3 adjacencies, but it is
optimized to allow advertisement of a set of Adj-SIDs (one per L2 Bundle
Member) in a single sub-TLV.[¶](#section-4-1){.pilcrow}

The two new sub-TLVs defined in the following sections do not fall into
the category of shared attribute sub-TLVs.[¶](#section-4-2){.pilcrow}

::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [L2 Bundle Member Adjacency Segment Identifier Sub-TLV](#name-l2-bundle-member-adjacency-){.section-name .selfRef} {#name-l2-bundle-member-adjacency-}

This sub-TLV is used to advertise Adj-SIDs for L2 Bundle Members
associated with a parent L3 adjacency that is point-to-point. The
following format is defined for this
sub-TLV:[¶](#section-4.1-1){.pilcrow}

-   ::: {#section-4.1-2.1}

    Type:
    :   41 (1 octet)[¶](#section-4.1-2.1.1.2){.pilcrow}

    Length:
    :   variable (1 octet)[¶](#section-4.1-2.1.1.4){.pilcrow}

    Flags:
    :   1-octet field of the following
        flags:[¶](#section-4.1-2.1.1.6){.pilcrow}

    -   ::: {#section-4.1-2.1.2.1}
        ::: {#section-4.1-2.1.2.1.1 .artwork .art-text .alignLeft}
             0 1 2 3 4 5 6 7
            +-+-+-+-+-+-+-+-+ 
            |F|*|V|L|S|P|   | 
            +-+-+-+-+-+-+-+-+

        [¶](#section-4.1-2.1.2.1.1){.pilcrow}
        :::
        :::

    -   ::: {#section-4.1-2.1.2.2}
        where:[¶](#section-4.1-2.1.2.2.1){.pilcrow}

        F-Flag:
        :   Address-Family Flag. If unset, then the Adj-SID refers to an
            L2 Bundle Member with outgoing IPv4 encapsulation. If set,
            then the Adj-SID refers to an L2 Bundle Member with outgoing
            IPv6 encapsulation.[¶](#section-4.1-2.1.2.2.2.2){.pilcrow}

        V-Flag:
        :   Value Flag. If set, then the Adj-SID carries a value. By
            default, the flag is
            SET.[¶](#section-4.1-2.1.2.2.2.4){.pilcrow}

        L-Flag:
        :   Local Flag. If set, then the value/index carried by the
            Adj-SID has local significance. By default, the flag is
            SET.[¶](#section-4.1-2.1.2.2.2.6){.pilcrow}

        S-Flag:
        :   Set Flag. When set, the S-Flag indicates that the Adj-SID
            refers to a set of L2 Bundle Members (and therefore
            [MAY]{.bcp14} be assigned to other L2 Bundle Members as
            well).[¶](#section-4.1-2.1.2.2.2.8){.pilcrow}

        P-Flag:
        :   Persistent Flag. When set, the P-Flag indicates that the
            Adj-SID is persistently allocated, i.e., the Adj-SID value
            remains consistent across router restart and/or interface
            flap.[¶](#section-4.1-2.1.2.2.2.10){.pilcrow}

        Other bits:
        :   [MUST]{.bcp14} be zero when originated and ignored when
            received.[¶](#section-4.1-2.1.2.2.2.12){.pilcrow}
        :::

    -   ::: {#section-4.1-2.1.2.3}
        NOTE: The flags are deliberately kept congruent to the flags in
        the L3 ADJ-SID defined in \[[RFC8667](#RFC8667){.xref}\]. \*
        indicates a flag used in the L3 Adj-SID sub-TLV, but one that is
        NOT used in this sub-TLV. These bits [SHOULD]{.bcp14} be sent as
        0 and [MUST]{.bcp14} be ignored on
        receipt.[¶](#section-4.1-2.1.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-4.1-2.2}

    Weight:
    :   1 octet. The value represents the weight of the Adj-SID for the
        purpose of load balancing. The use of the weight is defined in
        \[[RFC8402](#RFC8402){.xref}\].[¶](#section-4.1-2.2.1.2){.pilcrow}
    :::

-   [NOTE: Flags and weight are shared by all L2 Bundle Members listed
    in the L2 Bundle Attribute
    Descriptor.[¶](#section-4.1-2.3){.pilcrow}]{#section-4.1-2.3}

-   ::: {#section-4.1-2.4}

    L2 Bundle Member Adj-SID Descriptors:
    :   There [MUST]{.bcp14} be one descriptor for each of the L2 Bundle
        Members advertised under the preceding L2 Bundle Member
        Attribute Descriptor. Each descriptor consists of one of the
        following fields:[¶](#section-4.1-2.4.1.2){.pilcrow}
    :::

-   ::: {#section-4.1-2.5}
    -   ::: {#section-4.1-2.5.1.1}

        SID/Index/Label:
        :   According to the V- and L-Flags, it contains
            either:[¶](#section-4.1-2.5.1.1.1.2){.pilcrow}
        :::

    -   ::: {#section-4.1-2.5.1.2}
        -   [A 3-octet local label where the 20 rightmost bits are used
            for encoding the label value. In this case, the V- and
            L-Flags [MUST]{.bcp14} be
            set.[¶](#section-4.1-2.5.1.2.1.1){.pilcrow}]{#section-4.1-2.5.1.2.1.1}
        -   [A 4-octet index defining the offset in the SID/Label space
            advertised by this router. See
            \[[RFC8667](#RFC8667){.xref}\]. In this case, V- and L-Flags
            [MUST]{.bcp14} be
            unset.[¶](#section-4.1-2.5.1.2.1.2){.pilcrow}]{#section-4.1-2.5.1.2.1.2}
        :::
    :::
:::

::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [L2 Bundle Member LAN Adjacency SID Sub-TLV](#name-l2-bundle-member-lan-adjace){.section-name .selfRef} {#name-l2-bundle-member-lan-adjace}

This sub-TLV is used to advertise Adj-SIDs for L2 Bundle Members
associated with a parent L3 adjacency that is a LAN adjacency. In LAN
subnetworks, the Designated Intermediate System (DIS) is elected and
originates the Pseudonode-LSP (PN-LSP) including all neighbors of the
DIS. When Segment Routing is used, each router in the LAN [MAY]{.bcp14}
advertise the Adj-SID of each of its neighbors on the LAN. Similarly,
for each L2 Bundle Member, a router [MAY]{.bcp14} advertise an Adj-SID
to each neighbor on the LAN.[¶](#section-4.2-1){.pilcrow}

The following format is defined for this
sub-TLV:[¶](#section-4.2-2){.pilcrow}

-   ::: {#section-4.2-3.1}

    Type:
    :   42 (1 octet)[¶](#section-4.2-3.1.1.2){.pilcrow}

    Length:
    :   variable (1 octet)[¶](#section-4.2-3.1.1.4){.pilcrow}

    Neighbor System ID:
    :   6 octets[¶](#section-4.2-3.1.1.6){.pilcrow}

    Flags:
    :   1-octet field of the following
        flags:[¶](#section-4.2-3.1.1.8){.pilcrow}

    -   ::: {#section-4.2-3.1.2.1}
        ::: {#section-4.2-3.1.2.1.1 .artwork .art-text .alignLeft}
             0 1 2 3 4 5 6 7
            +-+-+-+-+-+-+-+-+ 
            |F|*|V|L|S|P|   | 
            +-+-+-+-+-+-+-+-+

        [¶](#section-4.2-3.1.2.1.1){.pilcrow}
        :::
        :::

    -   ::: {#section-4.2-3.1.2.2}
        where:[¶](#section-4.2-3.1.2.2.1){.pilcrow}

        F-Flag:
        :   Address-Family Flag. If unset, then the Adj-SID refers to an
            L2 Bundle Member with outgoing IPv4 encapsulation. If set,
            then the Adj-SID refers to an L2 Bundle Member with outgoing
            IPv6 encapsulation.[¶](#section-4.2-3.1.2.2.2.2){.pilcrow}

        V-Flag:
        :   Value Flag. If set, then the Adj-SID carries a value. By
            default, the flag is
            SET.[¶](#section-4.2-3.1.2.2.2.4){.pilcrow}

        L-Flag:
        :   Local Flag. If set, then the value/index carried by the
            Adj-SID has local significance. By default, the flag is
            SET.[¶](#section-4.2-3.1.2.2.2.6){.pilcrow}

        S-Flag:
        :   Set Flag. When set, the S-Flag indicates that the Adj-SID
            refers to a set of L2 Bundle Members (and therefore
            [MAY]{.bcp14} be assigned to other L2 Bundle Members as
            well).[¶](#section-4.2-3.1.2.2.2.8){.pilcrow}

        P-Flag:
        :   Persistent Flag. When set, the P-Flag indicates that the
            Adj-SID is persistently allocated, i.e., the Adj-SID value
            remains consistent across router restart and/or interface
            flap.[¶](#section-4.2-3.1.2.2.2.10){.pilcrow}

        Other bits:
        :   [MUST]{.bcp14} be zero when originated and ignored when
            received.[¶](#section-4.2-3.1.2.2.2.12){.pilcrow}
        :::

    -   ::: {#section-4.2-3.1.2.3}
        NOTE: The flags are deliberately kept congruent to the flags in
        the L3 LAN Adjacency SID defined in
        \[[RFC8667](#RFC8667){.xref}\]. \* indicates a flag used in the
        L3 Adj-SID sub-TLV, but one that is NOT used in this sub-TLV.
        These bits [SHOULD]{.bcp14} be sent as 0 and [MUST]{.bcp14} be
        ignored on receipt.[¶](#section-4.2-3.1.2.3.1){.pilcrow}
        :::
    :::

-   ::: {#section-4.2-3.2}

    Weight:
    :   1 octet. The value represents the weight of the Adj-SID for the
        purpose of load balancing. The use of the weight is defined in
        \[[RFC8402](#RFC8402){.xref}\].[¶](#section-4.2-3.2.1.2){.pilcrow}
    :::

-   [NOTE: Flags and weight are shared by all L2 Bundle Members listed
    in the L2 Bundle Attribute
    Descriptor.[¶](#section-4.2-3.3){.pilcrow}]{#section-4.2-3.3}

-   ::: {#section-4.2-3.4}

    L2 Bundle Member LAN Adjacency SID Descriptors:
    :   There [MUST]{.bcp14} be one descriptor for each of the L2 Bundle
        Members advertised under the preceding L2 Bundle Member
        Attribute Descriptor. Each descriptor consists of one of the
        following fields:[¶](#section-4.2-3.4.1.2){.pilcrow}
    :::

-   ::: {#section-4.2-3.5}
    -   ::: {#section-4.2-3.5.1.1}

        SID/Index/Label:
        :   According to the V- and L-Flags, it contains
            either:[¶](#section-4.2-3.5.1.1.1.2){.pilcrow}
        :::

    -   ::: {#section-4.2-3.5.1.2}
        -   [A 3-octet local label where the 20 rightmost bits are used
            for encoding the label value. In this case, the V- and
            L-Flags [MUST]{.bcp14} be
            set.[¶](#section-4.2-3.5.1.2.1.1){.pilcrow}]{#section-4.2-3.5.1.2.1.1}
        -   [A 4-octet index defining the offset in the SID/Label space
            advertised by this router. See
            \[[RFC8667](#RFC8667){.xref}\]. In this case, V- and L-Flags
            [MUST]{.bcp14} be
            unset.[¶](#section-4.2-3.5.1.2.1.2){.pilcrow}]{#section-4.2-3.5.1.2.1.2}
        :::
    :::
:::
:::

::: {#IANA}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document adds the following new TLV to the IS-IS \"TLV Codepoints
Registry\".[¶](#section-5-1){.pilcrow}

Value:
:   25[¶](#section-5-2.2){.pilcrow}

Name:
:   L2 Bundle Member Attributes[¶](#section-5-2.4){.pilcrow}

The name of the IANA registry for Sub-TLVs for TLVs 22, 23, 141, 222,
and 223 has been changed to include sub-TLV 25. An additional column has
been added to the registry to indicate which sub-TLVs may appear in the
new L2 Bundle Member Attributes TLV. The column for TLV 25 has one of
the following three values:[¶](#section-5-3){.pilcrow}

y
:   sub-TLV may appear in TLV 25 but [MUST NOT]{.bcp14} be shared by
    multiple L2 Bundle Members[¶](#section-5-4.2){.pilcrow}

y(s)
:   sub-TLV may appear in TLV 25 and [MAY]{.bcp14} be shared by multiple
    L2 Bundle Members[¶](#section-5-4.4){.pilcrow}

n
:   sub-TLV [MUST NOT]{.bcp14} appear in TLV
    25[¶](#section-5-4.6){.pilcrow}

The following table indicates the appropriate settings for all currently
defined sub-TLVs with regard to their use in the new L2 Bundle Member
Attributes TLV.[¶](#section-5-5){.pilcrow}

::: {#table1}
  Value   Description                                         TLV 25
  ------- --------------------------------------------------- --------
  3       Administrative group (color)                        y(s)
  4       Link Local/Remote Identifiers                       y(s)
  6       IPv4 interface address                              y(s)
  8       IPv4 neighbor address                               y(s)
  9       Maximum link bandwidth                              y(s)
  10      Maximum reservable link bandwidth                   y(s)
  11      Unreserved bandwidth                                y(s)
  12      IPv6 Interface Address                              y(s)
  13      IPv6 Neighbor Address                               y(s)
  14      Extended Administrative Group                       y(s)
  18      TE Default metric                                   y(s)
  19      Link-attributes                                     y(s)
  20      Link Protection Type                                y(s)
  21      Interface Switching Capability Descriptor           y(s)
  22      Bandwidth Constraints                               y(s)
  23      Unconstrained TE LSP Count (sub-)TLV                y(s)
  24      remote AS number                                    n
  25      IPv4 remote ASBR Identifier                         n
  26      IPv6 remote ASBR Identifier                         n
  27      Interface Adjustment Capability Descriptor (IACD)   y(s)
  28      MTU                                                 n
  29      SPB-Metric                                          y(s)
  30      SPB-A-OALG                                          y(s)
  33      Unidirectional Link Delay                           y
  34      Min/Max Unidirectional Link Delay                   y
  35      Unidirectional Delay Variation                      y
  36      Unidirectional Link Loss                            y
  37      Unidirectional Residual Bandwidth                   y
  38      Unidirectional Available Bandwidth                  y
  39      Unidirectional Utilized Bandwidth                   y
  40      RTM Capability                                      n

  : [Table 1](#table-1){.selfRef}
:::

This document adds the following new sub-TLVs to the above
registry.[¶](#section-5-7){.pilcrow}

::: {#iana-table}
  Type   Description                    22   23   25   141   222   223
  ------ ------------------------------ ---- ---- ---- ----- ----- -----
  41     L2 Bundle Member Adj-SID       n    n    y    n     n     n
  42     L2 Bundle Member LAN Adj-SID   n    n    y    n     n     n

  : [Table 2](#table-2){.selfRef}
:::
:::
:::

::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

The IS-IS protocol has supported the advertisement of link attribute
information, including link identifiers, for many years. The
advertisements defined in this document are identical to existing
advertisements defined in \[[RFC4202](#RFC4202){.xref}\],
\[[RFC5305](#RFC5305){.xref}\], \[[RFC8570](#RFC8570){.xref}\], and
\[[RFC8667](#RFC8667){.xref}\], but are associated with L2 links that
are part of a bundle interface on which the IS-IS protocol operates.
There are therefore no new security issues introduced by the extensions
in this document.[¶](#section-6-1){.pilcrow}

As always, if the protocol is used in an environment where unauthorized
access to the physical links on which IS-IS Protocol Data Units (PDUs)
are sent occurs, then attacks are possible. The use of authentication as
defined in \[[RFC5304](#RFC5304){.xref}\] and
\[[RFC5310](#RFC5310){.xref}\] is recommended to prevent such
attacks.[¶](#section-6-2){.pilcrow}
:::

::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-7.1 .section}
### [7.1.](#section-7.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[IEEE802.1AX\]
:   [IEEE]{.refAuthor}, [\"IEEE Standard for Local and metropolitan area
    networks \-- Link Aggregation\"]{.refTitle}, [IEEE
    802.1AX]{.seriesInfo},
    \<<https://ieeexplore.ieee.org/document/7055197>\>.

\[ISO10589\]
:   [ISO]{.refAuthor}, [\"Information technology \-- Telecommunications
    and information exchange between systems \-- Intermediate System to
    Intermediate System intra-domain routeing information exchange
    protocol for use in conjunction with the protocol for providing the
    connectionless-mode network service (ISO 8473)\"]{.refTitle},
    [ISO/IEC 10589:2002, Second Edition]{.seriesInfo}, November 2002.

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.

\[RFC4202\]
:   [Kompella, K., Ed.]{.refAuthor}[ and Y. Rekhter, Ed.]{.refAuthor},
    [\"Routing Extensions in Support of Generalized Multi-Protocol Label
    Switching (GMPLS)\"]{.refTitle}, [RFC 4202]{.seriesInfo}, [DOI
    10.17487/RFC4202]{.seriesInfo}, October 2005,
    \<<https://www.rfc-editor.org/info/rfc4202>\>.

\[RFC5304\]
:   [Li, T.]{.refAuthor}[ and R. Atkinson]{.refAuthor}, [\"IS-IS
    Cryptographic Authentication\"]{.refTitle}, [RFC 5304]{.seriesInfo},
    [DOI 10.17487/RFC5304]{.seriesInfo}, October 2008,
    \<<https://www.rfc-editor.org/info/rfc5304>\>.

\[RFC5305\]
:   [Li, T.]{.refAuthor}[ and H. Smit]{.refAuthor}, [\"IS-IS Extensions
    for Traffic Engineering\"]{.refTitle}, [RFC 5305]{.seriesInfo}, [DOI
    10.17487/RFC5305]{.seriesInfo}, October 2008,
    \<<https://www.rfc-editor.org/info/rfc5305>\>.

\[RFC5307\]
:   [Kompella, K., Ed.]{.refAuthor}[ and Y. Rekhter, Ed.]{.refAuthor},
    [\"IS-IS Extensions in Support of Generalized Multi-Protocol Label
    Switching (GMPLS)\"]{.refTitle}, [RFC 5307]{.seriesInfo}, [DOI
    10.17487/RFC5307]{.seriesInfo}, October 2008,
    \<<https://www.rfc-editor.org/info/rfc5307>\>.

\[RFC5310\]
:   [Bhatia, M.]{.refAuthor}[, Manral, V.]{.refAuthor}[,
    Li, T.]{.refAuthor}[, Atkinson, R.]{.refAuthor}[,
    White, R.]{.refAuthor}[, and M. Fanto]{.refAuthor}, [\"IS-IS Generic
    Cryptographic Authentication\"]{.refTitle}, [RFC 5310]{.seriesInfo},
    [DOI 10.17487/RFC5310]{.seriesInfo}, February 2009,
    \<<https://www.rfc-editor.org/info/rfc5310>\>.

\[RFC6119\]
:   [Harrison, J.]{.refAuthor}[, Berger, J.]{.refAuthor}[, and M.
    Bartlett]{.refAuthor}, [\"IPv6 Traffic Engineering in
    IS-IS\"]{.refTitle}, [RFC 6119]{.seriesInfo}, [DOI
    10.17487/RFC6119]{.seriesInfo}, February 2011,
    \<<https://www.rfc-editor.org/info/rfc6119>\>.

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.

\[RFC8570\]
:   [Ginsberg, L., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Giacalone, S.]{.refAuthor}[, Ward, D.]{.refAuthor}[,
    Drake, J.]{.refAuthor}[, and Q. Wu]{.refAuthor}, [\"IS-IS Traffic
    Engineering (TE) Metric Extensions\"]{.refTitle}, [RFC
    8570]{.seriesInfo}, [DOI 10.17487/RFC8570]{.seriesInfo}, March 2019,
    \<<https://www.rfc-editor.org/info/rfc8570>\>.

\[RFC8667\]
:   [Previdi, S., Ed.]{.refAuthor}[, Ginsburg, L., Ed.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Bashandy, A.]{.refAuthor}[,
    Gredler, H.]{.refAuthor}[, and B. Decraene]{.refAuthor}, [\"IS-IS
    Extensions for Segment Routing\"]{.refTitle}, [RFC
    8667]{.seriesInfo}, [DOI 10.17487/RFC8667]{.seriesInfo}, December
    2019, \<<https://www.rfc-editor.org/info/rfc8667>\>.
:::

::: {#section-7.2 .section}
### [7.2.](#section-7.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC4655\]
:   [Farrel, A.]{.refAuthor}[, Vasseur, JP.]{.refAuthor}[, and J.
    Ash]{.refAuthor}, [\"A Path Computation Element (PCE)-Based
    Architecture\"]{.refTitle}, [RFC 4655]{.seriesInfo}, [DOI
    10.17487/RFC4655]{.seriesInfo}, August 2006,
    \<<https://www.rfc-editor.org/info/rfc4655>\>.

\[RFC8402\]
:   [Filsfils, C., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Ginsberg, L.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing Architecture\"]{.refTitle}, [RFC 8402]{.seriesInfo}, [DOI
    10.17487/RFC8402]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8402>\>.
:::
:::

::: {#section-appendix.a .section}
## [Appendix A.](#section-appendix.a){.section-number .selfRef} [Example Encoding](#name-example-encoding){.section-name .selfRef} {#name-example-encoding}

Below is an example encoding of L2 Bundle advertisements in a case where
we have two parallel adjacencies to the same neighbor whose system-id is
1234.1234.1234.00. The two L2 bundles have the following sets of
attributes:[¶](#section-appendix.a-1){.pilcrow}

L3 Adjacency #1[¶](#section-appendix.a-2){.pilcrow}

L3 IPv4 local link address:
192.0.2.1[¶](#section-appendix.a-3){.pilcrow}

Four bundle members with the following
attributes:[¶](#section-appendix.a-4){.pilcrow}

::: {#Adj1}
  Num   Link Local ID   Bandwidth   Adj-SID/Weight
  ----- --------------- ----------- ----------------
  1     0x11111111      1G          0x11111/1
  2     0x11112222      1G          0x11112/1
  3     0x11113333      10G         0x11113/1
  4     0x11114444      10G         0x11114/1

  : [Table 3](#table-3){.selfRef}
:::

L3 Adjacency #2[¶](#section-appendix.a-6){.pilcrow}

L3 IPv4 local link address:
192.0.2.2[¶](#section-appendix.a-7){.pilcrow}

Three bundle members with the following
attributes:[¶](#section-appendix.a-8){.pilcrow}

::: {#adj2}
  Num   Link Local ID   Bandwidth   Adj-SID/Weight
  ----- --------------- ----------- ----------------
  1     0x22221111      10G         22221/1
  2     0x22222222      10G         22222/1
  3     0x22223333      10G         22223/1

  : [Table 4](#table-4){.selfRef}
:::

This requires two TLVs, one for each L3
adjacency.[¶](#section-appendix.a-10){.pilcrow}

TLV for Adjacency #1:[¶](#section-appendix.a-11){.pilcrow}

::: {#section-appendix.a-12 .artwork .art-text .alignLeft}
     0                   1
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(25)     | Length(64)    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-12){.pilcrow}
:::

Parent L3 Neighbor Descriptor[¶](#section-appendix.a-13){.pilcrow}

::: {#section-appendix.a-14 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | Neighbor System-ID octets 1-4: 1234.1234                      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | System-ID octets 5-6: 1234    | P-node: 00    |1|0|0|0|0|0|0|0|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-14){.pilcrow}
:::

IPv4 Interface Address Sub-TLV[¶](#section-appendix.a-15){.pilcrow}

::: {#section-appendix.a-16 .artwork .art-text .alignLeft}
     0                   1
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(6)      | Length(4)     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | IPv4 address: 192.0.2.1                                       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-16){.pilcrow}
:::

L2 Bundle Attribute Descriptors[¶](#section-appendix.a-17){.pilcrow}

::: {#section-appendix.a-18 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Len:9+6+10 = 25| # Desc: 2     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | Link Local Identifier Bundle Member #1: 0x11111111            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Link Local Identifier Bundle Member #2: 0x11112222            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-18){.pilcrow}
:::

Maximum Link Bandwidth Sub-TLV[¶](#section-appendix.a-19){.pilcrow}

::: {#section-appendix.a-20 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(9)       | Length(4)    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | Bandwidth Value: 1G/8                                         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-20){.pilcrow}
:::

L2 Bundle Member Adj-SID Sub-TLV[¶](#section-appendix.a-21){.pilcrow}

::: {#section-appendix.a-22 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(41)     | Length(8)     |0|0|1|1|0|0|0|0| Weight: 1     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Local Label Bundle Member #1: 0x11111         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Local Label Bundle Member #2: 0x11112         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-22){.pilcrow}
:::

L2 Bundle Attribute Descriptors[¶](#section-appendix.a-23){.pilcrow}

::: {#section-appendix.a-24 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Len:9+6+10 = 25| # Desc: 2     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | Link Local Identifier Bundle Member #3: 0x11113333            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Link Local Identifier Bundle Member #4: 0x11114444            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-24){.pilcrow}
:::

Maximum Link Bandwidth Sub-TLV[¶](#section-appendix.a-25){.pilcrow}

::: {#section-appendix.a-26 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(9)       | Length(4)    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | Bandwidth Value: 10G/8                                        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-26){.pilcrow}
:::

L2 Bundle Member Adj-SID Sub-TLV[¶](#section-appendix.a-27){.pilcrow}

::: {#section-appendix.a-28 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(41)     | Length(8)     |0|0|1|1|0|0|0|0| Weight: 1     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Local Label Bundle Member #3: 0x11113         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Local Label Bundle Member #4: 0x11114         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-28){.pilcrow}
:::

TLV for Adjacency #2:[¶](#section-appendix.a-29){.pilcrow}

::: {#section-appendix.a-30 .artwork .art-text .alignLeft}
     0                   1
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(25)     | Length(46)    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-30){.pilcrow}
:::

Parent L3 Neighbor Descriptor[¶](#section-appendix.a-31){.pilcrow}

::: {#section-appendix.a-32 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | Neighbor System-ID octets 1-4: 1234.1234                      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | System-ID octets 5-6: 1234    | P-node: 00    |1|0|0|0|0|0|0|0|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-32){.pilcrow}
:::

IPv4 Interface Address Sub-TLV[¶](#section-appendix.a-33){.pilcrow}

::: {#section-appendix.a-34 .artwork .art-text .alignLeft}
     0                   1
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(6)      | Length(4)     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | IPv4 address: 192.0.2.2                                       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-34){.pilcrow}
:::

L2 Bundle Attribute Descriptors[¶](#section-appendix.a-35){.pilcrow}

::: {#section-appendix.a-36 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Len:13+6+13=32 | # Desc: 3     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | Link Local Identifier Bundle Member #1: 0x22221111            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Link Local Identifier Bundle Member #2: 0x22222222            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Link Local Identifier Bundle Member #3: 0x22223333            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-36){.pilcrow}
:::

Maximum Link Bandwidth Sub-TLV[¶](#section-appendix.a-37){.pilcrow}

::: {#section-appendix.a-38 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(9)       | Length(4)    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
    | Bandwidth Value: 10G/8                                        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-38){.pilcrow}
:::

L2 Bundle Member Adj-SID Sub-TLV[¶](#section-appendix.a-39){.pilcrow}

::: {#section-appendix.a-40 .artwork .art-text .alignLeft}
     0                   1                   2                   3 
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Type(41)     | Length(11)    |0|0|1|1|0|0|0|0| Weight: 1     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Local Label Bundle Member #1: 0x22221         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Local Label Bundle Member #2: 0x22222         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    | Local Label Bundle Member #3: 0x22223         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

[¶](#section-appendix.a-40){.pilcrow}
:::
:::

::: {#section-appendix.b .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The authors would like to thank Jon Mitchell for his careful
review.[¶](#section-appendix.b-1){.pilcrow}
:::

::: {#section-appendix.c .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

The following people gave a substantial contribution to the content of
this document and should be considered
coauthors:[¶](#section-appendix.c-1){.pilcrow}

::: {#section-appendix.c-2 .artwork .art-text .alignLeft}
    Stefano Previdi
    Huawei Technologies
    Italy

    Email: stefano@previdi.net

[¶](#section-appendix.c-2){.pilcrow}
:::
:::

::: {#authors-addresses}
::: {#section-appendix.d .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Les Ginsberg ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: email
Email: <ginsberg@cisco.com>
:::

::: {.left dir="auto"}
[Ahmed Bashandy]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Unaffiliated]{.org}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <abashandy.ietf@gmail.com>
:::

::: {.left dir="auto"}
[Clarence Filsfils]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: email
Email: <cf@cisco.com>
:::

::: {.left dir="auto"}
[Mohan Nanduri]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Oracle]{.org}
:::

::: email
Email: <mohan.nanduri@oracle.com>
:::

::: {.left dir="auto"}
[Ebben Aries]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Arrcus Inc.]{.org}
:::

::: {.left dir="auto"}
[2077 Gateway Place, Suite #400]{.street-address}
:::

::: {.left dir="auto"}
[San Jose]{.locality}, [CA]{.region} [95119]{.postal-code}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <exa@arrcus.com>
:::
:::
:::
