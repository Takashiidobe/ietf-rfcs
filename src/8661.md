  RFC 8661           Segment Routing and LDP   December 2019
  ------------------ ------------------------- ---------------
  Bashandy, et al.   Standards Track           \[Page\]

::: {#external-metadata .document-information}
:::

::: {#internal-metadata .document-information}

Stream:
:   Internet Engineering Task Force (IETF)

RFC:
:   [8661](https://www.rfc-editor.org/rfc/rfc8661){.eref}

Category:
:   Standards Track

Published:
:   December 2019

ISSN:
:   2070-1721

Authors:

:   ::: author
    ::: author-name
    A. Bashandy, [Ed.]{.editor}
    :::

    ::: org
    Individual
    :::
    :::

    ::: author
    ::: author-name
    C. Filsfils, [Ed.]{.editor}
    :::

    ::: org
    Cisco Systems, Inc.
    :::
    :::

    ::: author
    ::: author-name
    S. Previdi
    :::

    ::: org
    Huawei Technologies
    :::
    :::

    ::: author
    ::: author-name
    B. Decraene
    :::

    ::: org
    Orange
    :::
    :::

    ::: author
    ::: author-name
    S. Litkowski
    :::

    ::: org
    Orange
    :::
    :::
:::

# RFC 8661 {#rfcnum}

# Segment Routing MPLS Interworking with LDP {#title}

::: {#section-abstract .section}
## [Abstract](#abstract){.selfRef}

A Segment Routing (SR) node steers a packet through a controlled set of
instructions, called segments, by prepending the packet with an SR
header. A segment can represent any instruction, topological or service
based. SR allows enforcing a flow through any topological path while
maintaining per-flow state only at the ingress node to the SR
domain.[¶](#section-abstract-1){.pilcrow}

The Segment Routing architecture can be directly applied to the MPLS
data plane with no change in the forwarding plane. This document
describes how Segment Routing MPLS operates in a network where LDP is
deployed and in the case where SR-capable and non-SR-capable nodes
coexist.[¶](#section-abstract-2){.pilcrow}
:::

::: {#status-of-memo}
::: {#section-boilerplate.1 .section}
## [Status of This Memo](#name-status-of-this-memo){.section-name .selfRef} {#name-status-of-this-memo}

This is an Internet Standards Track
document.[¶](#section-boilerplate.1-1){.pilcrow}

This document is a product of the Internet Engineering Task Force
(IETF). It represents the consensus of the IETF community. It has
received public review and has been approved for publication by the
Internet Engineering Steering Group (IESG). Further information on
Internet Standards is available in Section 2 of RFC
7841.[¶](#section-boilerplate.1-2){.pilcrow}

Information about the current status of this document, any errata, and
how to provide feedback on it may be obtained at
<https://www.rfc-editor.org/info/rfc8661>.[¶](#section-boilerplate.1-3){.pilcrow}
:::
:::

::: {#copyright}
::: {#section-boilerplate.2 .section}
## [Copyright Notice](#name-copyright-notice){.section-name .selfRef} {#name-copyright-notice}

Copyright (c) 2019 IETF Trust and the persons identified as the document
authors. All rights reserved.[¶](#section-boilerplate.2-1){.pilcrow}

This document is subject to BCP 78 and the IETF Trust\'s Legal
Provisions Relating to IETF Documents
(<https://trustee.ietf.org/license-info>) in effect on the date of
publication of this document. Please review these documents carefully,
as they describe your rights and restrictions with respect to this
document. Code Components extracted from this document must include
Simplified BSD License text as described in Section 4.e of the Trust
Legal Provisions and are provided without warranty as described in the
Simplified BSD License.[¶](#section-boilerplate.2-2){.pilcrow}
:::
:::

::: {#toc}
::: {#section-toc.1 .section}
[▲](#){.toplink}

## [Table of Contents](#name-table-of-contents){.section-name .selfRef} {#name-table-of-contents}

-   ::: {#section-toc.1-1.1}
    [1](#section-1){.xref}.  [Introduction](#name-introduction){.xref}[¶](#section-toc.1-1.1.1){.pilcrow}

    -   ::: {#section-toc.1-1.1.2.1}
        [1.1](#section-1.1){.xref}.  [Requirements
        Language](#name-requirements-language){.xref}[¶](#section-toc.1-1.1.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.2}
    [2](#section-2){.xref}.  [SR-LDP Ships-in-the-Night
    Coexistence](#name-sr-ldp-ships-in-the-night-c){.xref}[¶](#section-toc.1-1.2.1){.pilcrow}

    -   ::: {#section-toc.1-1.2.2.1}
        [2.1](#section-2.1){.xref}.  [MPLS2MPLS, MPLS2IP, and IP2MPLS
        Coexistence](#name-mpls2mpls-mpls2ip-and-ip2mp){.xref}[¶](#section-toc.1-1.2.2.1.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.3}
    [3](#section-3){.xref}.  [SR and LDP
    Interworking](#name-sr-and-ldp-interworking){.xref}[¶](#section-toc.1-1.3.1){.pilcrow}

    -   ::: {#section-toc.1-1.3.2.1}
        [3.1](#section-3.1){.xref}.  [LDP to
        SR](#name-ldp-to-sr){.xref}[¶](#section-toc.1-1.3.2.1.1){.pilcrow}

        -   ::: {#section-toc.1-1.3.2.1.2.1}
            [3.1.1](#section-3.1.1){.xref}.  [LDP to SR
            Behavior](#name-ldp-to-sr-behavior){.xref}[¶](#section-toc.1-1.3.2.1.2.1.1){.pilcrow}
            :::
        :::

    -   ::: {#section-toc.1-1.3.2.2}
        [3.2](#section-3.2){.xref}.  [SR to
        LDP](#name-sr-to-ldp){.xref}[¶](#section-toc.1-1.3.2.2.1){.pilcrow}

        -   ::: {#section-toc.1-1.3.2.2.2.1}
            [3.2.1](#section-3.2.1){.xref}.  [Segment Routing Mapping
            Server
            (SRMS)](#name-segment-routing-mapping-ser){.xref}[¶](#section-toc.1-1.3.2.2.2.1.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.3.2.2.2.2}
            [3.2.2](#section-3.2.2){.xref}.  [SR to LDP
            Behavior](#name-sr-to-ldp-behavior){.xref}[¶](#section-toc.1-1.3.2.2.2.2.1){.pilcrow}
            :::

        -   ::: {#section-toc.1-1.3.2.2.2.3}
            [3.2.3](#section-3.2.3){.xref}.  [Interoperability of
            Multiple SRMSes and Prefix-SID
            Advertisements](#name-interoperability-of-multipl){.xref}[¶](#section-toc.1-1.3.2.2.2.3.1){.pilcrow}
            :::
        :::
    :::

-   ::: {#section-toc.1-1.4}
    [4](#section-4){.xref}.  [SR-LDP Interworking Use
    Cases](#name-sr-ldp-interworking-use-cas){.xref}[¶](#section-toc.1-1.4.1){.pilcrow}

    -   ::: {#section-toc.1-1.4.2.1}
        [4.1](#section-4.1){.xref}.  [SR Protection of LDP-Based
        Traffic](#name-sr-protection-of-ldp-based-){.xref}[¶](#section-toc.1-1.4.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.2}
        [4.2](#section-4.2){.xref}.  [Eliminating Targeted LDP
        Sessions](#name-eliminating-targeted-ldp-se){.xref}[¶](#section-toc.1-1.4.2.2.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.3}
        [4.3](#section-4.3){.xref}.  [Guaranteed FRR
        Coverage](#name-guaranteed-frr-coverage){.xref}[¶](#section-toc.1-1.4.2.3.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.4.2.4}
        [4.4](#section-4.4){.xref}.  [Inter-AS Option C, Carrier\'s
        Carrier](#name-inter-as-option-c-carriers-){.xref}[¶](#section-toc.1-1.4.2.4.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.5}
    [5](#section-5){.xref}.  [IANA
    Considerations](#name-iana-considerations){.xref}[¶](#section-toc.1-1.5.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.6}
    [6](#section-6){.xref}.  [Manageability
    Considerations](#name-manageability-consideration){.xref}[¶](#section-toc.1-1.6.1){.pilcrow}

    -   ::: {#section-toc.1-1.6.2.1}
        [6.1](#section-6.1){.xref}.  [SR and LDP
        Coexistence](#name-sr-and-ldp-coexistence){.xref}[¶](#section-toc.1-1.6.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.6.2.2}
        [6.2](#section-6.2){.xref}.  [Data-Plane
        Verification](#name-data-plane-verification){.xref}[¶](#section-toc.1-1.6.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.7}
    [7](#section-7){.xref}.  [Security
    Considerations](#name-security-considerations){.xref}[¶](#section-toc.1-1.7.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.8}
    [8](#section-8){.xref}.  [References](#name-references){.xref}[¶](#section-toc.1-1.8.1){.pilcrow}

    -   ::: {#section-toc.1-1.8.2.1}
        [8.1](#section-8.1){.xref}.  [Normative
        References](#name-normative-references){.xref}[¶](#section-toc.1-1.8.2.1.1){.pilcrow}
        :::

    -   ::: {#section-toc.1-1.8.2.2}
        [8.2](#section-8.2){.xref}.  [Informative
        References](#name-informative-references){.xref}[¶](#section-toc.1-1.8.2.2.1){.pilcrow}
        :::
    :::

-   ::: {#section-toc.1-1.9}
    [Appendix A](#section-appendix.a){.xref}.  [Migration from LDP to
    SR](#name-migration-from-ldp-to-sr){.xref}[¶](#section-toc.1-1.9.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.10}
    [](#section-appendix.b){.xref}[Acknowledgements](#name-acknowledgements){.xref}[¶](#section-toc.1-1.10.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.11}
    [](#section-appendix.c){.xref}[Contributors](#name-contributors){.xref}[¶](#section-toc.1-1.11.1){.pilcrow}
    :::

-   ::: {#section-toc.1-1.12}
    [](#section-appendix.d){.xref}[Authors\'
    Addresses](#name-authors-addresses){.xref}[¶](#section-toc.1-1.12.1){.pilcrow}
    :::
:::
:::

::: {#sec-1}
::: {#section-1 .section}
## [1.](#section-1){.section-number .selfRef} [Introduction](#name-introduction){.section-name .selfRef} {#name-introduction}

Segment Routing, as described in \[[RFC8402](#RFC8402){.xref}\], can be
used on top of the MPLS data plane without any modification as described
in \[[RFC8660](#RFC8660){.xref}\].[¶](#section-1-1){.pilcrow}

Segment Routing control plane can coexist with current label
distribution protocols such as LDP
\[[RFC5036](#RFC5036){.xref}\].[¶](#section-1-2){.pilcrow}

This document outlines the mechanisms through which SR interworks with
LDP in cases where a mix of SR-capable and non-SR-capable routers
coexist within the same network and more precisely in the same routing
domain.[¶](#section-1-3){.pilcrow}

[Section 2](#sec-2){.xref} describes the coexistence of SR with other
MPLS control-plane protocols. [Section 3](#sec-4){.xref} documents the
interworking between SR and LDP in the case of nonhomogeneous
deployment. [Section 4](#sec-5){.xref} describes how a partial SR
deployment can be used to provide SR benefits to LDP-based traffic
including a possible application of SR in the context of interdomain
MPLS use cases. [Appendix A](#Appendix-A){.xref} documents a method to
migrate from LDP to SR-based MPLS tunneling.[¶](#section-1-4){.pilcrow}

Typically, an implementation will allow an operator to select (through
configuration) which of the described modes of SR and LDP coexistence to
use.[¶](#section-1-5){.pilcrow}

::: {#section-1.1 .section}
### [1.1.](#section-1.1){.section-number .selfRef} [Requirements Language](#name-requirements-language){.section-name .selfRef} {#name-requirements-language}

The key words \"[MUST]{.bcp14}\", \"[MUST NOT]{.bcp14}\",
\"[REQUIRED]{.bcp14}\", \"[SHALL]{.bcp14}\", \"[SHALL NOT]{.bcp14}\",
\"[SHOULD]{.bcp14}\", \"[SHOULD NOT]{.bcp14}\",
\"[RECOMMENDED]{.bcp14}\", \"[NOT RECOMMENDED]{.bcp14}\",
\"[MAY]{.bcp14}\", and \"[OPTIONAL]{.bcp14}\" in this document are to be
interpreted as described in BCP 14 \[[RFC2119](#RFC2119){.xref}\]
\[[RFC8174](#RFC8174){.xref}\] when, and only when, they appear in all
capitals, as shown here.[¶](#section-1.1-1){.pilcrow}
:::
:::
:::

::: {#sec-2}
::: {#section-2 .section}
## [2.](#section-2){.section-number .selfRef} [SR-LDP Ships-in-the-Night Coexistence](#name-sr-ldp-ships-in-the-night-c){.section-name .selfRef} {#name-sr-ldp-ships-in-the-night-c}

\"MPLS Control-Plane Client (MCC)\" refers to any control-plane protocol
installing forwarding entries in the MPLS data plane. SR, LDP
\[[RFC5036](#RFC5036){.xref}\], RSVP-TE \[[RFC3209](#RFC3209){.xref}\],
BGP \[[RFC8277](#RFC8277){.xref}\], etc., are examples of
MCCs.[¶](#section-2-1){.pilcrow}

An MCC, operating at Node N, must ensure that the incoming label it
installs in the MPLS data plane of Node N has been uniquely allocated to
itself.[¶](#section-2-2){.pilcrow}

Segment Routing makes use of the Segment Routing Global Block (SRGB, as
defined in \[[RFC8402](#RFC8402){.xref}\]) for the label allocation. The
use of the SRGB allows SR to coexist with any other
MCC.[¶](#section-2-3){.pilcrow}

This is clearly the case for the adjacency segment: it is a local label
allocated by the label manager, as is the case for any
MCC.[¶](#section-2-4){.pilcrow}

This is clearly the case for the prefix segment: the label manager
allocates the SRGB set of labels to the SR MCC client, and the operator
ensures the unique allocation of each global prefix segment or label
within the allocated SRGB set.[¶](#section-2-5){.pilcrow}

Note that this static label-allocation capability of the label manager
has existed for many years across several vendors and is therefore not
new. Furthermore, note that the label manager\'s ability to statically
allocate a range of labels to a specific application is not new either.
This is required for MPLS-TP operation. In this case, the range is
reserved by the label manager, and it is the MPLS-TP
\[[RFC5960](#RFC5960){.xref}\] Network Management System (acting as an
MCC) that ensures the unique allocation of any label within the
allocated range and the creation of the related MPLS forwarding
entry.[¶](#section-2-6){.pilcrow}

Let us illustrate an example of ship-in-the-night (SIN)
coexistence.[¶](#section-2-7){.pilcrow}

[]{#name-sin-coexistence}

::: {#ref-sin-coexistence}
::: {#section-2-8.1 .artwork .art-text .alignLeft}
                               PE2          PE4
                                 \          /
                           PE1----A----B---C---PE3
:::

[Figure 1](#figure-1){.selfRef}: [SIN
Coexistence](#name-sin-coexistence){.selfRef}
:::

The EVEN VPN service is supported by PE2 and PE4 while the ODD VPN
service is supported by PE1 and PE3. The operator wants to tunnel the
ODD service via LDP and the EVEN service via
SR.[¶](#section-2-9){.pilcrow}

This can be achieved in the following
manner:[¶](#section-2-10){.pilcrow}

-   [The operator configures PE1, PE2, PE3, and PE4 with respective
    loopbacks 192.0.2.201/32, 192.0.2.202/32, 192.0.2.203/32, and
    192.0.2.204/32. These PEs advertised their VPN routes with next hop
    set on their respective loopback
    address.[¶](#section-2-11.1){.pilcrow}]{#section-2-11.1}
-   [The operator configures A, B, C with respective loopbacks
    192.0.2.1/32, 192.0.2.2/32,
    192.0.2.3/32.[¶](#section-2-11.2){.pilcrow}]{#section-2-11.2}
-   [The operator configures PE2, A, B, C, and PE4 with SRGB \[100,
    300\].[¶](#section-2-11.3){.pilcrow}]{#section-2-11.3}
-   [The operator attaches the respective Node Segment Identifiers (Node
    SIDs, as defined in \[[RFC8402](#RFC8402){.xref}\]), 202, 101, 102,
    103, and 204, to the loopbacks of nodes PE2, A, B, C, and PE4. The
    Node SIDs are configured to request Penultimate Hop
    Popping.[¶](#section-2-11.4){.pilcrow}]{#section-2-11.4}
-   [PE1, A, B, C, and PE3 are LDP
    capable.[¶](#section-2-11.5){.pilcrow}]{#section-2-11.5}
-   [PE1 and PE3 are not SR
    capable.[¶](#section-2-11.6){.pilcrow}]{#section-2-11.6}

PE3 sends an ODD VPN route to PE1 with next-hop 192.0.2.203 and VPN
label 10001.[¶](#section-2-12){.pilcrow}

From an LDP viewpoint, PE1 received an LDP label binding (1037) for a
Forwarding Equivalence Class (FEC) 192.0.2.203/32 from its next-hop A; A
received an LDP label binding (2048) for that FEC from its next-hop B; B
received an LDP label binding (3059) for that FEC from its next-hop C;
and C received implicit NULL LDP binding from its next-hop
PE3.[¶](#section-2-13){.pilcrow}

As a result, PE1 sends its traffic to the ODD service route advertised
by PE3 to next-hop A with two labels: the top label is 1037 and the
bottom label is 10001. Node A swaps 1037 with 2048 and forwards to B; B
swaps 2048 with 3059 and forwards to C; C pops 3059 and forwards to
PE3.[¶](#section-2-14){.pilcrow}

PE4 sends an EVEN VPN route to PE2 with next-hop 192.0.2.204 and VPN
label 10002.[¶](#section-2-15){.pilcrow}

From an SR viewpoint, PE2 maps the IGP route 192.0.2.204/32 onto Node
SID 204; Node A swaps 204 with 204 and forwards to B; B swaps 204 with
204 and forwards to C; and C pops 204 and forwards to
PE4.[¶](#section-2-16){.pilcrow}

As a result, PE2 sends its traffic to the VPN service route advertised
by PE4 to next-hop A with two labels: the top label is 204 and the
bottom label is 10002. Node A swaps 204 with 204 and forwards to B. B
swaps 204 with 204 and forwards to C. C pops 204 and forwards to
PE4.[¶](#section-2-17){.pilcrow}

The two modes of MPLS tunneling coexist.[¶](#section-2-18){.pilcrow}

-   [The ODD service is tunneled from PE1 to PE3 through a continuous
    LDP LSP traversing A, B, and
    C.[¶](#section-2-19.1){.pilcrow}]{#section-2-19.1}
-   [The EVEN service is tunneled from PE2 to PE4 through a continuous
    SR node segment traversing A, B, and
    C.[¶](#section-2-19.2){.pilcrow}]{#section-2-19.2}

::: {#sec-2.1}
::: {#section-2.1 .section}
### [2.1.](#section-2.1){.section-number .selfRef} [MPLS2MPLS, MPLS2IP, and IP2MPLS Coexistence](#name-mpls2mpls-mpls2ip-and-ip2mp){.section-name .selfRef} {#name-mpls2mpls-mpls2ip-and-ip2mp}

MPLS2MPLS refers to the forwarding behavior where a router receives a
labeled packet and switches it out as a labeled packet. Several
MPLS2MPLS entries may be installed in the data plane for the same
prefix.[¶](#section-2.1-1){.pilcrow}

Let us examine A\'s MPLS forwarding table as an
example:[¶](#section-2.1-2){.pilcrow}

-   ::: {#section-2.1-3.1}
    Incoming label: 1037[¶](#section-2.1-3.1.1){.pilcrow}

    -   [Outgoing label:
        2048[¶](#section-2.1-3.1.2.1){.pilcrow}]{#section-2.1-3.1.2.1}
    -   [Outgoing next hop:
        B[¶](#section-2.1-3.1.2.2){.pilcrow}]{#section-2.1-3.1.2.2}

    Note: This entry is programmed by LDP for
    192.0.2.203/32.[¶](#section-2.1-3.1.3){.pilcrow}
    :::

```{=html}
<!-- -->
```
-   ::: {#section-2.1-4.1}
    Incoming label: 203[¶](#section-2.1-4.1.1){.pilcrow}

    -   [Outgoing label:
        203[¶](#section-2.1-4.1.2.1){.pilcrow}]{#section-2.1-4.1.2.1}
    -   [Outgoing next hop:
        B[¶](#section-2.1-4.1.2.2){.pilcrow}]{#section-2.1-4.1.2.2}

    Note: This entry is programmed by SR for
    192.0.2.203/32.[¶](#section-2.1-4.1.3){.pilcrow}
    :::

These two entries can coexist because their incoming label is unique.
The uniqueness is guaranteed by the label manager allocation
rules.[¶](#section-2.1-5){.pilcrow}

The same applies for the MPLS2IP forwarding entries. MPLS2IP is the
forwarding behavior where a router receives a labeled IPv4/IPv6 packet
with one label only, pops the label, and switches the packet out as
IPv4/IPv6. For IP2MPLS coexistence, refer to [Section
6.1](#sec-7.1){.xref}.[¶](#section-2.1-6){.pilcrow}
:::
:::
:::
:::

::: {#sec-4}
::: {#section-3 .section}
## [3.](#section-3){.section-number .selfRef} [SR and LDP Interworking](#name-sr-and-ldp-interworking){.section-name .selfRef} {#name-sr-and-ldp-interworking}

This section analyzes the case where SR is available in one part of the
network and LDP is available in another part. It describes how a
continuous MPLS tunnel can be built throughout the
network.[¶](#section-3-1){.pilcrow}

[]{#name-sr-and-ldp-interworking-2}

::: {#ref-sr-and-ldp-interworking}
::: {#section-3-2.1 .artwork .art-text .alignLeft}
                              PE2            PE4
                                \            /
                         PE1----P5--P6--P7--P8---PE3

                         <-----SR---->
                                   <------LDP------>
:::

[Figure 2](#figure-2){.selfRef}: [SR and LDP
Interworking](#name-sr-and-ldp-interworking-2){.selfRef}
:::

Let us analyze the following example:[¶](#section-3-3){.pilcrow}

-   [P6, P7, P8, PE4, and PE3 are LDP
    capable.[¶](#section-3-4.1){.pilcrow}]{#section-3-4.1}
-   [PE1, PE2, P5, and P6 are SR capable. PE1, PE2, P5, and P6 are
    configured with SRGB (100, 200) and with node segments 101, 102,
    105, and 106,
    respectively.[¶](#section-3-4.2){.pilcrow}]{#section-3-4.2}
-   [A service flow must be tunneled from PE1 to PE3 over a continuous
    MPLS tunnel encapsulation; therefore, SR and LDP need to
    interwork.[¶](#section-3-4.3){.pilcrow}]{#section-3-4.3}

::: {#sec-4.1}
::: {#section-3.1 .section}
### [3.1.](#section-3.1){.section-number .selfRef} [LDP to SR](#name-ldp-to-sr){.section-name .selfRef} {#name-ldp-to-sr}

In this section, a right-to-left traffic flow is
analyzed.[¶](#section-3.1-1){.pilcrow}

PE3 has learned a service route whose next hop is PE1. PE3 has an LDP
label binding from the next-hop P8 for the FEC \"PE1\". Therefore, PE3
sends its service packet to P8 as per classic LDP
behavior.[¶](#section-3.1-2){.pilcrow}

P8 has an LDP label binding from its next-hop P7 for the FEC \"PE1\" and
therefore, P8 forwards to P7 as per classic LDP
behavior.[¶](#section-3.1-3){.pilcrow}

P7 has an LDP label binding from its next-hop P6 for the FEC \"PE1\" and
therefore, P7 forwards to P6 as per classic LDP
behavior.[¶](#section-3.1-4){.pilcrow}

P6 does not have an LDP binding from its next-hop P5 for the FEC
\"PE1\". However, P6 has an SR node segment to the IGP route \"PE1\".
Hence, P6 forwards the packet to P5 and swaps its local LDP label for
FEC \"PE1\" by the equivalent node segment (i.e.,
101).[¶](#section-3.1-5){.pilcrow}

P5 pops 101 (assuming PE1 advertised its node segment 101 with the
penultimate-pop flag set) and forwards to
PE1.[¶](#section-3.1-6){.pilcrow}

PE1 receives the tunneled packet and processes the service
label.[¶](#section-3.1-7){.pilcrow}

The end-to-end MPLS tunnel is built by stitching an LDP LSP from PE3 to
P6 and the related node segment from P6 to
PE1.[¶](#section-3.1-8){.pilcrow}

::: {#sec-4.1.1}
::: {#section-3.1.1 .section}
#### [3.1.1.](#section-3.1.1){.section-number .selfRef} [LDP to SR Behavior](#name-ldp-to-sr-behavior){.section-name .selfRef} {#name-ldp-to-sr-behavior}

It has to be noted that no additional signaling or state is required in
order to provide interworking in the direction LDP to
SR.[¶](#section-3.1.1-1){.pilcrow}

An SR node having LDP neighbors [MUST]{.bcp14} create LDP bindings for
each Prefix-SID learned in the SR domain by treating SR-learned labels
as if they were learned through an LDP neighbor. In addition, for each
FEC, the SR node stitches the incoming LDP label to the outgoing SR
label. This has to be done in both LDP-independent and ordered label
distribution control modes as defined in
\[[RFC5036](#RFC5036){.xref}\].[¶](#section-3.1.1-2){.pilcrow}
:::
:::
:::
:::

::: {#sec-4.2}
::: {#section-3.2 .section}
### [3.2.](#section-3.2){.section-number .selfRef} [SR to LDP](#name-sr-to-ldp){.section-name .selfRef} {#name-sr-to-ldp}

In this section, the left-to-right traffic flow is
analyzed.[¶](#section-3.2-1){.pilcrow}

This section defines the Segment Routing Mapping Server (SRMS). The SRMS
is an IGP node advertising mapping between Segment Identifiers (SID) and
prefixes advertised by other IGP nodes. The SRMS uses a dedicated IGP
extension (IS-IS, OSPFv2, and OSPFv3), which is protocol specific and
defined in \[[RFC8665](#RFC8665){.xref}\],
\[[RFC8666](#RFC8666){.xref}\], and
\[[RFC8667](#RFC8667){.xref}\].[¶](#section-3.2-2){.pilcrow}

The SRMS function of an SR-capable router allows distribution of
mappings for prefixes not locally attached to the advertising router and
therefore allows advertisement of mappings on behalf of non-SR-capable
routers.[¶](#section-3.2-3){.pilcrow}

The SRMS is a control-plane-only function that may be located anywhere
in the IGP flooding scope. At least one SRMS server [MUST]{.bcp14} exist
in a routing domain to advertise Prefix-SIDs on behalf of non‑SR nodes,
thereby allowing non-LDP routers to send and receive labeled traffic
from LDP-only routers. Multiple SRMSes may be present in the same
network (for redundancy). This implies that there are multiple ways a
prefix-to-SID mapping can be advertised. Conflicts resulting from
inconsistent advertisements are addressed by
\[[RFC8660](#RFC8660){.xref}\].[¶](#section-3.2-4){.pilcrow}

The example depicted in [Figure 2](#ref-sr-and-ldp-interworking){.xref}
assumes that the operator configures P5 to act as a Segment Routing
Mapping Server and advertises the following mappings: (P7, 107), (P8,
108), (PE3, 103), and (PE4, 104).[¶](#section-3.2-5){.pilcrow}

The mappings advertised by one or more SRMSes result from local policy
information configured by the operator.[¶](#section-3.2-6){.pilcrow}

If PE3 had been SR capable, the operator would have configured PE3 with
node segment 103. Instead, as PE3 is not SR capable, the operator
configures that policy at the SRMS and it is the latter that advertises
the mapping.[¶](#section-3.2-7){.pilcrow}

The Mapping Server Advertisements are only understood by SR-capable
routers. The SR-capable routers install the related node segments in the
MPLS data plane exactly like the node segments had been advertised by
the nodes themselves.[¶](#section-3.2-8){.pilcrow}

For example, PE1 installs the node segment 103 with next-hop P5 exactly
as if PE3 had advertised node segment 103.[¶](#section-3.2-9){.pilcrow}

PE1 has a service route whose next hop is PE3. PE1 has a node segment
for that IGP route: 103 with next-hop P5. Hence, PE1 sends its service
packet to P5 with two labels: the bottom label is the service label and
the top label is 103.[¶](#section-3.2-10){.pilcrow}

P5 swaps 103 for 103 and forwards to P6.[¶](#section-3.2-11){.pilcrow}

P6\'s next hop for the IGP route \"PE3\" is not SR capable (P7 does not
advertise the SR capability). However, P6 has an LDP label binding from
that next hop for the same FEC (e.g., LDP label 1037). Hence, P6 swaps
103 for 1037 and forwards to P7.[¶](#section-3.2-12){.pilcrow}

P7 swaps this label with the LDP label received from P8 and forwards to
P8.[¶](#section-3.2-13){.pilcrow}

P8 pops the LDP label and forwards to PE3.[¶](#section-3.2-14){.pilcrow}

PE3 receives the tunneled packet and processes the service
label.[¶](#section-3.2-15){.pilcrow}

The end-to-end MPLS tunnel is built by stitching an SR node segment from
PE1 to P6 and an LDP LSP from P6 to PE3.[¶](#section-3.2-16){.pilcrow}

SR-mapping advertisement for a given prefix provides no information
about Penultimate Hop Popping. Other mechanisms, such as IGP-specific
mechanisms (\[[RFC8665](#RFC8665){.xref}\],
\[[RFC8666](#RFC8666){.xref}\], and \[[RFC8667](#RFC8667){.xref}\]),
[MAY]{.bcp14} be used to determine the Penultimate Hop Popping in such
case.[¶](#section-3.2-17){.pilcrow}

Note: In the previous example, Penultimate Hop Popping is not performed
at the SR-LDP border for segment 103 (PE3), because none of the routers
in the SR domain are Penultimate Hop for segment 103. In this case, P6
requires the presence of the segment 103 such as to map it to the LDP
label 1037.[¶](#section-3.2-18.1){.pilcrow}

::: {#sec-4.2.1}
::: {#section-3.2.1 .section}
#### [3.2.1.](#section-3.2.1){.section-number .selfRef} [Segment Routing Mapping Server (SRMS)](#name-segment-routing-mapping-ser){.section-name .selfRef} {#name-segment-routing-mapping-ser}

This section specifies the concept and externally visible functionality
of a Segment Routing Mapping Server
(SRMS).[¶](#section-3.2.1-1){.pilcrow}

The purpose of SRMS functionality is to support the advertisement of
Prefix-SIDs to a prefix without the need to explicitly advertise such
assignment within a prefix reachability advertisement. Examples of
explicit Prefix-SID Advertisement are the Prefix-SID sub-TLVs defined in
\[[RFC8665](#RFC8665){.xref}\], \[[RFC8666](#RFC8666){.xref}\], and
\[[RFC8667](#RFC8667){.xref}\].[¶](#section-3.2.1-2){.pilcrow}

The SRMS functionality allows assigning of Prefix-SIDs to prefixes owned
by non-SR-capable routers as well as to prefixes owned by SR-capable
nodes. It is the former capability that is essential to the SR-LDP
interworking described later in this
section.[¶](#section-3.2.1-3){.pilcrow}

The SRMS functionality consists of two functional blocks: the Mapping
Server (MS) and Mapping Client (MC).[¶](#section-3.2.1-4){.pilcrow}

An MS is a node that advertises an SR mappings. Advertisements sent by
an MS define the assignment of a Prefix-SID to a prefix independent of
the advertisement of reachability to the prefix itself. An MS
[MAY]{.bcp14} advertise SR mappings for any prefix whether or not it
advertises reachability for the prefix and irrespective of whether that
prefix is advertised by or even reachable through any router in the
network.[¶](#section-3.2.1-5){.pilcrow}

An MC is a node that receives and uses the MS mapping advertisements.
Note that a node may be both an MS and an MC. An MC interprets the
SR-mapping advertisement as an assignment of a Prefix-SID to a prefix.
For a given prefix, if an MC receives an SR-mapping advertisement from a
Mapping Server and also has received a Prefix-SID Advertisement for that
same prefix in a prefix reachability advertisement, then the MC
[MUST]{.bcp14} prefer the SID advertised in the prefix reachability
advertisement over the Mapping Server Advertisement, i.e., the Mapping
Server Advertisement [MUST]{.bcp14} be ignored for that prefix. Hence,
assigning a Prefix-SID to a prefix using the SRMS functionality does not
preclude assigning the same or different Prefix-SID(s) to the same
prefix using explicit Prefix-SID Advertisement such as the
aforementioned Prefix-SID sub-TLVs.[¶](#section-3.2.1-6){.pilcrow}

For example, consider an IPv4 prefix advertisement received by an IS‑IS
router in the Extended IP reachability TLV (TLV 135). Suppose TLV 135
contained the Prefix-SID sub-TLV. If the router that receives TLV 135
with the Prefix-SID sub-TLV also received an SR-mapping advertisement
for the same prefix through the SID/Label Binding TLV, then the
receiving router must prefer the Prefix-SID sub-TLV over the SID/Label
Binding TLV for that prefix. Refer to \[[RFC8667](#RFC8667){.xref}\] for
details about the Prefix-SID sub-TLV and SID/Label Binding
TLV.[¶](#section-3.2.1-7){.pilcrow}
:::
:::

::: {#sec-4.2.2}
::: {#section-3.2.2 .section}
#### [3.2.2.](#section-3.2.2){.section-number .selfRef} [SR to LDP Behavior](#name-sr-to-ldp-behavior){.section-name .selfRef} {#name-sr-to-ldp-behavior}

SR to LDP interworking requires an SRMS as defined
above.[¶](#section-3.2.2-1){.pilcrow}

Each SR-capable router installs in the MPLS data-plane Node SIDs learned
from the SRMS exactly as if these SIDs had been advertised by the nodes
themselves.[¶](#section-3.2.2-2){.pilcrow}

An SR node having LDP-only neighbors [MUST]{.bcp14} stitch the incoming
SR label (whose SID is advertised by the SRMS) to the outgoing LDP
label.[¶](#section-3.2.2-3){.pilcrow}

It has to be noted that the SR to LDP behavior does not propagate the
status of the LDP FEC that was signaled by LDP when configured in
ordered mode.[¶](#section-3.2.2-4){.pilcrow}

It has to be noted that in the case of SR to LDP, the label binding is
equivalent to the independent LDP Label Distribution Control Mode
\[[RFC5036](#RFC5036){.xref}\] where a label is bound to a FEC
independently from the received binding for the same
FEC.[¶](#section-3.2.2-5){.pilcrow}
:::
:::

::: {#sec-4.2.3}
::: {#section-3.2.3 .section}
#### [3.2.3.](#section-3.2.3){.section-number .selfRef} [Interoperability of Multiple SRMSes and Prefix-SID Advertisements](#name-interoperability-of-multipl){.section-name .selfRef} {#name-interoperability-of-multipl}

In the case of SR-LDP interoperability through the use of an SRMS,
mappings are advertised by one or more
SRMSes.[¶](#section-3.2.3-1){.pilcrow}

SRMS functionality is implemented in the link-state protocol (such as
IS-IS and OSPF). Link-state protocols allow propagation of updates
across area boundaries and, therefore, SRMS advertisements are
propagated through the usual inter-area advertisement procedures in
link-state protocols.[¶](#section-3.2.3-2){.pilcrow}

Multiple SRMSes can be provisioned in a network for redundancy.
Moreover, a preference mechanism may also be used among SRMSes to deploy
a primary/secondary SRMS scheme allowing controlled modification or
migration of SIDs.[¶](#section-3.2.3-3){.pilcrow}

The content of SRMS advertisement (i.e., mappings) are a matter of local
policy determined by the operator. When multiple SRMSes are active, it
is necessary that the information (mappings) advertised by the different
SRMSes is aligned and consistent. The following mechanism is applied to
determine the preference of SRMS
advertisements:[¶](#section-3.2.3-4){.pilcrow}

If a node acts as an SRMS, it [MAY]{.bcp14} advertise a preference to be
associated with all SRMS SID Advertisements sent by that node. The means
of advertising the preference is defined in the protocol-specific
documents, e.g., \[[RFC8665](#RFC8665){.xref}\],
\[[RFC8666](#RFC8666){.xref}\], and \[[RFC8667](#RFC8667){.xref}\]. The
preference value is an unsigned 8-bit integer with the following
properties:[¶](#section-3.2.3-5){.pilcrow}

::: {#table_1}
  ------- ------------------------------------------------------------------------------------
  0       Reserved value indicating advertisements from that node [MUST NOT]{.bcp14} be used
  1-255   Preference value (255 is most preferred)
  ------- ------------------------------------------------------------------------------------

  : [Table 1](#table-1){.selfRef}
:::

Advertisement of a preference value is optional. Nodes that do not
advertise a preference value are assigned a preference value of
128.[¶](#section-3.2.3-7){.pilcrow}

An MCC on a node receiving one or more SRMS mapping advertisements
applies them as follows:[¶](#section-3.2.3-8){.pilcrow}

-   [For any prefix for which it did not receive a Prefix-SID
    Advertisement, the MCC applies the SRMS mapping advertisements with
    the highest preference. The mechanism by which a Prefix-SID is
    advertised for a given prefix is defined in the protocol
    specifications \[[RFC8665](#RFC8665){.xref}\],
    \[[RFC8666](#RFC8666){.xref}\], and
    \[[RFC8667](#RFC8667){.xref}\].[¶](#section-3.2.3-9.1){.pilcrow}]{#section-3.2.3-9.1}
-   [If there is an incoming label collision as specified in
    \[[RFC8660](#RFC8660){.xref}\], apply the steps specified in
    \[[RFC8660](#RFC8660){.xref}\] to resolve the
    collision.[¶](#section-3.2.3-9.2){.pilcrow}]{#section-3.2.3-9.2}

When the SRMS advertises mappings, an implementation should provide a
mechanism through which the operator determines which of the IP2MPLS
mappings are preferred among the one advertised by the SRMS and the ones
advertised by LDP.[¶](#section-3.2.3-10){.pilcrow}
:::
:::
:::
:::
:::
:::

::: {#sec-5}
::: {#section-4 .section}
## [4.](#section-4){.section-number .selfRef} [SR-LDP Interworking Use Cases](#name-sr-ldp-interworking-use-cas){.section-name .selfRef} {#name-sr-ldp-interworking-use-cas}

SR can be deployed, for example, to enhance LDP transport. The SR
deployment can be limited to the network region where the SR benefits
are most desired.[¶](#section-4-1){.pilcrow}

::: {#sec-5.1}
::: {#section-4.1 .section}
### [4.1.](#section-4.1){.section-number .selfRef} [SR Protection of LDP-Based Traffic](#name-sr-protection-of-ldp-based-){.section-name .selfRef} {#name-sr-protection-of-ldp-based-}

In [Figure 3](#ref-sr-ldp-interworking-example){.xref}, let us
assume:[¶](#section-4.1-1){.pilcrow}

-   [All link costs are 10 except FG, which is
    30.[¶](#section-4.1-2.1){.pilcrow}]{#section-4.1-2.1}
-   [All routers are LDP
    capable.[¶](#section-4.1-2.2){.pilcrow}]{#section-4.1-2.2}
-   [X, Y, and Z are PEs participating in an important service
    S.[¶](#section-4.1-2.3){.pilcrow}]{#section-4.1-2.3}
-   [The operator requires 50 msec link-based Fast Reroute (FRR) for
    service S.[¶](#section-4.1-2.4){.pilcrow}]{#section-4.1-2.4}
-   [A, B, C, D, E, F, and G are SR
    capable.[¶](#section-4.1-2.5){.pilcrow}]{#section-4.1-2.5}
-   [X, Y, and Z are not SR capable, e.g., as part of a staged migration
    from LDP to SR, the operator deploys SR first in a subpart of the
    network and then
    everywhere.[¶](#section-4.1-2.6){.pilcrow}]{#section-4.1-2.6}

[]{#name-sr-ldp-interworking-example}

::: {#ref-sr-ldp-interworking-example}
::: {#section-4.1-3.1 .artwork .art-text .alignLeft}
                                      X
                                      |
                               Y--A---B---E--Z
                                  |   |    \
                                  D---C--F--G
                                          30
:::

[Figure 3](#figure-3){.selfRef}: [SR-LDP Interworking
Example](#name-sr-ldp-interworking-example){.selfRef}
:::

The operator would like to resolve the following
issues:[¶](#section-4.1-4){.pilcrow}

-   [To protect the link BA along the shortest-path of the important
    flow XY, B requires a Remote Loop-Free Alternate (RLFA; see
    \[[RFC7490](#RFC7490){.xref}\]) repair tunnel to D and, therefore, a
    targeted LDP session from B to D. Typically, network operators
    prefer avoiding these dynamically established multi-hop LDP sessions
    in order to reduce the number of protocols running in the network
    and, therefore, simplify network
    operations.[¶](#section-4.1-5.1){.pilcrow}]{#section-4.1-5.1}
-   [There is no LFA/RLFA solution to protect the link BE along the
    shortest path of the important flow XZ. The operator wants a
    guaranteed link-based FRR
    solution.[¶](#section-4.1-5.2){.pilcrow}]{#section-4.1-5.2}

The operator can meet these objectives by deploying SR only on A, B, C,
D, E, F, and G:[¶](#section-4.1-6){.pilcrow}

-   [The operator configures A, B, C, D, E, F, and G with SRGB \[100,
    200\] and with node segments 101, 102, 103, 104, 105, 106, and 107,
    respectively.[¶](#section-4.1-7.1){.pilcrow}]{#section-4.1-7.1}
-   [The operator configures D as an SR Mapping Server with the
    following policy mapping: (X, 201), (Y, 202), and (Z,
    203).[¶](#section-4.1-7.2){.pilcrow}]{#section-4.1-7.2}
-   [Each SR node automatically advertises a local adjacency segment for
    its IGP adjacencies. Specifically, F advertises adjacency segment
    9001 for its adjacency
    FG.[¶](#section-4.1-7.3){.pilcrow}]{#section-4.1-7.3}

A, B, C, D, E, F, and G keep their LDP capability. Therefore, the flows
XY and XZ are transported over end-to-end LDP
LSPs.[¶](#section-4.1-8){.pilcrow}

For example, LDP at B installs the following MPLS data-plane
entries:[¶](#section-4.1-9){.pilcrow}

-   ::: {#section-4.1-10.1}
    Incoming label: local LDP label bound by B for FEC
    Y[¶](#section-4.1-10.1.1){.pilcrow}

    -   [Outgoing label: LDP label bound by A for FEC
        Y[¶](#section-4.1-10.1.2.1){.pilcrow}]{#section-4.1-10.1.2.1}
    -   [Outgoing next hop:
        A[¶](#section-4.1-10.1.2.2){.pilcrow}]{#section-4.1-10.1.2.2}
    :::

-   ::: {#section-4.1-10.2}
    Incoming label: local LDP label bound by B for FEC
    Z[¶](#section-4.1-10.2.1){.pilcrow}

    -   [Outgoing label: LDP label bound by E for FEC
        Z[¶](#section-4.1-10.2.2.1){.pilcrow}]{#section-4.1-10.2.2.1}
    -   [Outgoing next hop:
        E[¶](#section-4.1-10.2.2.2){.pilcrow}]{#section-4.1-10.2.2.2}
    :::

The novelty comes from how the backup chains are computed for these
LDP-based entries. While LDP labels are used for the primary next- hop
and outgoing labels, SR information is used for the FRR construction. In
steady state, the traffic is transported over LDP LSP. In transient FRR
state, the traffic is backup thanks to the SR-enhanced
capabilities.[¶](#section-4.1-11){.pilcrow}

The RLFA paths are dynamically precomputed as defined in
\[[RFC7490](#RFC7490){.xref}\]. Typically, implementations allow to
enable an RLFA mechanism through a simple configuration command that
triggers both the precomputation and installation of the repair path.
The details on how RLFA mechanisms are implemented and configured is
outside the scope of this document and not relevant to the aspects of
SR-LDP interwork explained in this
document.[¶](#section-4.1-12){.pilcrow}

This helps meet the requirements of the
operator:[¶](#section-4.1-13){.pilcrow}

-   [Eliminate targeted LDP
    sessions.[¶](#section-4.1-14.1){.pilcrow}]{#section-4.1-14.1}
-   [Provide guaranteed FRR
    coverage.[¶](#section-4.1-14.2){.pilcrow}]{#section-4.1-14.2}
-   [Keep the traffic over LDP LSP in steady
    state.[¶](#section-4.1-14.3){.pilcrow}]{#section-4.1-14.3}
-   [Partially deploy SR only where
    needed.[¶](#section-4.1-14.4){.pilcrow}]{#section-4.1-14.4}
:::
:::

::: {#sec-5.2}
::: {#section-4.2 .section}
### [4.2.](#section-4.2){.section-number .selfRef} [Eliminating Targeted LDP Sessions](#name-eliminating-targeted-ldp-se){.section-name .selfRef} {#name-eliminating-targeted-ldp-se}

B\'s MPLS entry to Y becomes:[¶](#section-4.2-1){.pilcrow}

-   ::: {#section-4.2-2.1}
    Incoming label: local LDP label bound by B for FEC
    Y[¶](#section-4.2-2.1.1){.pilcrow}

    -   [Outgoing label: LDP label bound by A for FEC
        Y[¶](#section-4.2-2.1.2.1){.pilcrow}]{#section-4.2-2.1.2.1}
    -   [Backup outgoing label: SR node segment for Y
        {202}[¶](#section-4.2-2.1.2.2){.pilcrow}]{#section-4.2-2.1.2.2}
    -   [Outgoing next hop:
        A[¶](#section-4.2-2.1.2.3){.pilcrow}]{#section-4.2-2.1.2.3}
    -   [Backup next hop: repair tunnel: node segment to D {104} with
        outgoing next hop:
        C[¶](#section-4.2-2.1.2.4){.pilcrow}]{#section-4.2-2.1.2.4}
    :::

It has to be noted that D is selected as a Remote Loop-Free Alternate
(RLFA) as defined in
\[[RFC7490](#RFC7490){.xref}\].[¶](#section-4.2-3){.pilcrow}

In steady state, X sends its Y-destined traffic to B with a top label,
which is the LDP label bound by B for FEC Y. B swaps that top label for
the LDP label bound by A for FEC Y and forwards to A. A pops the LDP
label and forwards to Y.[¶](#section-4.2-4){.pilcrow}

Upon failure of the link BA, B swaps the incoming top label with the
node segment for Y (202) and sends the packet onto a repair tunnel to D
(node segment 104). Thus, B sends the packet to C with the label stack
{104, 202}.  C pops the node segment 104 and forwards to D. D swaps 202
for 202 and forwards to A. A\'s next hop to Y is not SR capable, and
therefore, Node A swaps the incoming node segment 202 to the LDP label
announced by its next hop (in this case, implicit
NULL).[¶](#section-4.2-5){.pilcrow}

After IGP convergence, B\'s MPLS entry to Y will
become:[¶](#section-4.2-6){.pilcrow}

-   ::: {#section-4.2-7.1}
    Incoming label: local LDP label bound by B for FEC
    Y[¶](#section-4.2-7.1.1){.pilcrow}

    -   [Outgoing label: LDP label bound by C for FEC
        Y[¶](#section-4.2-7.1.2.1){.pilcrow}]{#section-4.2-7.1.2.1}
    -   [Outgoing next hop:
        C[¶](#section-4.2-7.1.2.2){.pilcrow}]{#section-4.2-7.1.2.2}
    :::

And the traffic XY travels again over the LDP
LSP.[¶](#section-4.2-8){.pilcrow}

Conclusion: the operator has eliminated the need for targeted LDP
sessions (no longer required) and the steady-state traffic is still
transported over LDP. The SR deployment is confined to the area where
these benefits are required.[¶](#section-4.2-9){.pilcrow}

Despite that, in general, an implementation would not require a manual
configuration of targeted LDP sessions. However, it is always a gain if
the operator is able to reduce the set of protocol sessions running on
the network infrastructure.[¶](#section-4.2-10){.pilcrow}
:::
:::

::: {#sec-5.3}
::: {#section-4.3 .section}
### [4.3.](#section-4.3){.section-number .selfRef} [Guaranteed FRR Coverage](#name-guaranteed-frr-coverage){.section-name .selfRef} {#name-guaranteed-frr-coverage}

As mentioned in [Section 4.1](#sec-5.1){.xref}, in the example topology
described in [Figure 3](#ref-sr-ldp-interworking-example){.xref}, there
is no RLFA-based solution for protecting the traffic flow YZ against the
failure of link BE because there is no intersection between the extended
P-space and Q-space (see \[[RFC7490](#RFC7490){.xref}\] for details).
However:[¶](#section-4.3-1){.pilcrow}

-   [G belongs to the Q space of
    Z.[¶](#section-4.3-2.1){.pilcrow}]{#section-4.3-2.1}
-   [G can be reached from B via a \"repair SR path\" {106, 9001} that
    is not affected by failure of link BE. (The method by which G and
    the repair tunnel to it from B are identified are outside the scope
    of this document.)[¶](#section-4.3-2.2){.pilcrow}]{#section-4.3-2.2}

B\'s MPLS entry to Z becomes:[¶](#section-4.3-3){.pilcrow}

-   ::: {#section-4.3-4.1}
    Incoming label: local LDP label bound by B for FEC
    Z[¶](#section-4.3-4.1.1){.pilcrow}

    -   [Outgoing label: LDP label bound by E for FEC
        Z[¶](#section-4.3-4.1.2.1){.pilcrow}]{#section-4.3-4.1.2.1}
    -   [Backup outgoing label: SR node segment for Z
        {203}[¶](#section-4.3-4.1.2.2){.pilcrow}]{#section-4.3-4.1.2.2}
    -   [Outgoing next hop:
        E[¶](#section-4.3-4.1.2.3){.pilcrow}]{#section-4.3-4.1.2.3}
    -   [Backup next hop: repair tunnel to G: {106,
        9001}[¶](#section-4.3-4.1.2.4){.pilcrow}]{#section-4.3-4.1.2.4}
    :::

```{=html}
<!-- -->
```
-   [G is reachable from B via the combination of a node segment to F
    {106} and an adjacency segment FG
    {9001}.[¶](#section-4.3-5.1){.pilcrow}]{#section-4.3-5.1}
-   [Note that {106, 107} would have equally worked. Indeed, in many
    cases, P\'s shortest path to Q is over the link PQ. The adjacency
    segment from P to Q is required only in very rare topologies where
    the shortest-path from P to Q is not via the link
    PQ.[¶](#section-4.3-5.2){.pilcrow}]{#section-4.3-5.2}

In steady state, X sends its Z-destined traffic to B with a top label,
which is the LDP label bound by B for FEC Z. B swaps that top label for
the LDP label bound by E for FEC Z and forwards to E. E pops the LDP
label and forwards to Z.[¶](#section-4.3-6){.pilcrow}

Upon failure of the link BE, B swaps the incoming top label with the
node segment for Z (203) and sends the packet onto a repair tunnel to G
(node segment 106 followed by adjacency segment 9001). Thus, B sends the
packet to C with the label stack {106, 9001, 203}.  C pops the node
segment 106 and forwards to F. F pops the adjacency segment 9001 and
forwards to G. G swaps 203 for 203 and forwards to E. E\'s next hop to Z
is not SR capable, and thus, E swaps the incoming node segment 203 for
the LDP label announced by its next hop (in this case, implicit
NULL).[¶](#section-4.3-7){.pilcrow}

After IGP convergence, B\'s MPLS entry to Z will
become:[¶](#section-4.3-8){.pilcrow}

-   ::: {#section-4.3-9.1}
    Incoming label: local LDP label bound by B for FEC
    Z[¶](#section-4.3-9.1.1){.pilcrow}

    -   [Outgoing label: LDP label bound by C for FEC
        Z[¶](#section-4.3-9.1.2.1){.pilcrow}]{#section-4.3-9.1.2.1}
    -   [Outgoing next hop:
        C[¶](#section-4.3-9.1.2.2){.pilcrow}]{#section-4.3-9.1.2.2}
    :::

And the traffic XZ travels again over the LDP
LSP.[¶](#section-4.3-10){.pilcrow}

Conclusions:[¶](#section-4.3-11){.pilcrow}

-   [the operator has eliminated its second problem: guaranteed FRR
    coverage is provided. The steady-state traffic is still transported
    over LDP. The SR deployment is confined to the area where these
    benefits are
    required.[¶](#section-4.3-12.1){.pilcrow}]{#section-4.3-12.1}
-   [FRR coverage has been achieved without any signaling for setting up
    the repair LSP and without setting up a targeted LDP session between
    B and G.[¶](#section-4.3-12.2){.pilcrow}]{#section-4.3-12.2}
:::
:::

::: {#sec-5.4}
::: {#section-4.4 .section}
### [4.4.](#section-4.4){.section-number .selfRef} [Inter-AS Option C, Carrier\'s Carrier](#name-inter-as-option-c-carriers-){.section-name .selfRef} {#name-inter-as-option-c-carriers-}

In inter-AS Option C \[[RFC4364](#RFC4364){.xref}\], two interconnected
ASes sets up inter-AS MPLS connectivity. SR may be independently
deployed in each AS.[¶](#section-4.4-1){.pilcrow}

[]{#name-inter-as-option-c}

::: {#ref-inter-as-option-c}
::: {#section-4.4-2.1 .artwork .art-text .alignLeft}
                        PE1---R1---B1---B2---R2---PE2
                        <----------->   <----------->
                             AS1            AS2
:::

[Figure 4](#figure-4){.selfRef}: [Inter-AS Option
C](#name-inter-as-option-c){.selfRef}
:::

In Inter-AS Option C, B2 advertises to B1 a labeled BGP route
\[[RFC8277](#RFC8277){.xref}\] for PE2, and B1 reflects it to its
internal peers, e.g., PE1. PE1 learns from a service route reflector a
service route whose next hop is PE2. PE1 resolves that service route on
the labeled BGP route to PE2. That labeled BGP route to PE2 is itself
resolved on the AS1 IGP route to B1.[¶](#section-4.4-3){.pilcrow}

If AS1 operates SR, then the tunnel from PE1 to B1 is provided by the
node segment from PE1 to B1.[¶](#section-4.4-4){.pilcrow}

PE1 sends a service packet with three labels: the top one is the node
segment to B1, the next one is the label in the labeled BGP route
provided by B1 for the route \"PE2\", and the bottom one is the service
label allocated by PE2.[¶](#section-4.4-5){.pilcrow}
:::
:::
:::
:::

::: {#sec-6}
::: {#section-5 .section}
## [5.](#section-5){.section-number .selfRef} [IANA Considerations](#name-iana-considerations){.section-name .selfRef} {#name-iana-considerations}

This document has no IANA actions.[¶](#section-5-1){.pilcrow}
:::
:::

::: {#sec-7}
::: {#section-6 .section}
## [6.](#section-6){.section-number .selfRef} [Manageability Considerations](#name-manageability-consideration){.section-name .selfRef} {#name-manageability-consideration}

::: {#sec-7.1}
::: {#section-6.1 .section}
### [6.1.](#section-6.1){.section-number .selfRef} [SR and LDP Coexistence](#name-sr-and-ldp-coexistence){.section-name .selfRef} {#name-sr-and-ldp-coexistence}

When both SR and LDP coexist, the following
applies:[¶](#section-6.1-1){.pilcrow}

-   [If both SR and LDP propose an IP2MPLS entry for the same IP prefix,
    then by default the LDP route [SHOULD]{.bcp14} be selected. This is
    because it is expected that SR is introduced into networks that
    contain routers that do not support SR. Hence, by having a behavior
    that prefers LDP over SR, traffic flow is unlikely to be
    disrupted.[¶](#section-6.1-2.1){.pilcrow}]{#section-6.1-2.1}
-   [A local policy on a router [MUST]{.bcp14} allow to prefer the
    SR-provided IP2MPLS
    entry.[¶](#section-6.1-2.2){.pilcrow}]{#section-6.1-2.2}
-   [Note that this policy [MAY]{.bcp14} be locally defined. There is no
    requirement that all routers use the same
    policy.[¶](#section-6.1-2.3){.pilcrow}]{#section-6.1-2.3}
:::
:::

::: {#sec-7.3}
::: {#section-6.2 .section}
### [6.2.](#section-6.2){.section-number .selfRef} [Data-Plane Verification](#name-data-plane-verification){.section-name .selfRef} {#name-data-plane-verification}

When Label switch paths (LSPs) are defined by stitching LDP LSPs with SR
LSPs, it is necessary to have mechanisms allowing the verification of
the LSP connectivity as well as validation of the path. These mechanisms
are described in
\[[RFC8287](#RFC8287){.xref}\].[¶](#section-6.2-1){.pilcrow}
:::
:::
:::
:::

::: {#sec-8}
::: {#section-7 .section}
## [7.](#section-7){.section-number .selfRef} [Security Considerations](#name-security-considerations){.section-name .selfRef} {#name-security-considerations}

This document does not introduce any change to the MPLS data plane
\[[RFC3031](#RFC3031){.xref}\] and therefore no additional security of
the MPLS data plane is required.[¶](#section-7-1){.pilcrow}

This document introduces another form of label binding advertisements.
The security associated with these advertisements is part of the
security applied to routing protocols such as IS-IS
\[[RFC5304](#RFC5304){.xref}\] and OSPF \[[RFC5709](#RFC5709){.xref}\],
which both optionally make use of cryptographic authentication
mechanisms. This form of advertisement is more centralized, on behalf of
the node advertising the IP reachability, which presents a different
risk profile. This document also specifies a mechanism by which the ill
effects of advertising conflicting label bindings can be mitigated. In
particular, advertisements from the node advertising the IP reachability
is more preferred than the centralized one. This document recognizes
that errors in configuration and/or programming may result in false or
conflicting label binding advertisements compromising traffic
forwarding. Therefore, this document recommends the operator implement
strict configuration/programmability control, the monitoring of the
advertised SIDs, the preference of an IP reachability SID Advertisement
over a centralized SID Advertisement, and the logging of any error
message in order to avoid, or at least significantly minimize, the
possibility of such risk.[¶](#section-7-2){.pilcrow}
:::
:::

::: {#section-8 .section}
## [8.](#section-8){.section-number .selfRef} [References](#name-references){.section-name .selfRef} {#name-references}

::: {#section-8.1 .section}
### [8.1.](#section-8.1){.section-number .selfRef} [Normative References](#name-normative-references){.section-name .selfRef} {#name-normative-references}

\[RFC2119\]
:   [Bradner, S.]{.refAuthor}, [\"Key words for use in RFCs to Indicate
    Requirement Levels\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    2119]{.seriesInfo}, [DOI 10.17487/RFC2119]{.seriesInfo}, March 1997,
    \<<https://www.rfc-editor.org/info/rfc2119>\>.

\[RFC5036\]
:   [Andersson, L., Ed.]{.refAuthor}[, Minei, I., Ed.]{.refAuthor}[,
    and B. Thomas, Ed.]{.refAuthor}, [\"LDP Specification\"]{.refTitle},
    [RFC 5036]{.seriesInfo}, [DOI 10.17487/RFC5036]{.seriesInfo},
    October 2007, \<<https://www.rfc-editor.org/info/rfc5036>\>.

\[RFC8174\]
:   [Leiba, B.]{.refAuthor}, [\"Ambiguity of Uppercase vs Lowercase in
    RFC 2119 Key Words\"]{.refTitle}, [BCP 14]{.seriesInfo}, [RFC
    8174]{.seriesInfo}, [DOI 10.17487/RFC8174]{.seriesInfo}, May 2017,
    \<<https://www.rfc-editor.org/info/rfc8174>\>.

\[RFC8402\]
:   [Filsfils, C., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Ginsberg, L.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing Architecture\"]{.refTitle}, [RFC 8402]{.seriesInfo}, [DOI
    10.17487/RFC8402]{.seriesInfo}, July 2018,
    \<<https://www.rfc-editor.org/info/rfc8402>\>.

\[RFC8660\]
:   [Bashandy, A., Ed.]{.refAuthor}[, Filsfils, C., Ed.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Decraene, B.]{.refAuthor}[,
    Litkowski, S.]{.refAuthor}[, and R. Shakir]{.refAuthor}, [\"Segment
    Routing with MPLS Data Plane\"]{.refTitle}, [RFC 8660]{.seriesInfo},
    [DOI 10.17487/RFC8660]{.seriesInfo}, December 2019,
    \<<https://www.rfc-editor.org/info/rfc8660>\>.
:::

::: {#section-8.2 .section}
### [8.2.](#section-8.2){.section-number .selfRef} [Informative References](#name-informative-references){.section-name .selfRef} {#name-informative-references}

\[RFC3031\]
:   [Rosen, E.]{.refAuthor}[, Viswanathan, A.]{.refAuthor}[, and R.
    Callon]{.refAuthor}, [\"Multiprotocol Label Switching
    Architecture\"]{.refTitle}, [RFC 3031]{.seriesInfo}, [DOI
    10.17487/RFC3031]{.seriesInfo}, January 2001,
    \<<https://www.rfc-editor.org/info/rfc3031>\>.

\[RFC3209\]
:   [Awduche, D.]{.refAuthor}[, Berger, L.]{.refAuthor}[,
    Gan, D.]{.refAuthor}[, Li, T.]{.refAuthor}[,
    Srinivasan, V.]{.refAuthor}[, and G. Swallow]{.refAuthor},
    [\"RSVP-TE: Extensions to RSVP for LSP Tunnels\"]{.refTitle}, [RFC
    3209]{.seriesInfo}, [DOI 10.17487/RFC3209]{.seriesInfo}, December
    2001, \<<https://www.rfc-editor.org/info/rfc3209>\>.

\[RFC4364\]
:   [Rosen, E.]{.refAuthor}[ and Y. Rekhter]{.refAuthor}, [\"BGP/MPLS IP
    Virtual Private Networks (VPNs)\"]{.refTitle}, [RFC
    4364]{.seriesInfo}, [DOI 10.17487/RFC4364]{.seriesInfo}, February
    2006, \<<https://www.rfc-editor.org/info/rfc4364>\>.

\[RFC5304\]
:   [Li, T.]{.refAuthor}[ and R. Atkinson]{.refAuthor}, [\"IS-IS
    Cryptographic Authentication\"]{.refTitle}, [RFC 5304]{.seriesInfo},
    [DOI 10.17487/RFC5304]{.seriesInfo}, October 2008,
    \<<https://www.rfc-editor.org/info/rfc5304>\>.

\[RFC5709\]
:   [Bhatia, M.]{.refAuthor}[, Manral, V.]{.refAuthor}[,
    Fanto, M.]{.refAuthor}[, White, R.]{.refAuthor}[,
    Barnes, M.]{.refAuthor}[, Li, T.]{.refAuthor}[, and R.
    Atkinson]{.refAuthor}, [\"OSPFv2 HMAC-SHA Cryptographic
    Authentication\"]{.refTitle}, [RFC 5709]{.seriesInfo}, [DOI
    10.17487/RFC5709]{.seriesInfo}, October 2009,
    \<<https://www.rfc-editor.org/info/rfc5709>\>.

\[RFC5960\]
:   [Frost, D., Ed.]{.refAuthor}[, Bryant, S., Ed.]{.refAuthor}[, and M.
    Bocci, Ed.]{.refAuthor}, [\"MPLS Transport Profile Data Plane
    Architecture\"]{.refTitle}, [RFC 5960]{.seriesInfo}, [DOI
    10.17487/RFC5960]{.seriesInfo}, August 2010,
    \<<https://www.rfc-editor.org/info/rfc5960>\>.

\[RFC7490\]
:   [Bryant, S.]{.refAuthor}[, Filsfils, C.]{.refAuthor}[,
    Previdi, S.]{.refAuthor}[, Shand, M.]{.refAuthor}[, and N.
    So]{.refAuthor}, [\"Remote Loop-Free Alternate (LFA) Fast Reroute
    (FRR)\"]{.refTitle}, [RFC 7490]{.seriesInfo}, [DOI
    10.17487/RFC7490]{.seriesInfo}, April 2015,
    \<<https://www.rfc-editor.org/info/rfc7490>\>.

\[RFC8277\]
:   [Rosen, E.]{.refAuthor}, [\"Using BGP to Bind MPLS Labels to Address
    Prefixes\"]{.refTitle}, [RFC 8277]{.seriesInfo}, [DOI
    10.17487/RFC8277]{.seriesInfo}, October 2017,
    \<<https://www.rfc-editor.org/info/rfc8277>\>.

\[RFC8287\]
:   [Kumar, N., Ed.]{.refAuthor}[, Pignataro, C., Ed.]{.refAuthor}[,
    Swallow, G.]{.refAuthor}[, Akiya, N.]{.refAuthor}[,
    Kini, S.]{.refAuthor}[, and M. Chen]{.refAuthor}, [\"Label Switched
    Path (LSP) Ping/Traceroute for Segment Routing (SR) IGP-Prefix and
    IGP-Adjacency Segment Identifiers (SIDs) with MPLS Data
    Planes\"]{.refTitle}, [RFC 8287]{.seriesInfo}, [DOI
    10.17487/RFC8287]{.seriesInfo}, December 2017,
    \<<https://www.rfc-editor.org/info/rfc8287>\>.

\[RFC8355\]
:   [Filsfils, C., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Decraene, B.]{.refAuthor}[, and R. Shakir]{.refAuthor},
    [\"Resiliency Use Cases in Source Packet Routing in Networking
    (SPRING) Networks\"]{.refTitle}, [RFC 8355]{.seriesInfo}, [DOI
    10.17487/RFC8355]{.seriesInfo}, March 2018,
    \<<https://www.rfc-editor.org/info/rfc8355>\>.

\[RFC8665\]
:   [Psenak, P., Ed.]{.refAuthor}[, Previdi, S., Ed.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Gredler, H.]{.refAuthor}[,
    Shakir, R.]{.refAuthor}[, Henderickx, W.]{.refAuthor}[, and J.
    Tantsura]{.refAuthor}, [\"OSPF Extensions for Segment
    Routing\"]{.refTitle}, [RFC 8665]{.seriesInfo}, [DOI
    10.17487/RFC8665]{.seriesInfo}, December 2019,
    \<<https://doi.org/10.17487/RFC8665>\>.

\[RFC8666\]
:   [Psenak, P., Ed.]{.refAuthor}[ and S. Previdi]{.refAuthor},
    [\"OSPFv3 Extensions for Segment Routing\"]{.refTitle}, [RFC
    8666]{.seriesInfo}, [DOI 10.17487/RFC8666]{.seriesInfo}, December
    2019, \<<https://doi.org/10.17487/RFC8666>\>.

\[RFC8667\]
:   [Previdi, S.]{.refAuthor}[, Ginsberg, L.]{.refAuthor}[,
    Filsfils, C.]{.refAuthor}[, Bashandy, A.]{.refAuthor}[,
    Gredler, H.]{.refAuthor}[, and B. Decraene]{.refAuthor}, [\"IS-IS
    Extensions for Segment Routing\"]{.refTitle}, [RFC
    8667]{.seriesInfo}, [DOI 10.17487/RFC8667]{.seriesInfo}, December
    2019, \<<https://doi.org/10.17487/RFC8667>\>.
:::
:::

::: {#Appendix-A}
::: {#section-appendix.a .section}
## [Appendix A.](#section-appendix.a){.section-number .selfRef} [Migration from LDP to SR](#name-migration-from-ldp-to-sr){.section-name .selfRef} {#name-migration-from-ldp-to-sr}

[]{#name-migration}

::: {#ref-migration}
::: {#section-appendix.a-1.1 .artwork .art-text .alignLeft}
                                PE2        PE4
                                  \        /
                           PE1----P5--P6--P7---PE3
:::

[Figure 5](#figure-5){.selfRef}: [Migration](#name-migration){.selfRef}
:::

Several migration techniques are possible. The technique described here
is inspired by the commonly used method to migrate from one IGP to
another.[¶](#section-appendix.a-2){.pilcrow}

At time T0, all the routers run LDP. Any service is tunneled from an
ingress PE to an egress PE over a continuous LDP
LSP.[¶](#section-appendix.a-3){.pilcrow}

At time T1, all the routers are upgraded to SR. They are configured with
the SRGB range \[100, 300\]. PE1, PE2, PE3, PE4, P5, P6, and P7 are
respectively configured with the node segments 101, 102, 103, 104, 105,
106, and 107 (attached to their service-recursing
loopback).[¶](#section-appendix.a-4){.pilcrow}

Note: At this time, the service traffic is still tunneled over LDP LSPs.
For example, PE1 has an SR node segment to PE3 and an LDP LSP to PE3. As
seen earlier, however, the LDP IP2MPLS encapsulation is preferred by
default. However, it has to be noted that the SR infrastructure is
usable, e.g., for Fast Reroute (FRR) or IGP Loop-Free Convergence to
protect existing IP and LDP traffic. FRR mechanisms are described in
\[[RFC8355](#RFC8355){.xref}\].[¶](#section-appendix.a-5.1){.pilcrow}

At time T2, the operator enables the local policy at PE1 to prefer SR
IP2MPLS encapsulation over LDP
IP2MPLS.[¶](#section-appendix.a-6){.pilcrow}

-   [The service from PE1 to any other PE is now riding over SR. All
    other service traffic is still transported over LDP
    LSPs.[¶](#section-appendix.a-7.1){.pilcrow}]{#section-appendix.a-7.1}

At time T3, gradually, the operator enables the preference for SR
IP2MPLS encapsulation across all the edge
routers.[¶](#section-appendix.a-8){.pilcrow}

-   [All the service traffic is now transported over SR. LDP is still
    operational and services could be reverted to
    LDP.[¶](#section-appendix.a-9.1){.pilcrow}]{#section-appendix.a-9.1}

At time T4, LDP is unconfigured from all
routers.[¶](#section-appendix.a-10){.pilcrow}
:::
:::

::: {#sec-9}
::: {#section-appendix.b .section}
## [Acknowledgements](#name-acknowledgements){.section-name .selfRef} {#name-acknowledgements}

The authors would like to thank Pierre Francois, Ruediger Geib, and
Alexander Vainshtein for their contributions to the content of this
document.[¶](#section-appendix.b-1){.pilcrow}
:::
:::

::: {#sec-10}
::: {#section-appendix.c .section}
## [Contributors](#name-contributors){.section-name .selfRef} {#name-contributors}

::: {#section-appendix.c-1 .artwork .art-text .alignLeft}
    Edward Crabbe
    Individual
    Email: edward.crabbe@gmail.com

[¶](#section-appendix.c-1){.pilcrow}
:::

::: {#section-appendix.c-2 .artwork .art-text .alignLeft}
    Igor Milojevic
    Email: milojevicigor@gmail.com

[¶](#section-appendix.c-2){.pilcrow}
:::

::: {#section-appendix.c-3 .artwork .art-text .alignLeft}
    Saku Ytti
    TDC
    Email: saku@ytti.fi

[¶](#section-appendix.c-3){.pilcrow}
:::

::: {#section-appendix.c-4 .artwork .art-text .alignLeft}
    Rob Shakir
    Google
    Email: robjs@google.com

[¶](#section-appendix.c-4){.pilcrow}
:::

::: {#section-appendix.c-5 .artwork .art-text .alignLeft}
    Martin Horneffer
    Deutsche Telekom
    Email: Martin.Horneffer@telekom.de

[¶](#section-appendix.c-5){.pilcrow}
:::

::: {#section-appendix.c-6 .artwork .art-text .alignLeft}
    Wim Henderickx
    Nokia
    Email: wim.henderickx@nokia.com

[¶](#section-appendix.c-6){.pilcrow}
:::

::: {#section-appendix.c-7 .artwork .art-text .alignLeft}
    Jeff Tantsura
    Apstra, Inc.
    Email: jefftant.ietf@gmail.com

[¶](#section-appendix.c-7){.pilcrow}
:::

::: {#section-appendix.c-8 .artwork .art-text .alignLeft}
    Les Ginsberg
    Cisco Systems
    Email: ginsberg@cisco.com

[¶](#section-appendix.c-8){.pilcrow}
:::
:::
:::

::: {#authors-addresses}
::: {#section-appendix.d .section}
## [Authors\' Addresses](#name-authors-addresses){.section-name .selfRef} {#name-authors-addresses}

::: {.left dir="auto"}
[Ahmed Bashandy ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Individual]{.org}
:::

::: {.left dir="auto"}
[United States of America]{.country-name}
:::

::: email
Email: <abashandy.ietf@gmail.com>
:::

::: {.left dir="auto"}
[Clarence Filsfils ([editor]{.role})]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Cisco Systems, Inc.]{.org}
:::

::: {.left dir="auto"}
[Brussels]{.street-address}
:::

::: {.left dir="auto"}
[Belgium]{.country-name}
:::

::: email
Email: <cfilsfil@cisco.com>
:::

::: {.left dir="auto"}
[Stefano Previdi]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Huawei Technologies]{.org}
:::

::: {.left dir="auto"}
[Italy]{.country-name}
:::

::: email
Email: <stefano@previdi.net>
:::

::: {.left dir="auto"}
[Bruno Decraene]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Orange]{.org}
:::

::: {.left dir="auto"}
[France]{.country-name}
:::

::: email
Email: <bruno.decraene@orange.com>
:::

::: {.left dir="auto"}
[Stephane Litkowski]{.fn .nameRole}
:::

::: {.left dir="auto"}
[Orange]{.org}
:::

::: {.left dir="auto"}
[France]{.country-name}
:::

::: email
Email: <slitkows.ietf@gmail.com>
:::
:::
:::
